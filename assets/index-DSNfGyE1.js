var sE=Object.defineProperty;var fv=t=>{throw TypeError(t)};var rE=(t,e,n)=>e in t?sE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xe=(t,e,n)=>rE(t,typeof e!="symbol"?e+"":e,n),Qp=(t,e,n)=>e.has(t)||fv("Cannot "+n);var B=(t,e,n)=>(Qp(t,e,"read from private field"),n?n.call(t):e.get(t)),Se=(t,e,n)=>e.has(t)?fv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),me=(t,e,n,s)=>(Qp(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),Fe=(t,e,n)=>(Qp(t,e,"access private method"),n);var wd=(t,e,n,s)=>({set _(r){me(t,e,r,n)},get _(){return B(t,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Kc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gp={exports:{}},$l={},Zp={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function iE(){if(pv)return $e;pv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(D){return D===null||typeof D!="object"?null:(D=m&&D[m]||D["@@iterator"],typeof D=="function"?D:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function _(D,Q,le){this.props=D,this.context=Q,this.refs=w,this.updater=le||x}_.prototype.isReactComponent={},_.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},_.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function C(){}C.prototype=_.prototype;function k(D,Q,le){this.props=D,this.context=Q,this.refs=w,this.updater=le||x}var T=k.prototype=new C;T.constructor=k,v(T,_.prototype),T.isPureReactComponent=!0;var M=Array.isArray,P=Object.prototype.hasOwnProperty,R={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function I(D,Q,le){var _e,ve={},Be=null,Re=null;if(Q!=null)for(_e in Q.ref!==void 0&&(Re=Q.ref),Q.key!==void 0&&(Be=""+Q.key),Q)P.call(Q,_e)&&!z.hasOwnProperty(_e)&&(ve[_e]=Q[_e]);var Me=arguments.length-2;if(Me===1)ve.children=le;else if(1<Me){for(var Le=Array(Me),Ce=0;Ce<Me;Ce++)Le[Ce]=arguments[Ce+2];ve.children=Le}if(D&&D.defaultProps)for(_e in Me=D.defaultProps,Me)ve[_e]===void 0&&(ve[_e]=Me[_e]);return{$$typeof:t,type:D,key:Be,ref:Re,props:ve,_owner:R.current}}function F(D,Q){return{$$typeof:t,type:D.type,key:Q,ref:D.ref,props:D.props,_owner:D._owner}}function U(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function ee(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return Q[le]})}var J=/\/+/g;function de(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?ee(""+D.key):Q.toString(36)}function G(D,Q,le,_e,ve){var Be=typeof D;(Be==="undefined"||Be==="boolean")&&(D=null);var Re=!1;if(D===null)Re=!0;else switch(Be){case"string":case"number":Re=!0;break;case"object":switch(D.$$typeof){case t:case e:Re=!0}}if(Re)return Re=D,ve=ve(Re),D=_e===""?"."+de(Re,0):_e,M(ve)?(le="",D!=null&&(le=D.replace(J,"$&/")+"/"),G(ve,Q,le,"",function(Ce){return Ce})):ve!=null&&(U(ve)&&(ve=F(ve,le+(!ve.key||Re&&Re.key===ve.key?"":(""+ve.key).replace(J,"$&/")+"/")+D)),Q.push(ve)),1;if(Re=0,_e=_e===""?".":_e+":",M(D))for(var Me=0;Me<D.length;Me++){Be=D[Me];var Le=_e+de(Be,Me);Re+=G(Be,Q,le,Le,ve)}else if(Le=g(D),typeof Le=="function")for(D=Le.call(D),Me=0;!(Be=D.next()).done;)Be=Be.value,Le=_e+de(Be,Me++),Re+=G(Be,Q,le,Le,ve);else if(Be==="object")throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Re}function he(D,Q,le){if(D==null)return D;var _e=[],ve=0;return G(D,_e,"","",function(Be){return Q.call(le,Be,ve++)}),_e}function te(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var Z={current:null},Y={transition:null},ne={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:Y,ReactCurrentOwner:R};return $e.Children={map:he,forEach:function(D,Q,le){he(D,function(){Q.apply(this,arguments)},le)},count:function(D){var Q=0;return he(D,function(){Q++}),Q},toArray:function(D){return he(D,function(Q){return Q})||[]},only:function(D){if(!U(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},$e.Component=_,$e.Fragment=n,$e.Profiler=r,$e.PureComponent=k,$e.StrictMode=s,$e.Suspense=d,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,$e.cloneElement=function(D,Q,le){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var _e=v({},D.props),ve=D.key,Be=D.ref,Re=D._owner;if(Q!=null){if(Q.ref!==void 0&&(Be=Q.ref,Re=R.current),Q.key!==void 0&&(ve=""+Q.key),D.type&&D.type.defaultProps)var Me=D.type.defaultProps;for(Le in Q)P.call(Q,Le)&&!z.hasOwnProperty(Le)&&(_e[Le]=Q[Le]===void 0&&Me!==void 0?Me[Le]:Q[Le])}var Le=arguments.length-2;if(Le===1)_e.children=le;else if(1<Le){Me=Array(Le);for(var Ce=0;Ce<Le;Ce++)Me[Ce]=arguments[Ce+2];_e.children=Me}return{$$typeof:t,type:D.type,key:ve,ref:Be,props:_e,_owner:Re}},$e.createContext=function(D){return D={$$typeof:a,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:i,_context:D},D.Consumer=D},$e.createElement=I,$e.createFactory=function(D){var Q=I.bind(null,D);return Q.type=D,Q},$e.createRef=function(){return{current:null}},$e.forwardRef=function(D){return{$$typeof:c,render:D}},$e.isValidElement=U,$e.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:te}},$e.memo=function(D,Q){return{$$typeof:h,type:D,compare:Q===void 0?null:Q}},$e.startTransition=function(D){var Q=Y.transition;Y.transition={};try{D()}finally{Y.transition=Q}},$e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},$e.useCallback=function(D,Q){return Z.current.useCallback(D,Q)},$e.useContext=function(D){return Z.current.useContext(D)},$e.useDebugValue=function(){},$e.useDeferredValue=function(D){return Z.current.useDeferredValue(D)},$e.useEffect=function(D,Q){return Z.current.useEffect(D,Q)},$e.useId=function(){return Z.current.useId()},$e.useImperativeHandle=function(D,Q,le){return Z.current.useImperativeHandle(D,Q,le)},$e.useInsertionEffect=function(D,Q){return Z.current.useInsertionEffect(D,Q)},$e.useLayoutEffect=function(D,Q){return Z.current.useLayoutEffect(D,Q)},$e.useMemo=function(D,Q){return Z.current.useMemo(D,Q)},$e.useReducer=function(D,Q,le){return Z.current.useReducer(D,Q,le)},$e.useRef=function(D){return Z.current.useRef(D)},$e.useState=function(D){return Z.current.useState(D)},$e.useSyncExternalStore=function(D,Q,le){return Z.current.useSyncExternalStore(D,Q,le)},$e.useTransition=function(){return Z.current.useTransition()},$e.version="18.2.0",$e}var mv;function Uh(){return mv||(mv=1,Zp.exports=iE()),Zp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function oE(){if(gv)return $l;gv=1;var t=Uh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,h){var p,m={},g=null,x=null;h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)s.call(d,p)&&!i.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:c,key:g,ref:x,props:m,_owner:r.current}}return $l.Fragment=n,$l.jsx=a,$l.jsxs=a,$l}var yv;function aE(){return yv||(yv=1,Gp.exports=oE()),Gp.exports}var u=aE(),j=Uh();const Is=Kc(j);var _d={},Jp={exports:{}},bn={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function lE(){return xv||(xv=1,function(t){function e(Y,ne){var D=Y.length;Y.push(ne);e:for(;0<D;){var Q=D-1>>>1,le=Y[Q];if(0<r(le,ne))Y[Q]=ne,Y[D]=le,D=Q;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ne=Y[0],D=Y.pop();if(D!==ne){Y[0]=D;e:for(var Q=0,le=Y.length,_e=le>>>1;Q<_e;){var ve=2*(Q+1)-1,Be=Y[ve],Re=ve+1,Me=Y[Re];if(0>r(Be,D))Re<le&&0>r(Me,Be)?(Y[Q]=Me,Y[Re]=D,Q=Re):(Y[Q]=Be,Y[ve]=D,Q=ve);else if(Re<le&&0>r(Me,D))Y[Q]=Me,Y[Re]=D,Q=Re;else break e}}return ne}function r(Y,ne){var D=Y.sortIndex-ne.sortIndex;return D!==0?D:Y.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var d=[],h=[],p=1,m=null,g=3,x=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Y){for(var ne=n(h);ne!==null;){if(ne.callback===null)s(h);else if(ne.startTime<=Y)s(h),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=n(h)}}function M(Y){if(w=!1,T(Y),!v)if(n(d)!==null)v=!0,te(P);else{var ne=n(h);ne!==null&&Z(M,ne.startTime-Y)}}function P(Y,ne){v=!1,w&&(w=!1,C(I),I=-1),x=!0;var D=g;try{for(T(ne),m=n(d);m!==null&&(!(m.expirationTime>ne)||Y&&!ee());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,g=m.priorityLevel;var le=Q(m.expirationTime<=ne);ne=t.unstable_now(),typeof le=="function"?m.callback=le:m===n(d)&&s(d),T(ne)}else s(d);m=n(d)}if(m!==null)var _e=!0;else{var ve=n(h);ve!==null&&Z(M,ve.startTime-ne),_e=!1}return _e}finally{m=null,g=D,x=!1}}var R=!1,z=null,I=-1,F=5,U=-1;function ee(){return!(t.unstable_now()-U<F)}function J(){if(z!==null){var Y=t.unstable_now();U=Y;var ne=!0;try{ne=z(!0,Y)}finally{ne?de():(R=!1,z=null)}}else R=!1}var de;if(typeof k=="function")de=function(){k(J)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,he=G.port2;G.port1.onmessage=J,de=function(){he.postMessage(null)}}else de=function(){_(J,0)};function te(Y){z=Y,R||(R=!0,de())}function Z(Y,ne){I=_(function(){Y(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){v||x||(v=!0,te(P))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var D=g;g=ne;try{return Y()}finally{g=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var D=g;g=Y;try{return ne()}finally{g=D}},t.unstable_scheduleCallback=function(Y,ne,D){var Q=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?Q+D:Q):D=Q,Y){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=D+le,Y={id:p++,callback:ne,priorityLevel:Y,startTime:D,expirationTime:le,sortIndex:-1},D>Q?(Y.sortIndex=D,e(h,Y),n(d)===null&&Y===n(h)&&(w?(C(I),I=-1):w=!0,Z(M,D-Q))):(Y.sortIndex=le,e(d,Y),v||x||(v=!0,te(P))),Y},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(Y){var ne=g;return function(){var D=g;g=ne;try{return Y.apply(this,arguments)}finally{g=D}}}}(tm)),tm}var bv;function cE(){return bv||(bv=1,em.exports=lE()),em.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function uE(){if(vv)return bn;vv=1;var t=Uh(),e=cE();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,r={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(r[o]=l,o=0;o<l.length;o++)s.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(o){return d.call(m,o)?!0:d.call(p,o)?!1:h.test(o)?m[o]=!0:(p[o]=!0,!1)}function x(o,l,f,y){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function v(o,l,f,y){if(l===null||typeof l>"u"||x(o,l,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(o,l,f,y,b,S,N){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=o,this.type=l,this.sanitizeURL=S,this.removeEmptyString=N}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){_[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];_[l]=new w(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){_[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){_[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){_[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){_[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){_[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){_[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){_[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(C,k);_[l]=new w(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(C,k);_[l]=new w(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(C,k);_[l]=new w(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){_[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){_[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function T(o,l,f,y){var b=_.hasOwnProperty(l)?_[l]:null;(b!==null?b.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(v(l,f,b,y)&&(f=null),y||b===null?g(l)&&(f===null?o.removeAttribute(l):o.setAttribute(l,""+f)):b.mustUseProperty?o[b.propertyName]=f===null?b.type===3?!1:"":f:(l=b.attributeName,y=b.attributeNamespace,f===null?o.removeAttribute(l):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,y?o.setAttributeNS(y,l,f):o.setAttribute(l,f))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),R=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),ee=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=Y&&o[Y]||o["@@iterator"],typeof o=="function"?o:null)}var D=Object.assign,Q;function le(o){if(Q===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Q=l&&l[1]||""}return`
`+Q+o}var _e=!1;function ve(o,l){if(!o||_e)return"";_e=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(K){var y=K}Reflect.construct(o,[],l)}else{try{l.call()}catch(K){y=K}o.call(l.prototype)}else{try{throw Error()}catch(K){y=K}o()}}catch(K){if(K&&y&&typeof K.stack=="string"){for(var b=K.stack.split(`
`),S=y.stack.split(`
`),N=b.length-1,O=S.length-1;1<=N&&0<=O&&b[N]!==S[O];)O--;for(;1<=N&&0<=O;N--,O--)if(b[N]!==S[O]){if(N!==1||O!==1)do if(N--,O--,0>O||b[N]!==S[O]){var V=`
`+b[N].replace(" at new "," at ");return o.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",o.displayName)),V}while(1<=N&&0<=O);break}}}finally{_e=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?le(o):""}function Be(o){switch(o.tag){case 5:return le(o.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return o=ve(o.type,!1),o;case 11:return o=ve(o.type.render,!1),o;case 1:return o=ve(o.type,!0),o;default:return""}}function Re(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case z:return"Fragment";case R:return"Portal";case F:return"Profiler";case I:return"StrictMode";case de:return"Suspense";case G:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case ee:return(o.displayName||"Context")+".Consumer";case U:return(o._context.displayName||"Context")+".Provider";case J:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case he:return l=o.displayName||null,l!==null?l:Re(o.type)||"Memo";case te:l=o._payload,o=o._init;try{return Re(o(l))}catch{}}return null}function Me(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Le(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ce(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ue(o){var l=Ce(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),y=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,S=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return b.call(this)},set:function(N){y=""+N,S.call(this,N)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(N){y=""+N},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Pe(o){o._valueTracker||(o._valueTracker=ue(o))}function Te(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),y="";return o&&(y=Ce(o)?o.checked?"true":"false":o.value),o=y,o!==f?(l.setValue(o),!0):!1}function ze(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function st(o,l){var f=l.checked;return D({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function bt(o,l){var f=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;f=Le(l.value!=null?l.value:f),o._wrapperState={initialChecked:y,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function vt(o,l){l=l.checked,l!=null&&T(o,"checked",l,!1)}function sn(o,l){vt(o,l);var f=Le(l.value),y=l.type;if(f!=null)y==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Ro(o,l.type,f):l.hasOwnProperty("defaultValue")&&Ro(o,l.type,Le(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function kr(o,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,f||l===o.value||(o.value=l),o.defaultValue=l}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function Ro(o,l,f){(l!=="number"||ze(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var vs=Array.isArray;function Pt(o,l,f,y){if(o=o.options,l){l={};for(var b=0;b<f.length;b++)l["$"+f[b]]=!0;for(f=0;f<o.length;f++)b=l.hasOwnProperty("$"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&y&&(o[f].defaultSelected=!0)}else{for(f=""+Le(f),l=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,y&&(o[b].defaultSelected=!0);return}l!==null||o[b].disabled||(l=o[b])}l!==null&&(l.selected=!0)}}function el(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return D({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function cu(o,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(n(92));if(vs(f)){if(1<f.length)throw Error(n(93));f=f[0]}l=f}l==null&&(l=""),f=l}o._wrapperState={initialValue:Le(f)}}function uu(o,l){var f=Le(l.value),y=Le(l.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),l.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),y!=null&&(o.defaultValue=""+y)}function du(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function hu(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Do(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?hu(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ti,tl=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,y,b){MSApp.execUnsafeLocalFunction(function(){return o(l,f,y,b)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Ti=Ti||document.createElement("div"),Ti.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ti.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Nr(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nl=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(o){nl.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),ws[l]=ws[o]})});function fu(o,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||ws.hasOwnProperty(o)&&ws[o]?(""+l).trim():l+"px"}function pu(o,l){o=o.style;for(var f in l)if(l.hasOwnProperty(f)){var y=f.indexOf("--")===0,b=fu(f,l[f],y);f==="float"&&(f="cssFloat"),y?o.setProperty(f,b):o[f]=b}}var mf=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sl(o,l){if(l){if(mf[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function rl(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tr=null;function il(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ol=null,qs=null,Ys=null;function Oo(o){if(o=Nl(o)){if(typeof ol!="function")throw Error(n(280));var l=o.stateNode;l&&(l=Lu(l),ol(o.stateNode,o.type,l))}}function mu(o){qs?Ys?Ys.push(o):Ys=[o]:qs=o}function gu(){if(qs){var o=qs,l=Ys;if(Ys=qs=null,Oo(o),l)for(o=0;o<l.length;o++)Oo(l[o])}}function yu(o,l){return o(l)}function al(){}var ll=!1;function xu(o,l,f){if(ll)return o(l,f);ll=!0;try{return yu(o,l,f)}finally{ll=!1,(qs!==null||Ys!==null)&&(al(),gu())}}function Ei(o,l){var f=o.stateNode;if(f===null)return null;var y=Lu(f);if(y===null)return null;f=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,l,typeof f));return f}var Er=!1;if(c)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){Er=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{Er=!1}function gf(o,l,f,y,b,S,N,O,V){var K=Array.prototype.slice.call(arguments,3);try{l.apply(f,K)}catch(ie){this.onError(ie)}}var Pr=!1,Ar=null,Lo=!1,Io=null,yf={onError:function(o){Pr=!0,Ar=o}};function bu(o,l,f,y,b,S,N,O,V){Pr=!1,Ar=null,gf.apply(yf,arguments)}function vu(o,l,f,y,b,S,N,O,V){if(bu.apply(this,arguments),Pr){if(Pr){var K=Ar;Pr=!1,Ar=null}else throw Error(n(198));Lo||(Lo=!0,Io=K)}}function _s(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function cl(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Fo(o){if(_s(o)!==o)throw Error(n(188))}function Ks(o){var l=o.alternate;if(!l){if(l=_s(o),l===null)throw Error(n(188));return l!==o?null:o}for(var f=o,y=l;;){var b=f.return;if(b===null)break;var S=b.alternate;if(S===null){if(y=b.return,y!==null){f=y;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===f)return Fo(b),o;if(S===y)return Fo(b),l;S=S.sibling}throw Error(n(188))}if(f.return!==y.return)f=b,y=S;else{for(var N=!1,O=b.child;O;){if(O===f){N=!0,f=b,y=S;break}if(O===y){N=!0,y=b,f=S;break}O=O.sibling}if(!N){for(O=S.child;O;){if(O===f){N=!0,f=S,y=b;break}if(O===y){N=!0,y=S,f=b;break}O=O.sibling}if(!N)throw Error(n(189))}}if(f.alternate!==y)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:l}function Mr(o){return o=Ks(o),o!==null?Rr(o):null}function Rr(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Rr(o);if(l!==null)return l;o=o.sibling}return null}var Ai=e.unstable_scheduleCallback,Bo=e.unstable_cancelCallback,xf=e.unstable_shouldYield,bf=e.unstable_requestPaint,Ze=e.unstable_now,dn=e.unstable_getCurrentPriorityLevel,Ss=e.unstable_ImmediatePriority,ss=e.unstable_UserBlockingPriority,hn=e.unstable_NormalPriority,Mi=e.unstable_LowPriority,En=e.unstable_IdlePriority,fn=null,Pn=null;function wu(o){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(fn,o,void 0,(o.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:ul,An=Math.log,zo=Math.LN2;function ul(o){return o>>>=0,o===0?32:31-(An(o)/zo|0)|0}var Dr=64,Or=4194304;function Xs(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Qs(o,l){var f=o.pendingLanes;if(f===0)return 0;var y=0,b=o.suspendedLanes,S=o.pingedLanes,N=f&268435455;if(N!==0){var O=N&~b;O!==0?y=Xs(O):(S&=N,S!==0&&(y=Xs(S)))}else N=f&~b,N!==0?y=Xs(N):S!==0&&(y=Xs(S));if(y===0)return 0;if(l!==0&&l!==y&&(l&b)===0&&(b=y&-y,S=l&-l,b>=S||b===16&&(S&4194240)!==0))return l;if((y&4)!==0&&(y|=f&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=y;0<l;)f=31-Ht(l),b=1<<f,y|=o[f],l&=~b;return y}function Cs(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vf(o,l){for(var f=o.suspendedLanes,y=o.pingedLanes,b=o.expirationTimes,S=o.pendingLanes;0<S;){var N=31-Ht(S),O=1<<N,V=b[N];V===-1?((O&f)===0||(O&y)!==0)&&(b[N]=Cs(O,l)):V<=l&&(o.expiredLanes|=O),S&=~O}}function Vo(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function $o(){var o=Dr;return Dr<<=1,(Dr&4194240)===0&&(Dr=64),o}function Uo(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function Ri(o,l,f){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Ht(l),o[l]=f}function wf(o,l){var f=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<f;){var b=31-Ht(f),S=1<<b;l[b]=0,y[b]=-1,o[b]=-1,f&=~S}}function E(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var y=31-Ht(f),b=1<<y;b&l|o[y]&l&&(o[y]|=l),f&=~b}}var A=0;function L(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var q,re,fe,Ie,wt,_t=!1,kt=[],At=null,Lr=null,Ir=null,dl=new Map,hl=new Map,Fr=[],jN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xy(o,l){switch(o){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":dl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(l.pointerId)}}function fl(o,l,f,y,b,S){return o===null||o.nativeEvent!==S?(o={blockedOn:l,domEventName:f,eventSystemFlags:y,nativeEvent:S,targetContainers:[b]},l!==null&&(l=Nl(l),l!==null&&re(l)),o):(o.eventSystemFlags|=y,l=o.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),o)}function kN(o,l,f,y,b){switch(l){case"focusin":return At=fl(At,o,l,f,y,b),!0;case"dragenter":return Lr=fl(Lr,o,l,f,y,b),!0;case"mouseover":return Ir=fl(Ir,o,l,f,y,b),!0;case"pointerover":var S=b.pointerId;return dl.set(S,fl(dl.get(S)||null,o,l,f,y,b)),!0;case"gotpointercapture":return S=b.pointerId,hl.set(S,fl(hl.get(S)||null,o,l,f,y,b)),!0}return!1}function Qy(o){var l=Di(o.target);if(l!==null){var f=_s(l);if(f!==null){if(l=f.tag,l===13){if(l=cl(f),l!==null){o.blockedOn=l,wt(o.priority,function(){fe(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function _u(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Sf(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);Tr=y,f.target.dispatchEvent(y),Tr=null}else return l=Nl(f),l!==null&&re(l),o.blockedOn=f,!1;l.shift()}return!0}function Gy(o,l,f){_u(o)&&f.delete(l)}function NN(){_t=!1,At!==null&&_u(At)&&(At=null),Lr!==null&&_u(Lr)&&(Lr=null),Ir!==null&&_u(Ir)&&(Ir=null),dl.forEach(Gy),hl.forEach(Gy)}function pl(o,l){o.blockedOn===l&&(o.blockedOn=null,_t||(_t=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,NN)))}function ml(o){function l(b){return pl(b,o)}if(0<kt.length){pl(kt[0],o);for(var f=1;f<kt.length;f++){var y=kt[f];y.blockedOn===o&&(y.blockedOn=null)}}for(At!==null&&pl(At,o),Lr!==null&&pl(Lr,o),Ir!==null&&pl(Ir,o),dl.forEach(l),hl.forEach(l),f=0;f<Fr.length;f++)y=Fr[f],y.blockedOn===o&&(y.blockedOn=null);for(;0<Fr.length&&(f=Fr[0],f.blockedOn===null);)Qy(f),f.blockedOn===null&&Fr.shift()}var Ho=M.ReactCurrentBatchConfig,Su=!0;function TN(o,l,f,y){var b=A,S=Ho.transition;Ho.transition=null;try{A=1,_f(o,l,f,y)}finally{A=b,Ho.transition=S}}function EN(o,l,f,y){var b=A,S=Ho.transition;Ho.transition=null;try{A=4,_f(o,l,f,y)}finally{A=b,Ho.transition=S}}function _f(o,l,f,y){if(Su){var b=Sf(o,l,f,y);if(b===null)zf(o,l,y,Cu,f),Xy(o,y);else if(kN(b,o,l,f,y))y.stopPropagation();else if(Xy(o,y),l&4&&-1<jN.indexOf(o)){for(;b!==null;){var S=Nl(b);if(S!==null&&q(S),S=Sf(o,l,f,y),S===null&&zf(o,l,y,Cu,f),S===b)break;b=S}b!==null&&y.stopPropagation()}else zf(o,l,y,null,f)}}var Cu=null;function Sf(o,l,f,y){if(Cu=null,o=il(y),o=Di(o),o!==null)if(l=_s(o),l===null)o=null;else if(f=l.tag,f===13){if(o=cl(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Cu=o,null}function Zy(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dn()){case Ss:return 1;case ss:return 4;case hn:case Mi:return 16;case En:return 536870912;default:return 16}default:return 16}}var Br=null,Cf=null,ju=null;function Jy(){if(ju)return ju;var o,l=Cf,f=l.length,y,b="value"in Br?Br.value:Br.textContent,S=b.length;for(o=0;o<f&&l[o]===b[o];o++);var N=f-o;for(y=1;y<=N&&l[f-y]===b[S-y];y++);return ju=b.slice(o,1<y?1-y:void 0)}function ku(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Nu(){return!0}function ex(){return!1}function Mn(o){function l(f,y,b,S,N){this._reactName=f,this._targetInst=b,this.type=y,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var O in o)o.hasOwnProperty(O)&&(f=o[O],this[O]=f?f(S):S[O]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Nu:ex,this.isPropagationStopped=ex,this}return D(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),l}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jf=Mn(Wo),gl=D({},Wo,{view:0,detail:0}),PN=Mn(gl),kf,Nf,yl,Tu=D({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ef,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yl&&(yl&&o.type==="mousemove"?(kf=o.screenX-yl.screenX,Nf=o.screenY-yl.screenY):Nf=kf=0,yl=o),kf)},movementY:function(o){return"movementY"in o?o.movementY:Nf}}),tx=Mn(Tu),AN=D({},Tu,{dataTransfer:0}),MN=Mn(AN),RN=D({},gl,{relatedTarget:0}),Tf=Mn(RN),DN=D({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),ON=Mn(DN),LN=D({},Wo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),IN=Mn(LN),FN=D({},Wo,{data:0}),nx=Mn(FN),BN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $N(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=VN[o])?!!l[o]:!1}function Ef(){return $N}var UN=D({},gl,{key:function(o){if(o.key){var l=BN[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=ku(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?zN[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ef,charCode:function(o){return o.type==="keypress"?ku(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ku(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),HN=Mn(UN),WN=D({},Tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sx=Mn(WN),qN=D({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ef}),YN=Mn(qN),KN=D({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),XN=Mn(KN),QN=D({},Tu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),GN=Mn(QN),ZN=[9,13,27,32],Pf=c&&"CompositionEvent"in window,xl=null;c&&"documentMode"in document&&(xl=document.documentMode);var JN=c&&"TextEvent"in window&&!xl,rx=c&&(!Pf||xl&&8<xl&&11>=xl),ix=" ",ox=!1;function ax(o,l){switch(o){case"keyup":return ZN.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var qo=!1;function eT(o,l){switch(o){case"compositionend":return lx(l);case"keypress":return l.which!==32?null:(ox=!0,ix);case"textInput":return o=l.data,o===ix&&ox?null:o;default:return null}}function tT(o,l){if(qo)return o==="compositionend"||!Pf&&ax(o,l)?(o=Jy(),ju=Cf=Br=null,qo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return rx&&l.locale!=="ko"?null:l.data;default:return null}}var nT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cx(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!nT[o.type]:l==="textarea"}function ux(o,l,f,y){mu(y),l=Ru(l,"onChange"),0<l.length&&(f=new jf("onChange","change",null,f,y),o.push({event:f,listeners:l}))}var bl=null,vl=null;function sT(o){Tx(o,0)}function Eu(o){var l=Go(o);if(Te(l))return o}function rT(o,l){if(o==="change")return l}var dx=!1;if(c){var Af;if(c){var Mf="oninput"in document;if(!Mf){var hx=document.createElement("div");hx.setAttribute("oninput","return;"),Mf=typeof hx.oninput=="function"}Af=Mf}else Af=!1;dx=Af&&(!document.documentMode||9<document.documentMode)}function fx(){bl&&(bl.detachEvent("onpropertychange",px),vl=bl=null)}function px(o){if(o.propertyName==="value"&&Eu(vl)){var l=[];ux(l,vl,o,il(o)),xu(sT,l)}}function iT(o,l,f){o==="focusin"?(fx(),bl=l,vl=f,bl.attachEvent("onpropertychange",px)):o==="focusout"&&fx()}function oT(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Eu(vl)}function aT(o,l){if(o==="click")return Eu(l)}function lT(o,l){if(o==="input"||o==="change")return Eu(l)}function cT(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var rs=typeof Object.is=="function"?Object.is:cT;function wl(o,l){if(rs(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),y=Object.keys(l);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var b=f[y];if(!d.call(l,b)||!rs(o[b],l[b]))return!1}return!0}function mx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function gx(o,l){var f=mx(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=l&&y>=l)return{node:f,offset:l-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=mx(f)}}function yx(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?yx(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function xx(){for(var o=window,l=ze();l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=ze(o.document)}return l}function Rf(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function uT(o){var l=xx(),f=o.focusedElem,y=o.selectionRange;if(l!==f&&f&&f.ownerDocument&&yx(f.ownerDocument.documentElement,f)){if(y!==null&&Rf(f)){if(l=y.start,o=y.end,o===void 0&&(o=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(o,f.value.length);else if(o=(l=f.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var b=f.textContent.length,S=Math.min(y.start,b);y=y.end===void 0?S:Math.min(y.end,b),!o.extend&&S>y&&(b=y,y=S,S=b),b=gx(f,S);var N=gx(f,y);b&&N&&(o.rangeCount!==1||o.anchorNode!==b.node||o.anchorOffset!==b.offset||o.focusNode!==N.node||o.focusOffset!==N.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),o.removeAllRanges(),S>y?(o.addRange(l),o.extend(N.node,N.offset)):(l.setEnd(N.node,N.offset),o.addRange(l)))}}for(l=[],o=f;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)o=l[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var dT=c&&"documentMode"in document&&11>=document.documentMode,Yo=null,Df=null,_l=null,Of=!1;function bx(o,l,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Of||Yo==null||Yo!==ze(y)||(y=Yo,"selectionStart"in y&&Rf(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),_l&&wl(_l,y)||(_l=y,y=Ru(Df,"onSelect"),0<y.length&&(l=new jf("onSelect","select",null,l,f),o.push({event:l,listeners:y}),l.target=Yo)))}function Pu(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var Ko={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionend:Pu("Transition","TransitionEnd")},Lf={},vx={};c&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function Au(o){if(Lf[o])return Lf[o];if(!Ko[o])return o;var l=Ko[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in vx)return Lf[o]=l[f];return o}var wx=Au("animationend"),_x=Au("animationiteration"),Sx=Au("animationstart"),Cx=Au("transitionend"),jx=new Map,kx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(o,l){jx.set(o,l),i(l,[o])}for(var If=0;If<kx.length;If++){var Ff=kx[If],hT=Ff.toLowerCase(),fT=Ff[0].toUpperCase()+Ff.slice(1);zr(hT,"on"+fT)}zr(wx,"onAnimationEnd"),zr(_x,"onAnimationIteration"),zr(Sx,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Cx,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function Nx(o,l,f){var y=o.type||"unknown-event";o.currentTarget=f,vu(y,l,void 0,o),o.currentTarget=null}function Tx(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],b=y.event;y=y.listeners;e:{var S=void 0;if(l)for(var N=y.length-1;0<=N;N--){var O=y[N],V=O.instance,K=O.currentTarget;if(O=O.listener,V!==S&&b.isPropagationStopped())break e;Nx(b,O,K),S=V}else for(N=0;N<y.length;N++){if(O=y[N],V=O.instance,K=O.currentTarget,O=O.listener,V!==S&&b.isPropagationStopped())break e;Nx(b,O,K),S=V}}}if(Lo)throw o=Io,Lo=!1,Io=null,o}function tt(o,l){var f=l[qf];f===void 0&&(f=l[qf]=new Set);var y=o+"__bubble";f.has(y)||(Ex(l,o,2,!1),f.add(y))}function Bf(o,l,f){var y=0;l&&(y|=4),Ex(f,o,y,l)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Cl(o){if(!o[Mu]){o[Mu]=!0,s.forEach(function(f){f!=="selectionchange"&&(pT.has(f)||Bf(f,!1,o),Bf(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Mu]||(l[Mu]=!0,Bf("selectionchange",!1,l))}}function Ex(o,l,f,y){switch(Zy(l)){case 1:var b=TN;break;case 4:b=EN;break;default:b=_f}f=b.bind(null,l,f,o),b=void 0,!Er||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),y?b!==void 0?o.addEventListener(l,f,{capture:!0,passive:b}):o.addEventListener(l,f,!0):b!==void 0?o.addEventListener(l,f,{passive:b}):o.addEventListener(l,f,!1)}function zf(o,l,f,y,b){var S=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var N=y.tag;if(N===3||N===4){var O=y.stateNode.containerInfo;if(O===b||O.nodeType===8&&O.parentNode===b)break;if(N===4)for(N=y.return;N!==null;){var V=N.tag;if((V===3||V===4)&&(V=N.stateNode.containerInfo,V===b||V.nodeType===8&&V.parentNode===b))return;N=N.return}for(;O!==null;){if(N=Di(O),N===null)return;if(V=N.tag,V===5||V===6){y=S=N;continue e}O=O.parentNode}}y=y.return}xu(function(){var K=S,ie=il(f),ae=[];e:{var se=jx.get(o);if(se!==void 0){var pe=jf,ye=o;switch(o){case"keypress":if(ku(f)===0)break e;case"keydown":case"keyup":pe=HN;break;case"focusin":ye="focus",pe=Tf;break;case"focusout":ye="blur",pe=Tf;break;case"beforeblur":case"afterblur":pe=Tf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=tx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=MN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=YN;break;case wx:case _x:case Sx:pe=ON;break;case Cx:pe=XN;break;case"scroll":pe=PN;break;case"wheel":pe=GN;break;case"copy":case"cut":case"paste":pe=IN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=sx}var be=(l&4)!==0,St=!be&&o==="scroll",H=be?se!==null?se+"Capture":null:se;be=[];for(var $=K,W;$!==null;){W=$;var ce=W.stateNode;if(W.tag===5&&ce!==null&&(W=ce,H!==null&&(ce=Ei($,H),ce!=null&&be.push(jl($,ce,W)))),St)break;$=$.return}0<be.length&&(se=new pe(se,ye,null,f,ie),ae.push({event:se,listeners:be}))}}if((l&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",pe=o==="mouseout"||o==="pointerout",se&&f!==Tr&&(ye=f.relatedTarget||f.fromElement)&&(Di(ye)||ye[Gs]))break e;if((pe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,pe?(ye=f.relatedTarget||f.toElement,pe=K,ye=ye?Di(ye):null,ye!==null&&(St=_s(ye),ye!==St||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(pe=null,ye=K),pe!==ye)){if(be=tx,ce="onMouseLeave",H="onMouseEnter",$="mouse",(o==="pointerout"||o==="pointerover")&&(be=sx,ce="onPointerLeave",H="onPointerEnter",$="pointer"),St=pe==null?se:Go(pe),W=ye==null?se:Go(ye),se=new be(ce,$+"leave",pe,f,ie),se.target=St,se.relatedTarget=W,ce=null,Di(ie)===K&&(be=new be(H,$+"enter",ye,f,ie),be.target=W,be.relatedTarget=St,ce=be),St=ce,pe&&ye)t:{for(be=pe,H=ye,$=0,W=be;W;W=Xo(W))$++;for(W=0,ce=H;ce;ce=Xo(ce))W++;for(;0<$-W;)be=Xo(be),$--;for(;0<W-$;)H=Xo(H),W--;for(;$--;){if(be===H||H!==null&&be===H.alternate)break t;be=Xo(be),H=Xo(H)}be=null}else be=null;pe!==null&&Px(ae,se,pe,be,!1),ye!==null&&St!==null&&Px(ae,St,ye,be,!0)}}e:{if(se=K?Go(K):window,pe=se.nodeName&&se.nodeName.toLowerCase(),pe==="select"||pe==="input"&&se.type==="file")var we=rT;else if(cx(se))if(dx)we=lT;else{we=oT;var je=iT}else(pe=se.nodeName)&&pe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(we=aT);if(we&&(we=we(o,K))){ux(ae,we,f,ie);break e}je&&je(o,se,K),o==="focusout"&&(je=se._wrapperState)&&je.controlled&&se.type==="number"&&Ro(se,"number",se.value)}switch(je=K?Go(K):window,o){case"focusin":(cx(je)||je.contentEditable==="true")&&(Yo=je,Df=K,_l=null);break;case"focusout":_l=Df=Yo=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,bx(ae,f,ie);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":bx(ae,f,ie)}var ke;if(Pf)e:{switch(o){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else qo?ax(o,f)&&(Ae="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Ae="onCompositionStart");Ae&&(rx&&f.locale!=="ko"&&(qo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&qo&&(ke=Jy()):(Br=ie,Cf="value"in Br?Br.value:Br.textContent,qo=!0)),je=Ru(K,Ae),0<je.length&&(Ae=new nx(Ae,o,null,f,ie),ae.push({event:Ae,listeners:je}),ke?Ae.data=ke:(ke=lx(f),ke!==null&&(Ae.data=ke)))),(ke=JN?eT(o,f):tT(o,f))&&(K=Ru(K,"onBeforeInput"),0<K.length&&(ie=new nx("onBeforeInput","beforeinput",null,f,ie),ae.push({event:ie,listeners:K}),ie.data=ke))}Tx(ae,l)})}function jl(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Ru(o,l){for(var f=l+"Capture",y=[];o!==null;){var b=o,S=b.stateNode;b.tag===5&&S!==null&&(b=S,S=Ei(o,f),S!=null&&y.unshift(jl(o,S,b)),S=Ei(o,l),S!=null&&y.push(jl(o,S,b))),o=o.return}return y}function Xo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Px(o,l,f,y,b){for(var S=l._reactName,N=[];f!==null&&f!==y;){var O=f,V=O.alternate,K=O.stateNode;if(V!==null&&V===y)break;O.tag===5&&K!==null&&(O=K,b?(V=Ei(f,S),V!=null&&N.unshift(jl(f,V,O))):b||(V=Ei(f,S),V!=null&&N.push(jl(f,V,O)))),f=f.return}N.length!==0&&o.push({event:l,listeners:N})}var mT=/\r\n?/g,gT=/\u0000|\uFFFD/g;function Ax(o){return(typeof o=="string"?o:""+o).replace(mT,`
`).replace(gT,"")}function Du(o,l,f){if(l=Ax(l),Ax(o)!==l&&f)throw Error(n(425))}function Ou(){}var Vf=null,$f=null;function Uf(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Hf=typeof setTimeout=="function"?setTimeout:void 0,yT=typeof clearTimeout=="function"?clearTimeout:void 0,Mx=typeof Promise=="function"?Promise:void 0,xT=typeof queueMicrotask=="function"?queueMicrotask:typeof Mx<"u"?function(o){return Mx.resolve(null).then(o).catch(bT)}:Hf;function bT(o){setTimeout(function(){throw o})}function Wf(o,l){var f=l,y=0;do{var b=f.nextSibling;if(o.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(y===0){o.removeChild(b),ml(l);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=b}while(f);ml(l)}function Vr(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function Rx(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),js="__reactFiber$"+Qo,kl="__reactProps$"+Qo,Gs="__reactContainer$"+Qo,qf="__reactEvents$"+Qo,vT="__reactListeners$"+Qo,wT="__reactHandles$"+Qo;function Di(o){var l=o[js];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Gs]||f[js]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=Rx(o);o!==null;){if(f=o[js])return f;o=Rx(o)}return l}o=f,f=o.parentNode}return null}function Nl(o){return o=o[js]||o[Gs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Go(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Lu(o){return o[kl]||null}var Yf=[],Zo=-1;function $r(o){return{current:o}}function nt(o){0>Zo||(o.current=Yf[Zo],Yf[Zo]=null,Zo--)}function Je(o,l){Zo++,Yf[Zo]=o.current,o.current=l}var Ur={},Wt=$r(Ur),pn=$r(!1),Oi=Ur;function Jo(o,l){var f=o.type.contextTypes;if(!f)return Ur;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var b={},S;for(S in f)b[S]=l[S];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=b),b}function mn(o){return o=o.childContextTypes,o!=null}function Iu(){nt(pn),nt(Wt)}function Dx(o,l,f){if(Wt.current!==Ur)throw Error(n(168));Je(Wt,l),Je(pn,f)}function Ox(o,l,f){var y=o.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var b in y)if(!(b in l))throw Error(n(108,Me(o)||"Unknown",b));return D({},f,y)}function Fu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ur,Oi=Wt.current,Je(Wt,o),Je(pn,pn.current),!0}function Lx(o,l,f){var y=o.stateNode;if(!y)throw Error(n(169));f?(o=Ox(o,l,Oi),y.__reactInternalMemoizedMergedChildContext=o,nt(pn),nt(Wt),Je(Wt,o)):nt(pn),Je(pn,f)}var Zs=null,Bu=!1,Kf=!1;function Ix(o){Zs===null?Zs=[o]:Zs.push(o)}function _T(o){Bu=!0,Ix(o)}function Hr(){if(!Kf&&Zs!==null){Kf=!0;var o=0,l=A;try{var f=Zs;for(A=1;o<f.length;o++){var y=f[o];do y=y(!0);while(y!==null)}Zs=null,Bu=!1}catch(b){throw Zs!==null&&(Zs=Zs.slice(o+1)),Ai(Ss,Hr),b}finally{A=l,Kf=!1}}return null}var ea=[],ta=0,zu=null,Vu=0,zn=[],Vn=0,Li=null,Js=1,er="";function Ii(o,l){ea[ta++]=Vu,ea[ta++]=zu,zu=o,Vu=l}function Fx(o,l,f){zn[Vn++]=Js,zn[Vn++]=er,zn[Vn++]=Li,Li=o;var y=Js;o=er;var b=32-Ht(y)-1;y&=~(1<<b),f+=1;var S=32-Ht(l)+b;if(30<S){var N=b-b%5;S=(y&(1<<N)-1).toString(32),y>>=N,b-=N,Js=1<<32-Ht(l)+b|f<<b|y,er=S+o}else Js=1<<S|f<<b|y,er=o}function Xf(o){o.return!==null&&(Ii(o,1),Fx(o,1,0))}function Qf(o){for(;o===zu;)zu=ea[--ta],ea[ta]=null,Vu=ea[--ta],ea[ta]=null;for(;o===Li;)Li=zn[--Vn],zn[Vn]=null,er=zn[--Vn],zn[Vn]=null,Js=zn[--Vn],zn[Vn]=null}var Rn=null,Dn=null,rt=!1,is=null;function Bx(o,l){var f=Wn(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=o,l=o.deletions,l===null?(o.deletions=[f],o.flags|=16):l.push(f)}function zx(o,l){switch(o.tag){case 5:var f=o.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Rn=o,Dn=Vr(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Rn=o,Dn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=Li!==null?{id:Js,overflow:er}:null,o.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Wn(18,null,null,0),f.stateNode=l,f.return=o,o.child=f,Rn=o,Dn=null,!0):!1;default:return!1}}function Gf(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Zf(o){if(rt){var l=Dn;if(l){var f=l;if(!zx(o,l)){if(Gf(o))throw Error(n(418));l=Vr(f.nextSibling);var y=Rn;l&&zx(o,l)?Bx(y,f):(o.flags=o.flags&-4097|2,rt=!1,Rn=o)}}else{if(Gf(o))throw Error(n(418));o.flags=o.flags&-4097|2,rt=!1,Rn=o}}}function Vx(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Rn=o}function $u(o){if(o!==Rn)return!1;if(!rt)return Vx(o),rt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Uf(o.type,o.memoizedProps)),l&&(l=Dn)){if(Gf(o))throw $x(),Error(n(418));for(;l;)Bx(o,l),l=Vr(l.nextSibling)}if(Vx(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(l===0){Dn=Vr(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}o=o.nextSibling}Dn=null}}else Dn=Rn?Vr(o.stateNode.nextSibling):null;return!0}function $x(){for(var o=Dn;o;)o=Vr(o.nextSibling)}function na(){Dn=Rn=null,rt=!1}function Jf(o){is===null?is=[o]:is.push(o)}var ST=M.ReactCurrentBatchConfig;function os(o,l){if(o&&o.defaultProps){l=D({},l),o=o.defaultProps;for(var f in o)l[f]===void 0&&(l[f]=o[f]);return l}return l}var Uu=$r(null),Hu=null,sa=null,ep=null;function tp(){ep=sa=Hu=null}function np(o){var l=Uu.current;nt(Uu),o._currentValue=l}function sp(o,l,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),o===f)break;o=o.return}}function ra(o,l){Hu=o,ep=sa=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(gn=!0),o.firstContext=null)}function $n(o){var l=o._currentValue;if(ep!==o)if(o={context:o,memoizedValue:l,next:null},sa===null){if(Hu===null)throw Error(n(308));sa=o,Hu.dependencies={lanes:0,firstContext:o}}else sa=sa.next=o;return l}var Fi=null;function rp(o){Fi===null?Fi=[o]:Fi.push(o)}function Ux(o,l,f,y){var b=l.interleaved;return b===null?(f.next=f,rp(l)):(f.next=b.next,b.next=f),l.interleaved=f,tr(o,y)}function tr(o,l){o.lanes|=l;var f=o.alternate;for(f!==null&&(f.lanes|=l),f=o,o=o.return;o!==null;)o.childLanes|=l,f=o.alternate,f!==null&&(f.childLanes|=l),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Wr=!1;function ip(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hx(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function nr(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function qr(o,l,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Ye&2)!==0){var b=y.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),y.pending=l,tr(o,f)}return b=y.interleaved,b===null?(l.next=l,rp(y)):(l.next=b.next,b.next=l),y.interleaved=l,tr(o,f)}function Wu(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,E(o,f)}}function Wx(o,l){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var b=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var N={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?b=S=N:S=S.next=N,f=f.next}while(f!==null);S===null?b=S=l:S=S.next=l}else b=S=l;f={baseState:y.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:y.shared,effects:y.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}function qu(o,l,f,y){var b=o.updateQueue;Wr=!1;var S=b.firstBaseUpdate,N=b.lastBaseUpdate,O=b.shared.pending;if(O!==null){b.shared.pending=null;var V=O,K=V.next;V.next=null,N===null?S=K:N.next=K,N=V;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==N&&(O===null?ie.firstBaseUpdate=K:O.next=K,ie.lastBaseUpdate=V))}if(S!==null){var ae=b.baseState;N=0,ie=K=V=null,O=S;do{var se=O.lane,pe=O.eventTime;if((y&se)===se){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ye=o,be=O;switch(se=l,pe=f,be.tag){case 1:if(ye=be.payload,typeof ye=="function"){ae=ye.call(pe,ae,se);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=be.payload,se=typeof ye=="function"?ye.call(pe,ae,se):ye,se==null)break e;ae=D({},ae,se);break e;case 2:Wr=!0}}O.callback!==null&&O.lane!==0&&(o.flags|=64,se=b.effects,se===null?b.effects=[O]:se.push(O))}else pe={eventTime:pe,lane:se,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(K=ie=pe,V=ae):ie=ie.next=pe,N|=se;if(O=O.next,O===null){if(O=b.shared.pending,O===null)break;se=O,O=se.next,se.next=null,b.lastBaseUpdate=se,b.shared.pending=null}}while(!0);if(ie===null&&(V=ae),b.baseState=V,b.firstBaseUpdate=K,b.lastBaseUpdate=ie,l=b.shared.interleaved,l!==null){b=l;do N|=b.lane,b=b.next;while(b!==l)}else S===null&&(b.shared.lanes=0);Vi|=N,o.lanes=N,o.memoizedState=ae}}function qx(o,l,f){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var y=o[l],b=y.callback;if(b!==null){if(y.callback=null,y=f,typeof b!="function")throw Error(n(191,b));b.call(y)}}}var Yx=new t.Component().refs;function op(o,l,f,y){l=o.memoizedState,f=f(y,l),f=f==null?l:D({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Yu={isMounted:function(o){return(o=o._reactInternals)?_s(o)===o:!1},enqueueSetState:function(o,l,f){o=o._reactInternals;var y=on(),b=Qr(o),S=nr(y,b);S.payload=l,f!=null&&(S.callback=f),l=qr(o,S,b),l!==null&&(cs(l,o,b,y),Wu(l,o,b))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var y=on(),b=Qr(o),S=nr(y,b);S.tag=1,S.payload=l,f!=null&&(S.callback=f),l=qr(o,S,b),l!==null&&(cs(l,o,b,y),Wu(l,o,b))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=on(),y=Qr(o),b=nr(f,y);b.tag=2,l!=null&&(b.callback=l),l=qr(o,b,y),l!==null&&(cs(l,o,y,f),Wu(l,o,y))}};function Kx(o,l,f,y,b,S,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,S,N):l.prototype&&l.prototype.isPureReactComponent?!wl(f,y)||!wl(b,S):!0}function Xx(o,l,f){var y=!1,b=Ur,S=l.contextType;return typeof S=="object"&&S!==null?S=$n(S):(b=mn(l)?Oi:Wt.current,y=l.contextTypes,S=(y=y!=null)?Jo(o,b):Ur),l=new l(f,S),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Yu,o.stateNode=l,l._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=b,o.__reactInternalMemoizedMaskedChildContext=S),l}function Qx(o,l,f,y){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,y),l.state!==o&&Yu.enqueueReplaceState(l,l.state,null)}function ap(o,l,f,y){var b=o.stateNode;b.props=f,b.state=o.memoizedState,b.refs=Yx,ip(o);var S=l.contextType;typeof S=="object"&&S!==null?b.context=$n(S):(S=mn(l)?Oi:Wt.current,b.context=Jo(o,S)),b.state=o.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(op(o,l,S,f),b.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&Yu.enqueueReplaceState(b,b.state,null),qu(o,f,b,y),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308)}function Tl(o,l,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var y=f.stateNode}if(!y)throw Error(n(147,o));var b=y,S=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===S?l.ref:(l=function(N){var O=b.refs;O===Yx&&(O=b.refs={}),N===null?delete O[S]:O[S]=N},l._stringRef=S,l)}if(typeof o!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,o))}return o}function Ku(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Gx(o){var l=o._init;return l(o._payload)}function Zx(o){function l(H,$){if(o){var W=H.deletions;W===null?(H.deletions=[$],H.flags|=16):W.push($)}}function f(H,$){if(!o)return null;for(;$!==null;)l(H,$),$=$.sibling;return null}function y(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function b(H,$){return H=Zr(H,$),H.index=0,H.sibling=null,H}function S(H,$,W){return H.index=W,o?(W=H.alternate,W!==null?(W=W.index,W<$?(H.flags|=2,$):W):(H.flags|=2,$)):(H.flags|=1048576,$)}function N(H){return o&&H.alternate===null&&(H.flags|=2),H}function O(H,$,W,ce){return $===null||$.tag!==6?($=Hp(W,H.mode,ce),$.return=H,$):($=b($,W),$.return=H,$)}function V(H,$,W,ce){var we=W.type;return we===z?ie(H,$,W.props.children,ce,W.key):$!==null&&($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===te&&Gx(we)===$.type)?(ce=b($,W.props),ce.ref=Tl(H,$,W),ce.return=H,ce):(ce=fd(W.type,W.key,W.props,null,H.mode,ce),ce.ref=Tl(H,$,W),ce.return=H,ce)}function K(H,$,W,ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=Wp(W,H.mode,ce),$.return=H,$):($=b($,W.children||[]),$.return=H,$)}function ie(H,$,W,ce,we){return $===null||$.tag!==7?($=Wi(W,H.mode,ce,we),$.return=H,$):($=b($,W),$.return=H,$)}function ae(H,$,W){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Hp(""+$,H.mode,W),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case P:return W=fd($.type,$.key,$.props,null,H.mode,W),W.ref=Tl(H,null,$),W.return=H,W;case R:return $=Wp($,H.mode,W),$.return=H,$;case te:var ce=$._init;return ae(H,ce($._payload),W)}if(vs($)||ne($))return $=Wi($,H.mode,W,null),$.return=H,$;Ku(H,$)}return null}function se(H,$,W,ce){var we=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return we!==null?null:O(H,$,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case P:return W.key===we?V(H,$,W,ce):null;case R:return W.key===we?K(H,$,W,ce):null;case te:return we=W._init,se(H,$,we(W._payload),ce)}if(vs(W)||ne(W))return we!==null?null:ie(H,$,W,ce,null);Ku(H,W)}return null}function pe(H,$,W,ce,we){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return H=H.get(W)||null,O($,H,""+ce,we);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case P:return H=H.get(ce.key===null?W:ce.key)||null,V($,H,ce,we);case R:return H=H.get(ce.key===null?W:ce.key)||null,K($,H,ce,we);case te:var je=ce._init;return pe(H,$,W,je(ce._payload),we)}if(vs(ce)||ne(ce))return H=H.get(W)||null,ie($,H,ce,we,null);Ku($,ce)}return null}function ye(H,$,W,ce){for(var we=null,je=null,ke=$,Ae=$=0,Ft=null;ke!==null&&Ae<W.length;Ae++){ke.index>Ae?(Ft=ke,ke=null):Ft=ke.sibling;var Ke=se(H,ke,W[Ae],ce);if(Ke===null){ke===null&&(ke=Ft);break}o&&ke&&Ke.alternate===null&&l(H,ke),$=S(Ke,$,Ae),je===null?we=Ke:je.sibling=Ke,je=Ke,ke=Ft}if(Ae===W.length)return f(H,ke),rt&&Ii(H,Ae),we;if(ke===null){for(;Ae<W.length;Ae++)ke=ae(H,W[Ae],ce),ke!==null&&($=S(ke,$,Ae),je===null?we=ke:je.sibling=ke,je=ke);return rt&&Ii(H,Ae),we}for(ke=y(H,ke);Ae<W.length;Ae++)Ft=pe(ke,H,Ae,W[Ae],ce),Ft!==null&&(o&&Ft.alternate!==null&&ke.delete(Ft.key===null?Ae:Ft.key),$=S(Ft,$,Ae),je===null?we=Ft:je.sibling=Ft,je=Ft);return o&&ke.forEach(function(Jr){return l(H,Jr)}),rt&&Ii(H,Ae),we}function be(H,$,W,ce){var we=ne(W);if(typeof we!="function")throw Error(n(150));if(W=we.call(W),W==null)throw Error(n(151));for(var je=we=null,ke=$,Ae=$=0,Ft=null,Ke=W.next();ke!==null&&!Ke.done;Ae++,Ke=W.next()){ke.index>Ae?(Ft=ke,ke=null):Ft=ke.sibling;var Jr=se(H,ke,Ke.value,ce);if(Jr===null){ke===null&&(ke=Ft);break}o&&ke&&Jr.alternate===null&&l(H,ke),$=S(Jr,$,Ae),je===null?we=Jr:je.sibling=Jr,je=Jr,ke=Ft}if(Ke.done)return f(H,ke),rt&&Ii(H,Ae),we;if(ke===null){for(;!Ke.done;Ae++,Ke=W.next())Ke=ae(H,Ke.value,ce),Ke!==null&&($=S(Ke,$,Ae),je===null?we=Ke:je.sibling=Ke,je=Ke);return rt&&Ii(H,Ae),we}for(ke=y(H,ke);!Ke.done;Ae++,Ke=W.next())Ke=pe(ke,H,Ae,Ke.value,ce),Ke!==null&&(o&&Ke.alternate!==null&&ke.delete(Ke.key===null?Ae:Ke.key),$=S(Ke,$,Ae),je===null?we=Ke:je.sibling=Ke,je=Ke);return o&&ke.forEach(function(nE){return l(H,nE)}),rt&&Ii(H,Ae),we}function St(H,$,W,ce){if(typeof W=="object"&&W!==null&&W.type===z&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case P:e:{for(var we=W.key,je=$;je!==null;){if(je.key===we){if(we=W.type,we===z){if(je.tag===7){f(H,je.sibling),$=b(je,W.props.children),$.return=H,H=$;break e}}else if(je.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===te&&Gx(we)===je.type){f(H,je.sibling),$=b(je,W.props),$.ref=Tl(H,je,W),$.return=H,H=$;break e}f(H,je);break}else l(H,je);je=je.sibling}W.type===z?($=Wi(W.props.children,H.mode,ce,W.key),$.return=H,H=$):(ce=fd(W.type,W.key,W.props,null,H.mode,ce),ce.ref=Tl(H,$,W),ce.return=H,H=ce)}return N(H);case R:e:{for(je=W.key;$!==null;){if($.key===je)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){f(H,$.sibling),$=b($,W.children||[]),$.return=H,H=$;break e}else{f(H,$);break}else l(H,$);$=$.sibling}$=Wp(W,H.mode,ce),$.return=H,H=$}return N(H);case te:return je=W._init,St(H,$,je(W._payload),ce)}if(vs(W))return ye(H,$,W,ce);if(ne(W))return be(H,$,W,ce);Ku(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,$!==null&&$.tag===6?(f(H,$.sibling),$=b($,W),$.return=H,H=$):(f(H,$),$=Hp(W,H.mode,ce),$.return=H,H=$),N(H)):f(H,$)}return St}var ia=Zx(!0),Jx=Zx(!1),El={},ks=$r(El),Pl=$r(El),Al=$r(El);function Bi(o){if(o===El)throw Error(n(174));return o}function lp(o,l){switch(Je(Al,l),Je(Pl,o),Je(ks,El),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Do(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Do(l,o)}nt(ks),Je(ks,l)}function oa(){nt(ks),nt(Pl),nt(Al)}function eb(o){Bi(Al.current);var l=Bi(ks.current),f=Do(l,o.type);l!==f&&(Je(Pl,o),Je(ks,f))}function cp(o){Pl.current===o&&(nt(ks),nt(Pl))}var lt=$r(0);function Xu(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var up=[];function dp(){for(var o=0;o<up.length;o++)up[o]._workInProgressVersionPrimary=null;up.length=0}var Qu=M.ReactCurrentDispatcher,hp=M.ReactCurrentBatchConfig,zi=0,ct=null,Mt=null,Lt=null,Gu=!1,Ml=!1,Rl=0,CT=0;function qt(){throw Error(n(321))}function fp(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!rs(o[f],l[f]))return!1;return!0}function pp(o,l,f,y,b,S){if(zi=S,ct=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Qu.current=o===null||o.memoizedState===null?TT:ET,o=f(y,b),Ml){S=0;do{if(Ml=!1,Rl=0,25<=S)throw Error(n(301));S+=1,Lt=Mt=null,l.updateQueue=null,Qu.current=PT,o=f(y,b)}while(Ml)}if(Qu.current=ed,l=Mt!==null&&Mt.next!==null,zi=0,Lt=Mt=ct=null,Gu=!1,l)throw Error(n(300));return o}function mp(){var o=Rl!==0;return Rl=0,o}function Ns(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ct.memoizedState=Lt=o:Lt=Lt.next=o,Lt}function Un(){if(Mt===null){var o=ct.alternate;o=o!==null?o.memoizedState:null}else o=Mt.next;var l=Lt===null?ct.memoizedState:Lt.next;if(l!==null)Lt=l,Mt=o;else{if(o===null)throw Error(n(310));Mt=o,o={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Lt===null?ct.memoizedState=Lt=o:Lt=Lt.next=o}return Lt}function Dl(o,l){return typeof l=="function"?l(o):l}function gp(o){var l=Un(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=Mt,b=y.baseQueue,S=f.pending;if(S!==null){if(b!==null){var N=b.next;b.next=S.next,S.next=N}y.baseQueue=b=S,f.pending=null}if(b!==null){S=b.next,y=y.baseState;var O=N=null,V=null,K=S;do{var ie=K.lane;if((zi&ie)===ie)V!==null&&(V=V.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),y=K.hasEagerState?K.eagerState:o(y,K.action);else{var ae={lane:ie,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};V===null?(O=V=ae,N=y):V=V.next=ae,ct.lanes|=ie,Vi|=ie}K=K.next}while(K!==null&&K!==S);V===null?N=y:V.next=O,rs(y,l.memoizedState)||(gn=!0),l.memoizedState=y,l.baseState=N,l.baseQueue=V,f.lastRenderedState=y}if(o=f.interleaved,o!==null){b=o;do S=b.lane,ct.lanes|=S,Vi|=S,b=b.next;while(b!==o)}else b===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function yp(o){var l=Un(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=f.dispatch,b=f.pending,S=l.memoizedState;if(b!==null){f.pending=null;var N=b=b.next;do S=o(S,N.action),N=N.next;while(N!==b);rs(S,l.memoizedState)||(gn=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),f.lastRenderedState=S}return[S,y]}function tb(){}function nb(o,l){var f=ct,y=Un(),b=l(),S=!rs(y.memoizedState,b);if(S&&(y.memoizedState=b,gn=!0),y=y.queue,xp(ib.bind(null,f,y,o),[o]),y.getSnapshot!==l||S||Lt!==null&&Lt.memoizedState.tag&1){if(f.flags|=2048,Ol(9,rb.bind(null,f,y,b,l),void 0,null),It===null)throw Error(n(349));(zi&30)!==0||sb(f,l,b)}return b}function sb(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=ct.updateQueue,l===null?(l={lastEffect:null,stores:null},ct.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function rb(o,l,f,y){l.value=f,l.getSnapshot=y,ob(l)&&ab(o)}function ib(o,l,f){return f(function(){ob(l)&&ab(o)})}function ob(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!rs(o,f)}catch{return!0}}function ab(o){var l=tr(o,1);l!==null&&cs(l,o,1,-1)}function lb(o){var l=Ns();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:o},l.queue=o,o=o.dispatch=NT.bind(null,ct,o),[l.memoizedState,o]}function Ol(o,l,f,y){return o={tag:o,create:l,destroy:f,deps:y,next:null},l=ct.updateQueue,l===null?(l={lastEffect:null,stores:null},ct.updateQueue=l,l.lastEffect=o.next=o):(f=l.lastEffect,f===null?l.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,l.lastEffect=o)),o}function cb(){return Un().memoizedState}function Zu(o,l,f,y){var b=Ns();ct.flags|=o,b.memoizedState=Ol(1|l,f,void 0,y===void 0?null:y)}function Ju(o,l,f,y){var b=Un();y=y===void 0?null:y;var S=void 0;if(Mt!==null){var N=Mt.memoizedState;if(S=N.destroy,y!==null&&fp(y,N.deps)){b.memoizedState=Ol(l,f,S,y);return}}ct.flags|=o,b.memoizedState=Ol(1|l,f,S,y)}function ub(o,l){return Zu(8390656,8,o,l)}function xp(o,l){return Ju(2048,8,o,l)}function db(o,l){return Ju(4,2,o,l)}function hb(o,l){return Ju(4,4,o,l)}function fb(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function pb(o,l,f){return f=f!=null?f.concat([o]):null,Ju(4,4,fb.bind(null,l,o),f)}function bp(){}function mb(o,l){var f=Un();l=l===void 0?null:l;var y=f.memoizedState;return y!==null&&l!==null&&fp(l,y[1])?y[0]:(f.memoizedState=[o,l],o)}function gb(o,l){var f=Un();l=l===void 0?null:l;var y=f.memoizedState;return y!==null&&l!==null&&fp(l,y[1])?y[0]:(o=o(),f.memoizedState=[o,l],o)}function yb(o,l,f){return(zi&21)===0?(o.baseState&&(o.baseState=!1,gn=!0),o.memoizedState=f):(rs(f,l)||(f=$o(),ct.lanes|=f,Vi|=f,o.baseState=!0),l)}function jT(o,l){var f=A;A=f!==0&&4>f?f:4,o(!0);var y=hp.transition;hp.transition={};try{o(!1),l()}finally{A=f,hp.transition=y}}function xb(){return Un().memoizedState}function kT(o,l,f){var y=Qr(o);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},bb(o))vb(l,f);else if(f=Ux(o,l,f,y),f!==null){var b=on();cs(f,o,y,b),wb(f,l,y)}}function NT(o,l,f){var y=Qr(o),b={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(bb(o))vb(l,b);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var N=l.lastRenderedState,O=S(N,f);if(b.hasEagerState=!0,b.eagerState=O,rs(O,N)){var V=l.interleaved;V===null?(b.next=b,rp(l)):(b.next=V.next,V.next=b),l.interleaved=b;return}}catch{}finally{}f=Ux(o,l,b,y),f!==null&&(b=on(),cs(f,o,y,b),wb(f,l,y))}}function bb(o){var l=o.alternate;return o===ct||l!==null&&l===ct}function vb(o,l){Ml=Gu=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function wb(o,l,f){if((f&4194240)!==0){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,E(o,f)}}var ed={readContext:$n,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},TT={readContext:$n,useCallback:function(o,l){return Ns().memoizedState=[o,l===void 0?null:l],o},useContext:$n,useEffect:ub,useImperativeHandle:function(o,l,f){return f=f!=null?f.concat([o]):null,Zu(4194308,4,fb.bind(null,l,o),f)},useLayoutEffect:function(o,l){return Zu(4194308,4,o,l)},useInsertionEffect:function(o,l){return Zu(4,2,o,l)},useMemo:function(o,l){var f=Ns();return l=l===void 0?null:l,o=o(),f.memoizedState=[o,l],o},useReducer:function(o,l,f){var y=Ns();return l=f!==void 0?f(l):l,y.memoizedState=y.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},y.queue=o,o=o.dispatch=kT.bind(null,ct,o),[y.memoizedState,o]},useRef:function(o){var l=Ns();return o={current:o},l.memoizedState=o},useState:lb,useDebugValue:bp,useDeferredValue:function(o){return Ns().memoizedState=o},useTransition:function(){var o=lb(!1),l=o[0];return o=jT.bind(null,o[1]),Ns().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,f){var y=ct,b=Ns();if(rt){if(f===void 0)throw Error(n(407));f=f()}else{if(f=l(),It===null)throw Error(n(349));(zi&30)!==0||sb(y,l,f)}b.memoizedState=f;var S={value:f,getSnapshot:l};return b.queue=S,ub(ib.bind(null,y,S,o),[o]),y.flags|=2048,Ol(9,rb.bind(null,y,S,f,l),void 0,null),f},useId:function(){var o=Ns(),l=It.identifierPrefix;if(rt){var f=er,y=Js;f=(y&~(1<<32-Ht(y)-1)).toString(32)+f,l=":"+l+"R"+f,f=Rl++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=CT++,l=":"+l+"r"+f.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},ET={readContext:$n,useCallback:mb,useContext:$n,useEffect:xp,useImperativeHandle:pb,useInsertionEffect:db,useLayoutEffect:hb,useMemo:gb,useReducer:gp,useRef:cb,useState:function(){return gp(Dl)},useDebugValue:bp,useDeferredValue:function(o){var l=Un();return yb(l,Mt.memoizedState,o)},useTransition:function(){var o=gp(Dl)[0],l=Un().memoizedState;return[o,l]},useMutableSource:tb,useSyncExternalStore:nb,useId:xb,unstable_isNewReconciler:!1},PT={readContext:$n,useCallback:mb,useContext:$n,useEffect:xp,useImperativeHandle:pb,useInsertionEffect:db,useLayoutEffect:hb,useMemo:gb,useReducer:yp,useRef:cb,useState:function(){return yp(Dl)},useDebugValue:bp,useDeferredValue:function(o){var l=Un();return Mt===null?l.memoizedState=o:yb(l,Mt.memoizedState,o)},useTransition:function(){var o=yp(Dl)[0],l=Un().memoizedState;return[o,l]},useMutableSource:tb,useSyncExternalStore:nb,useId:xb,unstable_isNewReconciler:!1};function aa(o,l){try{var f="",y=l;do f+=Be(y),y=y.return;while(y);var b=f}catch(S){b=`
Error generating stack: `+S.message+`
`+S.stack}return{value:o,source:l,stack:b,digest:null}}function vp(o,l,f){return{value:o,source:null,stack:f??null,digest:l??null}}function wp(o,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var AT=typeof WeakMap=="function"?WeakMap:Map;function _b(o,l,f){f=nr(-1,f),f.tag=3,f.payload={element:null};var y=l.value;return f.callback=function(){ad||(ad=!0,Lp=y),wp(o,l)},f}function Sb(o,l,f){f=nr(-1,f),f.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var b=l.value;f.payload=function(){return y(b)},f.callback=function(){wp(o,l)}}var S=o.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){wp(o,l),typeof y!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})}),f}function Cb(o,l,f){var y=o.pingCache;if(y===null){y=o.pingCache=new AT;var b=new Set;y.set(l,b)}else b=y.get(l),b===void 0&&(b=new Set,y.set(l,b));b.has(f)||(b.add(f),o=WT.bind(null,o,l,f),l.then(o,o))}function jb(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function kb(o,l,f,y,b){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=nr(-1,1),l.tag=2,qr(f,l,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=b,o)}var MT=M.ReactCurrentOwner,gn=!1;function rn(o,l,f,y){l.child=o===null?Jx(l,null,f,y):ia(l,o.child,f,y)}function Nb(o,l,f,y,b){f=f.render;var S=l.ref;return ra(l,b),y=pp(o,l,f,y,S,b),f=mp(),o!==null&&!gn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~b,sr(o,l,b)):(rt&&f&&Xf(l),l.flags|=1,rn(o,l,y,b),l.child)}function Tb(o,l,f,y,b){if(o===null){var S=f.type;return typeof S=="function"&&!Up(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=S,Eb(o,l,S,y,b)):(o=fd(f.type,null,y,l,l.mode,b),o.ref=l.ref,o.return=l,l.child=o)}if(S=o.child,(o.lanes&b)===0){var N=S.memoizedProps;if(f=f.compare,f=f!==null?f:wl,f(N,y)&&o.ref===l.ref)return sr(o,l,b)}return l.flags|=1,o=Zr(S,y),o.ref=l.ref,o.return=l,l.child=o}function Eb(o,l,f,y,b){if(o!==null){var S=o.memoizedProps;if(wl(S,y)&&o.ref===l.ref)if(gn=!1,l.pendingProps=y=S,(o.lanes&b)!==0)(o.flags&131072)!==0&&(gn=!0);else return l.lanes=o.lanes,sr(o,l,b)}return _p(o,l,f,y,b)}function Pb(o,l,f){var y=l.pendingProps,b=y.children,S=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ca,On),On|=f;else{if((f&1073741824)===0)return o=S!==null?S.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Je(ca,On),On|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=S!==null?S.baseLanes:f,Je(ca,On),On|=y}else S!==null?(y=S.baseLanes|f,l.memoizedState=null):y=f,Je(ca,On),On|=y;return rn(o,l,b,f),l.child}function Ab(o,l){var f=l.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function _p(o,l,f,y,b){var S=mn(f)?Oi:Wt.current;return S=Jo(l,S),ra(l,b),f=pp(o,l,f,y,S,b),y=mp(),o!==null&&!gn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~b,sr(o,l,b)):(rt&&y&&Xf(l),l.flags|=1,rn(o,l,f,b),l.child)}function Mb(o,l,f,y,b){if(mn(f)){var S=!0;Fu(l)}else S=!1;if(ra(l,b),l.stateNode===null)nd(o,l),Xx(l,f,y),ap(l,f,y,b),y=!0;else if(o===null){var N=l.stateNode,O=l.memoizedProps;N.props=O;var V=N.context,K=f.contextType;typeof K=="object"&&K!==null?K=$n(K):(K=mn(f)?Oi:Wt.current,K=Jo(l,K));var ie=f.getDerivedStateFromProps,ae=typeof ie=="function"||typeof N.getSnapshotBeforeUpdate=="function";ae||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(O!==y||V!==K)&&Qx(l,N,y,K),Wr=!1;var se=l.memoizedState;N.state=se,qu(l,y,N,b),V=l.memoizedState,O!==y||se!==V||pn.current||Wr?(typeof ie=="function"&&(op(l,f,ie,y),V=l.memoizedState),(O=Wr||Kx(l,f,O,y,se,V,K))?(ae||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=V),N.props=y,N.state=V,N.context=K,y=O):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{N=l.stateNode,Hx(o,l),O=l.memoizedProps,K=l.type===l.elementType?O:os(l.type,O),N.props=K,ae=l.pendingProps,se=N.context,V=f.contextType,typeof V=="object"&&V!==null?V=$n(V):(V=mn(f)?Oi:Wt.current,V=Jo(l,V));var pe=f.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(O!==ae||se!==V)&&Qx(l,N,y,V),Wr=!1,se=l.memoizedState,N.state=se,qu(l,y,N,b);var ye=l.memoizedState;O!==ae||se!==ye||pn.current||Wr?(typeof pe=="function"&&(op(l,f,pe,y),ye=l.memoizedState),(K=Wr||Kx(l,f,K,y,se,ye,V)||!1)?(ie||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(y,ye,V),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(y,ye,V)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||O===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=ye),N.props=y,N.state=ye,N.context=V,y=K):(typeof N.componentDidUpdate!="function"||O===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),y=!1)}return Sp(o,l,f,y,S,b)}function Sp(o,l,f,y,b,S){Ab(o,l);var N=(l.flags&128)!==0;if(!y&&!N)return b&&Lx(l,f,!1),sr(o,l,S);y=l.stateNode,MT.current=l;var O=N&&typeof f.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,o!==null&&N?(l.child=ia(l,o.child,null,S),l.child=ia(l,null,O,S)):rn(o,l,O,S),l.memoizedState=y.state,b&&Lx(l,f,!0),l.child}function Rb(o){var l=o.stateNode;l.pendingContext?Dx(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Dx(o,l.context,!1),lp(o,l.containerInfo)}function Db(o,l,f,y,b){return na(),Jf(b),l.flags|=256,rn(o,l,f,y),l.child}var Cp={dehydrated:null,treeContext:null,retryLane:0};function jp(o){return{baseLanes:o,cachePool:null,transitions:null}}function Ob(o,l,f){var y=l.pendingProps,b=lt.current,S=!1,N=(l.flags&128)!==0,O;if((O=N)||(O=o!==null&&o.memoizedState===null?!1:(b&2)!==0),O?(S=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(b|=1),Je(lt,b&1),o===null)return Zf(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(N=y.children,o=y.fallback,S?(y=l.mode,S=l.child,N={mode:"hidden",children:N},(y&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=N):S=pd(N,y,0,null),o=Wi(o,y,f,null),S.return=l,o.return=l,S.sibling=o,l.child=S,l.child.memoizedState=jp(f),l.memoizedState=Cp,o):kp(l,N));if(b=o.memoizedState,b!==null&&(O=b.dehydrated,O!==null))return RT(o,l,N,y,O,b,f);if(S){S=y.fallback,N=l.mode,b=o.child,O=b.sibling;var V={mode:"hidden",children:y.children};return(N&1)===0&&l.child!==b?(y=l.child,y.childLanes=0,y.pendingProps=V,l.deletions=null):(y=Zr(b,V),y.subtreeFlags=b.subtreeFlags&14680064),O!==null?S=Zr(O,S):(S=Wi(S,N,f,null),S.flags|=2),S.return=l,y.return=l,y.sibling=S,l.child=y,y=S,S=l.child,N=o.child.memoizedState,N=N===null?jp(f):{baseLanes:N.baseLanes|f,cachePool:null,transitions:N.transitions},S.memoizedState=N,S.childLanes=o.childLanes&~f,l.memoizedState=Cp,y}return S=o.child,o=S.sibling,y=Zr(S,{mode:"visible",children:y.children}),(l.mode&1)===0&&(y.lanes=f),y.return=l,y.sibling=null,o!==null&&(f=l.deletions,f===null?(l.deletions=[o],l.flags|=16):f.push(o)),l.child=y,l.memoizedState=null,y}function kp(o,l){return l=pd({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function td(o,l,f,y){return y!==null&&Jf(y),ia(l,o.child,null,f),o=kp(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function RT(o,l,f,y,b,S,N){if(f)return l.flags&256?(l.flags&=-257,y=vp(Error(n(422))),td(o,l,N,y)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(S=y.fallback,b=l.mode,y=pd({mode:"visible",children:y.children},b,0,null),S=Wi(S,b,N,null),S.flags|=2,y.return=l,S.return=l,y.sibling=S,l.child=y,(l.mode&1)!==0&&ia(l,o.child,null,N),l.child.memoizedState=jp(N),l.memoizedState=Cp,S);if((l.mode&1)===0)return td(o,l,N,null);if(b.data==="$!"){if(y=b.nextSibling&&b.nextSibling.dataset,y)var O=y.dgst;return y=O,S=Error(n(419)),y=vp(S,y,void 0),td(o,l,N,y)}if(O=(N&o.childLanes)!==0,gn||O){if(y=It,y!==null){switch(N&-N){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(y.suspendedLanes|N))!==0?0:b,b!==0&&b!==S.retryLane&&(S.retryLane=b,tr(o,b),cs(y,o,b,-1))}return $p(),y=vp(Error(n(421))),td(o,l,N,y)}return b.data==="$?"?(l.flags|=128,l.child=o.child,l=qT.bind(null,o),b._reactRetry=l,null):(o=S.treeContext,Dn=Vr(b.nextSibling),Rn=l,rt=!0,is=null,o!==null&&(zn[Vn++]=Js,zn[Vn++]=er,zn[Vn++]=Li,Js=o.id,er=o.overflow,Li=l),l=kp(l,y.children),l.flags|=4096,l)}function Lb(o,l,f){o.lanes|=l;var y=o.alternate;y!==null&&(y.lanes|=l),sp(o.return,l,f)}function Np(o,l,f,y,b){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:b}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=y,S.tail=f,S.tailMode=b)}function Ib(o,l,f){var y=l.pendingProps,b=y.revealOrder,S=y.tail;if(rn(o,l,y.children,f),y=lt.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Lb(o,f,l);else if(o.tag===19)Lb(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(Je(lt,y),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(f=l.child,b=null;f!==null;)o=f.alternate,o!==null&&Xu(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=l.child,l.child=null):(b=f.sibling,f.sibling=null),Np(l,!1,b,f,S);break;case"backwards":for(f=null,b=l.child,l.child=null;b!==null;){if(o=b.alternate,o!==null&&Xu(o)===null){l.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}Np(l,!0,f,null,S);break;case"together":Np(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function nd(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function sr(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Vi|=l.lanes,(f&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,f=Zr(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=Zr(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function DT(o,l,f){switch(l.tag){case 3:Rb(l),na();break;case 5:eb(l);break;case 1:mn(l.type)&&Fu(l);break;case 4:lp(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,b=l.memoizedProps.value;Je(Uu,y._currentValue),y._currentValue=b;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(Je(lt,lt.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?Ob(o,l,f):(Je(lt,lt.current&1),o=sr(o,l,f),o!==null?o.sibling:null);Je(lt,lt.current&1);break;case 19:if(y=(f&l.childLanes)!==0,(o.flags&128)!==0){if(y)return Ib(o,l,f);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Je(lt,lt.current),y)break;return null;case 22:case 23:return l.lanes=0,Pb(o,l,f)}return sr(o,l,f)}var Fb,Tp,Bb,zb;Fb=function(o,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Tp=function(){},Bb=function(o,l,f,y){var b=o.memoizedProps;if(b!==y){o=l.stateNode,Bi(ks.current);var S=null;switch(f){case"input":b=st(o,b),y=st(o,y),S=[];break;case"select":b=D({},b,{value:void 0}),y=D({},y,{value:void 0}),S=[];break;case"textarea":b=el(o,b),y=el(o,y),S=[];break;default:typeof b.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Ou)}sl(f,y);var N;f=null;for(K in b)if(!y.hasOwnProperty(K)&&b.hasOwnProperty(K)&&b[K]!=null)if(K==="style"){var O=b[K];for(N in O)O.hasOwnProperty(N)&&(f||(f={}),f[N]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(r.hasOwnProperty(K)?S||(S=[]):(S=S||[]).push(K,null));for(K in y){var V=y[K];if(O=b!=null?b[K]:void 0,y.hasOwnProperty(K)&&V!==O&&(V!=null||O!=null))if(K==="style")if(O){for(N in O)!O.hasOwnProperty(N)||V&&V.hasOwnProperty(N)||(f||(f={}),f[N]="");for(N in V)V.hasOwnProperty(N)&&O[N]!==V[N]&&(f||(f={}),f[N]=V[N])}else f||(S||(S=[]),S.push(K,f)),f=V;else K==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,O=O?O.__html:void 0,V!=null&&O!==V&&(S=S||[]).push(K,V)):K==="children"?typeof V!="string"&&typeof V!="number"||(S=S||[]).push(K,""+V):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(r.hasOwnProperty(K)?(V!=null&&K==="onScroll"&&tt("scroll",o),S||O===V||(S=[])):(S=S||[]).push(K,V))}f&&(S=S||[]).push("style",f);var K=S;(l.updateQueue=K)&&(l.flags|=4)}},zb=function(o,l,f,y){f!==y&&(l.flags|=4)};function Ll(o,l){if(!rt)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Yt(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(l)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,y|=b.subtreeFlags&14680064,y|=b.flags&14680064,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,y|=b.subtreeFlags,y|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=y,o.childLanes=f,l}function OT(o,l,f){var y=l.pendingProps;switch(Qf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(l),null;case 1:return mn(l.type)&&Iu(),Yt(l),null;case 3:return y=l.stateNode,oa(),nt(pn),nt(Wt),dp(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&($u(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,is!==null&&(Bp(is),is=null))),Tp(o,l),Yt(l),null;case 5:cp(l);var b=Bi(Al.current);if(f=l.type,o!==null&&l.stateNode!=null)Bb(o,l,f,y,b),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(n(166));return Yt(l),null}if(o=Bi(ks.current),$u(l)){y=l.stateNode,f=l.type;var S=l.memoizedProps;switch(y[js]=l,y[kl]=S,o=(l.mode&1)!==0,f){case"dialog":tt("cancel",y),tt("close",y);break;case"iframe":case"object":case"embed":tt("load",y);break;case"video":case"audio":for(b=0;b<Sl.length;b++)tt(Sl[b],y);break;case"source":tt("error",y);break;case"img":case"image":case"link":tt("error",y),tt("load",y);break;case"details":tt("toggle",y);break;case"input":bt(y,S),tt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!S.multiple},tt("invalid",y);break;case"textarea":cu(y,S),tt("invalid",y)}sl(f,S),b=null;for(var N in S)if(S.hasOwnProperty(N)){var O=S[N];N==="children"?typeof O=="string"?y.textContent!==O&&(S.suppressHydrationWarning!==!0&&Du(y.textContent,O,o),b=["children",O]):typeof O=="number"&&y.textContent!==""+O&&(S.suppressHydrationWarning!==!0&&Du(y.textContent,O,o),b=["children",""+O]):r.hasOwnProperty(N)&&O!=null&&N==="onScroll"&&tt("scroll",y)}switch(f){case"input":Pe(y),kr(y,S,!0);break;case"textarea":Pe(y),du(y);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(y.onclick=Ou)}y=b,l.updateQueue=y,y!==null&&(l.flags|=4)}else{N=b.nodeType===9?b:b.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=hu(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=N.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=N.createElement(f,{is:y.is}):(o=N.createElement(f),f==="select"&&(N=o,y.multiple?N.multiple=!0:y.size&&(N.size=y.size))):o=N.createElementNS(o,f),o[js]=l,o[kl]=y,Fb(o,l,!1,!1),l.stateNode=o;e:{switch(N=rl(f,y),f){case"dialog":tt("cancel",o),tt("close",o),b=y;break;case"iframe":case"object":case"embed":tt("load",o),b=y;break;case"video":case"audio":for(b=0;b<Sl.length;b++)tt(Sl[b],o);b=y;break;case"source":tt("error",o),b=y;break;case"img":case"image":case"link":tt("error",o),tt("load",o),b=y;break;case"details":tt("toggle",o),b=y;break;case"input":bt(o,y),b=st(o,y),tt("invalid",o);break;case"option":b=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},b=D({},y,{value:void 0}),tt("invalid",o);break;case"textarea":cu(o,y),b=el(o,y),tt("invalid",o);break;default:b=y}sl(f,b),O=b;for(S in O)if(O.hasOwnProperty(S)){var V=O[S];S==="style"?pu(o,V):S==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&tl(o,V)):S==="children"?typeof V=="string"?(f!=="textarea"||V!=="")&&Nr(o,V):typeof V=="number"&&Nr(o,""+V):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(r.hasOwnProperty(S)?V!=null&&S==="onScroll"&&tt("scroll",o):V!=null&&T(o,S,V,N))}switch(f){case"input":Pe(o),kr(o,y,!1);break;case"textarea":Pe(o),du(o);break;case"option":y.value!=null&&o.setAttribute("value",""+Le(y.value));break;case"select":o.multiple=!!y.multiple,S=y.value,S!=null?Pt(o,!!y.multiple,S,!1):y.defaultValue!=null&&Pt(o,!!y.multiple,y.defaultValue,!0);break;default:typeof b.onClick=="function"&&(o.onclick=Ou)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Yt(l),null;case 6:if(o&&l.stateNode!=null)zb(o,l,o.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(n(166));if(f=Bi(Al.current),Bi(ks.current),$u(l)){if(y=l.stateNode,f=l.memoizedProps,y[js]=l,(S=y.nodeValue!==f)&&(o=Rn,o!==null))switch(o.tag){case 3:Du(y.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Du(y.nodeValue,f,(o.mode&1)!==0)}S&&(l.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[js]=l,l.stateNode=y}return Yt(l),null;case 13:if(nt(lt),y=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(rt&&Dn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)$x(),na(),l.flags|=98560,S=!1;else if(S=$u(l),y!==null&&y.dehydrated!==null){if(o===null){if(!S)throw Error(n(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[js]=l}else na(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Yt(l),S=!1}else is!==null&&(Bp(is),is=null),S=!0;if(!S)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(lt.current&1)!==0?Rt===0&&(Rt=3):$p())),l.updateQueue!==null&&(l.flags|=4),Yt(l),null);case 4:return oa(),Tp(o,l),o===null&&Cl(l.stateNode.containerInfo),Yt(l),null;case 10:return np(l.type._context),Yt(l),null;case 17:return mn(l.type)&&Iu(),Yt(l),null;case 19:if(nt(lt),S=l.memoizedState,S===null)return Yt(l),null;if(y=(l.flags&128)!==0,N=S.rendering,N===null)if(y)Ll(S,!1);else{if(Rt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(N=Xu(o),N!==null){for(l.flags|=128,Ll(S,!1),y=N.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=f,f=l.child;f!==null;)S=f,o=y,S.flags&=14680066,N=S.alternate,N===null?(S.childLanes=0,S.lanes=o,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=N.childLanes,S.lanes=N.lanes,S.child=N.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=N.memoizedProps,S.memoizedState=N.memoizedState,S.updateQueue=N.updateQueue,S.type=N.type,o=N.dependencies,S.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return Je(lt,lt.current&1|2),l.child}o=o.sibling}S.tail!==null&&Ze()>ua&&(l.flags|=128,y=!0,Ll(S,!1),l.lanes=4194304)}else{if(!y)if(o=Xu(N),o!==null){if(l.flags|=128,y=!0,f=o.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Ll(S,!0),S.tail===null&&S.tailMode==="hidden"&&!N.alternate&&!rt)return Yt(l),null}else 2*Ze()-S.renderingStartTime>ua&&f!==1073741824&&(l.flags|=128,y=!0,Ll(S,!1),l.lanes=4194304);S.isBackwards?(N.sibling=l.child,l.child=N):(f=S.last,f!==null?f.sibling=N:l.child=N,S.last=N)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=Ze(),l.sibling=null,f=lt.current,Je(lt,y?f&1|2:f&1),l):(Yt(l),null);case 22:case 23:return Vp(),y=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(l.flags|=8192),y&&(l.mode&1)!==0?(On&1073741824)!==0&&(Yt(l),l.subtreeFlags&6&&(l.flags|=8192)):Yt(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function LT(o,l){switch(Qf(l),l.tag){case 1:return mn(l.type)&&Iu(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return oa(),nt(pn),nt(Wt),dp(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return cp(l),null;case 13:if(nt(lt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));na()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return nt(lt),null;case 4:return oa(),null;case 10:return np(l.type._context),null;case 22:case 23:return Vp(),null;case 24:return null;default:return null}}var sd=!1,Kt=!1,IT=typeof WeakSet=="function"?WeakSet:Set,ge=null;function la(o,l){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){pt(o,l,y)}else f.current=null}function Ep(o,l,f){try{f()}catch(y){pt(o,l,y)}}var Vb=!1;function FT(o,l){if(Vf=Su,o=xx(),Rf(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var b=y.anchorOffset,S=y.focusNode;y=y.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var N=0,O=-1,V=-1,K=0,ie=0,ae=o,se=null;t:for(;;){for(var pe;ae!==f||b!==0&&ae.nodeType!==3||(O=N+b),ae!==S||y!==0&&ae.nodeType!==3||(V=N+y),ae.nodeType===3&&(N+=ae.nodeValue.length),(pe=ae.firstChild)!==null;)se=ae,ae=pe;for(;;){if(ae===o)break t;if(se===f&&++K===b&&(O=N),se===S&&++ie===y&&(V=N),(pe=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=pe}f=O===-1||V===-1?null:{start:O,end:V}}else f=null}f=f||{start:0,end:0}}else f=null;for($f={focusedElem:o,selectionRange:f},Su=!1,ge=l;ge!==null;)if(l=ge,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ge=o;else for(;ge!==null;){l=ge;try{var ye=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var be=ye.memoizedProps,St=ye.memoizedState,H=l.stateNode,$=H.getSnapshotBeforeUpdate(l.elementType===l.type?be:os(l.type,be),St);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var W=l.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){pt(l,l.return,ce)}if(o=l.sibling,o!==null){o.return=l.return,ge=o;break}ge=l.return}return ye=Vb,Vb=!1,ye}function Il(o,l,f){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var b=y=y.next;do{if((b.tag&o)===o){var S=b.destroy;b.destroy=void 0,S!==void 0&&Ep(l,f,S)}b=b.next}while(b!==y)}}function rd(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&o)===o){var y=f.create;f.destroy=y()}f=f.next}while(f!==l)}}function Pp(o){var l=o.ref;if(l!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof l=="function"?l(o):l.current=o}}function $b(o){var l=o.alternate;l!==null&&(o.alternate=null,$b(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[js],delete l[kl],delete l[qf],delete l[vT],delete l[wT])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Ub(o){return o.tag===5||o.tag===3||o.tag===4}function Hb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Ub(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ap(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(o,l):f.insertBefore(o,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(o,f)):(l=f,l.appendChild(o)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Ou));else if(y!==4&&(o=o.child,o!==null))for(Ap(o,l,f),o=o.sibling;o!==null;)Ap(o,l,f),o=o.sibling}function Mp(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(Mp(o,l,f),o=o.sibling;o!==null;)Mp(o,l,f),o=o.sibling}var Bt=null,as=!1;function Yr(o,l,f){for(f=f.child;f!==null;)Wb(o,l,f),f=f.sibling}function Wb(o,l,f){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(fn,f)}catch{}switch(f.tag){case 5:Kt||la(f,l);case 6:var y=Bt,b=as;Bt=null,Yr(o,l,f),Bt=y,as=b,Bt!==null&&(as?(o=Bt,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):Bt.removeChild(f.stateNode));break;case 18:Bt!==null&&(as?(o=Bt,f=f.stateNode,o.nodeType===8?Wf(o.parentNode,f):o.nodeType===1&&Wf(o,f),ml(o)):Wf(Bt,f.stateNode));break;case 4:y=Bt,b=as,Bt=f.stateNode.containerInfo,as=!0,Yr(o,l,f),Bt=y,as=b;break;case 0:case 11:case 14:case 15:if(!Kt&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){b=y=y.next;do{var S=b,N=S.destroy;S=S.tag,N!==void 0&&((S&2)!==0||(S&4)!==0)&&Ep(f,l,N),b=b.next}while(b!==y)}Yr(o,l,f);break;case 1:if(!Kt&&(la(f,l),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(O){pt(f,l,O)}Yr(o,l,f);break;case 21:Yr(o,l,f);break;case 22:f.mode&1?(Kt=(y=Kt)||f.memoizedState!==null,Yr(o,l,f),Kt=y):Yr(o,l,f);break;default:Yr(o,l,f)}}function qb(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new IT),l.forEach(function(y){var b=YT.bind(null,o,y);f.has(y)||(f.add(y),y.then(b,b))})}}function ls(o,l){var f=l.deletions;if(f!==null)for(var y=0;y<f.length;y++){var b=f[y];try{var S=o,N=l,O=N;e:for(;O!==null;){switch(O.tag){case 5:Bt=O.stateNode,as=!1;break e;case 3:Bt=O.stateNode.containerInfo,as=!0;break e;case 4:Bt=O.stateNode.containerInfo,as=!0;break e}O=O.return}if(Bt===null)throw Error(n(160));Wb(S,N,b),Bt=null,as=!1;var V=b.alternate;V!==null&&(V.return=null),b.return=null}catch(K){pt(b,l,K)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Yb(l,o),l=l.sibling}function Yb(o,l){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ls(l,o),Ts(o),y&4){try{Il(3,o,o.return),rd(3,o)}catch(be){pt(o,o.return,be)}try{Il(5,o,o.return)}catch(be){pt(o,o.return,be)}}break;case 1:ls(l,o),Ts(o),y&512&&f!==null&&la(f,f.return);break;case 5:if(ls(l,o),Ts(o),y&512&&f!==null&&la(f,f.return),o.flags&32){var b=o.stateNode;try{Nr(b,"")}catch(be){pt(o,o.return,be)}}if(y&4&&(b=o.stateNode,b!=null)){var S=o.memoizedProps,N=f!==null?f.memoizedProps:S,O=o.type,V=o.updateQueue;if(o.updateQueue=null,V!==null)try{O==="input"&&S.type==="radio"&&S.name!=null&&vt(b,S),rl(O,N);var K=rl(O,S);for(N=0;N<V.length;N+=2){var ie=V[N],ae=V[N+1];ie==="style"?pu(b,ae):ie==="dangerouslySetInnerHTML"?tl(b,ae):ie==="children"?Nr(b,ae):T(b,ie,ae,K)}switch(O){case"input":sn(b,S);break;case"textarea":uu(b,S);break;case"select":var se=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!S.multiple;var pe=S.value;pe!=null?Pt(b,!!S.multiple,pe,!1):se!==!!S.multiple&&(S.defaultValue!=null?Pt(b,!!S.multiple,S.defaultValue,!0):Pt(b,!!S.multiple,S.multiple?[]:"",!1))}b[kl]=S}catch(be){pt(o,o.return,be)}}break;case 6:if(ls(l,o),Ts(o),y&4){if(o.stateNode===null)throw Error(n(162));b=o.stateNode,S=o.memoizedProps;try{b.nodeValue=S}catch(be){pt(o,o.return,be)}}break;case 3:if(ls(l,o),Ts(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{ml(l.containerInfo)}catch(be){pt(o,o.return,be)}break;case 4:ls(l,o),Ts(o);break;case 13:ls(l,o),Ts(o),b=o.child,b.flags&8192&&(S=b.memoizedState!==null,b.stateNode.isHidden=S,!S||b.alternate!==null&&b.alternate.memoizedState!==null||(Op=Ze())),y&4&&qb(o);break;case 22:if(ie=f!==null&&f.memoizedState!==null,o.mode&1?(Kt=(K=Kt)||ie,ls(l,o),Kt=K):ls(l,o),Ts(o),y&8192){if(K=o.memoizedState!==null,(o.stateNode.isHidden=K)&&!ie&&(o.mode&1)!==0)for(ge=o,ie=o.child;ie!==null;){for(ae=ge=ie;ge!==null;){switch(se=ge,pe=se.child,se.tag){case 0:case 11:case 14:case 15:Il(4,se,se.return);break;case 1:la(se,se.return);var ye=se.stateNode;if(typeof ye.componentWillUnmount=="function"){y=se,f=se.return;try{l=y,ye.props=l.memoizedProps,ye.state=l.memoizedState,ye.componentWillUnmount()}catch(be){pt(y,f,be)}}break;case 5:la(se,se.return);break;case 22:if(se.memoizedState!==null){Qb(ae);continue}}pe!==null?(pe.return=se,ge=pe):Qb(ae)}ie=ie.sibling}e:for(ie=null,ae=o;;){if(ae.tag===5){if(ie===null){ie=ae;try{b=ae.stateNode,K?(S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(O=ae.stateNode,V=ae.memoizedProps.style,N=V!=null&&V.hasOwnProperty("display")?V.display:null,O.style.display=fu("display",N))}catch(be){pt(o,o.return,be)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=K?"":ae.memoizedProps}catch(be){pt(o,o.return,be)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===o)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===o)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===o)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:ls(l,o),Ts(o),y&4&&qb(o);break;case 21:break;default:ls(l,o),Ts(o)}}function Ts(o){var l=o.flags;if(l&2){try{e:{for(var f=o.return;f!==null;){if(Ub(f)){var y=f;break e}f=f.return}throw Error(n(160))}switch(y.tag){case 5:var b=y.stateNode;y.flags&32&&(Nr(b,""),y.flags&=-33);var S=Hb(o);Mp(o,S,b);break;case 3:case 4:var N=y.stateNode.containerInfo,O=Hb(o);Ap(o,O,N);break;default:throw Error(n(161))}}catch(V){pt(o,o.return,V)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function BT(o,l,f){ge=o,Kb(o)}function Kb(o,l,f){for(var y=(o.mode&1)!==0;ge!==null;){var b=ge,S=b.child;if(b.tag===22&&y){var N=b.memoizedState!==null||sd;if(!N){var O=b.alternate,V=O!==null&&O.memoizedState!==null||Kt;O=sd;var K=Kt;if(sd=N,(Kt=V)&&!K)for(ge=b;ge!==null;)N=ge,V=N.child,N.tag===22&&N.memoizedState!==null?Gb(b):V!==null?(V.return=N,ge=V):Gb(b);for(;S!==null;)ge=S,Kb(S),S=S.sibling;ge=b,sd=O,Kt=K}Xb(o)}else(b.subtreeFlags&8772)!==0&&S!==null?(S.return=b,ge=S):Xb(o)}}function Xb(o){for(;ge!==null;){var l=ge;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Kt||rd(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!Kt)if(f===null)y.componentDidMount();else{var b=l.elementType===l.type?f.memoizedProps:os(l.type,f.memoizedProps);y.componentDidUpdate(b,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var S=l.updateQueue;S!==null&&qx(l,S,y);break;case 3:var N=l.updateQueue;if(N!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}qx(l,N,f)}break;case 5:var O=l.stateNode;if(f===null&&l.flags&4){f=O;var V=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&f.focus();break;case"img":V.src&&(f.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var K=l.alternate;if(K!==null){var ie=K.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&ml(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Kt||l.flags&512&&Pp(l)}catch(se){pt(l,l.return,se)}}if(l===o){ge=null;break}if(f=l.sibling,f!==null){f.return=l.return,ge=f;break}ge=l.return}}function Qb(o){for(;ge!==null;){var l=ge;if(l===o){ge=null;break}var f=l.sibling;if(f!==null){f.return=l.return,ge=f;break}ge=l.return}}function Gb(o){for(;ge!==null;){var l=ge;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{rd(4,l)}catch(V){pt(l,f,V)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var b=l.return;try{y.componentDidMount()}catch(V){pt(l,b,V)}}var S=l.return;try{Pp(l)}catch(V){pt(l,S,V)}break;case 5:var N=l.return;try{Pp(l)}catch(V){pt(l,N,V)}}}catch(V){pt(l,l.return,V)}if(l===o){ge=null;break}var O=l.sibling;if(O!==null){O.return=l.return,ge=O;break}ge=l.return}}var zT=Math.ceil,id=M.ReactCurrentDispatcher,Rp=M.ReactCurrentOwner,Hn=M.ReactCurrentBatchConfig,Ye=0,It=null,Nt=null,zt=0,On=0,ca=$r(0),Rt=0,Fl=null,Vi=0,od=0,Dp=0,Bl=null,yn=null,Op=0,ua=1/0,rr=null,ad=!1,Lp=null,Kr=null,ld=!1,Xr=null,cd=0,zl=0,Ip=null,ud=-1,dd=0;function on(){return(Ye&6)!==0?Ze():ud!==-1?ud:ud=Ze()}function Qr(o){return(o.mode&1)===0?1:(Ye&2)!==0&&zt!==0?zt&-zt:ST.transition!==null?(dd===0&&(dd=$o()),dd):(o=A,o!==0||(o=window.event,o=o===void 0?16:Zy(o.type)),o)}function cs(o,l,f,y){if(50<zl)throw zl=0,Ip=null,Error(n(185));Ri(o,f,y),((Ye&2)===0||o!==It)&&(o===It&&((Ye&2)===0&&(od|=f),Rt===4&&Gr(o,zt)),xn(o,y),f===1&&Ye===0&&(l.mode&1)===0&&(ua=Ze()+500,Bu&&Hr()))}function xn(o,l){var f=o.callbackNode;vf(o,l);var y=Qs(o,o===It?zt:0);if(y===0)f!==null&&Bo(f),o.callbackNode=null,o.callbackPriority=0;else if(l=y&-y,o.callbackPriority!==l){if(f!=null&&Bo(f),l===1)o.tag===0?_T(Jb.bind(null,o)):Ix(Jb.bind(null,o)),xT(function(){(Ye&6)===0&&Hr()}),f=null;else{switch(L(y)){case 1:f=Ss;break;case 4:f=ss;break;case 16:f=hn;break;case 536870912:f=En;break;default:f=hn}f=av(f,Zb.bind(null,o))}o.callbackPriority=l,o.callbackNode=f}}function Zb(o,l){if(ud=-1,dd=0,(Ye&6)!==0)throw Error(n(327));var f=o.callbackNode;if(da()&&o.callbackNode!==f)return null;var y=Qs(o,o===It?zt:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||l)l=hd(o,y);else{l=y;var b=Ye;Ye|=2;var S=tv();(It!==o||zt!==l)&&(rr=null,ua=Ze()+500,Ui(o,l));do try{UT();break}catch(O){ev(o,O)}while(!0);tp(),id.current=S,Ye=b,Nt!==null?l=0:(It=null,zt=0,l=Rt)}if(l!==0){if(l===2&&(b=Vo(o),b!==0&&(y=b,l=Fp(o,b))),l===1)throw f=Fl,Ui(o,0),Gr(o,y),xn(o,Ze()),f;if(l===6)Gr(o,y);else{if(b=o.current.alternate,(y&30)===0&&!VT(b)&&(l=hd(o,y),l===2&&(S=Vo(o),S!==0&&(y=S,l=Fp(o,S))),l===1))throw f=Fl,Ui(o,0),Gr(o,y),xn(o,Ze()),f;switch(o.finishedWork=b,o.finishedLanes=y,l){case 0:case 1:throw Error(n(345));case 2:Hi(o,yn,rr);break;case 3:if(Gr(o,y),(y&130023424)===y&&(l=Op+500-Ze(),10<l)){if(Qs(o,0)!==0)break;if(b=o.suspendedLanes,(b&y)!==y){on(),o.pingedLanes|=o.suspendedLanes&b;break}o.timeoutHandle=Hf(Hi.bind(null,o,yn,rr),l);break}Hi(o,yn,rr);break;case 4:if(Gr(o,y),(y&4194240)===y)break;for(l=o.eventTimes,b=-1;0<y;){var N=31-Ht(y);S=1<<N,N=l[N],N>b&&(b=N),y&=~S}if(y=b,y=Ze()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*zT(y/1960))-y,10<y){o.timeoutHandle=Hf(Hi.bind(null,o,yn,rr),y);break}Hi(o,yn,rr);break;case 5:Hi(o,yn,rr);break;default:throw Error(n(329))}}}return xn(o,Ze()),o.callbackNode===f?Zb.bind(null,o):null}function Fp(o,l){var f=Bl;return o.current.memoizedState.isDehydrated&&(Ui(o,l).flags|=256),o=hd(o,l),o!==2&&(l=yn,yn=f,l!==null&&Bp(l)),o}function Bp(o){yn===null?yn=o:yn.push.apply(yn,o)}function VT(o){for(var l=o;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var b=f[y],S=b.getSnapshot;b=b.value;try{if(!rs(S(),b))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Gr(o,l){for(l&=~Dp,l&=~od,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var f=31-Ht(l),y=1<<f;o[f]=-1,l&=~y}}function Jb(o){if((Ye&6)!==0)throw Error(n(327));da();var l=Qs(o,0);if((l&1)===0)return xn(o,Ze()),null;var f=hd(o,l);if(o.tag!==0&&f===2){var y=Vo(o);y!==0&&(l=y,f=Fp(o,y))}if(f===1)throw f=Fl,Ui(o,0),Gr(o,l),xn(o,Ze()),f;if(f===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Hi(o,yn,rr),xn(o,Ze()),null}function zp(o,l){var f=Ye;Ye|=1;try{return o(l)}finally{Ye=f,Ye===0&&(ua=Ze()+500,Bu&&Hr())}}function $i(o){Xr!==null&&Xr.tag===0&&(Ye&6)===0&&da();var l=Ye;Ye|=1;var f=Hn.transition,y=A;try{if(Hn.transition=null,A=1,o)return o()}finally{A=y,Hn.transition=f,Ye=l,(Ye&6)===0&&Hr()}}function Vp(){On=ca.current,nt(ca)}function Ui(o,l){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,yT(f)),Nt!==null)for(f=Nt.return;f!==null;){var y=f;switch(Qf(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Iu();break;case 3:oa(),nt(pn),nt(Wt),dp();break;case 5:cp(y);break;case 4:oa();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:np(y.type._context);break;case 22:case 23:Vp()}f=f.return}if(It=o,Nt=o=Zr(o.current,null),zt=On=l,Rt=0,Fl=null,Dp=od=Vi=0,yn=Bl=null,Fi!==null){for(l=0;l<Fi.length;l++)if(f=Fi[l],y=f.interleaved,y!==null){f.interleaved=null;var b=y.next,S=f.pending;if(S!==null){var N=S.next;S.next=b,y.next=N}f.pending=y}Fi=null}return o}function ev(o,l){do{var f=Nt;try{if(tp(),Qu.current=ed,Gu){for(var y=ct.memoizedState;y!==null;){var b=y.queue;b!==null&&(b.pending=null),y=y.next}Gu=!1}if(zi=0,Lt=Mt=ct=null,Ml=!1,Rl=0,Rp.current=null,f===null||f.return===null){Rt=1,Fl=l,Nt=null;break}e:{var S=o,N=f.return,O=f,V=l;if(l=zt,O.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var K=V,ie=O,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=jb(N);if(pe!==null){pe.flags&=-257,kb(pe,N,O,S,l),pe.mode&1&&Cb(S,K,l),l=pe,V=K;var ye=l.updateQueue;if(ye===null){var be=new Set;be.add(V),l.updateQueue=be}else ye.add(V);break e}else{if((l&1)===0){Cb(S,K,l),$p();break e}V=Error(n(426))}}else if(rt&&O.mode&1){var St=jb(N);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),kb(St,N,O,S,l),Jf(aa(V,O));break e}}S=V=aa(V,O),Rt!==4&&(Rt=2),Bl===null?Bl=[S]:Bl.push(S),S=N;do{switch(S.tag){case 3:S.flags|=65536,l&=-l,S.lanes|=l;var H=_b(S,V,l);Wx(S,H);break e;case 1:O=V;var $=S.type,W=S.stateNode;if((S.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Kr===null||!Kr.has(W)))){S.flags|=65536,l&=-l,S.lanes|=l;var ce=Sb(S,O,l);Wx(S,ce);break e}}S=S.return}while(S!==null)}sv(f)}catch(we){l=we,Nt===f&&f!==null&&(Nt=f=f.return);continue}break}while(!0)}function tv(){var o=id.current;return id.current=ed,o===null?ed:o}function $p(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),It===null||(Vi&268435455)===0&&(od&268435455)===0||Gr(It,zt)}function hd(o,l){var f=Ye;Ye|=2;var y=tv();(It!==o||zt!==l)&&(rr=null,Ui(o,l));do try{$T();break}catch(b){ev(o,b)}while(!0);if(tp(),Ye=f,id.current=y,Nt!==null)throw Error(n(261));return It=null,zt=0,Rt}function $T(){for(;Nt!==null;)nv(Nt)}function UT(){for(;Nt!==null&&!xf();)nv(Nt)}function nv(o){var l=ov(o.alternate,o,On);o.memoizedProps=o.pendingProps,l===null?sv(o):Nt=l,Rp.current=null}function sv(o){var l=o;do{var f=l.alternate;if(o=l.return,(l.flags&32768)===0){if(f=OT(f,l,On),f!==null){Nt=f;return}}else{if(f=LT(f,l),f!==null){f.flags&=32767,Nt=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Rt=6,Nt=null;return}}if(l=l.sibling,l!==null){Nt=l;return}Nt=l=o}while(l!==null);Rt===0&&(Rt=5)}function Hi(o,l,f){var y=A,b=Hn.transition;try{Hn.transition=null,A=1,HT(o,l,f,y)}finally{Hn.transition=b,A=y}return null}function HT(o,l,f,y){do da();while(Xr!==null);if((Ye&6)!==0)throw Error(n(327));f=o.finishedWork;var b=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var S=f.lanes|f.childLanes;if(wf(o,S),o===It&&(Nt=It=null,zt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||ld||(ld=!0,av(hn,function(){return da(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=Hn.transition,Hn.transition=null;var N=A;A=1;var O=Ye;Ye|=4,Rp.current=null,FT(o,f),Yb(f,o),uT($f),Su=!!Vf,$f=Vf=null,o.current=f,BT(f),bf(),Ye=O,A=N,Hn.transition=S}else o.current=f;if(ld&&(ld=!1,Xr=o,cd=b),S=o.pendingLanes,S===0&&(Kr=null),wu(f.stateNode),xn(o,Ze()),l!==null)for(y=o.onRecoverableError,f=0;f<l.length;f++)b=l[f],y(b.value,{componentStack:b.stack,digest:b.digest});if(ad)throw ad=!1,o=Lp,Lp=null,o;return(cd&1)!==0&&o.tag!==0&&da(),S=o.pendingLanes,(S&1)!==0?o===Ip?zl++:(zl=0,Ip=o):zl=0,Hr(),null}function da(){if(Xr!==null){var o=L(cd),l=Hn.transition,f=A;try{if(Hn.transition=null,A=16>o?16:o,Xr===null)var y=!1;else{if(o=Xr,Xr=null,cd=0,(Ye&6)!==0)throw Error(n(331));var b=Ye;for(Ye|=4,ge=o.current;ge!==null;){var S=ge,N=S.child;if((ge.flags&16)!==0){var O=S.deletions;if(O!==null){for(var V=0;V<O.length;V++){var K=O[V];for(ge=K;ge!==null;){var ie=ge;switch(ie.tag){case 0:case 11:case 15:Il(8,ie,S)}var ae=ie.child;if(ae!==null)ae.return=ie,ge=ae;else for(;ge!==null;){ie=ge;var se=ie.sibling,pe=ie.return;if($b(ie),ie===K){ge=null;break}if(se!==null){se.return=pe,ge=se;break}ge=pe}}}var ye=S.alternate;if(ye!==null){var be=ye.child;if(be!==null){ye.child=null;do{var St=be.sibling;be.sibling=null,be=St}while(be!==null)}}ge=S}}if((S.subtreeFlags&2064)!==0&&N!==null)N.return=S,ge=N;else e:for(;ge!==null;){if(S=ge,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Il(9,S,S.return)}var H=S.sibling;if(H!==null){H.return=S.return,ge=H;break e}ge=S.return}}var $=o.current;for(ge=$;ge!==null;){N=ge;var W=N.child;if((N.subtreeFlags&2064)!==0&&W!==null)W.return=N,ge=W;else e:for(N=$;ge!==null;){if(O=ge,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:rd(9,O)}}catch(we){pt(O,O.return,we)}if(O===N){ge=null;break e}var ce=O.sibling;if(ce!==null){ce.return=O.return,ge=ce;break e}ge=O.return}}if(Ye=b,Hr(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(fn,o)}catch{}y=!0}return y}finally{A=f,Hn.transition=l}}return!1}function rv(o,l,f){l=aa(f,l),l=_b(o,l,1),o=qr(o,l,1),l=on(),o!==null&&(Ri(o,1,l),xn(o,l))}function pt(o,l,f){if(o.tag===3)rv(o,o,f);else for(;l!==null;){if(l.tag===3){rv(l,o,f);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Kr===null||!Kr.has(y))){o=aa(f,o),o=Sb(l,o,1),l=qr(l,o,1),o=on(),l!==null&&(Ri(l,1,o),xn(l,o));break}}l=l.return}}function WT(o,l,f){var y=o.pingCache;y!==null&&y.delete(l),l=on(),o.pingedLanes|=o.suspendedLanes&f,It===o&&(zt&f)===f&&(Rt===4||Rt===3&&(zt&130023424)===zt&&500>Ze()-Op?Ui(o,0):Dp|=f),xn(o,l)}function iv(o,l){l===0&&((o.mode&1)===0?l=1:(l=Or,Or<<=1,(Or&130023424)===0&&(Or=4194304)));var f=on();o=tr(o,l),o!==null&&(Ri(o,l,f),xn(o,f))}function qT(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),iv(o,f)}function YT(o,l){var f=0;switch(o.tag){case 13:var y=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(l),iv(o,f)}var ov;ov=function(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps||pn.current)gn=!0;else{if((o.lanes&f)===0&&(l.flags&128)===0)return gn=!1,DT(o,l,f);gn=(o.flags&131072)!==0}else gn=!1,rt&&(l.flags&1048576)!==0&&Fx(l,Vu,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;nd(o,l),o=l.pendingProps;var b=Jo(l,Wt.current);ra(l,f),b=pp(null,l,y,o,b,f);var S=mp();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,mn(y)?(S=!0,Fu(l)):S=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,ip(l),b.updater=Yu,l.stateNode=b,b._reactInternals=l,ap(l,y,o,f),l=Sp(null,l,y,!0,S,f)):(l.tag=0,rt&&S&&Xf(l),rn(null,l,b,f),l=l.child),l;case 16:y=l.elementType;e:{switch(nd(o,l),o=l.pendingProps,b=y._init,y=b(y._payload),l.type=y,b=l.tag=XT(y),o=os(y,o),b){case 0:l=_p(null,l,y,o,f);break e;case 1:l=Mb(null,l,y,o,f);break e;case 11:l=Nb(null,l,y,o,f);break e;case 14:l=Tb(null,l,y,os(y.type,o),f);break e}throw Error(n(306,y,""))}return l;case 0:return y=l.type,b=l.pendingProps,b=l.elementType===y?b:os(y,b),_p(o,l,y,b,f);case 1:return y=l.type,b=l.pendingProps,b=l.elementType===y?b:os(y,b),Mb(o,l,y,b,f);case 3:e:{if(Rb(l),o===null)throw Error(n(387));y=l.pendingProps,S=l.memoizedState,b=S.element,Hx(o,l),qu(l,y,null,f);var N=l.memoizedState;if(y=N.element,S.isDehydrated)if(S={element:y,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){b=aa(Error(n(423)),l),l=Db(o,l,y,f,b);break e}else if(y!==b){b=aa(Error(n(424)),l),l=Db(o,l,y,f,b);break e}else for(Dn=Vr(l.stateNode.containerInfo.firstChild),Rn=l,rt=!0,is=null,f=Jx(l,null,y,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(na(),y===b){l=sr(o,l,f);break e}rn(o,l,y,f)}l=l.child}return l;case 5:return eb(l),o===null&&Zf(l),y=l.type,b=l.pendingProps,S=o!==null?o.memoizedProps:null,N=b.children,Uf(y,b)?N=null:S!==null&&Uf(y,S)&&(l.flags|=32),Ab(o,l),rn(o,l,N,f),l.child;case 6:return o===null&&Zf(l),null;case 13:return Ob(o,l,f);case 4:return lp(l,l.stateNode.containerInfo),y=l.pendingProps,o===null?l.child=ia(l,null,y,f):rn(o,l,y,f),l.child;case 11:return y=l.type,b=l.pendingProps,b=l.elementType===y?b:os(y,b),Nb(o,l,y,b,f);case 7:return rn(o,l,l.pendingProps,f),l.child;case 8:return rn(o,l,l.pendingProps.children,f),l.child;case 12:return rn(o,l,l.pendingProps.children,f),l.child;case 10:e:{if(y=l.type._context,b=l.pendingProps,S=l.memoizedProps,N=b.value,Je(Uu,y._currentValue),y._currentValue=N,S!==null)if(rs(S.value,N)){if(S.children===b.children&&!pn.current){l=sr(o,l,f);break e}}else for(S=l.child,S!==null&&(S.return=l);S!==null;){var O=S.dependencies;if(O!==null){N=S.child;for(var V=O.firstContext;V!==null;){if(V.context===y){if(S.tag===1){V=nr(-1,f&-f),V.tag=2;var K=S.updateQueue;if(K!==null){K=K.shared;var ie=K.pending;ie===null?V.next=V:(V.next=ie.next,ie.next=V),K.pending=V}}S.lanes|=f,V=S.alternate,V!==null&&(V.lanes|=f),sp(S.return,f,l),O.lanes|=f;break}V=V.next}}else if(S.tag===10)N=S.type===l.type?null:S.child;else if(S.tag===18){if(N=S.return,N===null)throw Error(n(341));N.lanes|=f,O=N.alternate,O!==null&&(O.lanes|=f),sp(N,f,l),N=S.sibling}else N=S.child;if(N!==null)N.return=S;else for(N=S;N!==null;){if(N===l){N=null;break}if(S=N.sibling,S!==null){S.return=N.return,N=S;break}N=N.return}S=N}rn(o,l,b.children,f),l=l.child}return l;case 9:return b=l.type,y=l.pendingProps.children,ra(l,f),b=$n(b),y=y(b),l.flags|=1,rn(o,l,y,f),l.child;case 14:return y=l.type,b=os(y,l.pendingProps),b=os(y.type,b),Tb(o,l,y,b,f);case 15:return Eb(o,l,l.type,l.pendingProps,f);case 17:return y=l.type,b=l.pendingProps,b=l.elementType===y?b:os(y,b),nd(o,l),l.tag=1,mn(y)?(o=!0,Fu(l)):o=!1,ra(l,f),Xx(l,y,b),ap(l,y,b,f),Sp(null,l,y,!0,o,f);case 19:return Ib(o,l,f);case 22:return Pb(o,l,f)}throw Error(n(156,l.tag))};function av(o,l){return Ai(o,l)}function KT(o,l,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(o,l,f,y){return new KT(o,l,f,y)}function Up(o){return o=o.prototype,!(!o||!o.isReactComponent)}function XT(o){if(typeof o=="function")return Up(o)?1:0;if(o!=null){if(o=o.$$typeof,o===J)return 11;if(o===he)return 14}return 2}function Zr(o,l){var f=o.alternate;return f===null?(f=Wn(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function fd(o,l,f,y,b,S){var N=2;if(y=o,typeof o=="function")Up(o)&&(N=1);else if(typeof o=="string")N=5;else e:switch(o){case z:return Wi(f.children,b,S,l);case I:N=8,b|=8;break;case F:return o=Wn(12,f,l,b|2),o.elementType=F,o.lanes=S,o;case de:return o=Wn(13,f,l,b),o.elementType=de,o.lanes=S,o;case G:return o=Wn(19,f,l,b),o.elementType=G,o.lanes=S,o;case Z:return pd(f,b,S,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case U:N=10;break e;case ee:N=9;break e;case J:N=11;break e;case he:N=14;break e;case te:N=16,y=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=Wn(N,f,l,b),l.elementType=o,l.type=y,l.lanes=S,l}function Wi(o,l,f,y){return o=Wn(7,o,y,l),o.lanes=f,o}function pd(o,l,f,y){return o=Wn(22,o,y,l),o.elementType=Z,o.lanes=f,o.stateNode={isHidden:!1},o}function Hp(o,l,f){return o=Wn(6,o,null,l),o.lanes=f,o}function Wp(o,l,f){return l=Wn(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function QT(o,l,f,y,b){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uo(0),this.expirationTimes=Uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.identifierPrefix=y,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function qp(o,l,f,y,b,S,N,O,V){return o=new QT(o,l,f,O,V),l===1?(l=1,S===!0&&(l|=8)):l=0,S=Wn(3,null,null,l),o.current=S,S.stateNode=o,S.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},ip(S),o}function GT(o,l,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:y==null?null:""+y,children:o,containerInfo:l,implementation:f}}function lv(o){if(!o)return Ur;o=o._reactInternals;e:{if(_s(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(mn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var f=o.type;if(mn(f))return Ox(o,f,l)}return l}function cv(o,l,f,y,b,S,N,O,V){return o=qp(f,y,!0,o,b,S,N,O,V),o.context=lv(null),f=o.current,y=on(),b=Qr(f),S=nr(y,b),S.callback=l??null,qr(f,S,b),o.current.lanes=b,Ri(o,b,y),xn(o,y),o}function md(o,l,f,y){var b=l.current,S=on(),N=Qr(b);return f=lv(f),l.context===null?l.context=f:l.pendingContext=f,l=nr(S,N),l.payload={element:o},y=y===void 0?null:y,y!==null&&(l.callback=y),o=qr(b,l,N),o!==null&&(cs(o,b,N,S),Wu(o,b,N)),N}function gd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function uv(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Yp(o,l){uv(o,l),(o=o.alternate)&&uv(o,l)}function ZT(){return null}var dv=typeof reportError=="function"?reportError:function(o){console.error(o)};function Kp(o){this._internalRoot=o}yd.prototype.render=Kp.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));md(o,l,null,null)},yd.prototype.unmount=Kp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;$i(function(){md(null,o,null,null)}),l[Gs]=null}};function yd(o){this._internalRoot=o}yd.prototype.unstable_scheduleHydration=function(o){if(o){var l=Ie();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Fr.length&&l!==0&&l<Fr[f].priority;f++);Fr.splice(f,0,o),f===0&&Qy(o)}};function Xp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function xd(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function hv(){}function JT(o,l,f,y,b){if(b){if(typeof y=="function"){var S=y;y=function(){var K=gd(N);S.call(K)}}var N=cv(l,y,o,0,null,!1,!1,"",hv);return o._reactRootContainer=N,o[Gs]=N.current,Cl(o.nodeType===8?o.parentNode:o),$i(),N}for(;b=o.lastChild;)o.removeChild(b);if(typeof y=="function"){var O=y;y=function(){var K=gd(V);O.call(K)}}var V=qp(o,0,!1,null,null,!1,!1,"",hv);return o._reactRootContainer=V,o[Gs]=V.current,Cl(o.nodeType===8?o.parentNode:o),$i(function(){md(l,V,f,y)}),V}function bd(o,l,f,y,b){var S=f._reactRootContainer;if(S){var N=S;if(typeof b=="function"){var O=b;b=function(){var V=gd(N);O.call(V)}}md(l,N,o,b)}else N=JT(f,l,o,b,y);return gd(N)}q=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var f=Xs(l.pendingLanes);f!==0&&(E(l,f|1),xn(l,Ze()),(Ye&6)===0&&(ua=Ze()+500,Hr()))}break;case 13:$i(function(){var y=tr(o,1);if(y!==null){var b=on();cs(y,o,1,b)}}),Yp(o,1)}},re=function(o){if(o.tag===13){var l=tr(o,134217728);if(l!==null){var f=on();cs(l,o,134217728,f)}Yp(o,134217728)}},fe=function(o){if(o.tag===13){var l=Qr(o),f=tr(o,l);if(f!==null){var y=on();cs(f,o,l,y)}Yp(o,l)}},Ie=function(){return A},wt=function(o,l){var f=A;try{return A=o,l()}finally{A=f}},ol=function(o,l,f){switch(l){case"input":if(sn(o,f),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var y=f[l];if(y!==o&&y.form===o.form){var b=Lu(y);if(!b)throw Error(n(90));Te(y),sn(y,b)}}}break;case"textarea":uu(o,f);break;case"select":l=f.value,l!=null&&Pt(o,!!f.multiple,l,!1)}},yu=zp,al=$i;var eE={usingClientEntryPoint:!1,Events:[Nl,Go,Lu,mu,gu,zp]},Vl={findFiberByHostInstance:Di,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tE={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Mr(o),o===null?null:o.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||ZT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{fn=vd.inject(tE),Pn=vd}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eE,bn.createPortal=function(o,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xp(l))throw Error(n(200));return GT(o,l,null,f)},bn.createRoot=function(o,l){if(!Xp(o))throw Error(n(299));var f=!1,y="",b=dv;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=qp(o,1,!1,null,null,f,!1,y,b),o[Gs]=l.current,Cl(o.nodeType===8?o.parentNode:o),new Kp(l)},bn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Mr(l),o=o===null?null:o.stateNode,o},bn.flushSync=function(o){return $i(o)},bn.hydrate=function(o,l,f){if(!xd(l))throw Error(n(200));return bd(null,o,l,!0,f)},bn.hydrateRoot=function(o,l,f){if(!Xp(o))throw Error(n(405));var y=f!=null&&f.hydratedSources||null,b=!1,S="",N=dv;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(N=f.onRecoverableError)),l=cv(l,null,o,1,f??null,b,!1,S,N),o[Gs]=l.current,Cl(o),y)for(o=0;o<y.length;o++)f=y[o],b=f._getVersion,b=b(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,b]:l.mutableSourceEagerHydrationData.push(f,b);return new yd(l)},bn.render=function(o,l,f){if(!xd(l))throw Error(n(200));return bd(null,o,l,!1,f)},bn.unmountComponentAtNode=function(o){if(!xd(o))throw Error(n(40));return o._reactRootContainer?($i(function(){bd(null,null,o,!1,function(){o._reactRootContainer=null,o[Gs]=null})}),!0):!1},bn.unstable_batchedUpdates=zp,bn.unstable_renderSubtreeIntoContainer=function(o,l,f,y){if(!xd(f))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return bd(o,l,f,!1,y)},bn.version="18.2.0-next-9e3b772b8-20220608",bn}var wv;function H_(){if(wv)return Jp.exports;wv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jp.exports=uE(),Jp.exports}var _v;function dE(){if(_v)return _d;_v=1;var t=H_();return _d.createRoot=t.createRoot,_d.hydrateRoot=t.hydrateRoot,_d}var hE=dE();const fE=Kc(hE);var Ul={},Sv;function pE(){if(Sv)return Ul;Sv=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=a,Ul.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,i=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function a(g,x){const v=new i,w=g.length;if(w<2)return v;const _=(x==null?void 0:x.decode)||p;let C=0;do{const k=g.indexOf("=",C);if(k===-1)break;const T=g.indexOf(";",C),M=T===-1?w:T;if(k>M){C=g.lastIndexOf(";",k-1)+1;continue}const P=c(g,C,k),R=d(g,k,P),z=g.slice(P,R);if(v[z]===void 0){let I=c(g,k+1,M),F=d(g,M,I);const U=_(g.slice(I,F));v[z]=U}C=M+1}while(C<w);return v}function c(g,x,v){do{const w=g.charCodeAt(x);if(w!==32&&w!==9)return x}while(++x<v);return v}function d(g,x,v){for(;x>v;){const w=g.charCodeAt(--x);if(w!==32&&w!==9)return x+1}return v}function h(g,x,v){const w=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(g))throw new TypeError(`argument name is invalid: ${g}`);const _=w(x);if(!e.test(_))throw new TypeError(`argument val is invalid: ${x}`);let C=g+"="+_;if(!v)return C;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);C+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);C+="; Domain="+v.domain}if(v.path){if(!s.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);C+="; Path="+v.path}if(v.expires){if(!m(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);C+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(C+="; HttpOnly"),v.secure&&(C+="; Secure"),v.partitioned&&(C+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return C}function p(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function m(g){return r.call(g)==="[object Date]"}return Ul}pE();var Cv="popstate";function mE(t={}){function e(s,r){let{pathname:i,search:a,hash:c}=s.location;return ng("",{pathname:i,search:a,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:jc(r)}return yE(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ts(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gE(){return Math.random().toString(36).substring(2,10)}function jv(t,e){return{usr:t.state,key:t.key,idx:e}}function ng(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$a(e):e,state:n,key:e&&e.key||s||gE()}}function jc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function yE(t,e,n,s={}){let{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,c="POP",d=null,h=p();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function p(){return(a.state||{idx:null}).idx}function m(){c="POP";let _=p(),C=_==null?null:_-h;h=_,d&&d({action:c,location:w.location,delta:C})}function g(_,C){c="PUSH";let k=ng(w.location,_,C);h=p()+1;let T=jv(k,h),M=w.createHref(k);try{a.pushState(T,"",M)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(M)}i&&d&&d({action:c,location:w.location,delta:1})}function x(_,C){c="REPLACE";let k=ng(w.location,_,C);h=p();let T=jv(k,h),M=w.createHref(k);a.replaceState(T,"",M),i&&d&&d({action:c,location:w.location,delta:0})}function v(_){return xE(_)}let w={get action(){return c},get location(){return t(r,a)},listen(_){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Cv,m),d=_,()=>{r.removeEventListener(Cv,m),d=null}},createHref(_){return e(r,_)},createURL:v,encodeLocation(_){let C=v(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:x,go(_){return a.go(_)}};return w}function xE(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:jc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function W_(t,e,n="/"){return bE(t,e,n,!1)}function bE(t,e,n,s){let r=typeof e=="string"?$a(e):e,i=vr(r.pathname||"/",n);if(i==null)return null;let a=q_(t);vE(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let h=AE(i);c=EE(a[d],h,s)}return c}function q_(t,e=[],n=[],s=""){let r=(i,a,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};d.relativePath.startsWith("/")&&(at(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let h=yr([s,d.relativePath]),p=n.concat(d);i.children&&i.children.length>0&&(at(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),q_(i.children,e,p,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:NE(h,i.index),routesMeta:p})};return t.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))r(i,a);else for(let d of Y_(i.path))r(i,a,d)}),e}function Y_(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let a=Y_(s.join("/")),c=[];return c.push(...a.map(d=>d===""?i:[i,d].join("/"))),r&&c.push(...a),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function vE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var wE=/^:[\w-]+$/,_E=3,SE=2,CE=1,jE=10,kE=-2,kv=t=>t==="*";function NE(t,e){let n=t.split("/"),s=n.length;return n.some(kv)&&(s+=kE),e&&(s+=SE),n.filter(r=>!kv(r)).reduce((r,i)=>r+(wE.test(i)?_E:i===""?CE:jE),s)}function TE(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function EE(t,e,n=!1){let{routesMeta:s}=t,r={},i="/",a=[];for(let c=0;c<s.length;++c){let d=s[c],h=c===s.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=_h({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),g=d.route;if(!m&&h&&n&&!s[s.length-1].route.index&&(m=_h({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(r,m.params),a.push({params:r,pathname:yr([i,m.pathname]),pathnameBase:OE(yr([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=yr([i,m.pathnameBase]))}return a}function _h(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=PE(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:m},g)=>{if(p==="*"){let v=c[g]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=c[g];return m&&!x?h[p]=void 0:h[p]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:t}}function PE(t,e=!1,n=!0){ts(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(s.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function AE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ts(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function ME(t,e="/"){let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?$a(t):t;return{pathname:n?n.startsWith("/")?n:RE(n,e):e,search:LE(s),hash:IE(r)}}function RE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function nm(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _0(t){let e=DE(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function S0(t,e,n,s=!1){let r;typeof t=="string"?r=$a(t):(r={...t},at(!r.pathname||!r.pathname.includes("?"),nm("?","pathname","search",r)),at(!r.pathname||!r.pathname.includes("#"),nm("#","pathname","hash",r)),at(!r.search||!r.search.includes("#"),nm("#","search","hash",r)));let i=t===""||r.pathname==="",a=i?"/":r.pathname,c;if(a==null)c=n;else{let m=e.length-1;if(!s&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}c=m>=0?e[m]:"/"}let d=ME(r,c),h=a&&a!=="/"&&a.endsWith("/"),p=(i||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var yr=t=>t.join("/").replace(/\/\/+/g,"/"),OE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var K_=["POST","PUT","PATCH","DELETE"];new Set(K_);var BE=["GET",...K_];new Set(BE);var Ua=j.createContext(null);Ua.displayName="DataRouter";var Hh=j.createContext(null);Hh.displayName="DataRouterState";var X_=j.createContext({isTransitioning:!1});X_.displayName="ViewTransition";var zE=j.createContext(new Map);zE.displayName="Fetchers";var VE=j.createContext(null);VE.displayName="Await";var gs=j.createContext(null);gs.displayName="Navigation";var Xc=j.createContext(null);Xc.displayName="Location";var ys=j.createContext({outlet:null,matches:[],isDataRoute:!1});ys.displayName="Route";var C0=j.createContext(null);C0.displayName="RouteError";function $E(t,{relative:e}={}){at(Ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(gs),{hash:r,pathname:i,search:a}=Qc(t,{relative:e}),c=i;return n!=="/"&&(c=i==="/"?n:yr([n,i])),s.createHref({pathname:c,search:a,hash:r})}function Ha(){return j.useContext(Xc)!=null}function Cr(){return at(Ha(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Xc).location}var Q_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G_(t){j.useContext(gs).static||j.useLayoutEffect(t)}function Hs(){let{isDataRoute:t}=j.useContext(ys);return t?tP():UE()}function UE(){at(Ha(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Ua),{basename:e,navigator:n}=j.useContext(gs),{matches:s}=j.useContext(ys),{pathname:r}=Cr(),i=JSON.stringify(_0(s)),a=j.useRef(!1);return G_(()=>{a.current=!0}),j.useCallback((d,h={})=>{if(ts(a.current,Q_),!a.current)return;if(typeof d=="number"){n.go(d);return}let p=S0(d,JSON.parse(i),r,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:yr([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,i,r,t])}j.createContext(null);function j0(){let{matches:t}=j.useContext(ys),e=t[t.length-1];return e?e.params:{}}function Qc(t,{relative:e}={}){let{matches:n}=j.useContext(ys),{pathname:s}=Cr(),r=JSON.stringify(_0(n));return j.useMemo(()=>S0(t,JSON.parse(r),s,e==="path"),[t,r,s,e])}function HE(t,e){return Z_(t,e)}function Z_(t,e,n,s){var C;at(Ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=j.useContext(gs),{matches:i}=j.useContext(ys),a=i[i.length-1],c=a?a.params:{},d=a?a.pathname:"/",h=a?a.pathnameBase:"/",p=a&&a.route;{let k=p&&p.path||"";J_(d,!p||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let m=Cr(),g;if(e){let k=typeof e=="string"?$a(e):e;at(h==="/"||((C=k.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),g=k}else g=m;let x=g.pathname||"/",v=x;if(h!=="/"){let k=h.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=W_(t,{pathname:v});ts(p||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),ts(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=XE(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:yr([h,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:yr([h,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,s);return e&&_?j.createElement(Xc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},_):_}function WE(){let t=eP(),e=FE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:r},n):null,a)}var qE=j.createElement(WE,null),YE=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?j.createElement(ys.Provider,{value:this.props.routeContext},j.createElement(C0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KE({routeContext:t,match:e,children:n}){let s=j.useContext(Ua);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ys.Provider,{value:t},n)}function XE(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,i=n==null?void 0:n.errors;if(i!=null){let d=r.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);at(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let a=!1,c=-1;if(n)for(let d=0;d<r.length;d++){let h=r[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,g=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){a=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((d,h,p)=>{let m,g=!1,x=null,v=null;n&&(m=i&&h.route.id?i[h.route.id]:void 0,x=h.route.errorElement||qE,a&&(c<0&&p===0?(J_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===p&&(g=!0,v=h.route.hydrateFallbackElement||null)));let w=e.concat(r.slice(0,p+1)),_=()=>{let C;return m?C=x:g?C=v:h.route.Component?C=j.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,j.createElement(KE,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?j.createElement(YE,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}function k0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QE(t){let e=j.useContext(Ua);return at(e,k0(t)),e}function GE(t){let e=j.useContext(Hh);return at(e,k0(t)),e}function ZE(t){let e=j.useContext(ys);return at(e,k0(t)),e}function N0(t){let e=ZE(t),n=e.matches[e.matches.length-1];return at(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function JE(){return N0("useRouteId")}function eP(){var s;let t=j.useContext(C0),e=GE("useRouteError"),n=N0("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function tP(){let{router:t}=QE("useNavigate"),e=N0("useNavigate"),n=j.useRef(!1);return G_(()=>{n.current=!0}),j.useCallback(async(r,i={})=>{ts(n.current,Q_),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...i}))},[t,e])}var Nv={};function J_(t,e,n){!e&&!Nv[t]&&(Nv[t]=!0,ts(!1,n))}j.memo(nP);function nP({routes:t,future:e,state:n}){return Z_(t,void 0,n,e)}function Tv({to:t,replace:e,state:n,relative:s}){at(Ha(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=j.useContext(gs);ts(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=j.useContext(ys),{pathname:a}=Cr(),c=Hs(),d=S0(t,_0(i),a,s==="path"),h=JSON.stringify(d);return j.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:s})},[c,h,s,e,n]),null}function Qt(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sP({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:r,static:i=!1}){at(!Ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:a,navigator:r,static:i,future:{}}),[a,r,i]);typeof n=="string"&&(n=$a(n));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:g="default"}=n,x=j.useMemo(()=>{let v=vr(d,a);return v==null?null:{location:{pathname:v,search:h,hash:p,state:m,key:g},navigationType:s}},[a,d,h,p,m,g,s]);return ts(x!=null,`<Router basename="${a}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(gs.Provider,{value:c},j.createElement(Xc.Provider,{children:e,value:x}))}function eS({children:t,location:e}){return HE(sg(t),e)}function sg(t,e=[]){let n=[];return j.Children.forEach(t,(s,r)=>{if(!j.isValidElement(s))return;let i=[...e,r];if(s.type===j.Fragment){n.push.apply(n,sg(s.props.children,i));return}at(s.type===Qt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=sg(s.props.children,i)),n.push(a)}),n}var nh="get",sh="application/x-www-form-urlencoded";function Wh(t){return t!=null&&typeof t.tagName=="string"}function rP(t){return Wh(t)&&t.tagName.toLowerCase()==="button"}function iP(t){return Wh(t)&&t.tagName.toLowerCase()==="form"}function oP(t){return Wh(t)&&t.tagName.toLowerCase()==="input"}function aP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lP(t,e){return t.button===0&&(!e||e==="_self")&&!aP(t)}function rg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function cP(t,e){let n=rg(t);return e&&e.forEach((s,r)=>{n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)})}),n}var Sd=null;function uP(){if(Sd===null)try{new FormData(document.createElement("form"),0),Sd=!1}catch{Sd=!0}return Sd}var dP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(t){return t!=null&&!dP.has(t)?(ts(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):t}function hP(t,e){let n,s,r,i,a;if(iP(t)){let c=t.getAttribute("action");s=c?vr(c,e):null,n=t.getAttribute("method")||nh,r=sm(t.getAttribute("enctype"))||sh,i=new FormData(t)}else if(rP(t)||oP(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(s=d?vr(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||nh,r=sm(t.getAttribute("formenctype"))||sm(c.getAttribute("enctype"))||sh,i=new FormData(c,t),!uP()){let{name:h,type:p,value:m}=t;if(p==="image"){let g=h?`${h}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else h&&i.append(h,m)}}else{if(Wh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,r=sh,a=t}return i&&r==="text/plain"&&(a=i,i=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:i,body:a}}function T0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function fP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mP(t,e,n){let s=await Promise.all(t.map(async r=>{let i=e.routes[r.route.id];if(i){let a=await fP(i,n);return a.links?a.links():[]}return[]}));return bP(s.flat(1).filter(pP).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Ev(t,e,n,s,r,i){let a=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var p;return n[h].pathname!==d.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return i==="assets"?e.filter((d,h)=>a(d,h)||c(d,h)):i==="data"?e.filter((d,h)=>{var m;let p=s.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(a(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function gP(t,e,{includeHydrateFallback:n}={}){return yP(t.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function yP(t){return[...new Set(t)]}function xP(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function bP(t,e){let n=new Set;return new Set(e),t.reduce((s,r)=>{let i=JSON.stringify(xP(r));return n.has(i)||(n.add(i),s.push({key:i,link:r})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vP=new Set([100,101,204,205]);function wP(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&vr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function tS(){let t=j.useContext(Ua);return T0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _P(){let t=j.useContext(Hh);return T0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var E0=j.createContext(void 0);E0.displayName="FrameworkContext";function nS(){let t=j.useContext(E0);return T0(t,"You must render this element inside a <HydratedRouter> element"),t}function SP(t,e){let n=j.useContext(E0),[s,r]=j.useState(!1),[i,a]=j.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=e,g=j.useRef(null);j.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let w=C=>{C.forEach(k=>{a(k.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[t]),j.useEffect(()=>{if(s){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[s]);let x=()=>{r(!0)},v=()=>{r(!1),a(!1)};return n?t!=="intent"?[i,g,{}]:[i,g,{onFocus:Hl(c,x),onBlur:Hl(d,v),onMouseEnter:Hl(h,x),onMouseLeave:Hl(p,v),onTouchStart:Hl(m,x)}]:[!1,g,{}]}function Hl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function CP({page:t,...e}){let{router:n}=tS(),s=j.useMemo(()=>W_(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?j.createElement(kP,{page:t,matches:s,...e}):null}function jP(t){let{manifest:e,routeModules:n}=nS(),[s,r]=j.useState([]);return j.useEffect(()=>{let i=!1;return mP(t,e,n).then(a=>{i||r(a)}),()=>{i=!0}},[t,e,n]),s}function kP({page:t,matches:e,...n}){let s=Cr(),{manifest:r,routeModules:i}=nS(),{basename:a}=tS(),{loaderData:c,matches:d}=_P(),h=j.useMemo(()=>Ev(t,e,d,r,s,"data"),[t,e,d,r,s]),p=j.useMemo(()=>Ev(t,e,d,r,s,"assets"),[t,e,d,r,s]),m=j.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let v=new Set,w=!1;if(e.forEach(C=>{var T;let k=r.routes[C.route.id];!k||!k.hasLoader||(!h.some(M=>M.route.id===C.route.id)&&C.route.id in c&&((T=i[C.route.id])!=null&&T.shouldRevalidate)||k.hasClientLoader?w=!0:v.add(C.route.id))}),v.size===0)return[];let _=wP(t,a);return w&&v.size>0&&_.searchParams.set("_routes",e.filter(C=>v.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[a,c,s,r,h,e,t,i]),g=j.useMemo(()=>gP(p,r),[p,r]),x=jP(p);return j.createElement(j.Fragment,null,m.map(v=>j.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),g.map(v=>j.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),x.map(({key:v,link:w})=>j.createElement("link",{key:v,...w})))}function NP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sS&&(window.__reactRouterVersion="7.6.2")}catch{}function TP({basename:t,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=mE({window:n,v5Compat:!0}));let r=s.current,[i,a]=j.useState({action:r.action,location:r.location}),c=j.useCallback(d=>{j.startTransition(()=>a(d))},[a]);return j.useLayoutEffect(()=>r.listen(c),[r,c]),j.createElement(sP,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:r})}var rS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ms=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:r,reloadDocument:i,replace:a,state:c,target:d,to:h,preventScrollReset:p,viewTransition:m,...g},x){let{basename:v}=j.useContext(gs),w=typeof h=="string"&&rS.test(h),_,C=!1;if(typeof h=="string"&&w&&(_=h,sS))try{let F=new URL(window.location.href),U=h.startsWith("//")?new URL(F.protocol+h):new URL(h),ee=vr(U.pathname,v);U.origin===F.origin&&ee!=null?h=ee+U.search+U.hash:C=!0}catch{ts(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=$E(h,{relative:r}),[T,M,P]=SP(s,g),R=MP(h,{replace:a,state:c,target:d,preventScrollReset:p,relative:r,viewTransition:m});function z(F){e&&e(F),F.defaultPrevented||R(F)}let I=j.createElement("a",{...g,...P,href:_||k,onClick:C||i?e:z,ref:NP(x,M),target:d,"data-discover":!w&&n==="render"?"true":void 0});return T&&!w?j.createElement(j.Fragment,null,I,j.createElement(CP,{page:k})):I});ms.displayName="Link";var EP=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:r=!1,style:i,to:a,viewTransition:c,children:d,...h},p){let m=Qc(a,{relative:h.relative}),g=Cr(),x=j.useContext(Hh),{navigator:v,basename:w}=j.useContext(gs),_=x!=null&&IP(m)&&c===!0,C=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,k=g.pathname,T=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(k=k.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&w&&(T=vr(T,w)||T);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let P=k===C||!r&&k.startsWith(C)&&k.charAt(M)==="/",R=T!=null&&(T===C||!r&&T.startsWith(C)&&T.charAt(C.length)==="/"),z={isActive:P,isPending:R,isTransitioning:_},I=P?e:void 0,F;typeof s=="function"?F=s(z):F=[s,P?"active":null,R?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let U=typeof i=="function"?i(z):i;return j.createElement(ms,{...h,"aria-current":I,className:F,ref:p,style:U,to:a,viewTransition:c},typeof d=="function"?d(z):d)});EP.displayName="NavLink";var PP=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:r,state:i,method:a=nh,action:c,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:m,...g},x)=>{let v=OP(),w=LP(c,{relative:h}),_=a.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&rS.test(c),k=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,P=(M==null?void 0:M.getAttribute("formmethod"))||a;v(M||T.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:r,state:i,relative:h,preventScrollReset:p,viewTransition:m})};return j.createElement("form",{ref:x,method:_,action:w,onSubmit:s?d:k,...g,"data-discover":!C&&t==="render"?"true":void 0})});PP.displayName="Form";function AP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iS(t){let e=j.useContext(Ua);return at(e,AP(t)),e}function MP(t,{target:e,replace:n,state:s,preventScrollReset:r,relative:i,viewTransition:a}={}){let c=Hs(),d=Cr(),h=Qc(t,{relative:i});return j.useCallback(p=>{if(lP(p,e)){p.preventDefault();let m=n!==void 0?n:jc(d)===jc(h);c(t,{replace:m,state:s,preventScrollReset:r,relative:i,viewTransition:a})}},[d,c,h,n,s,e,t,r,i,a])}function Gc(t){ts(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(rg(t)),n=j.useRef(!1),s=Cr(),r=j.useMemo(()=>cP(s.search,n.current?null:e.current),[s.search]),i=Hs(),a=j.useCallback((c,d)=>{const h=rg(typeof c=="function"?c(r):c);n.current=!0,i("?"+h,d)},[i,r]);return[r,a]}var RP=0,DP=()=>`__${String(++RP)}__`;function OP(){let{router:t}=iS("useSubmit"),{basename:e}=j.useContext(gs),n=JE();return j.useCallback(async(s,r={})=>{let{action:i,method:a,encType:c,formData:d,body:h}=hP(s,e);if(r.navigate===!1){let p=r.fetcherKey||DP();await t.fetch(p,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||a,formEncType:r.encType||c,flushSync:r.flushSync})}else await t.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||a,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function LP(t,{relative:e}={}){let{basename:n}=j.useContext(gs),s=j.useContext(ys);at(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),i={...Qc(t||".",{relative:e})},a=Cr();if(t==null){i.search=a.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:yr([n,i.pathname])),jc(i)}function IP(t,e={}){let n=j.useContext(X_);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=iS("useViewTransitionState"),r=Qc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _h(r.pathname,a)!=null||_h(r.pathname,i)!=null}[...vP];var FP=H_();const BP=Kc(FP);function oS(t,e){return function(){return t.apply(e,arguments)}}const{toString:zP}=Object.prototype,{getPrototypeOf:P0}=Object,{iterator:qh,toStringTag:aS}=Symbol,Yh=(t=>e=>{const n=zP.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xs=t=>(t=t.toLowerCase(),e=>Yh(e)===t),Kh=t=>e=>typeof e===t,{isArray:Wa}=Array,kc=Kh("undefined");function VP(t){return t!==null&&!kc(t)&&t.constructor!==null&&!kc(t.constructor)&&Nn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lS=xs("ArrayBuffer");function $P(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lS(t.buffer),e}const UP=Kh("string"),Nn=Kh("function"),cS=Kh("number"),Xh=t=>t!==null&&typeof t=="object",HP=t=>t===!0||t===!1,rh=t=>{if(Yh(t)!=="object")return!1;const e=P0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(aS in t)&&!(qh in t)},WP=xs("Date"),qP=xs("File"),YP=xs("Blob"),KP=xs("FileList"),XP=t=>Xh(t)&&Nn(t.pipe),QP=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Nn(t.append)&&((e=Yh(t))==="formdata"||e==="object"&&Nn(t.toString)&&t.toString()==="[object FormData]"))},GP=xs("URLSearchParams"),[ZP,JP,e6,t6]=["ReadableStream","Request","Response","Headers"].map(xs),n6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Wa(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let c;for(s=0;s<a;s++)c=i[s],e.call(null,t[c],c,t)}}function uS(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dS=t=>!kc(t)&&t!==eo;function ig(){const{caseless:t}=dS(this)&&this||{},e={},n=(s,r)=>{const i=t&&uS(e,r)||r;rh(e[i])&&rh(s)?e[i]=ig(e[i],s):rh(s)?e[i]=ig({},s):Wa(s)?e[i]=s.slice():e[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Zc(arguments[s],n);return e}const s6=(t,e,n,{allOwnKeys:s}={})=>(Zc(e,(r,i)=>{n&&Nn(r)?t[i]=oS(r,n):t[i]=r},{allOwnKeys:s}),t),r6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),i6=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},o6=(t,e,n,s)=>{let r,i,a;const c={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)a=r[i],(!s||s(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&P0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},a6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},l6=t=>{if(!t)return null;if(Wa(t))return t;let e=t.length;if(!cS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},c6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&P0(Uint8Array)),u6=(t,e)=>{const s=(t&&t[qh]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},d6=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},h6=xs("HTMLFormElement"),f6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Pv=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),p6=xs("RegExp"),hS=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Zc(n,(r,i)=>{let a;(a=e(r,i,t))!==!1&&(s[i]=a||r)}),Object.defineProperties(t,s)},m6=t=>{hS(t,(e,n)=>{if(Nn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Nn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},g6=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return Wa(t)?s(t):s(String(t).split(e)),n},y6=()=>{},x6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function b6(t){return!!(t&&Nn(t.append)&&t[aS]==="FormData"&&t[qh])}const v6=t=>{const e=new Array(10),n=(s,r)=>{if(Xh(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const i=Wa(s)?[]:{};return Zc(s,(a,c)=>{const d=n(a,r+1);!kc(d)&&(i[c]=d)}),e[r]=void 0,i}}return s};return n(t,0)},w6=xs("AsyncFunction"),_6=t=>t&&(Xh(t)||Nn(t))&&Nn(t.then)&&Nn(t.catch),fS=((t,e)=>t?setImmediate:e?((n,s)=>(eo.addEventListener("message",({source:r,data:i})=>{r===eo&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),eo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Nn(eo.postMessage)),S6=typeof queueMicrotask<"u"?queueMicrotask.bind(eo):typeof process<"u"&&process.nextTick||fS,C6=t=>t!=null&&Nn(t[qh]),X={isArray:Wa,isArrayBuffer:lS,isBuffer:VP,isFormData:QP,isArrayBufferView:$P,isString:UP,isNumber:cS,isBoolean:HP,isObject:Xh,isPlainObject:rh,isReadableStream:ZP,isRequest:JP,isResponse:e6,isHeaders:t6,isUndefined:kc,isDate:WP,isFile:qP,isBlob:YP,isRegExp:p6,isFunction:Nn,isStream:XP,isURLSearchParams:GP,isTypedArray:c6,isFileList:KP,forEach:Zc,merge:ig,extend:s6,trim:n6,stripBOM:r6,inherits:i6,toFlatObject:o6,kindOf:Yh,kindOfTest:xs,endsWith:a6,toArray:l6,forEachEntry:u6,matchAll:d6,isHTMLForm:h6,hasOwnProperty:Pv,hasOwnProp:Pv,reduceDescriptors:hS,freezeMethods:m6,toObjectSet:g6,toCamelCase:f6,noop:y6,toFiniteNumber:x6,findKey:uS,global:eo,isContextDefined:dS,isSpecCompliantForm:b6,toJSONObject:v6,isAsyncFn:w6,isThenable:_6,setImmediate:fS,asap:S6,isIterable:C6};function Oe(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}X.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const pS=Oe.prototype,mS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{mS[t]={value:t}});Object.defineProperties(Oe,mS);Object.defineProperty(pS,"isAxiosError",{value:!0});Oe.from=(t,e,n,s,r,i)=>{const a=Object.create(pS);return X.toFlatObject(t,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Oe.call(a,t.message,e,n,s,r),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const j6=null;function og(t){return X.isPlainObject(t)||X.isArray(t)}function gS(t){return X.endsWith(t,"[]")?t.slice(0,-2):t}function Av(t,e,n){return t?t.concat(e).map(function(r,i){return r=gS(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function k6(t){return X.isArray(t)&&!t.some(og)}const N6=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function Qh(t,e,n){if(!X.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,_){return!X.isUndefined(_[w])});const s=n.metaTokens,r=n.visitor||p,i=n.dots,a=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(r))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(X.isDate(v))return v.toISOString();if(X.isBoolean(v))return v.toString();if(!d&&X.isBlob(v))throw new Oe("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(v)||X.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,w,_){let C=v;if(v&&!_&&typeof v=="object"){if(X.endsWith(w,"{}"))w=s?w:w.slice(0,-2),v=JSON.stringify(v);else if(X.isArray(v)&&k6(v)||(X.isFileList(v)||X.endsWith(w,"[]"))&&(C=X.toArray(v)))return w=gS(w),C.forEach(function(T,M){!(X.isUndefined(T)||T===null)&&e.append(a===!0?Av([w],M,i):a===null?w:w+"[]",h(T))}),!1}return og(v)?!0:(e.append(Av(_,w,i),h(v)),!1)}const m=[],g=Object.assign(N6,{defaultVisitor:p,convertValue:h,isVisitable:og});function x(v,w){if(!X.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(v),X.forEach(v,function(C,k){(!(X.isUndefined(C)||C===null)&&r.call(e,C,X.isString(k)?k.trim():k,w,g))===!0&&x(C,w?w.concat(k):[k])}),m.pop()}}if(!X.isObject(t))throw new TypeError("data must be an object");return x(t),e}function Mv(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function A0(t,e){this._pairs=[],t&&Qh(t,this,e)}const yS=A0.prototype;yS.append=function(e,n){this._pairs.push([e,n])};yS.toString=function(e){const n=e?function(s){return e.call(this,s,Mv)}:Mv;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function T6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xS(t,e,n){if(!e)return t;const s=n&&n.encode||T6;X.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(e,n):i=X.isURLSearchParams(e)?e.toString():new A0(e,n).toString(s),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Rv{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(s){s!==null&&e(s)})}}const bS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},E6=typeof URLSearchParams<"u"?URLSearchParams:A0,P6=typeof FormData<"u"?FormData:null,A6=typeof Blob<"u"?Blob:null,M6={isBrowser:!0,classes:{URLSearchParams:E6,FormData:P6,Blob:A6},protocols:["http","https","file","blob","url","data"]},M0=typeof window<"u"&&typeof document<"u",ag=typeof navigator=="object"&&navigator||void 0,R6=M0&&(!ag||["ReactNative","NativeScript","NS"].indexOf(ag.product)<0),D6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",O6=M0&&window.location.href||"http://localhost",L6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:M0,hasStandardBrowserEnv:R6,hasStandardBrowserWebWorkerEnv:D6,navigator:ag,origin:O6},Symbol.toStringTag,{value:"Module"})),Zt={...L6,...M6};function I6(t,e){return Qh(t,new Zt.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,i){return Zt.isNode&&X.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function F6(t){return X.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function B6(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function vS(t){function e(n,s,r,i){let a=n[i++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),d=i>=n.length;return a=!a&&X.isArray(r)?r.length:a,d?(X.hasOwnProp(r,a)?r[a]=[r[a],s]:r[a]=s,!c):((!r[a]||!X.isObject(r[a]))&&(r[a]=[]),e(n,s,r[a],i)&&X.isArray(r[a])&&(r[a]=B6(r[a])),!c)}if(X.isFormData(t)&&X.isFunction(t.entries)){const n={};return X.forEachEntry(t,(s,r)=>{e(F6(s),r,n,0)}),n}return null}function z6(t,e,n){if(X.isString(t))try{return(e||JSON.parse)(t),X.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Jc={transitional:bS,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=X.isObject(e);if(i&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return r?JSON.stringify(vS(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return I6(e,this.formSerializer).toString();if((c=X.isFileList(e))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Qh(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),z6(e)):e}],transformResponse:[function(e){const n=this.transitional||Jc.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(s&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?Oe.from(c,Oe.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],t=>{Jc.headers[t]={}});const V6=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$6=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),s=a.substring(r+1).trim(),!(!n||e[n]&&V6[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Dv=Symbol("internals");function Wl(t){return t&&String(t).trim().toLowerCase()}function ih(t){return t===!1||t==null?t:X.isArray(t)?t.map(ih):String(t)}function U6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const H6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function rm(t,e,n,s,r){if(X.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!X.isString(e)){if(X.isString(s))return e.indexOf(s)!==-1;if(X.isRegExp(s))return s.test(e)}}function W6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function q6(t,e){const n=X.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,a){return this[s].call(this,e,r,i,a)},configurable:!0})})}let Tn=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(c,d,h){const p=Wl(d);if(!p)throw new Error("header name must be a non-empty string");const m=X.findKey(r,p);(!m||r[m]===void 0||h===!0||h===void 0&&r[m]!==!1)&&(r[m||d]=ih(c))}const a=(c,d)=>X.forEach(c,(h,p)=>i(h,p,d));if(X.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(X.isString(e)&&(e=e.trim())&&!H6(e))a($6(e),n);else if(X.isObject(e)&&X.isIterable(e)){let c={},d,h;for(const p of e){if(!X.isArray(p))throw TypeError("Object iterator must return a key-value pair");c[h=p[0]]=(d=c[h])?X.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}a(c,n)}else e!=null&&i(n,e,s);return this}get(e,n){if(e=Wl(e),e){const s=X.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return U6(r);if(X.isFunction(n))return n.call(this,r,s);if(X.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Wl(e),e){const s=X.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||rm(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(a){if(a=Wl(a),a){const c=X.findKey(s,a);c&&(!n||rm(s,s[c],c,n))&&(delete s[c],r=!0)}}return X.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||rm(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return X.forEach(this,(r,i)=>{const a=X.findKey(s,i);if(a){n[a]=ih(r),delete n[i];return}const c=e?W6(i):String(i).trim();c!==i&&delete n[i],n[c]=ih(r),s[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return X.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&X.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[Dv]=this[Dv]={accessors:{}}).accessors,r=this.prototype;function i(a){const c=Wl(a);s[c]||(q6(r,a),s[c]=!0)}return X.isArray(e)?e.forEach(i):i(e),this}};Tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Tn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});X.freezeMethods(Tn);function im(t,e){const n=this||Jc,s=e||n,r=Tn.from(s.headers);let i=s.data;return X.forEach(t,function(c){i=c.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function wS(t){return!!(t&&t.__CANCEL__)}function qa(t,e,n){Oe.call(this,t??"canceled",Oe.ERR_CANCELED,e,n),this.name="CanceledError"}X.inherits(qa,Oe,{__CANCEL__:!0});function _S(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Oe("Request failed with status code "+n.status,[Oe.ERR_BAD_REQUEST,Oe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Y6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function K6(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,a;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),p=s[i];a||(a=h),n[r]=d,s[r]=h;let m=i,g=0;for(;m!==r;)g+=n[m++],m=m%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),h-a<e)return;const x=p&&h-p;return x?Math.round(g*1e3/x):void 0}}function X6(t,e){let n=0,s=1e3/e,r,i;const a=(h,p=Date.now())=>{n=p,r=null,i&&(clearTimeout(i),i=null),t.apply(null,h)};return[(...h)=>{const p=Date.now(),m=p-n;m>=s?a(h,p):(r=h,i||(i=setTimeout(()=>{i=null,a(r)},s-m)))},()=>r&&a(r)]}const Sh=(t,e,n=3)=>{let s=0;const r=K6(50,250);return X6(i=>{const a=i.loaded,c=i.lengthComputable?i.total:void 0,d=a-s,h=r(d),p=a<=c;s=a;const m={loaded:a,total:c,progress:c?a/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&p?(c-a)/h:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(m)},n)},Ov=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Lv=t=>(...e)=>X.asap(()=>t(...e)),Q6=Zt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Zt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Zt.origin),Zt.navigator&&/(msie|trident)/i.test(Zt.navigator.userAgent)):()=>!0,G6=Zt.hasStandardBrowserEnv?{write(t,e,n,s,r,i){const a=[t+"="+encodeURIComponent(e)];X.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),X.isString(s)&&a.push("path="+s),X.isString(r)&&a.push("domain="+r),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Z6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function J6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function SS(t,e,n){let s=!Z6(e);return t&&(s||n==!1)?J6(t,e):e}const Iv=t=>t instanceof Tn?{...t}:t;function vo(t,e){e=e||{};const n={};function s(h,p,m,g){return X.isPlainObject(h)&&X.isPlainObject(p)?X.merge.call({caseless:g},h,p):X.isPlainObject(p)?X.merge({},p):X.isArray(p)?p.slice():p}function r(h,p,m,g){if(X.isUndefined(p)){if(!X.isUndefined(h))return s(void 0,h,m,g)}else return s(h,p,m,g)}function i(h,p){if(!X.isUndefined(p))return s(void 0,p)}function a(h,p){if(X.isUndefined(p)){if(!X.isUndefined(h))return s(void 0,h)}else return s(void 0,p)}function c(h,p,m){if(m in e)return s(h,p);if(m in t)return s(void 0,h)}const d={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(h,p,m)=>r(Iv(h),Iv(p),m,!0)};return X.forEach(Object.keys(Object.assign({},t,e)),function(p){const m=d[p]||r,g=m(t[p],e[p],p);X.isUndefined(g)&&m!==c||(n[p]=g)}),n}const CS=t=>{const e=vo({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:a,auth:c}=e;e.headers=a=Tn.from(a),e.url=xS(SS(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(X.isFormData(n)){if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((d=a.getContentType())!==!1){const[h,...p]=d?d.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([h||"multipart/form-data",...p].join("; "))}}if(Zt.hasStandardBrowserEnv&&(s&&X.isFunction(s)&&(s=s(e)),s||s!==!1&&Q6(e.url))){const h=r&&i&&G6.read(i);h&&a.set(r,h)}return e},eA=typeof XMLHttpRequest<"u",tA=eA&&function(t){return new Promise(function(n,s){const r=CS(t);let i=r.data;const a=Tn.from(r.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=r,p,m,g,x,v;function w(){x&&x(),v&&v(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let _=new XMLHttpRequest;_.open(r.method.toUpperCase(),r.url,!0),_.timeout=r.timeout;function C(){if(!_)return;const T=Tn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),P={data:!c||c==="text"||c==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:T,config:t,request:_};_S(function(z){n(z),w()},function(z){s(z),w()},P),_=null}"onloadend"in _?_.onloadend=C:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(C)},_.onabort=function(){_&&(s(new Oe("Request aborted",Oe.ECONNABORTED,t,_)),_=null)},_.onerror=function(){s(new Oe("Network Error",Oe.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let M=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const P=r.transitional||bS;r.timeoutErrorMessage&&(M=r.timeoutErrorMessage),s(new Oe(M,P.clarifyTimeoutError?Oe.ETIMEDOUT:Oe.ECONNABORTED,t,_)),_=null},i===void 0&&a.setContentType(null),"setRequestHeader"in _&&X.forEach(a.toJSON(),function(M,P){_.setRequestHeader(P,M)}),X.isUndefined(r.withCredentials)||(_.withCredentials=!!r.withCredentials),c&&c!=="json"&&(_.responseType=r.responseType),h&&([g,v]=Sh(h,!0),_.addEventListener("progress",g)),d&&_.upload&&([m,x]=Sh(d),_.upload.addEventListener("progress",m),_.upload.addEventListener("loadend",x)),(r.cancelToken||r.signal)&&(p=T=>{_&&(s(!T||T.type?new qa(null,t,_):T),_.abort(),_=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const k=Y6(r.url);if(k&&Zt.protocols.indexOf(k)===-1){s(new Oe("Unsupported protocol "+k+":",Oe.ERR_BAD_REQUEST,t));return}_.send(i||null)})},nA=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const i=function(h){if(!r){r=!0,c();const p=h instanceof Error?h:this.reason;s.abort(p instanceof Oe?p:new qa(p instanceof Error?p.message:p))}};let a=e&&setTimeout(()=>{a=null,i(new Oe(`timeout ${e} of ms exceeded`,Oe.ETIMEDOUT))},e);const c=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:d}=s;return d.unsubscribe=()=>X.asap(c),d}},sA=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},rA=async function*(t,e){for await(const n of iA(t))yield*sA(n,e)},iA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Fv=(t,e,n,s)=>{const r=rA(t,e);let i=0,a,c=d=>{a||(a=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:h,value:p}=await r.next();if(h){c(),d.close();return}let m=p.byteLength;if(n){let g=i+=m;n(g)}d.enqueue(new Uint8Array(p))}catch(h){throw c(h),h}},cancel(d){return c(d),r.return()}},{highWaterMark:2})},Gh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jS=Gh&&typeof ReadableStream=="function",oA=Gh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),kS=(t,...e)=>{try{return!!t(...e)}catch{return!1}},aA=jS&&kS(()=>{let t=!1;const e=new Request(Zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Bv=64*1024,lg=jS&&kS(()=>X.isReadableStream(new Response("").body)),Ch={stream:lg&&(t=>t.body)};Gh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ch[e]&&(Ch[e]=X.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new Oe(`Response type '${e}' is not supported`,Oe.ERR_NOT_SUPPORT,s)})})})(new Response);const lA=async t=>{if(t==null)return 0;if(X.isBlob(t))return t.size;if(X.isSpecCompliantForm(t))return(await new Request(Zt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(X.isArrayBufferView(t)||X.isArrayBuffer(t))return t.byteLength;if(X.isURLSearchParams(t)&&(t=t+""),X.isString(t))return(await oA(t)).byteLength},cA=async(t,e)=>{const n=X.toFiniteNumber(t.getContentLength());return n??lA(e)},uA=Gh&&(async t=>{let{url:e,method:n,data:s,signal:r,cancelToken:i,timeout:a,onDownloadProgress:c,onUploadProgress:d,responseType:h,headers:p,withCredentials:m="same-origin",fetchOptions:g}=CS(t);h=h?(h+"").toLowerCase():"text";let x=nA([r,i&&i.toAbortSignal()],a),v;const w=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let _;try{if(d&&aA&&n!=="get"&&n!=="head"&&(_=await cA(p,s))!==0){let P=new Request(e,{method:"POST",body:s,duplex:"half"}),R;if(X.isFormData(s)&&(R=P.headers.get("content-type"))&&p.setContentType(R),P.body){const[z,I]=Ov(_,Sh(Lv(d)));s=Fv(P.body,Bv,z,I)}}X.isString(m)||(m=m?"include":"omit");const C="credentials"in Request.prototype;v=new Request(e,{...g,signal:x,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:s,duplex:"half",credentials:C?m:void 0});let k=await fetch(v,g);const T=lg&&(h==="stream"||h==="response");if(lg&&(c||T&&w)){const P={};["status","statusText","headers"].forEach(F=>{P[F]=k[F]});const R=X.toFiniteNumber(k.headers.get("content-length")),[z,I]=c&&Ov(R,Sh(Lv(c),!0))||[];k=new Response(Fv(k.body,Bv,z,()=>{I&&I(),w&&w()}),P)}h=h||"text";let M=await Ch[X.findKey(Ch,h)||"text"](k,t);return!T&&w&&w(),await new Promise((P,R)=>{_S(P,R,{data:M,headers:Tn.from(k.headers),status:k.status,statusText:k.statusText,config:t,request:v})})}catch(C){throw w&&w(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Oe("Network Error",Oe.ERR_NETWORK,t,v),{cause:C.cause||C}):Oe.from(C,C&&C.code,t,v)}}),cg={http:j6,xhr:tA,fetch:uA};X.forEach(cg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const zv=t=>`- ${t}`,dA=t=>X.isFunction(t)||t===null||t===!1,NS={getAdapter:t=>{t=X.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let i=0;i<e;i++){n=t[i];let a;if(s=n,!dA(n)&&(s=cg[(a=String(n)).toLowerCase()],s===void 0))throw new Oe(`Unknown adapter '${a}'`);if(s)break;r[a||"#"+i]=s}if(!s){const i=Object.entries(r).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(zv).join(`
`):" "+zv(i[0]):"as no adapter specified";throw new Oe("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:cg};function om(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qa(null,t)}function Vv(t){return om(t),t.headers=Tn.from(t.headers),t.data=im.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),NS.getAdapter(t.adapter||Jc.adapter)(t).then(function(s){return om(t),s.data=im.call(t,t.transformResponse,s),s.headers=Tn.from(s.headers),s},function(s){return wS(s)||(om(t),s&&s.response&&(s.response.data=im.call(t,t.transformResponse,s.response),s.response.headers=Tn.from(s.response.headers))),Promise.reject(s)})}const TS="1.10.0",Zh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Zh[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const $v={};Zh.transitional=function(e,n,s){function r(i,a){return"[Axios v"+TS+"] Transitional option '"+i+"'"+a+(s?". "+s:"")}return(i,a,c)=>{if(e===!1)throw new Oe(r(a," has been removed"+(n?" in "+n:"")),Oe.ERR_DEPRECATED);return n&&!$v[a]&&($v[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,c):!0}};Zh.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function hA(t,e,n){if(typeof t!="object")throw new Oe("options must be an object",Oe.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],a=e[i];if(a){const c=t[i],d=c===void 0||a(c,i,t);if(d!==!0)throw new Oe("option "+i+" must be "+d,Oe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Oe("Unknown option "+i,Oe.ERR_BAD_OPTION)}}const oh={assertOptions:hA,validators:Zh},Es=oh.validators;let po=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Rv,response:new Rv}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=vo(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&oh.assertOptions(s,{silentJSONParsing:Es.transitional(Es.boolean),forcedJSONParsing:Es.transitional(Es.boolean),clarifyTimeoutError:Es.transitional(Es.boolean)},!1),r!=null&&(X.isFunction(r)?n.paramsSerializer={serialize:r}:oh.assertOptions(r,{encode:Es.function,serialize:Es.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),oh.assertOptions(n,{baseUrl:Es.spelling("baseURL"),withXsrfToken:Es.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&X.merge(i.common,i[n.method]);i&&X.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Tn.concat(a,i);const c=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(d=d&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let p,m=0,g;if(!d){const v=[Vv.bind(this),void 0];for(v.unshift.apply(v,c),v.push.apply(v,h),g=v.length,p=Promise.resolve(n);m<g;)p=p.then(v[m++],v[m++]);return p}g=c.length;let x=n;for(m=0;m<g;){const v=c[m++],w=c[m++];try{x=v(x)}catch(_){w.call(this,_);break}}try{p=Vv.call(this,x)}catch(v){return Promise.reject(v)}for(m=0,g=h.length;m<g;)p=p.then(h[m++],h[m++]);return p}getUri(e){e=vo(this.defaults,e);const n=SS(e.baseURL,e.url,e.allowAbsoluteUrls);return xS(n,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){po.prototype[e]=function(n,s){return this.request(vo(s||{},{method:e,url:n,data:(s||{}).data}))}});X.forEach(["post","put","patch"],function(e){function n(s){return function(i,a,c){return this.request(vo(c||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}po.prototype[e]=n(),po.prototype[e+"Form"]=n(!0)});let fA=class ES{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const a=new Promise(c=>{s.subscribe(c),i=c}).then(r);return a.cancel=function(){s.unsubscribe(i)},a},e(function(i,a,c){s.reason||(s.reason=new qa(i,a,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ES(function(r){e=r}),cancel:e}}};function pA(t){return function(n){return t.apply(null,n)}}function mA(t){return X.isObject(t)&&t.isAxiosError===!0}const ug={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ug).forEach(([t,e])=>{ug[e]=t});function PS(t){const e=new po(t),n=oS(po.prototype.request,e);return X.extend(n,po.prototype,e,{allOwnKeys:!0}),X.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return PS(vo(t,r))},n}const xt=PS(Jc);xt.Axios=po;xt.CanceledError=qa;xt.CancelToken=fA;xt.isCancel=wS;xt.VERSION=TS;xt.toFormData=Qh;xt.AxiosError=Oe;xt.Cancel=xt.CanceledError;xt.all=function(e){return Promise.all(e)};xt.spread=pA;xt.isAxiosError=mA;xt.mergeConfig=vo;xt.AxiosHeaders=Tn;xt.formToJSON=t=>vS(X.isHTMLForm(t)?new FormData(t):t);xt.getAdapter=NS.getAdapter;xt.HttpStatusCode=ug;xt.default=xt;const{Axios:sU,AxiosError:rU,CanceledError:iU,isCancel:oU,CancelToken:aU,VERSION:lU,all:cU,Cancel:uU,isAxiosError:dU,spread:hU,toFormData:fU,AxiosHeaders:pU,HttpStatusCode:mU,formToJSON:gU,getAdapter:yU,mergeConfig:xU}=xt;let AS="",dg=null;const hg=t=>{AS=t},gA=()=>AS,yA=t=>{dg=t},xA=async()=>{if(dg)return await dg();try{const t=await xt.post("/api/auth/refresh",{},{withCredentials:!0}),{accessToken:e}=t.data;return hg(e),e}catch(t){throw hg(""),t}},oe=xt.create({baseURL:"/api",withCredentials:!0});oe.interceptors.request.use(t=>{const e=gA();return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));let am=!1,fg=[];const Uv=(t,e=null)=>{fg.forEach(n=>{t?n.reject(t):n.resolve(e)}),fg=[]};oe.interceptors.response.use(t=>t,async t=>{var n;const e=t.config;if(((n=t.response)==null?void 0:n.status)===401&&!e._retry&&!e.url.includes("/auth/refresh")){if(e._retry=!0,am)return new Promise((s,r)=>{fg.push({resolve:i=>{e.headers.Authorization=`Bearer ${i}`,s(oe(e))},reject:i=>r(i)})});am=!0;try{const s=await xA();return Uv(null,s),e.headers.Authorization=`Bearer ${s}`,oe(e)}catch(s){return Uv(s,null),Promise.reject(s)}finally{am=!1}}return Promise.reject(t)});const MS=j.createContext(null),bA=({children:t})=>{const[e,n]=j.useState(null),[s,r]=j.useState(""),[i,a]=j.useState(!0);j.useEffect(()=>{hg(s)},[s]),j.useEffect(()=>{yA(c)},[]),j.useEffect(()=>{(async()=>{try{const g=await oe.post("/auth/refresh",{},{withCredentials:!0}),{user:x,accessToken:v}=g.data;n(x),r(v)}catch{n(null),r("")}finally{a(!1)}})()},[]);const c=async()=>{const m=await oe.post("/auth/refresh",{},{withCredentials:!0});return r(m.data.accessToken),n(m.data.user),m.data.accessToken},d=async(m,g)=>{const x=await oe.post("/auth/login",{email:m,password:g},{withCredentials:!0});n(x.data.user),r(x.data.accessToken)},h=async m=>{const g=await oe.post("/auth/register",m,{withCredentials:!0});n(g.data.user),r(g.data.accessToken)},p=async()=>{try{await oe.post("/auth/logout",{},{withCredentials:!0})}catch{}finally{n(null),r("")}};return i?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:u.jsx("span",{className:"text-sm text-gray-400",children:"Checking session..."})}):u.jsx(MS.Provider,{value:{user:e,accessToken:s,login:d,register:h,logout:p,loading:i,isAuthenticated:!!e},children:t})},ns=()=>{const t=j.useContext(MS);if(!t)throw new Error("useAuth must be used inside <AuthProvider>");return t},vA=({email:t,setEmail:e,setStep:n})=>{const[s,r]=j.useState(""),[i,a]=j.useState(!1),c=async d=>{var h,p;d.preventDefault(),r(""),a(!0);try{(await oe.get(`/auth/check-email?email=${encodeURIComponent(t)}`)).data.exists?n("login"):n("register")}catch(m){r(((p=(h=m.response)==null?void 0:h.data)==null?void 0:p.message)||"Something went wrong checking the email.")}finally{a(!1)}};return u.jsxs("form",{onSubmit:c,className:"w-full bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Enter your email"}),u.jsx("input",{type:"email",value:t,required:!0,onChange:d=>e(d.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition",placeholder:"you@example.com"}),s&&u.jsx("p",{className:"text-red-500 text-sm",children:s}),u.jsx("button",{type:"submit",disabled:i,className:`w-full py-2 rounded-md font-medium transition ${i?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:i?"Checking...":"Continue"})]})},wA=({email:t,onSuccess:e,onSwitchToRegister:n,onForgotPassword:s})=>{const{login:r}=ns(),[i,a]=j.useState(""),[c,d]=j.useState(""),[h,p]=j.useState(!1),m=async g=>{var x,v;g.preventDefault(),d(""),p(!0);try{await r(t,i),e==null||e()}catch(w){d(((v=(x=w.response)==null?void 0:x.data)==null?void 0:v.message)||"Login failed")}finally{p(!1)}};return u.jsxs("form",{onSubmit:m,className:"space-y-4 bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Welcome back"}),u.jsx("p",{className:"text-sm text-gray-400 mb-2",children:t}),u.jsx("input",{type:"password",placeholder:"Enter your password",value:i,onChange:g=>a(g.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),c&&u.jsx("p",{className:"text-sm text-red-500",children:c}),u.jsx("button",{type:"submit",disabled:h,className:`w-full py-2 rounded-md font-medium transition ${h?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:h?"Logging in...":"Login"}),u.jsxs("div",{className:"flex flex-col gap-2 text-sm mt-2",children:[u.jsx("button",{type:"button",onClick:n,className:"text-blue-400 hover:text-blue-300 underline",children:"Not your account? Create a new one"}),u.jsx("button",{type:"button",onClick:s,className:"text-blue-400 hover:text-blue-300 underline",children:"Forgot your password?"})]})]})},_A=({email:t,onSuccess:e,onSwitchToLogin:n})=>{const[s,r]=j.useState({username:"",email:t||"",password:""}),[i,a]=j.useState(""),[c,d]=j.useState(""),[h,p]=j.useState(!1),m=x=>{r({...s,[x.target.name]:x.target.value})},g=async x=>{var v,w;x.preventDefault(),a(""),d(""),p(!0);try{const _=await oe.post("/auth/register",s);d(_.data.message),e==null||e()}catch(_){a(((w=(v=_.response)==null?void 0:v.data)==null?void 0:w.message)||"Registration failed")}finally{p(!1)}};return u.jsxs("form",{onSubmit:g,className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Create an account"}),u.jsx("p",{className:"text-sm text-gray-600",children:s.email}),u.jsx("input",{type:"text",name:"username",placeholder:"Username",value:s.username,onChange:m,className:"w-full p-2 border rounded",required:!0}),u.jsx("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:m,className:"w-full p-2 border rounded",required:!0}),u.jsx("input",{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:m,className:"w-full p-2 border rounded",required:!0}),c&&u.jsx("p",{className:"text-green-600 text-sm",children:c}),i&&u.jsx("p",{className:"text-red-500 text-sm",children:i}),u.jsx("button",{type:"submit",disabled:h,className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700",children:h?"Creating...":"Create Account"}),u.jsx("button",{type:"button",onClick:n,className:"text-sm text-blue-600 underline mt-2",children:"Already have an account? Login"})]})},SA=({onClose:t})=>{const e=Hs(),[n]=Gc(),s=n.get("token"),[r,i]=j.useState(""),[a,c]=j.useState(""),[d,h]=j.useState(""),[p,m]=j.useState(!1),[g,x]=j.useState(""),[v,w]=j.useState(""),_=async k=>{var T,M;k.preventDefault(),x(""),w(""),m(!0);try{await oe.post("/auth/reset-password",{email:r}),x("If this email exists, a reset link has been sent.")}catch(P){w(((M=(T=P.response)==null?void 0:T.data)==null?void 0:M.message)||"Failed to request reset.")}finally{m(!1)}},C=async k=>{var T,M;if(k.preventDefault(),x(""),w(""),a!==d)return w("Passwords do not match");m(!0);try{const P=await oe.post("/auth/reset",{token:s,newPassword:a});x(P.data.message),setTimeout(()=>{t(),e("/login")},2500)}catch(P){w(((M=(T=P.response)==null?void 0:T.data)==null?void 0:M.message)||"Reset failed")}finally{m(!1)}};return u.jsxs("form",{onSubmit:s?C:_,className:"space-y-4 bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg",children:[u.jsx("h2",{className:"text-xl font-bold mb-2",children:s?"Reset Password":"Forgot your password?"}),s?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"password",placeholder:"New Password",value:a,onChange:k=>c(k.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700",required:!0}),u.jsx("input",{type:"password",placeholder:"Confirm Password",value:d,onChange:k=>h(k.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700",required:!0})]}):u.jsx("input",{type:"email",placeholder:"Enter your email",value:r,onChange:k=>i(k.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),g&&u.jsx("p",{className:"text-green-500 text-sm",children:g}),v&&u.jsx("p",{className:"text-red-500 text-sm",children:v}),u.jsx("button",{type:"submit",disabled:p,className:`w-full py-2 rounded-md font-medium text-white transition ${p?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:p?s?"Resetting...":"Sending...":s?"Reset Password":"Send Reset Link"})]})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Hv=t=>{const e=jA(t);return e.charAt(0).toUpperCase()+e.slice(1)},RS=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),kA=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...c},d)=>j.createElement("svg",{ref:d,...NA,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:RS("lucide",r),...!i&&!kA(c)&&{"aria-hidden":"true"},...c},[...a.map(([h,p])=>j.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(t,e)=>{const n=j.forwardRef(({className:s,...r},i)=>j.createElement(TA,{ref:i,iconNode:e,className:RS(`lucide-${CA(Hv(t))}`,`lucide-${t}`,s),...r}));return n.displayName=Hv(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wv=et("calendar",EA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],AA=et("chart-no-axes-column-increasing",PA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],RA=et("chevron-left",MA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OA=et("chevron-right",DA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lm=et("circle-alert",LA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],FA=et("circle-check-big",IA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zA=et("circle-x",BA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],qv=et("clipboard-check",VA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yv=et("file-text",$A);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],cm=et("heart",UA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Kv=et("info",HA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qA=et("layout-dashboard",WA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],KA=et("menu",YA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Xv=et("package",XA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],DS=et("pencil",QA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],OS=et("plus",GA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],JA=et("rotate-ccw",ZA);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],t4=et("save",e4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],um=et("shield-check",n4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],dm=et("shopping-cart",s4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],i4=et("square-pen",r4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Qv=et("trash-2",o4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],l4=et("undo-2",a4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hm=et("user",c4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],d4=et("users",u4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],R0=et("x",h4),f4=({onClose:t})=>{const[e,n]=j.useState("check-email"),[s,r]=j.useState(""),i=Hs(),a=()=>{t(),i("/")};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:u.jsxs("div",{className:"relative bg-neutral-900 text-white rounded-xl shadow-2xl w-full max-w-md px-6 py-8 animate-fade-in",children:[u.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-white transition","aria-label":"Close",children:u.jsx(R0,{size:20})}),e==="check-email"&&u.jsx(vA,{setStep:n,email:s,setEmail:r}),e==="login"&&u.jsx(wA,{email:s,onSuccess:a,onSwitchToRegister:()=>n("register"),onForgotPassword:()=>n("reset-password")}),e==="register"&&u.jsx(_A,{email:s,onSuccess:a,onSwitchToLogin:()=>n("login")}),e==="reset-password"&&u.jsx(SA,{onClose:t})]})})},Gv=()=>{const{logout:t}=ns(),e=Hs(),n=async()=>{try{await t(),e("/")}catch(s){console.error("Logout failed",s)}};return u.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors shadow-sm font-medium",children:"Logout"})},eu=()=>{const{user:t,loading:e}=ns(),[n,s]=j.useState(!1),[r,i]=j.useState(!1),a=[{label:"Home",path:"/"},{label:"Shop",path:"/shop"},{label:"Blog",path:"/blog"},{label:"Contact",path:"/contact"}],c=()=>{if(!t)return"/";switch(t.role){case"admin":return"/dashboard/admin";case"moderator":return"/dashboard/moderator";default:return"/dashboard/user"}};return e?null:u.jsxs("header",{className:"bg-[#0b1222] text-white shadow-md border-b border-[#1f2937]",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[u.jsx(ms,{to:"/",className:"text-2xl font-bold tracking-tight text-white",children:"MyApp"}),u.jsx("div",{className:"hidden md:flex justify-center flex-1 relative",children:u.jsx("nav",{className:"absolute left-1/2 -translate-x-1/2 flex items-center space-x-6",children:a.map(d=>u.jsx(ms,{to:d.path,className:"text-sm font-medium text-gray-300 hover:text-pink-400 transition-colors",children:d.label},d.path))})}),u.jsx("div",{className:"hidden md:flex items-center space-x-4",children:t?u.jsxs(u.Fragment,{children:[u.jsx(ms,{to:c(),className:"bg-[#1c2433] hover:bg-[#2d3a50] text-sm px-4 py-2 rounded-full transition-colors",children:"Dashboard"}),u.jsx(Gv,{})]}):u.jsx("button",{onClick:()=>s(!0),className:"bg-pink-600 hover:bg-pink-700 px-4 py-2 text-sm rounded-full text-white transition-colors",children:"Sign In"})}),u.jsx("button",{onClick:()=>i(!r),className:"md:hidden text-white",children:r?u.jsx(R0,{size:24}):u.jsx(KA,{size:24})})]}),r&&u.jsxs("div",{className:"md:hidden bg-[#0b1222] border-t border-[#1f2937] px-4 pb-4 space-y-2",children:[a.map(d=>u.jsx(ms,{to:d.path,onClick:()=>i(!1),className:"block py-2 text-gray-300 hover:text-pink-400",children:d.label},d.path)),t?u.jsxs(u.Fragment,{children:[u.jsx(ms,{to:c(),onClick:()=>i(!1),className:"block py-2 text-gray-300 hover:text-pink-400",children:"Dashboard"}),u.jsx(Gv,{})]}):u.jsx("button",{onClick:()=>{s(!0),i(!1)},className:"mt-2 w-full bg-pink-600 hover:bg-pink-700 px-4 py-2 rounded-full text-white transition-colors",children:"Sign In"})]}),n&&u.jsx(f4,{onClose:()=>s(!1)})]})},p4=()=>u.jsxs("div",{className:"min-h-screen bg-neutral-950 text-gray-100",children:[u.jsx(eu,{}),u.jsxs("main",{className:"max-w-md mx-auto py-12 px-6 text-center",children:[u.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:"Welcome to Umbrella Auth"}),u.jsx("p",{className:"text-gray-400 mb-6",children:"Use the links below to test the password reset flow."}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(ms,{to:"/reset-password",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition",children:" Request Password Reset"}),u.jsx(ms,{to:"/reset-password/confirm?token=EXAMPLE",className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition",children:" Reset Password (with Token)"})]}),u.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"You can replace the token in the URL with a real one from your email."})]})]}),m4=()=>{const[t]=Gc(),e=Hs(),n=t.get("token"),[s,r]=j.useState(""),[i,a]=j.useState(""),[c,d]=j.useState(""),[h,p]=j.useState(""),[m,g]=j.useState(!1),x=async v=>{var w,_;if(v.preventDefault(),d(""),p(""),s!==i)return d("Passwords do not match");g(!0);try{const C=await oe.post("/auth/reset",{token:n,newPassword:s});p(C.data.message||"Password reset successful!"),setTimeout(()=>e("/login"),2500)}catch(C){console.error(" Reset error:",C.response||C.message),d(((_=(w=C.response)==null?void 0:w.data)==null?void 0:_.message)||"Something went wrong")}finally{g(!1)}};return u.jsx("div",{className:"flex justify-center items-center min-h-screen bg-neutral-950 px-4",children:u.jsxs("form",{onSubmit:x,className:"w-full max-w-md bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Reset Your Password"}),u.jsx("p",{className:"text-sm text-gray-400",children:"Enter your new password below to complete the reset."}),u.jsx("input",{type:"password",placeholder:"New Password",value:s,onChange:v=>r(v.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),u.jsx("input",{type:"password",placeholder:"Confirm New Password",value:i,onChange:v=>a(v.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),c&&u.jsx("p",{className:"text-sm text-red-500",children:c}),h&&u.jsx("p",{className:"text-sm text-green-500",children:h}),u.jsx("button",{type:"submit",disabled:m,className:`w-full py-2 rounded-md font-medium transition ${m?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:m?"Resetting...":"Reset Password"})]})})},g4=()=>{const{token:t}=j0(),e=Hs(),[n,s]=j.useState("Verifying email..."),[r,i]=j.useState(null);return j.useEffect(()=>{(async()=>{var c,d;try{const h=await oe.get(`/auth/verify-email/${t}`);s(h.data.message||"Email verified successfully."),setTimeout(()=>e("/"),2500)}catch(h){const p=((d=(c=h.response)==null?void 0:c.data)==null?void 0:d.message)||h.message||"Verification failed.";i(p),s("Email verification failed.")}})()},[t,e]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white font-sans px-4",children:u.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-semibold mb-4 text-teal-400",children:n}),r?u.jsx("p",{className:"text-red-400",children:r}):u.jsx("p",{className:"text-zinc-300",children:"You will be redirected to the login page shortly..."})]})})},y4=()=>{var g,x,v;const{slug:t}=j0(),[e,n]=j.useState(null),[s,r]=j.useState(null),[i,a]=j.useState(""),[c,d]=j.useState(!0),[h,p]=j.useState("");if(j.useEffect(()=>{(async()=>{var _,C,k,T;try{const P=(await oe.get(`/products/slug/${t}`)).data,R=((_=P.variants)==null?void 0:_.filter(I=>I==null?void 0:I.variantId))||[];n(P),r(R[0]||null);const z=P.thumbnail||((C=P.images)==null?void 0:C[0])||"";a(z)}catch(M){p(((T=(k=M.response)==null?void 0:k.data)==null?void 0:T.message)||"Product not found")}finally{d(!1)}})()},[t]),c)return u.jsx("div",{className:"p-10 text-center text-gray-500 text-lg",children:"Loading..."});if(h)return u.jsx("div",{className:"p-10 text-center text-red-600 font-semibold",children:h});if(!e)return null;const m=w=>{const _=e.variants.find(C=>C.variantId===w);r(_),_!=null&&_.preview&&a(_.preview)};return u.jsxs(u.Fragment,{children:[u.jsx(eu,{}),u.jsx("div",{className:"max-w-5xl mx-auto px-4 py-10",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-10",children:[u.jsxs("div",{className:"w-full md:w-1/2",children:[u.jsx("div",{className:"border rounded-lg bg-white p-2 shadow-sm",children:u.jsx("img",{src:i||"/placeholder.jpg",alt:e.title,className:"w-full h-[400px] object-contain rounded"})}),((g=e.images)==null?void 0:g.length)>1&&u.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto",children:e.images.map((w,_)=>u.jsx("img",{src:w,onClick:()=>a(w),className:`w-16 h-16 object-cover rounded cursor-pointer border-2 ${w===i?"border-blue-500":"border-transparent"}`,alt:`thumbnail-${_}`},_))})]}),u.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-between space-y-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:e.title}),u.jsxs("p",{className:"text-xl text-blue-600 font-semibold",children:["$",(s==null?void 0:s.retail_price)||((x=e.price)==null?void 0:x.toFixed(2))]}),u.jsx("p",{className:"mt-4 text-gray-600 text-sm leading-relaxed",children:e.description}),((v=e.variants)==null?void 0:v.length)>0&&u.jsxs("div",{className:"mt-6",children:[u.jsx("label",{htmlFor:"variant-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Choose Variant"}),u.jsx("select",{id:"variant-select",className:"w-full border rounded-md p-2 text-sm focus:ring focus:ring-blue-200",value:(s==null?void 0:s.variantId)||"",onChange:w=>m(w.target.value),children:e.variants.filter(w=>w.variantId&&w.size&&w.color).map(w=>{var _;return u.jsxs("option",{value:w.variantId,children:[w.size,"  ",w.color,"  $",(_=w.retail_price)==null?void 0:_.toFixed(2)]},w.variantId)})})]})]}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg text-lg font-medium hover:bg-blue-700 transition",disabled:!s,children:"Add to Cart (coming soon)"})})]})]})})]})},x4=()=>u.jsxs("div",{className:"text-center p-10",children:[u.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),u.jsx("p",{children:"You do not have permission to access this page."})]}),D0=({children:t,activeTab:e,setActiveTab:n})=>{const{user:s}=ns(),[r,i]=j.useState(!1),c={admin:[{key:"profile",label:"My Profile",icon:u.jsx(hm,{size:18})},{key:"orders",label:"My Orders",icon:u.jsx(dm,{size:18})},{key:"wishlist",label:"Wishlist",icon:u.jsx(cm,{size:18})},{key:"overview",label:"Overview",icon:u.jsx(AA,{size:18})},{key:"products",label:"Products",icon:u.jsx(Xv,{size:18})},{key:"products-management",label:"Products Management",icon:u.jsx(Xv,{size:18})},{key:"users",label:"Manage Users",icon:u.jsx(d4,{size:18})},{key:"blog",label:"Blog Management",icon:u.jsx(DS,{size:18})},{key:"invoices",label:"Invoices",icon:u.jsx(Yv,{size:18})},{key:"complaints",label:"Complaints",icon:u.jsx(lm,{size:18})},{key:"calendar",label:"Calendars",icon:u.jsx(Wv,{size:18})},{key:"todos",label:"To Dos",icon:u.jsx(qv,{size:18})},{key:"email-marketing",label:"Email Marketing",icon:u.jsx(Yv,{size:18})},{key:"chat",label:"Chat",icon:u.jsx(um,{size:18})}],moderator:[{key:"profile",label:"My Profile",icon:u.jsx(hm,{size:18})},{key:"orders",label:"My Orders",icon:u.jsx(dm,{size:18})},{key:"wishlist",label:"Wishlist",icon:u.jsx(cm,{size:18})},{key:"panel",label:"Moderation Panel",icon:u.jsx(um,{size:18})},{key:"complaints",label:"Complaints",icon:u.jsx(lm,{size:18})},{key:"todos",label:"To Dos",icon:u.jsx(qv,{size:18})},{key:"calendar",label:"Calendars",icon:u.jsx(Wv,{size:18})},{key:"chat",label:"Chat",icon:u.jsx(um,{size:18})}],user:[{key:"profile",label:"My Profile",icon:u.jsx(hm,{size:18})},{key:"orders",label:"My Orders",icon:u.jsx(dm,{size:18})},{key:"wishlist",label:"Wishlist",icon:u.jsx(cm,{size:18})},{key:"raise-complaint",label:"Raise Complaint",icon:u.jsx(lm,{size:18})}]}[s==null?void 0:s.role]||[];return u.jsxs("div",{className:"flex flex-1 min-h-screen bg-[#0f172a] text-white",children:[u.jsxs("aside",{className:`relative flex flex-col transition-all duration-300 ease-in-out ${r?"w-20 min-w-0":"w-64"} bg-[#0f172a] border-r border-gray-800 min-h-screen`,children:[u.jsx("div",{className:"absolute top-5 right-[-12px] z-30",children:u.jsx("button",{onClick:()=>i(!r),className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-full ring-1 ring-slate-600 hover:ring-blue-400",children:r?u.jsx(OA,{size:18}):u.jsx(RA,{size:18})})}),u.jsxs("div",{className:"px-4 py-5 border-b border-slate-700 flex items-center",children:[u.jsx(qA,{size:20,className:"text-slate-300"}),u.jsx("h2",{className:`ml-2 text-xl font-bold transition-all origin-left ${r?"opacity-0 scale-90 w-0":"opacity-100 scale-100"}`,children:"Dashboard"})]}),u.jsx("nav",{className:"mt-4 space-y-1 px-2 flex-1 overflow-y-auto",children:c.map(d=>u.jsxs("button",{onClick:()=>n(d.key),className:`flex items-center w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===d.key?"bg-slate-800 text-white font-semibold":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[u.jsx("span",{className:"mr-3",children:d.icon}),u.jsx("span",{className:`transition-all origin-left duration-300 ${r?"opacity-0 scale-90 w-0":"opacity-100 scale-100"}`,children:d.label})]},d.key))})]}),u.jsx("main",{className:"flex-1 flex flex-col overflow-hidden bg-[#0f172a]",children:u.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto",children:t})})]})},O0=({user:t,refreshUser:e})=>{const[n,s]=j.useState({}),[r,i]=j.useState(""),[a,c]=j.useState(!1);j.useEffect(()=>{t&&s({...t})},[t]);const d=m=>{const{name:g,value:x}=m.target;s(v=>({...v,[g]:x}))},h=async m=>{var g,x;m.preventDefault(),i(""),c(!0);try{const{data:v}=await oe.put("/users/me",n);i(" Profile updated successfully!"),e==null||e()}catch(v){const w=((x=(g=v.response)==null?void 0:g.data)==null?void 0:x.message)||" Failed to update profile.";i(w)}finally{c(!1)}},p=m=>u.jsx("input",{...m,className:"w-full px-4 py-2 rounded-md bg-[#1e2633] text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"});return u.jsx("div",{className:"flex justify-center items-start px-2 py-6 bg-[#131a25]",children:u.jsxs("form",{onSubmit:h,className:"w-full max-w-5xl bg-[#1b2431] p-6 rounded-2xl shadow-xl border border-gray-700 text-white",style:{minHeight:0,maxHeight:"calc(100vh - 5rem)",overflowY:"auto"},children:[u.jsxs("div",{className:"flex items-center gap-5 mb-8",children:[u.jsx("img",{src:n.profileImage||"https://example.com/default-avatar.png",alt:"Profile Avatar",className:"w-16 h-16 rounded-full border-2 border-blue-500 shadow"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Edit Your Profile"}),u.jsxs("p",{className:"text-xs text-gray-300 font-medium",children:["Level: ",n.level||1]}),n.badge&&u.jsxs("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-blue-600 text-white rounded-full shadow-sm",children:["Badge: ",n.badge]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"flex flex-col gap-8",children:[u.jsxs("fieldset",{className:"border border-gray-600 p-4 rounded-lg flex-1 min-h-[232px]",children:[u.jsx("legend",{className:"font-semibold text-base px-2",children:"Identity Info"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[p({name:"username",value:n.username||"",onChange:d,placeholder:"Username"}),p({name:"firstName",value:n.firstName||"",onChange:d,placeholder:"First Name"}),p({name:"middleName",value:n.middleName||"",onChange:d,placeholder:"Middle Name"}),p({name:"lastName",value:n.lastName||"",onChange:d,placeholder:"Last Name"}),u.jsx("div",{}),u.jsx("div",{}),u.jsx("textarea",{name:"bio",value:n.bio||"",onChange:d,placeholder:"Bio",rows:2,className:"col-span-3 w-full px-3 py-1.5 rounded-md bg-[#1e2633] text-white border border-gray-600 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),u.jsxs("fieldset",{className:"border border-gray-600 p-4 rounded-lg flex-1 min-h-[232px]",children:[u.jsx("legend",{className:"font-semibold text-base px-2",children:"Permanent Address"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[p({name:"continent",value:n.continent||"",onChange:d,placeholder:"Continent"}),p({name:"country",value:n.country||"",onChange:d,placeholder:"Country"}),p({name:"region",value:n.region||"",onChange:d,placeholder:"Region"}),p({name:"city",value:n.city||"",onChange:d,placeholder:"City"}),p({name:"postalCode",value:n.postalCode||"",onChange:d,placeholder:"Postal Code"}),p({name:"streetAddress",value:n.streetAddress||"",onChange:d,placeholder:"Street Address"}),p({name:"apartment",value:n.apartment||"",onChange:d,placeholder:"Apartment/Suite",className:"col-span-3"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-8",children:[u.jsxs("fieldset",{className:"border border-gray-600 p-4 rounded-lg flex-1 min-h-[232px]",children:[u.jsx("legend",{className:"font-semibold text-base px-2",children:"Contact Info"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[p({name:"email",value:n.email||"",onChange:d,placeholder:"Email"}),p({name:"secondaryEmail",value:n.secondaryEmail||"",onChange:d,placeholder:"Secondary Email"}),p({name:"phone",value:n.phone||"",onChange:d,placeholder:"Phone"}),p({name:"secondaryPhone",value:n.secondaryPhone||"",onChange:d,placeholder:"Secondary Phone"}),u.jsx("div",{}),u.jsx("div",{})]})]}),u.jsxs("fieldset",{className:"border border-gray-600 p-4 rounded-lg flex-1 min-h-[232px]",children:[u.jsx("legend",{className:"font-semibold text-base px-2",children:"Delivery Address"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[p({name:"deliveryFirstName",value:n.deliveryFirstName||"",onChange:d,placeholder:"First Name"}),p({name:"deliveryMiddleName",value:n.deliveryMiddleName||"",onChange:d,placeholder:"Middle Name"}),p({name:"deliveryLastName",value:n.deliveryLastName||"",onChange:d,placeholder:"Last Name"}),p({name:"deliveryPhone",value:n.deliveryPhone||"",onChange:d,placeholder:"Phone"}),p({name:"deliveryEmail",value:n.deliveryEmail||"",onChange:d,placeholder:"Email"}),p({name:"deliveryAddressLine1",value:n.deliveryAddressLine1||"",onChange:d,placeholder:"Address Line 1"}),p({name:"deliveryAddressLine2",value:n.deliveryAddressLine2||"",onChange:d,placeholder:"Address Line 2"}),p({name:"deliveryCity",value:n.deliveryCity||"",onChange:d,placeholder:"City"}),p({name:"deliveryState",value:n.deliveryState||"",onChange:d,placeholder:"State"}),p({name:"deliveryPostalCode",value:n.deliveryPostalCode||"",onChange:d,placeholder:"Postal Code"}),p({name:"deliveryCountryCode",value:n.deliveryCountryCode||"",onChange:d,placeholder:"Country Code",className:"col-span-3"})]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-4 mt-8",children:[u.jsx("button",{type:"submit",disabled:a,className:`px-5 py-2 font-semibold rounded-md text-white transition duration-200 ${a?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:a?"Saving...":"Save Changes"}),r&&u.jsx("span",{className:`text-sm font-medium ${r.startsWith("")?"text-green-500":"text-red-500"}`,children:r})]})]})})},b4=()=>{const[t,e]=j.useState([]),[n,s]=j.useState(!0),[r,i]=j.useState(""),[a,c]=j.useState(null),[d,h]=j.useState({}),[p,m]=j.useState(!1);j.useEffect(()=>{g()},[]);const g=async()=>{var _,C;try{const k=await oe.get("/admin/users");e(k.data)}catch(k){i("Failed to load users",((C=(_=k.response)==null?void 0:_.data)==null?void 0:C.message)||"Unknown error")}finally{s(!1)}},x=_=>{c(_),h({..._})},v=_=>{const{name:C,value:k}=_.target;h(T=>({...T,[C]:k}))},w=async()=>{var _,C;m(!0);try{const k=await oe.put(`/admin/users/${a._id}`,d);e(T=>T.map(M=>M._id===a._id?k.data.user:M)),c(null)}catch(k){alert(" Failed to update user",((C=(_=k.response)==null?void 0:_.data)==null?void 0:C.message)||"Unknown error")}finally{m(!1)}};return u.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-8 border border-gray-700 text-white",children:[u.jsx("h2",{className:"text-2xl font-bold flex items-center gap-2",children:" User Management"}),n?u.jsx("p",{className:"text-gray-300",children:"Loading users..."}):r?u.jsx("p",{className:"text-red-500",children:r}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-sm bg-[#1b2431] rounded-md",children:[u.jsx("thead",{className:"bg-[#2a3444] text-gray-300",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left",children:"Username"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Role"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),u.jsx("tbody",{children:t.map(_=>u.jsxs("tr",{className:"border-t border-gray-600",children:[u.jsx("td",{className:"px-4 py-2",children:_.username}),u.jsx("td",{className:"px-4 py-2",children:_.email}),u.jsx("td",{className:"px-4 py-2 capitalize",children:_.role}),u.jsx("td",{className:"px-4 py-2",children:u.jsxs("button",{className:"inline-flex items-center gap-1 px-3 py-1 rounded bg-blue-600 hover:bg-blue-700 text-white text-sm",onClick:()=>x(_),children:[u.jsx(DS,{size:16})," Edit"]})})]},_._id))})]})}),a&&u.jsxs("div",{className:"bg-[#1b2431] p-6 border border-gray-600 rounded-lg shadow-md",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Edit: ",a.username]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("input",{name:"username",value:d.username||"",onChange:v,placeholder:"Username",className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none"}),u.jsx("input",{name:"email",value:d.email||"",onChange:v,placeholder:"Email",className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none"}),u.jsxs("select",{name:"role",value:d.role||"user",onChange:v,className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none",children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"moderator",children:"Moderator"}),u.jsx("option",{value:"admin",children:"Admin"})]}),u.jsxs("select",{name:"badge",value:d.badge||"None",onChange:v,className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none",children:[u.jsx("option",{children:"None"}),u.jsx("option",{children:"Bronze"}),u.jsx("option",{children:"Silver"}),u.jsx("option",{children:"Gold"}),u.jsx("option",{children:"VIP"}),u.jsx("option",{children:"Loyalist"}),u.jsx("option",{children:"Supporter"}),u.jsx("option",{children:"Beta Tester"}),u.jsx("option",{children:"Top Reviewer"})]})]}),u.jsxs("div",{className:"mt-6 flex gap-4",children:[u.jsxs("button",{onClick:w,disabled:p,className:"inline-flex items-center gap-1 px-4 py-2 rounded-md bg-green-600 hover:bg-green-700 text-white disabled:opacity-50",children:[u.jsx(t4,{size:16})," ",p?"Saving...":"Save Changes"]}),u.jsxs("button",{onClick:()=>c(null),className:"inline-flex items-center gap-1 px-4 py-2 rounded-md bg-gray-600 hover:bg-gray-500 text-white",children:[u.jsx(R0,{size:16})," Cancel"]})]})]})]})},v4=({product:t,onDelete:e})=>{const{_id:n,title:s,finalPrice:r,imageUrl:i,variants:a,slug:c,source:d,isPublished:h,isFeatured:p,category:m,brand:g,stock:x,discountPercentage:v}=t;return u.jsxs("div",{className:"bg-[#1f2937] rounded-xl shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl",children:[u.jsx(ms,{to:`/product/${c}`,className:"block",children:u.jsx("img",{src:i||"/placeholder.jpg",alt:s,className:"w-full h-56 object-cover rounded-t-xl",loading:"lazy"})}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsx("h3",{className:"text-xl font-semibold text-white truncate hover:text-blue-500 transition duration-300",children:s}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("p",{className:"text-lg font-medium text-gray-200",children:["",r==null?void 0:r.toFixed(2)," ",v>0&&u.jsxs("span",{className:"text-sm text-red-400",children:["(",v,"% OFF)"]})]})}),u.jsx("p",{className:"text-sm text-gray-400",children:(m==null?void 0:m.name)||"No Category"}),u.jsx("p",{className:"text-sm text-gray-400",children:(g==null?void 0:g.name)||"No Brand"}),u.jsxs("div",{className:"flex gap-2 mt-2 text-xs",children:[h&&u.jsx("span",{className:"px-2 py-0.5 rounded-full bg-green-500 text-white",children:"Published"}),p&&u.jsx("span",{className:"px-2 py-0.5 rounded-full bg-yellow-500 text-black",children:"Featured"}),!h&&!p&&u.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-500 text-white",children:"Draft"})]}),u.jsxs("div",{className:"text-sm text-gray-400",children:[(a==null?void 0:a.length)||0," variant",(a==null?void 0:a.length)!==1?"s":""," |"," ",x??0," in stock"]}),u.jsxs("div",{className:"flex gap-3 mt-4",children:[u.jsx(ms,{to:`/product/${c}`,className:"w-1/3 text-center bg-blue-600 text-white py-2 px-4 rounded-lg shadow-md hover:bg-blue-700 hover:shadow-lg transition duration-200",children:"View"}),u.jsx("button",{className:"w-1/3 text-center bg-yellow-500 text-white py-2 px-4 rounded-lg shadow-md hover:bg-yellow-600 hover:shadow-lg transition duration-200",disabled:!0,children:"Edit"}),u.jsx("button",{onClick:()=>e&&e(n),className:`w-1/3 text-center bg-red-500 text-white py-2 px-4 rounded-lg shadow-md hover:bg-red-600 hover:shadow-lg transition duration-200 ${d==="printful"?"bg-gray-300 cursor-not-allowed":""}`,disabled:d==="printful",children:"Delete"})]})]})]})},w4=({isOpen:t,onClose:e,onSuccess:n,editProduct:s})=>{var k;const[r,i]=j.useState({title:"",slug:"",category:"",description:"",price:"",images:[],thumbnail:"",variants:[],quantity:0,published:!1,lowStockThreshold:3}),[a,c]=j.useState({size:"",color:"",retail_price:"",quantity:0,previewFile:null,previewUrl:""}),[d,h]=j.useState(!1),[p,m]=j.useState(!1),[g,x]=j.useState("");if(j.useEffect(()=>{s&&i({...s,price:s.price||"",quantity:s.quantity||0,lowStockThreshold:s.lowStockThreshold||3})},[s]),!t)return null;const v=async T=>{const M=T.target.files[0];if(M){m(!0);try{const P=new FormData;P.append("file",M);const z=(await oe.post("/upload/cloudinary",P)).data.secure_url;i(I=>({...I,images:[...I.images,z],thumbnail:I.images.length===0?z:I.thumbnail}))}catch(P){console.error("Image upload failed",P),x("Image upload failed")}finally{m(!1)}}},w=async T=>{const M=new FormData;return M.append("file",T),(await oe.post("/upload/cloudinary",M)).data.secure_url},_=async()=>{if(!(!a.size||!a.color||!a.retail_price)){m(!0);try{let T=a.previewUrl;a.previewFile&&(T=await w(a.previewFile)),i(M=>{const P=T&&!M.images.includes(T)?[...M.images,T]:[...M.images];return{...M,variants:[...M.variants,{size:a.size,color:a.color,retail_price:a.retail_price,quantity:parseInt(a.quantity)||0,preview:T,variantId:crypto.randomUUID()}],images:P}}),c({size:"",color:"",retail_price:"",quantity:0,previewFile:null,previewUrl:""})}catch(T){console.error("Failed to upload variant image",T),x("Failed to upload variant image")}finally{m(!1)}}},C=async T=>{var M,P;T.preventDefault(),h(!0),x("");try{const R={...r,price:parseFloat(r.price),quantity:parseInt(r.quantity),lowStockThreshold:parseInt(r.lowStockThreshold),variants:r.variants.map(z=>({...z,retail_price:parseFloat(z.retail_price),quantity:parseInt(z.quantity)||0})),imageUrl:r.thumbnail,source:"manual"};s?await oe.put(`/products/${s._id}`,R):await oe.post("/products",R),n(),e()}catch(R){x(((P=(M=R.response)==null?void 0:M.data)==null?void 0:P.message)||"Failed to save product.")}finally{h(!1)}};return u.jsx("div",{className:"fixed inset-0 backdrop-blur-md bg-black/60 z-50 flex items-center justify-center",children:u.jsxs("div",{className:"bg-[#1a1a1a] text-white p-6 w-full max-w-3xl rounded-xl shadow-lg space-y-6 relative",children:[u.jsx("button",{onClick:e,className:"absolute top-3 right-4 text-2xl font-bold text-gray-400 hover:text-red-500",children:""}),u.jsx("h2",{className:"text-2xl font-semibold",children:" Upload Manual Product"}),g&&u.jsx("p",{className:"text-red-400 text-sm",children:g}),u.jsxs("form",{onSubmit:C,className:"space-y-5",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Title",value:r.title,onChange:T=>i({...r,title:T.target.value,slug:T.target.value.toLowerCase().replace(/\s+/g,"-")})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Category",value:r.category,onChange:T=>i({...r,category:T.target.value})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Base Price",type:"number",value:r.price,onChange:T=>i({...r,price:T.target.value})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Quantity",type:"number",min:0,value:r.quantity,onChange:T=>i({...r,quantity:T.target.value})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Low Stock Threshold",type:"number",min:1,value:r.lowStockThreshold,onChange:T=>i({...r,lowStockThreshold:T.target.value})})]}),u.jsx("textarea",{className:"w-full bg-black border border-gray-600 p-2 rounded",placeholder:"Description",rows:3,value:r.description,onChange:T=>i({...r,description:T.target.value})}),u.jsxs("label",{className:"inline-flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:r.published,onChange:T=>i({...r,published:T.target.checked})}),u.jsx("span",{className:"text-sm",children:"Publish immediately"})]}),u.jsxs("div",{className:"bg-[#2a2a2a] p-4 rounded space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:" Product Images"}),u.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"block w-full text-sm text-white file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700",disabled:p}),p&&u.jsx("p",{className:"text-sm text-blue-400",children:"Uploading..."}),r.images.length>0&&u.jsx("div",{className:"flex flex-wrap gap-3",children:r.images.map((T,M)=>u.jsxs("label",{className:"flex flex-col items-center gap-1",children:[u.jsx("input",{type:"radio",name:"thumbnail",checked:r.thumbnail===T,onChange:()=>i({...r,thumbnail:T})}),u.jsx("img",{src:T,alt:`thumb-${M}`,className:"w-14 h-14 rounded object-cover border border-gray-500"})]},M))})]}),u.jsxs("div",{className:"bg-[#2a2a2a] p-4 rounded space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:" Add Variant"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Size",value:a.size,onChange:T=>c({...a,size:T.target.value})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Color",value:a.color,onChange:T=>c({...a,color:T.target.value})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Retail Price",type:"number",value:a.retail_price,onChange:T=>c({...a,retail_price:T.target.value})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Quantity",type:"number",value:a.quantity,onChange:T=>c({...a,quantity:T.target.value})}),u.jsx("input",{type:"file",accept:"image/*",onChange:T=>c({...a,previewFile:T.target.files[0]}),className:"text-white text-sm"}),u.jsx("div",{className:"text-xs text-gray-400 self-center truncate",children:((k=a.previewFile)==null?void 0:k.name)||"No file chosen"})]}),u.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 mt-2 bg-blue-700 hover:bg-blue-800 text-white rounded",disabled:p,children:"Add Variant"})]}),u.jsx("button",{type:"submit",className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg",disabled:d,children:d?"Saving...":s?"Update Product":"Create Product"})]})]})})},_4=()=>{const[t,e]=j.useState([]),[n,s]=j.useState(!0),[r,i]=j.useState(!1),[a,c]=j.useState(""),[d,h]=j.useState(""),[p,m]=j.useState(1),[g,x]=j.useState(1),[v,w]=j.useState(!1),_=8,C=async()=>{var T,M;s(!0);try{const P=await oe.get("/admin/products",{params:{page:p,limit:_,search:d,showAll:!0,isPublished:!0}});e(P.data.products||[]),x(P.data.pages||1)}catch(P){c(((M=(T=P.response)==null?void 0:T.data)==null?void 0:M.message)||" Failed to fetch products")}finally{s(!1)}},k=async()=>{var T,M;if(confirm("Syncing will pull all products from Printful. Proceed?")){i(!0);try{await oe.post("/admin/products/sync"),await C(),alert(" Synced Printful products successfully")}catch(P){alert(" Sync failed: "+(((M=(T=P.response)==null?void 0:T.data)==null?void 0:M.message)||P.message))}finally{i(!1)}}};return j.useEffect(()=>{C()},[p,d]),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[u.jsx("h2",{className:"text-3xl font-bold text-black",children:"Product Management"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:k,disabled:r,className:`px-4 py-2 rounded text-white font-medium ${r?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:r?"Syncing...":"Sync from Printful"}),u.jsx("button",{onClick:()=>w(!0),className:"px-4 py-2 rounded text-white bg-gray-600 hover:bg-gray-700",children:"Upload Manual Product"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsx("input",{type:"text",placeholder:"Search products...",value:d,onChange:T=>{h(T.target.value),m(1)},className:"w-full md:w-1/3 px-3 py-2 border border-gray-300 rounded"}),d&&u.jsx("button",{onClick:()=>h(""),className:"text-sm text-blue-600 hover:underline",children:"Reset"})]}),n?u.jsx("p",{children:"Loading products..."}):a?u.jsx("p",{className:"text-red-500",children:a}):u.jsxs(u.Fragment,{children:[t.length===0?u.jsx("p",{children:"No products found."}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(T=>u.jsx(v4,{product:T},T._id))}),g>1&&u.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:Array.from({length:g}).map((T,M)=>u.jsx("button",{onClick:()=>m(M+1),className:`px-3 py-1 rounded border text-sm ${p===M+1?"bg-blue-600 text-white":"bg-white hover:bg-gray-100"}`,children:M+1},M))})]}),v&&u.jsx(w4,{isOpen:v,onClose:()=>w(!1),onSuccess:()=>{C(),w(!1)}})]})};function S4(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}S4(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var L0=t=>typeof t=="number"&&!isNaN(t),Nc=t=>typeof t=="string",LS=t=>typeof t=="function",C4=t=>Nc(t)||L0(t),j4=t=>j.isValidElement(t)||Nc(t)||LS(t)||L0(t),k4=1,IS=()=>`${k4++}`,Fs=new Map,pg=[],Zv=new Set,FS=()=>Fs.size>0,N4=(t,{containerId:e})=>{var n;return(n=Fs.get(e||1))==null?void 0:n.toasts.get(t)};function T4(t,e){var n;if(e)return!!((n=Fs.get(e))!=null&&n.isToastActive(t));let s=!1;return Fs.forEach(r=>{r.isToastActive(t)&&(s=!0)}),s}function E4(t){if(!FS()){pg=pg.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||C4(t))Fs.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Fs.get(t.containerId);e?e.removeToast(t.id):Fs.forEach(n=>{n.removeToast(t.id)})}}var P4=(t={})=>{Fs.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function A4(t,e){j4(t)&&(FS()||pg.push({content:t,options:e}),Fs.forEach(n=>{n.buildToast(t,e)}))}function BS(t,e){Fs.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function M4(t){return Zv.add(t),()=>{Zv.delete(t)}}function R4(t){return t&&(Nc(t.toastId)||L0(t.toastId))?t.toastId:IS()}function tu(t,e){return A4(t,e),e.toastId}function Jh(t,e){return{...e,type:e&&e.type||t,toastId:R4(e)}}function ef(t){return(e,n)=>tu(e,Jh(t,n))}function Xe(t,e){return tu(t,Jh("default",e))}Xe.loading=(t,e)=>tu(t,Jh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function D4(t,{pending:e,error:n,success:s},r){let i;e&&(i=Nc(e)?Xe.loading(e,r):Xe.loading(e.render,{...r,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(h,p,m)=>{if(p==null){Xe.dismiss(i);return}let g={type:h,...a,...r,data:m},x=Nc(p)?{render:p}:p;return i?Xe.update(i,{...g,...x}):Xe(x.render,{...g,...x}),m},d=LS(t)?t():t;return d.then(h=>c("success",s,h)).catch(h=>c("error",n,h)),d}Xe.promise=D4;Xe.success=ef("success");Xe.info=ef("info");Xe.error=ef("error");Xe.warning=ef("warning");Xe.warn=Xe.warning;Xe.dark=(t,e)=>tu(t,Jh("default",{theme:"dark",...e}));function O4(t){E4(t)}Xe.dismiss=O4;Xe.clearWaitingQueue=P4;Xe.isActive=T4;Xe.update=(t,e={})=>{let n=N4(t,e);if(n){let{props:s,content:r}=n,i={delay:100,...s,...e,toastId:e.toastId||t,updateId:IS()};i.toastId!==t&&(i.staleId=t);let a=i.render||r;delete i.render,tu(a,i)}};Xe.done=t=>{Xe.update(t,{progress:1})};Xe.onChange=M4;Xe.play=t=>BS(!0,t);Xe.pause=t=>BS(!1,t);const ql=({label:t,name:e,value:n,onChange:s,placeholder:r,type:i="text",error:a})=>{const c=`w-full px-3 py-2 text-sm rounded-md bg-[#1e2633] text-white border ${a?"border-red-500":"border-gray-600"} focus:outline-none focus:ring-2 focus:ring-blue-500`;return u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{htmlFor:e,className:"text-sm text-gray-300 font-medium",children:t}),u.jsx("input",{id:e,type:i,name:e,value:n,onChange:s,placeholder:r,className:`${c} [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none`,inputMode:i==="number"?"decimal":void 0}),a&&u.jsx("p",{className:"text-xs text-red-500 mt-1",children:a})]})},Cd=({label:t,name:e,options:n,value:s,onChange:r,error:i,defaultOption:a="Select an option"})=>{const[c,d]=j.useState(!1),h=j.useRef(null),p=n.find(g=>g._id===s);j.useEffect(()=>{const g=x=>{h.current&&!h.current.contains(x.target)&&d(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{r({target:{name:e,value:g._id}}),d(!1)};return u.jsxs("div",{className:"mb-4 relative",ref:h,children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:t}),u.jsxs("button",{type:"button",onClick:()=>d(!c),className:`w-full text-left px-4 py-2.5 pr-10 rounded-md text-sm
        bg-[#2a3142] text-white border relative
        ${i?"border-red-500":"border-gray-600"}
        focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[p?p.name:a,u.jsx("span",{className:"absolute right-3 top-3 pointer-events-none",children:u.jsx("svg",{className:`w-4 h-4 transform transition-transform duration-300 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]}),u.jsx("ul",{className:`absolute z-10 mt-1 w-full bg-[#2a3142] text-white border border-gray-600 rounded-md shadow-lg max-h-60 overflow-hidden
        transition-all duration-395 origin-top
        ${c?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}`,children:n.map((g,x)=>u.jsx("li",{onClick:()=>m(g),className:`px-4 py-2 cursor-pointer hover:bg-blue-600 text-white
  transform transition-all duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)]
  ${c?"opacity-100 rotate-0 translate-y-0":"opacity-0 rotate-6 translate-y-6"}`,style:{transitionDelay:c?`${x*60}ms`:"0ms"},children:g.name},g._id))}),i&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:i})]})},fm={title:"",description:"",basePrice:"",salePrice:"",discountPercentage:"",stock:"",category:"",subcategory:"",brand:"",images:[],thumbnail:"",variants:[{variantCategory:"",value:""}],isPublished:!1,isFeatured:!1,editReason:""},zS=({onSuccess:t,initialData:e=null})=>{var z,I;const[n,s]=j.useState(fm),[r,i]=j.useState({}),[a,c]=j.useState([]),[d,h]=j.useState([]),[p,m]=j.useState([]);j.useEffect(()=>{var F,U,ee,J;s(e?{...fm,...e,editReason:"",category:((F=e.category)==null?void 0:F._id)||e.category,brand:((U=e.brand)==null?void 0:U._id)||e.brand,subcategory:((ee=e.subcategory)==null?void 0:ee.slug)||"",variants:(J=e.variants)!=null&&J.length?e.variants.map(de=>{var G;return{variantCategory:((G=de.variantCategory)==null?void 0:G._id)||de.variantCategory||"",value:de.value||"",preview:de.previewImage||""}}):[{variantCategory:"",value:""}]}:fm),i({})},[e]),j.useEffect(()=>{(async()=>{var U,ee;try{const[J,de,G]=await Promise.all([oe.get("/admin/categories"),oe.get("/admin/brands"),oe.get("/admin/variant-categories")]);c(J.data.categories||[]),h(de.data.brands||[]),m(G.data.categories||[])}catch(J){Xe.error(((ee=(U=J.response)==null?void 0:U.data)==null?void 0:ee.message)||"Failed to load form data.")}})()},[]);const g=F=>{const{name:U,value:ee,type:J,checked:de}=F.target;if(J==="checkbox"){if(U==="isPublished"||U==="isFeatured"){const G=U==="isPublished"?"isFeatured":"isPublished";s(he=>({...he,[U]:de,[G]:de?!1:he[G]}));return}s(G=>({...G,[U]:de}))}else s(G=>({...G,[U]:ee}))},x=(F,U,ee)=>{const J=[...n.variants];J[F][U]=ee,s(de=>({...de,variants:J}))},v=()=>{s(F=>({...F,variants:[...F.variants,{variantCategory:"",value:""}]}))},w=F=>{s(U=>({...U,thumbnail:F}))},_=async F=>{var ee,J,de;if(!F.length)return;const U=[];try{for(const G of F){const he=new FormData;he.append("images",G);const te=await oe.post("/upload/product-images",he);if((J=(ee=te.data)==null?void 0:ee.uploaded)!=null&&J[0])U.push(te.data.uploaded[0]);else throw new Error("No URL returned.")}s(G=>({...G,images:[...G.images,...U],thumbnail:G.thumbnail||U[0]}))}catch(G){Xe.error("Image upload failed."),console.error(((de=G.response)==null?void 0:de.data)||G.message)}},C=F=>{F.preventDefault(),_(Array.from(F.dataTransfer.files))},k=F=>{_(Array.from(F.target.files))},T=async(F,U)=>{try{const ee=new FormData;ee.append("image",U);const de=(await oe.post("/upload/variant-preview",ee)).data.uploaded;s(G=>{const he=[...G.variants];return he[F].preview=de,{...G,variants:he}})}catch(ee){Xe.error("Variant image upload failed."),console.error(ee)}},[M,P]=j.useState(!1),R=async F=>{var ee,J,de,G,he,te,Z;if(F.preventDefault(),M)return;P(!0),i({});const U=!!(e!=null&&e._id);try{const Y=a.find(le=>le._id===n.category),ne=(ee=Y==null?void 0:Y.subcategories)==null?void 0:ee.find(le=>le.slug===n.subcategory);if(U&&!((J=n.editReason)!=null&&J.trim())){i(le=>({...le,editReason:"Edit reason is required."})),Xe.error("Please provide a reason for this edit."),P(!1);return}const D={...n,editReason:U?n.editReason.trim():void 0,subcategory:ne?{name:ne.name,slug:ne.slug}:{name:n.subcategory,slug:n.subcategory},basePrice:Number(n.basePrice),salePrice:n.salePrice?Number(n.salePrice):null,discountPercentage:n.discountPercentage?Number(n.discountPercentage):0,stock:n.stock?Number(n.stock):0,isPublished:!!n.isPublished,isFeatured:!!n.isFeatured,variants:[...n.variants].map(le=>{var _e,ve;return{variantCategory:String(le.variantCategory).trim(),value:String(le.value).trim(),previewImage:((ve=(_e=le.preview)==null?void 0:_e.trim)==null?void 0:ve.call(_e))||""}}).sort((le,_e)=>le.variantCategory.localeCompare(_e.variantCategory)||le.value.localeCompare(_e.value))};console.log(" Submitting payload:",D);const Q=U?await oe.put(`/admin/products/${e._id}`,D):await oe.post("/admin/products",D);Xe.success(U?" Product updated!":" Product created!"),t==null||t(Q.data.product),s(le=>({...le,editReason:""}))}catch(Y){console.log(" Full error response:",(de=Y.response)==null?void 0:de.data);const ne=(he=(G=Y.response)==null?void 0:G.data)==null?void 0:he.errors;if(ne){const D={};Object.keys(ne).forEach(Q=>{if(Q.startsWith("variants.")){const[,le,_e]=Q.split("."),ve=parseInt(le);D.variantsFields||(D.variantsFields={}),D.variantsFields[ve]||(D.variantsFields[ve]={}),D.variantsFields[ve][_e]=ne[Q]}else Q==="publishOrFeature"?D.publishOrFeature=ne[Q]:D[Q]=ne[Q]}),i(D),Xe.error("Please fix validation errors.")}else Xe.error(((Z=(te=Y.response)==null?void 0:te.data)==null?void 0:Z.message)||"Failed to save product.")}finally{P(!1)}};return u.jsxs("form",{onSubmit:R,className:"space-y-8 bg-[#1a1f2b] text-white p-8 rounded-2xl shadow-2xl border border-gray-700",children:[u.jsx("section",{children:u.jsx(ql,{label:"Product Title",name:"title",value:n.title,onChange:g,error:r.title,placeholder:"Product title"})}),u.jsxs("section",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),u.jsx("textarea",{name:"description",rows:4,value:n.description,onChange:g,placeholder:"Enter detailed product description",className:"w-full bg-[#2a3142] border border-gray-600 rounded-lg px-4 py-3"}),r.description&&u.jsx("p",{className:"text-red-500 text-xs mt-2",children:r.description})]}),u.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(Cd,{label:"Select Category",name:"category",value:n.category,onChange:g,options:a,error:r.category,defaultOption:"-- Choose Category --"}),n.category&&u.jsx(Cd,{label:"Select Subcategory",name:"subcategory",value:n.subcategory,onChange:g,options:((I=(z=a.find(F=>F._id===n.category))==null?void 0:z.subcategories)==null?void 0:I.map(F=>({_id:F.slug,name:F.name})))||[],error:r.subcategory,defaultOption:"-- Choose Subcategory --"}),u.jsx(Cd,{label:"Select Brand",name:"brand",value:n.brand,onChange:g,options:d,error:r.brand,defaultOption:"-- Choose Brand --"})]}),u.jsxs("section",{children:[u.jsxs("div",{onDrop:C,onDragOver:F=>F.preventDefault(),className:"border-2 border-dashed border-gray-600 p-6 rounded-lg text-center bg-[#1f2634]",children:[u.jsx("p",{className:"mb-3 text-sm",children:"Drag and drop images here or"}),u.jsx("label",{htmlFor:"fileInput",className:"inline-block px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-sm cursor-pointer",children:"Upload Images"}),u.jsx("input",{id:"fileInput",type:"file",multiple:!0,accept:"image/*",onChange:k,className:"hidden"}),r.images&&u.jsx("p",{className:"text-red-500 text-xs mt-2",children:r.images})]}),n.images.length>0&&u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3 mt-4",children:n.images.map(F=>u.jsxs("div",{onClick:()=>w(F),className:`rounded-lg overflow-hidden cursor-pointer border-2 ${n.thumbnail===F?"border-blue-500 ring-2 ring-blue-400":"border-gray-700"}`,children:[u.jsx("img",{src:F,alt:"Uploaded",className:"w-full h-24 object-cover"}),n.thumbnail===F&&u.jsx("p",{className:"text-xs text-center text-blue-300 py-1 bg-gray-800",children:"Thumbnail"})]},F))})]}),u.jsxs("section",{className:"space-y-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:" Variant Options"}),n.variants.map((F,U)=>{var ee,J,de,G,he,te;return u.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-6 bg-[#1a1f2b] border border-gray-700 rounded-xl p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[u.jsx(Cd,{label:"Variant Category",name:`variantCategory-${U}`,value:F.variantCategory,onChange:Z=>x(U,"variantCategory",Z.target.value),options:p,error:(J=(ee=r.variantsFields)==null?void 0:ee[U])==null?void 0:J.variantCategory,defaultOption:"Select Category"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Variant Value"}),u.jsx("input",{type:"text",value:F.value,placeholder:"e.g. Black, XL, 128GB",onChange:Z=>x(U,"value",Z.target.value),className:`w-full bg-[#111827] border px-4 py-2.5 rounded-md text-white text-sm
              transition-all duration-200 ease-in-out
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
              ${(G=(de=r.variantsFields)==null?void 0:de[U])!=null&&G.value?"border-red-500":"border-gray-600"}`}),((te=(he=r.variantsFields)==null?void 0:he[U])==null?void 0:te.value)&&u.jsx("p",{className:"text-xs text-red-500 mt-1",children:r.variantsFields[U].value})]})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3 min-w-[100px]",children:[u.jsxs("label",{htmlFor:`variant-file-${U}`,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm cursor-pointer transition",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v16h16M4 4l16 16"})}),"Upload"]}),u.jsx("input",{id:`variant-file-${U}`,type:"file",accept:"image/*",onChange:Z=>T(U,Z.target.files[0]),className:"hidden"}),F.preview?u.jsx("img",{src:F.preview,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border border-gray-500"}):u.jsx("div",{className:"w-20 h-20 bg-[#111827] border border-gray-600 rounded-lg flex items-center justify-center text-gray-500 text-xs",children:"No Image"})]})]},U)}),r.variants&&u.jsx("p",{className:"text-sm text-red-500",children:r.variants}),u.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 rounded-md text-white bg-green-600 hover:bg-green-700 transition text-sm",children:"+ Add Variant"})]}),u.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(ql,{label:"Base Price ()",name:"basePrice",type:"number",value:n.basePrice,onChange:g,error:r.basePrice,placeholder:"Enter base price"}),u.jsx(ql,{label:"Sale Price ()",name:"salePrice",type:"number",value:n.salePrice,onChange:g,error:r.salePrice,placeholder:"Optional sale price"}),u.jsx(ql,{label:"Discount Percentage (%)",name:"discountPercentage",type:"number",value:n.discountPercentage,onChange:g,error:r.discountPercentage,placeholder:"Optional discount (e.g. 10)"}),u.jsx(ql,{label:"Stock Quantity",name:"stock",type:"number",value:n.stock,onChange:g,error:r.stock,placeholder:"Number of items in stock"})]}),u.jsxs("section",{className:"pt-4",children:[u.jsx("label",{className:"block text-sm text-white font-medium mb-1",children:"Choose product visibility"}),u.jsxs("p",{className:"text-gray-400 text-xs mb-2",children:[u.jsx("strong",{children:"Published"}),": visible in the store. ",u.jsx("br",{}),u.jsx("strong",{children:"Featured"}),": highlighted or promoted on the home page."]}),u.jsxs("div",{className:"flex items-center gap-6 mb-1",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",name:"isPublished",checked:n.isPublished,onChange:g}),u.jsx("span",{className:"text-sm",children:"Published"})]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",name:"isFeatured",checked:n.isFeatured,onChange:g}),u.jsx("span",{className:"text-sm",children:"Featured"})]})]}),r.publishOrFeature&&u.jsx("p",{className:"text-red-500 text-xs",children:r.publishOrFeature})]}),(e==null?void 0:e._id)&&u.jsxs("div",{className:"mt-4",children:[u.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-200",children:["Reason for Edit ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{name:"editReason",rows:3,value:n.editReason,onChange:g,placeholder:"Explain what was changed and why",className:`w-full bg-[#2a3142] border ${r.editReason?"border-red-500":"border-gray-600"} rounded-md px-4 py-2 text-sm`}),r.editReason&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.editReason})]}),u.jsx("div",{className:"pt-6 text-right",children:u.jsx("button",{type:"submit",disabled:M,className:`bg-emerald-600 hover:bg-emerald-700 px-6 py-2 rounded text-white shadow ${M?"opacity-50 cursor-not-allowed":""}`,children:M?e!=null&&e._id?"Updating...":"Creating...":e!=null&&e._id?"Update Product":"Create Product"})})]})};function L4({title:t,titleId:e,...n},s){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const I4=j.forwardRef(L4),F4=({viewingProduct:t,setViewingProduct:e,isEditing:n,setIsEditing:s,fetchProducts:r})=>{const[i,a]=j.useState([]),[c,d]=j.useState(!1),[h,p]=j.useState("history"),[m,g]=j.useState({}),[x,v]=j.useState({}),[w,_]=j.useState({}),[C,k]=j.useState({}),[T,M]=j.useState(null);if(j.useEffect(()=>{(async()=>{var Pe,Te;try{const ze=await oe.get("/admin/brands"),st={};(Te=(Pe=ze.data)==null?void 0:Pe.brands)==null||Te.forEach(bt=>{st[bt._id]=bt.name}),k(st)}catch(ze){console.error(" Failed to fetch brands",ze)}})()},[]),j.useEffect(()=>{(async()=>{var Pe,Te;try{const ze=await oe.get("/admin/categories"),st={},bt={};(Te=(Pe=ze.data)==null?void 0:Pe.categories)==null||Te.forEach(vt=>{var sn;st[vt._id]=vt.name,(sn=vt.subcategories)==null||sn.forEach(kr=>{bt[kr.slug]=kr.name})}),v(st),_(bt)}catch(ze){console.error(" Failed to fetch categories",ze)}})()},[]),j.useEffect(()=>{(async()=>{var Pe;try{const ze=(Pe=(await oe.get("/admin/variant-categories")).data)==null?void 0:Pe.categories;if(!Array.isArray(ze))throw new TypeError("Expected categories to be an array");const st={};ze.forEach(bt=>{st[bt._id]=bt.name}),g(st)}catch(Te){console.error(" Failed to fetch variant categories",Te)}})()},[]),j.useEffect(()=>{(async()=>{var Pe;if(t!=null&&t._id){d(!0);try{const Te=await oe.get(`/admin/products/${t._id}/history`),ze=((Pe=Te.data)==null?void 0:Pe.history)||[];console.log(" Raw edit history response:",Te.data),console.log(" Parsed editHistory:",ze),a(Array.isArray(ze)?ze:[])}catch(Te){console.error(" Failed to fetch edit history",Te),a([])}finally{d(!1)}}})()},[t==null?void 0:t._id]),j.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),j.useEffect(()=>{if(T){const ue=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${ue}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.overflow="hidden",document.body.style.width="100%",()=>{const Pe=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.overflow="",document.body.style.width="",window.scrollTo(0,parseInt(Pe||"0")*-1)}}},[T]),!t)return null;const{title:P,description:R,brand:z,category:I,subcategory:F,images:U,thumbnail:ee,variants:J,basePrice:de,salePrice:G,discountPercentage:he,stock:te,lowStockAlert:Z,averageRating:Y,ratingCount:ne,isPublished:D,isFeatured:Q,source:le,createdAt:_e,updatedAt:ve,currentPrice:Be,margin:Re}=t,Me=(ue,Pe)=>{if(!ue)return"";try{if(Pe==="subcategory"){const Te=typeof ue=="string"?JSON.parse(ue):ue;return w[Te==null?void 0:Te.slug]||(Te==null?void 0:Te.name)||""}if(Pe==="category"){const Te=typeof ue=="string"?ue:ue==null?void 0:ue._id;return x[Te]||Te}if(Pe==="brand"){const Te=typeof ue=="string"?ue:ue==null?void 0:ue._id;return C[Te]||Te}return typeof ue=="object"?JSON.stringify(ue,null,2):typeof ue=="string"&&(ue.startsWith("{")||ue.startsWith("["))?JSON.stringify(JSON.parse(ue),null,2):ue}catch(Te){return String(ue,Te)}},Le=ue=>{try{const Pe=typeof ue=="string"?JSON.parse(ue):ue;return Array.isArray(Pe)?Pe.map(Te=>{const ze=typeof Te.variantCategory=="object"?Te.variantCategory.$oid:Te.variantCategory;return`${m[ze]||ze}: ${Te.value}`}).join(", "):""}catch(Pe){return String(ue,Pe)}},Ce=({label:ue,value:Pe})=>u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[11px] text-gray-400 uppercase tracking-wide mb-1 leading-tight",children:ue}),u.jsx("div",{className:"text-[17px] text-gray-100 font-semibold break-words",children:Pe||""})]});return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-50 backdrop-blur-md bg-black/70 flex justify-center items-start p-10 overflow-y-auto",children:u.jsxs("div",{className:"bg-[#1e293b] w-full max-w-7xl p-6 rounded-2xl shadow-2xl relative text-white border border-gray-700",children:[u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[u.jsx("button",{onClick:()=>s(!n),className:`px-4 py-1.5 rounded-md font-semibold text-sm transition duration-200 ${n?"bg-gray-600 hover:bg-gray-500":"bg-blue-600 hover:bg-blue-700"}`,children:n?"Cancel Edit":" Edit Product"}),u.jsx("button",{onClick:()=>{e(null),s(!1)},className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-red-600 text-white text-lg font-bold flex items-center justify-center transition-all duration-200 shadow-md",title:"Close","aria-label":"Close modal",children:""})]}),u.jsx("h2",{className:"text-3xl font-bold mb-6",children:n?"Edit Product":" Product Overview"}),n?u.jsx(zS,{initialData:t,onSuccess:()=>{s(!1),e(null),r()}}):u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl border border-gray-700 shadow-md text-gray-200",children:[u.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-700 mb-6",children:u.jsx("img",{src:ee,alt:P,className:"w-full h-74 object-cover transition duration-300 hover:scale-[1.01]"})}),u.jsxs("div",{className:"text-center pb-4 border-b border-gray-700",children:[u.jsx("h2",{className:"text-4xl font-bold text-white tracking-tight",children:P}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Detailed product information"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-5 text-sm mt-6",children:[u.jsx(Ce,{label:"Brand",value:(z==null?void 0:z.name)||z}),u.jsx(Ce,{label:"Category",value:(I==null?void 0:I.name)||I}),u.jsx(Ce,{label:"Subcategory",value:(F==null?void 0:F.name)||F}),u.jsx(Ce,{label:"Stock",value:te}),u.jsx(Ce,{label:"Low Stock Alert",value:Z?" Yes":"No"}),u.jsx(Ce,{label:"Base Price",value:`${de}`}),u.jsx(Ce,{label:"Sale Price",value:G?`${G}`:""}),u.jsx(Ce,{label:"Discount %",value:`${he||0}%`}),u.jsx(Ce,{label:"Current Price",value:`${Be}`}),u.jsx(Ce,{label:"Margin",value:`${Re}`}),u.jsx(Ce,{label:"Avg Rating",value:`${Y} (${ne})`}),u.jsx(Ce,{label:"Published",value:D?" Yes":" No"}),u.jsx(Ce,{label:"Featured",value:Q?" Yes":""}),u.jsx(Ce,{label:"Source",value:le}),u.jsx(Ce,{label:"Created",value:new Date(_e).toLocaleString()}),u.jsx(Ce,{label:"Updated",value:new Date(ve).toLocaleString()})]})]}),u.jsxs("div",{className:"bg-gray-800 p-5 rounded-xl border border-gray-700 shadow-sm",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[" ",u.jsx("span",{children:"Description"})]}),u.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-line",children:R})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"rounded-xl border border-gray-700 bg-gray-800 p-4 shadow-sm space-y-4",children:[u.jsx("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:" Images"}),u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-5 gap-3",children:U==null?void 0:U.map((ue,Pe)=>u.jsxs("div",{className:"relative group rounded-md overflow-hidden border border-gray-600 hover:border-gray-400 transition cursor-pointer",onClick:()=>M(ue),title:"Click to enlarge",children:[u.jsx("img",{src:ue,alt:`Image ${Pe+1}`,className:"w-full h-24 object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 flex items-center justify-center text-xs text-gray-200 font-medium transition",children:"Preview"})]},Pe))})]}),u.jsxs("div",{className:"rounded-xl border border-gray-700 bg-gray-800 p-4 shadow-sm space-y-4",children:[u.jsx("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:" Variants"}),u.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:J==null?void 0:J.map((ue,Pe)=>u.jsxs("li",{className:"flex items-center gap-3 p-2 rounded-md border border-gray-700 hover:border-gray-500 transition",children:[u.jsx("img",{src:ue.previewImage,alt:ue.value,className:"w-16 h-16 object-cover rounded border border-gray-600"}),u.jsxs("div",{className:"text-[11px] text-gray-300 leading-snug space-y-0.5",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx("span",{className:"uppercase text-gray-500 tracking-wide",children:"Category:"}),u.jsx("span",{className:"font-medium text-white",children:m[ue.variantCategory]||ue.variantCategory})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("span",{className:"uppercase text-gray-500 tracking-wide",children:"Value:"}),u.jsx("span",{className:"font-medium text-white",children:ue.value})]})]})]},ue._id||Pe))})]}),u.jsxs("div",{className:"border border-gray-700 rounded-xl bg-gray-900",children:[u.jsxs("div",{className:"grid grid-cols-2 border-b border-gray-700 bg-gray-800 rounded-t-xl overflow-hidden",children:[u.jsx("button",{onClick:()=>p("history"),className:`p-4 font-semibold text-left transition-colors duration-200 ${h==="history"?"text-white border-b-2 border-emerald-400 bg-gray-900":"text-gray-400 hover:text-white"}`,children:" Edit History"}),u.jsx("button",{onClick:()=>p("notes"),className:`p-4 font-semibold text-left transition-colors duration-200 ${h==="notes"?"text-white border-b-2 border-emerald-400 bg-gray-900":"text-gray-400 hover:text-white"}`,children:" Notes"})]}),u.jsx("div",{className:"p-6 text-[15px] space-y-6 max-h-[150vh] overflow-y-auto",children:h==="history"?c?u.jsx("p",{className:"text-gray-400",children:"Loading history..."}):i.length===0?u.jsx("p",{className:"text-gray-400",children:"No edits made yet."}):[...i].sort((ue,Pe)=>new Date(Pe.editedAt)-new Date(ue.editedAt)).map((ue,Pe)=>{var Te;return!ue||!ue.editedBy?null:u.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700 shadow-md space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("p",{className:"text-white font-semibold tracking-wide",children:[ue.editedBy.firstName||"Unknown"," ",ue.editedBy.lastName||""," ",u.jsxs("span",{className:"text-sm text-gray-400 font-normal",children:[" ",ue.editedBy.role]})]}),u.jsx("span",{className:"text-xs italic text-gray-400",children:new Date(ue.editedAt).toLocaleString()})]}),u.jsx("div",{className:"divide-y divide-gray-700",children:(Te=ue.changes)==null?void 0:Te.map((ze,st)=>{const bt=ze.from,vt=ze.to;return JSON.stringify(bt)===JSON.stringify(vt)?null:u.jsxs("div",{className:"py-3",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wider mb-2",children:ze.field}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-400 block text-[11px] uppercase tracking-wide mb-1",children:"From"}),u.jsx("div",{className:"bg-slate-900 p-2 rounded-md text-rose-300 border border-rose-500 whitespace-pre-wrap break-words",children:ze.field==="variants"?Le(bt):Me(bt,ze.field)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-400 block text-[11px] uppercase tracking-wide mb-1",children:"To"}),u.jsx("div",{className:"bg-slate-900 p-2 rounded-md text-emerald-300 border border-emerald-500 whitespace-pre-wrap break-words",children:ze.field==="variants"?Le(vt):Me(vt,ze.field)})]})]})]},st)})})]},Pe)}):i.length===0?u.jsx("p",{className:"text-gray-400",children:"No notes yet."}):[...i].sort((ue,Pe)=>new Date(Pe.editedAt)-new Date(ue.editedAt)).map((ue,Pe)=>{var Te,ze,st;return u.jsxs("div",{className:"bg-gray-800 rounded-xl p-5 border border-gray-700 shadow-sm transition duration-200",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[u.jsxs("p",{className:"text-white font-semibold text-sm",children:[((Te=ue.editedBy.firstName)==null?void 0:Te.trim())||"Admin"," ",((ze=ue.editedBy.lastName)==null?void 0:ze.trim())||"",ue.editedBy.role&&u.jsxs("span",{className:"text-gray-400 font-normal",children:[" ","(",ue.editedBy.role,")"]})]}),u.jsx("span",{className:"text-xs italic text-gray-400",children:new Date(ue.editedAt).toLocaleString()})]}),u.jsx("p",{className:"italic text-emerald-300 text-sm mt-2 leading-snug",children:((st=ue.reason)==null?void 0:st.trim())||"No reason provided."})]},Pe)})})]})]})]})]})}),T&&u.jsxs("div",{className:"fixed inset-0 z-[999] bg-black/80 flex items-center justify-center overflow-hidden",children:[u.jsx("div",{className:"fixed inset-0 bg-black/80 z-[-1]"}),u.jsxs("div",{className:"relative bg-gray-900 border border-gray-700 rounded-lg p-4 max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[u.jsx("button",{onClick:()=>M(null),className:"absolute top-3 right-3 bg-red-600 hover:bg-red-700 w-8 h-8 rounded-full flex items-center justify-center","aria-label":"Close preview",title:"Close",children:u.jsx(I4,{className:"h-4 w-4 text-white"})}),u.jsx("img",{src:T,alt:"Full Preview",className:"w-full max-h-[80vh] object-contain rounded"})]})]})]})},B4=()=>{const[t,e]=j.useState([]),[n,s]=j.useState(null),[r,i]=j.useState(!1),[a,c]=j.useState(null),[d,h]=j.useState(!1),p=async()=>{var v;try{const w=await oe.get("/admin/products");e(w.data.products||[])}catch(w){console.error(" Failed to fetch products:",(v=w.response)==null?void 0:v.data)}},m=()=>{s(null),i(!0)},g=async v=>{var w;if(window.confirm("Are you sure you want to delete this product?"))try{await oe.delete(`/admin/products/${v}`),p()}catch(_){console.error(" Delete failed:",(w=_.response)==null?void 0:w.data)}},x=v=>{c(v),h(!1)};return j.useEffect(()=>{p()},[]),u.jsxs("div",{className:"bg-[#131a25] text-white p-6 rounded-xl shadow-md border border-gray-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold",children:" All Products"}),u.jsx("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition",children:"+ New Product"})]}),r&&u.jsx("div",{className:"mb-10",children:u.jsx(zS,{initialData:n,onSuccess:()=>{i(!1),s(null),p()}})}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsxs("table",{className:"w-full border border-gray-700 text-white text-sm",children:[u.jsx("thead",{className:"bg-[#1e293b] text-left",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Image"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Title"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Category"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Subcategory"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Brand"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Current Price"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Base Price"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Sale Price"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Discount %"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Stock"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Published"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Featured"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Actions"})]})}),u.jsx("tbody",{children:t.length>0?t.map(v=>{var w,_,C,k,T;return u.jsxs(j.Fragment,{children:[u.jsxs("tr",{className:"hover:bg-[#1f2a3b] transition",children:[u.jsx("td",{className:"px-4 py-3",children:v.thumbnail?u.jsx("img",{src:v.thumbnail,alt:v.title,className:"w-12 h-12 object-cover rounded-md border border-gray-600"}):u.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-md flex items-center justify-center text-sm",children:"N/A"})}),u.jsx("td",{className:"px-4 py-3",children:v.title}),u.jsx("td",{className:"px-4 py-3",children:((w=v.category)==null?void 0:w.name)||""}),u.jsx("td",{className:"px-4 py-3",children:typeof v.subcategory=="string"?v.subcategory.charAt(0).toUpperCase()+v.subcategory.slice(1):((_=v.subcategory)==null?void 0:_.name)||""}),u.jsx("td",{className:"px-4 py-3",children:((C=v.brand)==null?void 0:C.name)||""}),u.jsxs("td",{className:"px-4 py-3 text-green-400 font-bold",children:["",(k=v.currentPrice)==null?void 0:k.toFixed(2)]}),u.jsxs("td",{className:"px-4 py-3 text-gray-400 text-sm",children:["",(T=v.basePrice)==null?void 0:T.toFixed(2)]}),u.jsx("td",{className:"px-4 py-3 text-blue-400 text-sm",children:v.salePrice?`${v.salePrice.toFixed(2)}`:""}),u.jsx("td",{className:"px-4 py-3 text-yellow-400 text-sm",children:v.discountPercentage>0?`${v.discountPercentage}%`:""}),u.jsx("td",{className:`px-4 py-3 ${v.stock===0?"text-red-500 font-bold":""}`,children:v.stock}),u.jsx("td",{className:"px-4 py-3",children:v.isPublished?"":""}),u.jsx("td",{className:"px-4 py-3",children:v.isFeatured?"":""}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>x(v),className:"border border-gray-500 text-gray-400 hover:bg-gray-700 hover:text-white px-3 py-1 rounded-md",children:"View"}),u.jsx("button",{onClick:()=>g(v._id),className:"border border-red-500 text-red-400 hover:bg-red-500 hover:text-white px-3 py-1 rounded-md",children:"Delete"})]})})]}),u.jsx("tr",{style:{height:"8px"}})]},v._id)}):u.jsx("tr",{children:u.jsx("td",{colSpan:"12",className:"text-center py-6 text-gray-400 italic",children:"No products found."})})})]}),u.jsx(F4,{viewingProduct:a,setViewingProduct:c,isEditing:d,setIsEditing:h,fetchProducts:p})]})]})},pm=t=>t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),ah=({label:t,icon:e,onClick:n,color:s="gray",disabled:r})=>u.jsxs("button",{onClick:n,disabled:r,className:`flex items-center gap-2 text-sm px-3 py-1 rounded-md
      ${s==="red"?"bg-red-600 hover:bg-red-700":""}
      ${s==="blue"?"bg-blue-600 hover:bg-blue-700":""}
      ${s==="gray"?"bg-gray-700 hover:bg-gray-600":""}
      ${r?"opacity-50 cursor-not-allowed":""}
      text-white transition`,children:[e," ",t]}),z4=()=>{const[t,e]=j.useState([]),[n,s]=j.useState(""),[r,i]=j.useState(null),[a,c]=j.useState(!1),[d,h]=j.useState("");j.useEffect(()=>{p()},[]);const p=async()=>{try{const _=await oe.get("/admin/categories");e(_.data.categories||[])}catch(_){console.error("Failed to fetch categories",_)}},m=async()=>{var C,k;if(!n.trim())return;const _=pm(n);c(!0),h("");try{await oe.post("/admin/categories",{name:n,slug:_}),s(""),await p()}catch(T){h(((k=(C=T==null?void 0:T.response)==null?void 0:C.data)==null?void 0:k.message)||"Failed to create category.")}finally{c(!1)}},g=async(_,C)=>{if(!C.trim())return;const k=pm(C);try{await oe.put(`/admin/categories/${_}`,{name:C,slug:k}),i(null),await p()}catch(T){console.error("Failed to edit category",T)}},x=async _=>{if(window.confirm("Are you sure you want to delete this category?"))try{await oe.delete(`/admin/categories/${_}`),await p()}catch(k){console.error("Failed to delete category",k)}},v=async(_,C)=>{if(!C.trim())return;const k=pm(C);try{await oe.post(`/admin/categories/${_}/subcategories`,{name:C,slug:k}),await p()}catch(T){console.error("Failed to add subcategory",T)}},w=async(_,C)=>{try{await oe.delete(`/admin/categories/${_}/subcategories/${C}`),await p()}catch(k){console.error("Failed to delete subcategory",k)}};return u.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-6 border border-gray-700",children:[u.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:" Manage Categories"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{value:n,onChange:_=>s(_.target.value),placeholder:"New category name",className:"w-full px-4 py-2 rounded-md bg-[#1e2633] text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.jsx(ah,{label:a?"Adding...":"Add",icon:u.jsx("span",{className:"text-lg",children:""}),onClick:m,color:"blue",disabled:a})]}),d&&u.jsx("p",{className:"text-sm text-red-400",children:d}),t.map(_=>u.jsxs("div",{className:"bg-[#1b2431] rounded-lg p-4 text-white space-y-2",children:[u.jsx("div",{className:"flex justify-between items-center",children:r===_._id?u.jsxs("div",{className:"flex gap-2 w-full",children:[u.jsx("input",{defaultValue:_.name,onKeyDown:C=>{C.key==="Enter"&&g(_._id,C.target.value)},className:"w-full p-2 rounded-md bg-[#2a3444] text-white border border-gray-600 focus:outline-none"}),u.jsx("button",{onClick:()=>i(null),className:"text-sm text-gray-400 hover:text-red-400",children:"Cancel"})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium",children:_.name}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ah,{label:"Edit",icon:u.jsx("span",{className:"text-sm",children:""}),onClick:()=>i(_._id)}),u.jsx(ah,{label:"Delete",icon:u.jsx("span",{className:"text-sm",children:""}),onClick:()=>x(_._id),color:"red"})]})]})}),u.jsxs("div",{className:"pl-4 mt-2 border-l border-dashed border-gray-500",children:[_.subcategories.map(C=>u.jsxs("div",{className:"flex justify-between items-center py-1",children:[u.jsx("span",{className:"text-sm text-gray-200",children:C.name}),u.jsx("button",{onClick:()=>w(_._id,C.slug),className:"text-xs text-red-500 hover:text-red-300",title:"Delete subcategory",children:""})]},C._id)),u.jsx(V4,{onAdd:C=>v(_._id,C)})]})]},_._id))]})},V4=({onAdd:t})=>{const[e,n]=j.useState(""),s=()=>{e.trim()&&(t(e.trim()),n(""))};return u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("input",{type:"text",value:e,placeholder:"Add subcategory",onChange:r=>n(r.target.value),onKeyDown:r=>r.key==="Enter"&&s(),className:"w-full px-3 py-2 rounded-md bg-[#2a3444] text-white border border-gray-600 focus:outline-none"}),u.jsx(ah,{label:"Add",icon:u.jsx("span",{className:"text-sm",children:""}),onClick:s})]})},$4=()=>{const[t,e]=j.useState([]),[n,s]=j.useState(""),[r,i]=j.useState(null),[a,c]=j.useState(""),[d,h]=j.useState(!1),[p,m]=j.useState("");j.useEffect(()=>{g()},[]);const g=async()=>{try{const _=await oe.get("/admin/brands");e(_.data.brands||[])}catch(_){console.error("Fetch error:",_),m("Failed to load brands.")}},x=async()=>{var _,C;if(n.trim()){h(!0),m("");try{await oe.post("/admin/brands",{name:n.trim()}),s(""),g()}catch(k){console.error("Create error:",k),m(((C=(_=k==null?void 0:k.response)==null?void 0:_.data)==null?void 0:C.message)||"Create failed")}finally{h(!1)}}},v=async()=>{if(a.trim())try{await oe.put(`/admin/brands/${r}`,{name:a.trim()}),i(null),c(""),g()}catch(_){console.error("Update error:",_),m("Update failed")}},w=async _=>{if(confirm("Delete this brand?"))try{await oe.delete(`/admin/brands/${_}`),g()}catch(C){console.error("Delete error:",C),m("Delete failed")}};return u.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-6 border border-gray-700",children:[u.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:" Manage Brands"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{value:n,onChange:_=>s(_.target.value),placeholder:"New brand name",disabled:d,className:"w-full p-2 rounded-md bg-[#1e2633] text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.jsxs("button",{onClick:x,disabled:d,className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition disabled:opacity-50",children:[u.jsx(OS,{size:16})," Add"]})]}),p&&u.jsx("p",{className:"text-sm text-red-400",children:p}),t.map(_=>u.jsxs("div",{className:"bg-[#1b2431] rounded-lg p-4 text-white flex justify-between items-center shadow-sm",children:[r===_._id?u.jsx("input",{value:a,onChange:C=>c(C.target.value),onKeyDown:C=>{C.key==="Enter"&&v()},className:"w-full px-4 py-2 rounded-md bg-[#2a3444] text-white border border-gray-600 focus:outline-none mr-4"}):u.jsx("span",{className:"font-medium text-lg",children:_.name}),u.jsx("div",{className:"flex gap-3 ml-4",children:r===_._id?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:v,className:"px-3 py-1 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition",children:"Save"}),u.jsx("button",{onClick:()=>{i(null),c("")},className:"px-3 py-1 rounded-md bg-gray-600 text-white hover:bg-gray-500 transition",children:"Cancel"})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{i(_._id),c(_.name)},className:"px-3 py-1 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition",children:"Edit"}),u.jsx("button",{onClick:()=>w(_._id),className:"px-3 py-1 rounded-md bg-red-600 text-white hover:bg-red-700 transition",children:"Delete"})]})})]},_._id))]})},U4=()=>{const[t,e]=j.useState([]),[n,s]=j.useState(""),[r,i]=j.useState(null),[a,c]=j.useState(!1),[d,h]=j.useState(""),[p,m]=j.useState("");j.useEffect(()=>{g()},[]);const g=async()=>{var C;try{const k=await oe.get("/admin/variant-categories");console.log("Fetched variant categories:",k.data);const T=Array.isArray((C=k.data)==null?void 0:C.categories)?k.data.categories:[];e(T)}catch(k){console.error("Failed to load variant categories:",k),h("Failed to load variant categories."),e([])}},x=C=>C.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-_]/g,""),v=async()=>{var C,k;if(n.trim()){c(!0),h(""),m("");try{const T=x(n);await oe.post("/admin/variant-categories",{name:n,slug:T}),s(""),await g()}catch(T){const M=(C=T==null?void 0:T.response)==null?void 0:C.data;h((M==null?void 0:M.error)||"Add failed"),m(((k=M==null?void 0:M.details)==null?void 0:k.name)||""),console.error("Failed to add variant category:",M)}finally{c(!1)}}},w=async(C,k)=>{var T,M;if(k.trim()){c(!0),h(""),m("");try{await oe.put(`/admin/variant-categories/${C}`,{name:k.trim(),slug:x(k)}),i(null),await g()}catch(P){const R=(T=P==null?void 0:P.response)==null?void 0:T.data;h((R==null?void 0:R.error)||"Update failed"),m(((M=R==null?void 0:R.details)==null?void 0:M.name)||""),console.error("Update failed:",R)}finally{c(!1)}}},_=async C=>{if(window.confirm("Delete this variant category?"))try{await oe.delete(`/admin/variant-categories/${C}`),await g()}catch(k){console.error("Delete failed:",k),h("Delete failed")}};return u.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-6 border border-gray-700",children:[u.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:" Variant Categories"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{value:n,onChange:C=>s(C.target.value),placeholder:"e.g. Size, Color",className:`w-full px-4 py-2 rounded-md bg-[#1e2633] text-white border focus:outline-none focus:ring-2 focus:ring-blue-500 ${p?"border-red-500":"border-gray-600"}`}),u.jsxs("button",{onClick:v,disabled:a,className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition disabled:opacity-50",children:[u.jsx(OS,{size:16})," Add"]})]}),d&&u.jsx("p",{className:"text-sm text-red-500 mt-1",children:d}),p&&u.jsx("p",{className:"text-sm text-red-400 mt-1",children:p}),Array.isArray(t)&&t.length>0?t.map(C=>u.jsxs("div",{className:"bg-[#1b2431] rounded-lg p-4 text-white flex justify-between items-center shadow-sm",children:[r===C._id?u.jsx("input",{defaultValue:C.name,onKeyDown:k=>{k.key==="Enter"&&w(C._id,k.target.value)},className:`w-full px-4 py-2 rounded-md bg-[#2a3444] text-white border focus:outline-none mr-4 ${p?"border-red-500":"border-gray-600"}`}):u.jsx("span",{className:"font-medium text-lg",children:C.name}),u.jsxs("div",{className:"flex gap-3 ml-4",children:[r===C._id?u.jsx("button",{onClick:()=>i(null),className:"px-3 py-1 rounded-md bg-gray-600 text-white hover:bg-gray-500 transition",children:"Cancel"}):u.jsx("button",{onClick:()=>i(C._id),className:"px-3 py-1 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition",children:"Edit"}),u.jsx("button",{onClick:()=>_(C._id),className:"px-3 py-1 rounded-md bg-red-600 text-white hover:bg-red-700 transition",children:"Delete"})]})]},C._id)):u.jsx("p",{className:"text-sm text-gray-400 italic",children:"No variant categories found."})]})},H4=()=>{const[t,e]=j.useState("products"),n=[{key:"products",label:" Products"},{key:"categories",label:" Categories"},{key:"brands",label:" Brands"},{key:"variants",label:" Variants"}],s={products:"All Products",categories:"Manage Categories",brands:"Manage Brands",variants:"Manage Variants"};return u.jsxs("section",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-700 dark:text-white mb-6",children:s[t]}),u.jsx("nav",{className:"flex flex-wrap gap-2 mb-4",role:"tablist","aria-label":"Product Management Tabs",children:n.map(r=>u.jsx("button",{onClick:()=>e(r.key),className:`px-4 py-2 rounded-md font-medium transition-all
              ${t===r.key?"bg-blue-600 text-white shadow":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600"}`,role:"tab","aria-selected":t===r.key,children:r.label},r.key))}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow border dark:border-gray-700",children:[t==="products"&&u.jsx(B4,{}),t==="categories"&&u.jsx(z4,{}),t==="brands"&&u.jsx($4,{}),t==="variants"&&u.jsx(U4,{})]})]})},W4=()=>{const t=Hs();return u.jsxs("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 flex items-center gap-2",children:" Blog Posts"}),u.jsx("button",{onClick:()=>t("/dashboard/admin?tab=blog-editor"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:" New Post"})]}),u.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-gray-300 rounded bg-gray-50 text-gray-500",children:[" No blog posts yet. ",u.jsx("br",{}),u.jsx("span",{className:"text-sm",children:"Click New Post to create your first article."})]})]})},q4=()=>u.jsx("div",{className:"bg-white p-4 rounded shadow",children:u.jsx(W4,{})}),No=(t,e=null)=>{document.execCommand(t,!1,e)},Y4=()=>No("bold"),K4=()=>No("italic"),X4=()=>No("underline"),Q4=()=>No("strikeThrough"),G4=()=>No("hiliteColor","yellow"),Z4=()=>No("superscript"),J4=()=>No("subscript"),VS=(t="span",e="")=>{const n=window.getSelection();if(!n||n.rangeCount===0)return;const s=n.getRangeAt(0);if(s.collapsed||!s.toString().trim())return;const i=e.trim().split(/\s+/),a=["text-left","text-center","text-right"],c=s.commonAncestorContainer,d=c.nodeType===3?c.parentElement:c;if(d&&d.tagName.toLowerCase()===t.toLowerCase()){const g=new Set(d.className.trim().split(/\s+/));a.forEach(x=>g.delete(x)),i.forEach(x=>{g.has(x)?g.delete(x):g.add(x)}),d.className=Array.from(g).join(" ");return}const h=document.createElement(t);h.classList.add(...i);const p=s.extractContents();h.appendChild(p),s.insertNode(h);const m=document.createRange();m.setStartAfter(h),m.collapse(!0),n.removeAllRanges(),n.addRange(m)},e3=()=>VS("span","text-xs text-gray-600"),$S=(t=null,e=null)=>{const n=window.getSelection();if(!n||n.rangeCount===0)return;const s=n.getRangeAt(0);if(s.collapsed)return;t==="*"&&(t=null,e=null);const r=s.cloneContents(),i=c=>{if(c.nodeType===1){const d=(!t||c.nodeName.toLowerCase()===t.toLowerCase())&&(!e||c.classList.contains(e)),h=document.createElement("span");if(h.textContent=c.textContent,d)return h;const p=document.createElement(c.nodeName.toLowerCase());return Array.from(c.attributes).forEach(m=>p.setAttribute(m.name,m.value)),c.childNodes.forEach(m=>{p.appendChild(i(m))}),p}return c.cloneNode(!0)},a=document.createDocumentFragment();r.childNodes.forEach(c=>a.appendChild(i(c))),s.deleteContents(),s.insertNode(a)},US=(t,e="")=>{const n=window.getSelection();if(!n||n.rangeCount===0)return!1;let s=n.focusNode;for(;s;){if(s.nodeType===1&&s.nodeName.toLowerCase()===t.toLowerCase()&&(!e||s.classList.contains(e)))return!0;s=s.parentNode}return!1},To=(t,e="")=>{let n="";typeof e=="string"?n=e:e&&typeof e=="object"&&"class"in e&&(n=e.class),US(t)?$S():VS(t,n)},t3=()=>To("code","font-mono bg-gray-200 px-1 rounded text-sm"),n3=(t=1)=>{const e={1:"text-3xl font-bold",2:"text-2xl font-semibold",3:"text-xl font-medium",4:"text-lg font-medium",5:"text-base font-semibold",6:"text-sm font-semibold text-gray-600"};To("h"+t,{class:e[t]||"text-lg"})},s3=()=>{To("p","text-base leading-relaxed mb-3")},r3=()=>{To("blockquote","border-l-4 border-gray-400 pl-4 italic text-gray-700")},i3=()=>{To("pre","bg-gray-100 p-2 rounded text-sm font-mono whitespace-pre-wrap")},HS=t=>{const e=window.getSelection();if(!e||e.rangeCount===0)return;const s=e.getRangeAt(0).commonAncestorContainer;let r=s.nodeType===3?s.parentNode:s;for(;r&&r.nodeName.toLowerCase()!==t.toLowerCase();)r=r.parentNode;if(r&&r.nodeName.toLowerCase()===t.toLowerCase()){const i=document.createDocumentFragment(),a=Array.from(r.childNodes);a.forEach(d=>i.appendChild(d));const c=document.createRange();c.setStartBefore(a[0]),c.setEndAfter(a[a.length-1]),r.replaceWith(i),e.removeAllRanges(),e.addRange(c)}},Jv=(t="ul")=>{const e=t==="ol"?"ol":"ul";US(e)?HS(e):To(e,e==="ul"?"list-disc pl-6":"list-decimal pl-6")},mm=(t="left")=>{To("div",{class:{left:"text-left",center:"text-center",right:"text-right"}[t]})},o3=()=>{const t=window.getSelection();if(!t||t.rangeCount===0)return;const e=t.focusNode,n=[];let s=e;for(;s&&s!==document.body;)s.nodeType===1&&n.unshift(`${s.nodeName.toLowerCase()}.${[...s.classList].join(".")}`),s=s.parentNode;console.log(" Selection Path:",n.join(" > "))},a3=()=>HS("a"),l3=()=>{const t=[];let e=-1;return{save:(i,a)=>{t.splice(e+1),t.push({content:i,selection:a}),e=t.length-1},undo:()=>e>0?(e--,t[e]):null,redo:()=>e<t.length-1?(e++,t[e]):null}},c3=t=>{const e=window.getSelection();if(!e.rangeCount)return null;const n=e.getRangeAt(0);return t.contains(n.startContainer)?{startOffset:n.startOffset,endOffset:n.endOffset,startContainerPath:t1(t,n.startContainer),endContainerPath:t1(t,n.endContainer)}:null},e1=(t,{content:e,selection:n})=>{if(t.innerHTML=e,n){const s=document.createRange(),r=n1(t,n.startContainerPath),i=n1(t,n.endContainerPath);if(r&&i){s.setStart(r,n.startOffset),s.setEnd(i,n.endOffset);const a=window.getSelection();a.removeAllRanges(),a.addRange(s)}}},t1=(t,e)=>{const n=[];for(;e!==t&&e!=null;){const s=e.parentNode;if(!s)break;const r=Array.from(s.childNodes).indexOf(e);n.unshift(r),e=s}return n},n1=(t,e)=>{let n=t;for(let s of e){if(!n||!n.childNodes[s])return null;n=n.childNodes[s]}return n},u3=t=>{t.querySelectorAll("span").forEach(n=>{if(!n.getAttribute("class")&&!n.getAttribute("style")){const s=document.createDocumentFragment();for(;n.firstChild;)s.appendChild(n.firstChild);n.replaceWith(s)}})},d3=t=>{t!=null&&t.current&&u3(t.current)};var WS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s1=Is.createContext&&Is.createContext(WS),h3=["attr","size","title"];function f3(t,e){if(t==null)return{};var n=p3(t,e),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function p3(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},jh.apply(this,arguments)}function r1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r1(Object(n),!0).forEach(function(s){m3(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r1(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function m3(t,e,n){return e=g3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g3(t){var e=y3(t,"string");return typeof e=="symbol"?e:e+""}function y3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qS(t){return t&&t.map((e,n)=>Is.createElement(e.tag,kh({key:n},e.attr),qS(e.child)))}function nn(t){return e=>Is.createElement(x3,jh({attr:kh({},t.attr)},e),qS(t.child))}function x3(t){var e=n=>{var{attr:s,size:r,title:i}=t,a=f3(t,h3),c=r||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Is.createElement("svg",jh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,a,{className:d,style:kh(kh({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&Is.createElement("title",null,i),t.children)};return s1!==void 0?Is.createElement(s1.Consumer,null,n=>e(n)):e(WS)}function b3(t){return nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM108.1 96h231.81A12.09 12.09 0 0 0 352 83.9V44.09A12.09 12.09 0 0 0 339.91 32H108.1A12.09 12.09 0 0 0 96 44.09V83.9A12.1 12.1 0 0 0 108.1 96zm231.81 256A12.09 12.09 0 0 0 352 339.9v-39.81A12.09 12.09 0 0 0 339.91 288H108.1A12.09 12.09 0 0 0 96 300.09v39.81a12.1 12.1 0 0 0 12.1 12.1z"},child:[]}]})(t)}function v3(t){return nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function w3(t){return nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 224h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm416 192H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm3.17-384H172.83A12.82 12.82 0 0 0 160 44.83v38.34A12.82 12.82 0 0 0 172.83 96h262.34A12.82 12.82 0 0 0 448 83.17V44.83A12.82 12.82 0 0 0 435.17 32zm0 256H172.83A12.82 12.82 0 0 0 160 300.83v38.34A12.82 12.82 0 0 0 172.83 352h262.34A12.82 12.82 0 0 0 448 339.17v-38.34A12.82 12.82 0 0 0 435.17 288z"},child:[]}]})(t)}function _3(t){return nn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"},child:[]}]})(t)}function i1(t){return nn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(t)}function S3(t){return nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 96v320h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H320a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V288H160v128h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V96H32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-32v128h192V96h-32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16z"},child:[]}]})(t)}function C3(t){return nn({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"},child:[]}]})(t)}function j3(t){return nn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"},child:[]}]})(t)}function k3(t){return nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"},child:[]}]})(t)}function N3(t){return nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function T3(t){return nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 48v32a16 16 0 0 1-16 16h-48v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V96h-32v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V352h-32a160 160 0 0 1 0-320h240a16 16 0 0 1 16 16z"},child:[]}]})(t)}function E3(t){return nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function P3(t){return nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 224H293.9l-87.17-26.83A43.55 43.55 0 0 1 219.55 112h66.79A49.89 49.89 0 0 1 331 139.58a16 16 0 0 0 21.46 7.15l42.94-21.47a16 16 0 0 0 7.16-21.46l-.53-1A128 128 0 0 0 287.51 32h-68a123.68 123.68 0 0 0-123 135.64c2 20.89 10.1 39.83 21.78 56.36H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-180.24 96A43 43 0 0 1 336 356.45 43.59 43.59 0 0 1 292.45 400h-66.79A49.89 49.89 0 0 1 181 372.42a16 16 0 0 0-21.46-7.15l-42.94 21.47a16 16 0 0 0-7.16 21.46l.53 1A128 128 0 0 0 224.49 480h68a123.68 123.68 0 0 0 123-135.64 114.25 114.25 0 0 0-5.34-24.36z"},child:[]}]})(t)}function A3(t){return nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 448h-16V304a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 400 352h16v96h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM336 64h-67a16 16 0 0 0-13.14 6.87l-79.9 115-79.9-115A16 16 0 0 0 83 64H16A16 16 0 0 0 0 80v48a16 16 0 0 0 16 16h33.48l77.81 112-77.81 112H16a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h67a16 16 0 0 0 13.14-6.87l79.9-115 79.9 115A16 16 0 0 0 269 448h67a16 16 0 0 0 16-16v-48a16 16 0 0 0-16-16h-33.48l-77.81-112 77.81-112H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16z"},child:[]}]})(t)}function M3(t){return nn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 160h-16V16a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 400 64h16v96h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM336 64h-67a16 16 0 0 0-13.14 6.87l-79.9 115-79.9-115A16 16 0 0 0 83 64H16A16 16 0 0 0 0 80v48a16 16 0 0 0 16 16h33.48l77.81 112-77.81 112H16a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h67a16 16 0 0 0 13.14-6.87l79.9-115 79.9 115A16 16 0 0 0 269 448h67a16 16 0 0 0 16-16v-48a16 16 0 0 0-16-16h-33.48l-77.81-112 77.81-112H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16z"},child:[]}]})(t)}function R3(t){return nn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}const D3=({editorRef:t,onUndo:e,onRedo:n})=>{const s=r=>()=>{r(),t!=null&&t.current&&d3(t)};return u.jsxs("div",{className:"flex flex-wrap gap-2 p-2 bg-slate-100 border rounded",children:[u.jsx(ut,{icon:u.jsx(_3,{}),onClick:s(Y4),title:"Bold"}),u.jsx(ut,{icon:u.jsx(j3,{}),onClick:s(K4),title:"Italic"}),u.jsx(ut,{icon:u.jsx(R3,{}),onClick:s(X4),title:"Underline"}),u.jsx(ut,{icon:u.jsx(P3,{}),onClick:s(Q4),title:"Strikethrough"}),u.jsx(ut,{icon:u.jsx(C3,{}),onClick:s(G4),title:"Highlight"}),u.jsx(ut,{icon:u.jsx(M3,{}),onClick:s(Z4),title:"Superscript"}),u.jsx(ut,{icon:u.jsx(A3,{}),onClick:s(J4),title:"Subscript"}),u.jsx(ut,{icon:u.jsx("span",{className:"text-xs",children:"aA"}),onClick:s(e3),title:"Small Text"}),u.jsx(ut,{icon:u.jsx(i1,{}),onClick:s(t3),title:"Inline Code"}),[1,2,3].map(r=>u.jsx(ut,{icon:u.jsx(S3,{}),onClick:s(()=>n3(r)),title:`H${r}`},r)),u.jsx(ut,{icon:u.jsx(T3,{}),onClick:s(s3),title:"Paragraph"}),u.jsx(ut,{icon:u.jsx(E3,{}),onClick:s(r3),title:"Blockquote"}),u.jsx(ut,{icon:u.jsx(i1,{}),onClick:s(i3),title:"Code Block"}),u.jsx(ut,{icon:u.jsx(N3,{}),onClick:s(()=>Jv("ul")),title:"Bullet List"}),u.jsx(ut,{icon:u.jsx(k3,{}),onClick:s(()=>Jv("ol")),title:"Numbered List"}),u.jsx(ut,{icon:u.jsx(v3,{}),onClick:s(()=>mm("left")),title:"Align Left"}),u.jsx(ut,{icon:u.jsx(b3,{}),onClick:s(()=>mm("center")),title:"Align Center"}),u.jsx(ut,{icon:u.jsx(w3,{}),onClick:s(()=>mm("right")),title:"Align Right"}),u.jsx(ut,{icon:u.jsx("span",{children:""}),onClick:s(o3),title:"Inspect Selection"}),u.jsx(ut,{icon:u.jsx("span",{children:""}),onClick:s(a3),title:"Remove Link"}),u.jsx(ut,{icon:u.jsx("span",{children:""}),onClick:s(()=>$S("*")),title:"Clear All Formatting"}),u.jsx(ut,{icon:u.jsx("span",{children:""}),onClick:e,title:"Undo"}),u.jsx(ut,{icon:u.jsx("span",{children:""}),onClick:n,title:"Redo"})]})},ut=({icon:t,onClick:e,title:n})=>u.jsx("button",{type:"button",title:n,onClick:s=>{s.preventDefault(),e()},className:"flex items-center justify-center w-10 h-10 rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100 active:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150",children:t}),gm=l3(),O3=()=>{const t=j.useRef(null),[,e]=j.useState(0),n=()=>{if(!t.current)return;const i=c3(t.current);gm.save(t.current.innerHTML,i)},s=()=>{const i=gm.undo();i&&t.current&&(e1(t.current,i),e(a=>a+1))},r=()=>{const i=gm.redo();i&&t.current&&(e1(t.current,i),e(a=>a+1))};return j.useEffect(()=>{const i=t.current;if(!i)return;const a=new MutationObserver(()=>{n()});return a.observe(i,{childList:!0,subtree:!0,characterData:!0}),n(),()=>a.disconnect()},[]),u.jsxs("div",{className:"space-y-4",children:[u.jsx(D3,{editorRef:t,onUndo:s,onRedo:r}),u.jsx("div",{ref:t,contentEditable:!0,className:"min-h-[300px] border p-4 bg-white text-slate-800 rounded shadow-sm prose focus:outline-none"})]})},Tc=t=>new Date(t).toLocaleDateString("en-GB"),L3=[{code:"USD",name:"US Dollar"},{code:"EUR",name:"Euro"}],o1=()=>({description:"",quantity:1,price:0,taxRate:0}),Nh=({invoice:t,onClose:e,onSaved:n})=>{var T,M,P;const[s,r]=j.useState({invoiceNumber:(t==null?void 0:t.invoiceNumber)||"",type:(t==null?void 0:t.type)||"",clientCompany:typeof(t==null?void 0:t.clientCompany)=="object"?((T=t==null?void 0:t.clientCompany)==null?void 0:T._id)||"":(t==null?void 0:t.clientCompany)||"",supplierCompany:typeof(t==null?void 0:t.supplierCompany)=="object"?((M=t==null?void 0:t.supplierCompany)==null?void 0:M._id)||"":(t==null?void 0:t.supplierCompany)||"",client:(t==null?void 0:t.client)||"",supplier:(t==null?void 0:t.supplier)||"",currency:(t==null?void 0:t.currency)||"USD",dateIssued:t!=null&&t.dateIssued?t.dateIssued.slice(0,10):"",dueDate:t!=null&&t.dueDate?t.dueDate.slice(0,10):"",status:(t==null?void 0:t.status)||"unpaid",imageFile:null,category:(t==null?void 0:t.category)||"",tags:t!=null&&t.tags?t.tags.join(", "):"",notes:(t==null?void 0:t.notes)||"",items:t!=null&&t.items&&t.items.length>0?t.items.map(R=>({...R,price:R.price||0,quantity:R.quantity||1,taxRate:R.taxRate||0})):[o1()]}),[i,a]=j.useState(null);j.useEffect(()=>{if(t!=null&&t.lastEditedBy){const R=typeof t.lastEditedBy=="object"?t.lastEditedBy._id:t.lastEditedBy;R?oe.get(`/users/${R}`).then(z=>a(z.data)).catch(()=>a(null)):a(null)}else a(null)},[t]);const[c,d]=j.useState([]);j.useEffect(()=>{oe.get("/companies").then(R=>d(Array.isArray(R.data)?R.data:R.data.companies||[])).catch(()=>d([]))},[]);const h=()=>r(R=>({...R,items:[...R.items,o1()]})),p=R=>r(z=>({...z,items:z.items.length>1?z.items.filter((I,F)=>F!==R):z.items})),m=(R,z,I)=>r(F=>({...F,items:F.items.map((U,ee)=>ee===R?{...U,[z]:I}:U)})),g=R=>{const{name:z,value:I,type:F}=R.target;r(U=>({...U,[z]:F==="number"?parseFloat(I):I}))},x=(R,z)=>{r(I=>({...I,[R]:z,[R==="clientCompany"?"client":"supplier"]:""}))},v=R=>{r(z=>({...z,imageFile:R.target.files[0]}))},w=s.items.reduce((R,z)=>R+parseFloat(z.price||0)*parseFloat(z.quantity||1),0),_=s.items.reduce((R,z)=>R+parseFloat(z.price||0)*parseFloat(z.quantity||1)*(parseFloat(z.taxRate||0)/100),0),C=w+_,k=async R=>{var ee;R.preventDefault();const z=s.tags?s.tags.split(",").map(J=>J.trim()).filter(Boolean):[],I={invoiceNumber:s.invoiceNumber,type:s.type,clientCompany:typeof s.clientCompany=="object"?s.clientCompany._id:s.clientCompany||void 0,supplierCompany:typeof s.supplierCompany=="object"?s.supplierCompany._id:s.supplierCompany||void 0,client:s.client,supplier:s.supplier,currency:s.currency,dateIssued:s.dateIssued,dueDate:s.dueDate||void 0,status:s.status,category:s.category,tags:z,notes:s.notes,subtotal:w,totalTax:_,totalAmount:C,items:s.items};let F,U;s.imageFile?(F=new FormData,Object.entries(I).forEach(([J,de])=>{J==="items"||J==="tags"?F.append(J,JSON.stringify(de)):de!==void 0&&F.append(J,de)}),F.append("file",s.imageFile),U=void 0):(F=I,U=void 0);try{t!=null&&t._id?await oe.put(`/invoices/${t._id}`,F,U?{headers:U}:void 0):await oe.post("/invoices",F,U?{headers:U}:void 0),n()}catch(J){console.error("Error saving invoice:",((ee=J==null?void 0:J.response)==null?void 0:ee.data)||J.message)}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:u.jsxs("form",{onSubmit:k,className:"w-full max-w-md max-h-[90vh] overflow-y-auto bg-[#1c1e2b] text-white p-4 md:p-6 rounded-lg shadow-2xl space-y-3 text-sm",encType:s.imageFile?"multipart/form-data":"application/json",children:[t&&u.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Last Edited:"," ",t.updatedAt?new Date(t.updatedAt).toLocaleString():""]}),i&&u.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Edited by: ",(i==null?void 0:i.name)||(i==null?void 0:i.email)||(t==null?void 0:t.lastEditedBy)]}),u.jsxs("div",{children:[u.jsx("input",{name:"invoiceNumber",value:s.invoiceNumber,onChange:g,placeholder:"Invoice Number",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 mb-2",required:!0}),u.jsxs("select",{name:"type",value:s.type,onChange:g,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2",required:!0,children:[u.jsx("option",{value:"",children:"Select Type"}),u.jsx("option",{value:"income",children:"Income (You will receive money)"}),u.jsx("option",{value:"outcome",children:"Expense (You will pay money)"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Client"}),u.jsxs("select",{name:"clientCompany",value:s.clientCompany||"",onChange:R=>x("clientCompany",R.target.value),className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 mb-1",children:[u.jsx("option",{value:"",children:" Company "}),c.map(R=>u.jsx("option",{value:R._id,children:R.name},R._id))]}),!s.clientCompany&&u.jsx("input",{name:"client",value:s.client,onChange:g,placeholder:"Or enter client name",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Supplier"}),u.jsxs("select",{name:"supplierCompany",value:s.supplierCompany||"",onChange:R=>x("supplierCompany",R.target.value),className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 mb-1",children:[u.jsx("option",{value:"",children:" Company "}),c.map(R=>u.jsx("option",{value:R._id,children:R.name},R._id))]}),!s.supplierCompany&&u.jsx("input",{name:"supplier",value:s.supplier,onChange:g,placeholder:"Or enter supplier name",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Date Issued"}),u.jsx("input",{name:"dateIssued",type:"date",value:s.dateIssued,onChange:g,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Due Date"}),u.jsx("input",{name:"dueDate",type:"date",value:s.dueDate,onChange:g,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{name:"category",value:s.category,onChange:g,placeholder:"Category",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"}),u.jsx("input",{name:"tags",value:s.tags,onChange:g,placeholder:"Tags",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("select",{name:"currency",value:s.currency,onChange:g,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:L3.map(({code:R,name:z})=>u.jsxs("option",{value:R,children:[R,"  ",z]},R))}),u.jsxs("select",{name:"status",value:s.status,onChange:g,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2",children:[u.jsx("option",{value:"unpaid",children:"Unpaid"}),u.jsx("option",{value:"paid",children:"Paid"}),u.jsx("option",{value:"draft",children:"Draft"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Products or Services"}),s.items.map((R,z)=>u.jsxs("div",{className:"flex gap-1 mb-2",children:[u.jsx("input",{type:"text",placeholder:"Product/Service",value:R.description,onChange:I=>m(z,"description",I.target.value),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-2/5",required:!0}),u.jsx("input",{type:"number",placeholder:"Qty",min:1,value:R.quantity,onChange:I=>m(z,"quantity",parseFloat(I.target.value)),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-1/6",required:!0}),u.jsx("input",{type:"number",placeholder:"Unit Price",min:0,step:"0.01",value:R.price,onChange:I=>m(z,"price",parseFloat(I.target.value)),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-1/5",required:!0}),u.jsx("input",{type:"number",placeholder:"Tax %",min:0,step:"0.01",value:R.taxRate,onChange:I=>m(z,"taxRate",parseFloat(I.target.value)),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-1/6"}),u.jsx("button",{type:"button",onClick:()=>p(z),className:"text-red-400 hover:text-red-600 ml-1",title:"Remove",disabled:s.items.length===1,children:""})]},z)),u.jsx("button",{type:"button",onClick:h,className:"w-full py-1 bg-blue-700 hover:bg-blue-800 rounded text-xs",children:"+ Add Product/Service"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400",children:"Subtotal"}),u.jsx("input",{type:"number",value:w.toFixed(2),readOnly:!0,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-2 py-1 opacity-70",tabIndex:-1})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400",children:"Total Tax"}),u.jsx("input",{type:"number",value:_.toFixed(2),readOnly:!0,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-2 py-1 opacity-70",tabIndex:-1})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"text-xs text-gray-400",children:"Total Amount"}),u.jsx("input",{type:"number",value:C.toFixed(2),readOnly:!0,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-2 py-1 opacity-70",tabIndex:-1})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Notes"}),u.jsx("textarea",{name:"notes",value:s.notes,onChange:g,placeholder:"Add any notes or comments",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 min-h-[48px]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Invoice Image"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{htmlFor:"invoiceImage",className:"cursor-pointer px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",children:s.imageFile?"Change Image":"Upload Image"}),u.jsx("input",{id:"invoiceImage",type:"file",accept:"image/*",onChange:v,className:"hidden"}),u.jsx("span",{className:"text-xs text-gray-400 truncate max-w-xs",children:((P=s.imageFile)==null?void 0:P.name)||(t==null?void 0:t.imageUrl)&&"Existing image"})]}),(s.imageFile||(t==null?void 0:t.imageUrl))&&u.jsx("img",{src:s.imageFile?URL.createObjectURL(s.imageFile):t.imageUrl,alt:"Invoice preview",className:"mt-2 max-h-24 border border-gray-600 rounded"})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-500 text-gray-300 rounded hover:bg-gray-700",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Save"})]})]})})},I3={name:"",vatNumber:"",address:"",email:"",phone:"",country:"",website:"",notes:""},F3=({onClose:t,onSaved:e})=>{const[n,s]=j.useState(I3),[r,i]=j.useState(!1),[a,c]=j.useState(""),d=p=>{const{name:m,value:g}=p.target;s(x=>({...x,[m]:g}))},h=async p=>{var m,g,x;p.preventDefault(),i(!0),c("");try{await oe.post("/companies",n),e()}catch(v){c(((g=(m=v==null?void 0:v.response)==null?void 0:m.data)==null?void 0:g.message)||((x=v==null?void 0:v.response)==null?void 0:x.data)||v.message||"Failed to create company")}finally{i(!1)}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:u.jsxs("form",{onSubmit:h,className:"w-full max-w-md bg-[#23263a] text-white p-6 rounded-lg shadow-xl space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold mb-2",children:"+ New Company"}),a&&u.jsx("div",{className:"text-red-400 mb-2 text-sm",children:a}),u.jsx("input",{name:"name",value:n.name,onChange:d,placeholder:"Company Name *",required:!0,className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("input",{name:"vatNumber",value:n.vatNumber,onChange:d,placeholder:"VAT Number",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("input",{name:"address",value:n.address,onChange:d,placeholder:"Address",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("input",{name:"email",value:n.email,onChange:d,placeholder:"Email",type:"email",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("input",{name:"phone",value:n.phone,onChange:d,placeholder:"Phone",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("input",{name:"country",value:n.country,onChange:d,placeholder:"Country",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("input",{name:"website",value:n.website,onChange:d,placeholder:"Website",type:"url",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("textarea",{name:"notes",value:n.notes,onChange:d,placeholder:"Notes",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full min-h-[50px]"}),u.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-500 text-gray-300 rounded hover:bg-gray-700",disabled:r,children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",disabled:r,children:r?"Saving...":"Save"})]})]})})},B3=["jpg","jpeg","png","webp","gif","bmp"],z3=["pdf"];function YS(t="",e="pdf"){var s;const n=(s=t.split(".").pop().split("?")[0])==null?void 0:s.toLowerCase();return!n||n.length>5?e:n}function V3(t=""){const e=YS(t);return B3.includes(e)?"image":z3.includes(e)?"pdf":"other"}function $3(t,e){const n=YS(e);return`${(t==null?void 0:t.invoiceNumber)||(t==null?void 0:t.systemInvoiceNumber)||"invoice-file"}.${n}`}const mg=({invoice:t,onClose:e})=>{const{invoiceNumber:n,systemInvoiceNumber:s,type:r,clientCompany:i,supplierCompany:a,client:c,supplier:d,currency:h,dateIssued:p,dueDate:m,status:g,category:x,tags:v,notes:w,items:_=[],subtotal:C,totalTax:k,totalAmount:T,imageUrl:M}=t,[P,R]=j.useState(!1),z=V3(M),I=$3(t,M),F=M?`/api/download?url=${encodeURIComponent(M)}&name=${encodeURIComponent(I)}`:"";return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[P&&z==="image"&&u.jsx("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/80",onClick:()=>R(!1),children:u.jsx("img",{src:M,alt:"Invoice Preview",className:"max-w-4xl max-h-[90vh] rounded-lg border-2 border-white shadow-xl",onClick:U=>U.stopPropagation()})}),u.jsxs("div",{className:`\r
        bg-[#23263a] text-white rounded-2xl shadow-2xl\r
        flex flex-col md:flex-row relative min-h-[600px] overflow-hidden\r
        w-[90vw] max-w-[1400px] min-w-[900px]\r
        p-0\r
      `,children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-6 text-gray-400 hover:text-gray-200 text-2xl font-bold z-10",children:""}),u.jsxs("div",{className:"basis-1/2 min-w-0 p-8 flex flex-col overflow-y-auto max-h-[80vh]",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Invoice Details"}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Invoice #:"})," ",n||s]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Type:"})," ",r]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Status:"})," ",g]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Date Issued:"})," ",Tc(p)]}),m&&u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Due Date:"})," ",Tc(m)]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Currency:"})," ",h]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Category:"})," ",x||""]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Tags:"})," ",(v==null?void 0:v.length)>0?v.join(", "):""]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("span",{className:"font-semibold",children:"Notes:"})," ",w||""]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("span",{className:"font-semibold",children:"Client:"})," ",i?u.jsxs(u.Fragment,{children:[i.name,i.vatNumber?` (VAT: ${i.vatNumber})`:""]}):u.jsx("span",{children:c||""})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("span",{className:"font-semibold",children:"Supplier:"})," ",a?u.jsxs(u.Fragment,{children:[a.name,a.vatNumber?` (VAT: ${a.vatNumber})`:""]}):u.jsx("span",{children:d||""})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"font-semibold mb-2",children:"Products:"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm border border-gray-700 rounded",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-[#252a3a]",children:[u.jsx("th",{className:"p-2 text-left",children:"Description"}),u.jsx("th",{className:"p-2 text-right",children:"Qty"}),u.jsx("th",{className:"p-2 text-right",children:"Unit Price"}),u.jsx("th",{className:"p-2 text-right",children:"Tax %"}),u.jsx("th",{className:"p-2 text-right",children:"Total"})]})}),u.jsx("tbody",{children:_.map((U,ee)=>u.jsxs("tr",{className:"border-t border-gray-700",children:[u.jsx("td",{className:"p-2 text-left",children:U.description}),u.jsx("td",{className:"p-2 text-right",children:U.quantity}),u.jsx("td",{className:"p-2 text-right",children:U.price}),u.jsx("td",{className:"p-2 text-right",children:U.taxRate}),u.jsx("td",{className:"p-2 text-right",children:(Number(U.price||0)*Number(U.quantity||1)*(1+Number(U.taxRate||0)/100)).toFixed(2)})]},ee))})]})})]}),u.jsxs("div",{className:"flex flex-col gap-2 border-t border-gray-700 pt-2 mt-4",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Subtotal:"})," ",Number(C).toFixed(2)," ",h]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Total Tax:"})," ",Number(k).toFixed(2)," ",h]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Total Amount:"})," ",Number(T).toFixed(2)," ",h]})]})]}),u.jsxs("div",{className:"basis-1/2 min-w-0 p-8 flex flex-col items-center justify-start gap-4",children:[u.jsx("div",{className:"font-semibold mb-2 mt-1 md:mt-0 text-lg w-full text-center",children:"Invoice File:"}),M&&(z==="image"?u.jsxs(u.Fragment,{children:[u.jsx("img",{src:M,alt:"Invoice",className:"w-full max-w-[540px] max-h-[600px] border border-gray-600 rounded-lg cursor-zoom-in hover:shadow-lg transition",title:"Click to preview",onClick:()=>R(!0),style:{objectFit:"contain"}}),u.jsx("a",{href:F,className:"bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded transition text-sm mt-2",children:"Download Image"})]}):z==="pdf"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border border-gray-700 rounded-lg bg-white w-full flex justify-center items-center",style:{minHeight:540,height:540,maxWidth:"100%"},children:u.jsx("iframe",{src:`/api/download?url=${encodeURIComponent(M)}&inline=true`,title:"PDF Preview",className:"w-full h-full rounded-lg",style:{minHeight:530,height:530},frameBorder:0,allowFullScreen:!0})}),u.jsx("div",{className:"flex gap-2 mt-2",children:u.jsx("a",{href:F,className:"bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded transition text-sm",children:"Download PDF"})})]}):u.jsx("a",{href:F,className:"bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded transition text-sm",children:"Download File"}))]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nu(t){return t+.5|0}const pi=(t,e,n)=>Math.max(Math.min(t,n),e);function ic(t){return pi(nu(t*2.55),0,255)}function yi(t){return pi(nu(t*255),0,255)}function ur(t){return pi(nu(t/2.55)/100,0,1)}function a1(t){return pi(nu(t*100),0,100)}const qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},gg=[..."0123456789ABCDEF"],U3=t=>gg[t&15],H3=t=>gg[(t&240)>>4]+gg[t&15],jd=t=>(t&240)>>4===(t&15),W3=t=>jd(t.r)&&jd(t.g)&&jd(t.b)&&jd(t.a);function q3(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&qn[t[1]]*17,g:255&qn[t[2]]*17,b:255&qn[t[3]]*17,a:e===5?qn[t[4]]*17:255}:(e===7||e===9)&&(n={r:qn[t[1]]<<4|qn[t[2]],g:qn[t[3]]<<4|qn[t[4]],b:qn[t[5]]<<4|qn[t[6]],a:e===9?qn[t[7]]<<4|qn[t[8]]:255})),n}const Y3=(t,e)=>t<255?e(t):"";function K3(t){var e=W3(t)?U3:H3;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Y3(t.a,e):void 0}const X3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function KS(t,e,n){const s=e*Math.min(n,1-n),r=(i,a=(i+t/30)%12)=>n-s*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function Q3(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function G3(t,e,n){const s=KS(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function Z3(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function I0(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),a=Math.min(n,s,r),c=(i+a)/2;let d,h,p;return i!==a&&(p=i-a,h=c>.5?p/(2-i-a):p/(i+a),d=Z3(n,s,r,p,i),d=d*60+.5),[d|0,h||0,c]}function F0(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(yi)}function B0(t,e,n){return F0(KS,t,e,n)}function J3(t,e,n){return F0(G3,t,e,n)}function eM(t,e,n){return F0(Q3,t,e,n)}function XS(t){return(t%360+360)%360}function tM(t){const e=X3.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?ic(+e[5]):yi(+e[5]));const r=XS(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?s=J3(r,i,a):e[1]==="hsv"?s=eM(r,i,a):s=B0(r,i,a),{r:s[0],g:s[1],b:s[2],a:n}}function nM(t,e){var n=I0(t);n[0]=XS(n[0]+e),n=B0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function sM(t){if(!t)return;const e=I0(t),n=e[0],s=a1(e[1]),r=a1(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${ur(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const l1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},c1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function rM(){const t={},e=Object.keys(c1),n=Object.keys(l1);let s,r,i,a,c;for(s=0;s<e.length;s++){for(a=c=e[s],r=0;r<n.length;r++)i=n[r],c=c.replace(i,l1[i]);i=parseInt(c1[a],16),t[c]=[i>>16&255,i>>8&255,i&255]}return t}let kd;function iM(t){kd||(kd=rM(),kd.transparent=[0,0,0,0]);const e=kd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const oM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aM(t){const e=oM.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const a=+e[7];n=e[8]?ic(a):pi(a*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?ic(s):pi(s,0,255)),r=255&(e[4]?ic(r):pi(r,0,255)),i=255&(e[6]?ic(i):pi(i,0,255)),{r:s,g:r,b:i,a:n}}}function lM(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ur(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ym=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ha=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function cM(t,e,n){const s=ha(ur(t.r)),r=ha(ur(t.g)),i=ha(ur(t.b));return{r:yi(ym(s+n*(ha(ur(e.r))-s))),g:yi(ym(r+n*(ha(ur(e.g))-r))),b:yi(ym(i+n*(ha(ur(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Nd(t,e,n){if(t){let s=I0(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=B0(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function QS(t,e){return t&&Object.assign(e||{},t)}function u1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=yi(t[3]))):(e=QS(t,{r:0,g:0,b:0,a:1}),e.a=yi(e.a)),e}function uM(t){return t.charAt(0)==="r"?aM(t):tM(t)}class Ec{constructor(e){if(e instanceof Ec)return e;const n=typeof e;let s;n==="object"?s=u1(e):n==="string"&&(s=q3(e)||iM(e)||uM(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=QS(this._rgb);return e&&(e.a=ur(e.a)),e}set rgb(e){this._rgb=u1(e)}rgbString(){return this._valid?lM(this._rgb):void 0}hexString(){return this._valid?K3(this._rgb):void 0}hslString(){return this._valid?sM(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const a=n===i?.5:n,c=2*a-1,d=s.a-r.a,h=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;i=1-h,s.r=255&h*s.r+i*r.r+.5,s.g=255&h*s.g+i*r.g+.5,s.b=255&h*s.b+i*r.b+.5,s.a=a*s.a+(1-a)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=cM(this._rgb,e._rgb,n)),this}clone(){return new Ec(this.rgb)}alpha(e){return this._rgb.a=yi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=nu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Nd(this._rgb,2,e),this}darken(e){return Nd(this._rgb,2,-e),this}saturate(e){return Nd(this._rgb,1,e),this}desaturate(e){return Nd(this._rgb,1,-e),this}rotate(e){return nM(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ir(){}const dM=(()=>{let t=0;return()=>t++})();function qe(t){return t==null}function jt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ue(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function tn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ps(t,e){return tn(t)?t:e}function De(t,e){return typeof t>"u"?e:t}const hM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,GS=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ne(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ve(t,e,n,s){let r,i,a;if(jt(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(Ue(t))for(a=Object.keys(t),i=a.length,r=0;r<i;r++)e.call(n,t[a[r]],a[r])}function Th(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Eh(t){if(jt(t))return t.map(Eh);if(Ue(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=Eh(t[n[r]]);return e}return t}function ZS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function fM(t,e,n,s){if(!ZS(t))return;const r=e[t],i=n[t];Ue(r)&&Ue(i)?$s(r,i,s):e[t]=Eh(i)}function $s(t,e,n){const s=jt(e)?e:[e],r=s.length;if(!Ue(t))return t;n=n||{};const i=n.merger||fM;let a;for(let c=0;c<r;++c){if(a=s[c],!Ue(a))continue;const d=Object.keys(a);for(let h=0,p=d.length;h<p;++h)i(d[h],t,a,n)}return t}function dc(t,e){return $s(t,e,{merger:pM})}function pM(t,e,n){if(!ZS(t))return;const s=e[t],r=n[t];Ue(s)&&Ue(r)?dc(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Eh(r))}const d1={"":t=>t,x:t=>t.x,y:t=>t.y};function mM(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function gM(t){const e=mM(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function wo(t,e){return(d1[e]||(d1[e]=gM(e)))(t)}function z0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Pc=t=>typeof t<"u",vi=t=>typeof t=="function",h1=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function yM(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ge=Math.PI,ht=2*Ge,xM=ht+Ge,Ph=Number.POSITIVE_INFINITY,bM=Ge/180,Ot=Ge/2,qi=Ge/4,f1=Ge*2/3,JS=Math.log10,Jn=Math.sign;function mo(t,e,n){return Math.abs(t-e)<n}function p1(t){const e=Math.round(t);t=mo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(JS(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function vM(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function wM(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ac(t){return!wM(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function _M(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function SM(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function fr(t){return t*(Ge/180)}function CM(t){return t*(180/Ge)}function m1(t){if(!tn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function eC(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*Ge&&(i+=ht),{angle:i,distance:r}}function yg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jM(t,e){return(t-e+xM)%ht-Ge}function Ln(t){return(t%ht+ht)%ht}function Mc(t,e,n,s){const r=Ln(t),i=Ln(e),a=Ln(n),c=Ln(i-r),d=Ln(a-r),h=Ln(r-i),p=Ln(r-a);return r===i||r===a||s&&i===a||c>d&&h<p}function Jt(t,e,n){return Math.max(e,Math.min(n,t))}function kM(t){return Jt(t,-32768,32767)}function pr(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function V0(t,e,n){n=n||(a=>t[a]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const to=(t,e,n,s)=>V0(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),NM=(t,e,n)=>V0(t,n,s=>t[s][e]>=n);function TM(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const tC=["push","pop","shift","splice","unshift"];function EM(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),tC.forEach(n=>{const s="_onData"+z0(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=r.apply(this,i);return t._chartjs.listeners.forEach(c=>{typeof c[s]=="function"&&c[s](...i)}),a}})})}function g1(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(tC.forEach(i=>{delete t[i]}),delete t._chartjs)}function nC(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const sC=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function rC(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,sC.call(window,()=>{s=!1,t.apply(e,n)}))}}function PM(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const $0=t=>t==="start"?"left":t==="end"?"right":"center",Gt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,AM=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function MM(t,e,n){const s=e.length;let r=0,i=s;if(t._sorted){const{iScale:a,vScale:c,_parsed:d}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=a.axis,{min:m,max:g,minDefined:x,maxDefined:v}=a.getUserBounds();if(x){if(r=Math.min(to(d,p,m).lo,n?s:to(e,p,a.getPixelForValue(m)).lo),h){const w=d.slice(0,r+1).reverse().findIndex(_=>!qe(_[c.axis]));r-=Math.max(0,w)}r=Jt(r,0,s-1)}if(v){let w=Math.max(to(d,a.axis,g,!0).hi+1,n?0:to(e,p,a.getPixelForValue(g),!0).hi+1);if(h){const _=d.slice(w-1).findIndex(C=>!qe(C[c.axis]));w+=Math.max(0,_)}i=Jt(w,r,s)-r}else i=s-r}return{start:r,count:i}}function RM(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const Td=t=>t===0||t===1,y1=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ht/n)),x1=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ht/n)+1,hc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ot)+1,easeOutSine:t=>Math.sin(t*Ot),easeInOutSine:t=>-.5*(Math.cos(Ge*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Td(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Td(t)?t:y1(t,.075,.3),easeOutElastic:t=>Td(t)?t:x1(t,.075,.3),easeInOutElastic(t){return Td(t)?t:t<.5?.5*y1(t*2,.1125,.45):.5+.5*x1(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-hc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?hc.easeInBounce(t*2)*.5:hc.easeOutBounce(t*2-1)*.5+.5};function U0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function b1(t){return U0(t)?t:new Ec(t)}function xm(t){return U0(t)?t:new Ec(t).saturate(.5).darken(.1).hexString()}const DM=["x","y","borderWidth","radius","tension"],OM=["color","borderColor","backgroundColor"];function LM(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:OM},numbers:{type:"number",properties:DM}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function IM(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const v1=new Map;function FM(t,e){e=e||{};const n=t+JSON.stringify(e);let s=v1.get(n);return s||(s=new Intl.NumberFormat(t,e),v1.set(n,s)),s}function H0(t,e,n){return FM(e,n).format(t)}const BM={values(t){return jt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),i=zM(t,n)}const a=JS(Math.abs(i)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),d={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),H0(t,s,d)}};function zM(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var iC={formatters:BM};function VM(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:iC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const _o=Object.create(null),xg=Object.create(null);function fc(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function bm(t,e,n){return typeof e=="string"?$s(fc(t,e),n):$s(fc(t,""),e)}class $M{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>xm(r.backgroundColor),this.hoverBorderColor=(s,r)=>xm(r.borderColor),this.hoverColor=(s,r)=>xm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return bm(this,e,n)}get(e){return fc(this,e)}describe(e,n){return bm(xg,e,n)}override(e,n){return bm(_o,e,n)}route(e,n,s,r){const i=fc(this,e),a=fc(this,s),c="_"+n;Object.defineProperties(i,{[c]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const d=this[c],h=a[r];return Ue(d)?Object.assign({},h,d):De(d,h)},set(d){this[c]=d}}})}apply(e){e.forEach(n=>n(this))}}var yt=new $M({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[LM,IM,VM]);function UM(t){return!t||qe(t.size)||qe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function w1(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function Yi(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function _1(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function bg(t,e,n,s){oC(t,e,n,s,null)}function oC(t,e,n,s,r){let i,a,c,d,h,p,m,g;const x=e.pointStyle,v=e.rotation,w=e.radius;let _=(v||0)*bM;if(x&&typeof x=="object"&&(i=x.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(_),t.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),x){default:r?t.ellipse(n,s,r/2,w,0,0,ht):t.arc(n,s,w,0,ht),t.closePath();break;case"triangle":p=r?r/2:w,t.moveTo(n+Math.sin(_)*p,s-Math.cos(_)*w),_+=f1,t.lineTo(n+Math.sin(_)*p,s-Math.cos(_)*w),_+=f1,t.lineTo(n+Math.sin(_)*p,s-Math.cos(_)*w),t.closePath();break;case"rectRounded":h=w*.516,d=w-h,a=Math.cos(_+qi)*d,m=Math.cos(_+qi)*(r?r/2-h:d),c=Math.sin(_+qi)*d,g=Math.sin(_+qi)*(r?r/2-h:d),t.arc(n-m,s-c,h,_-Ge,_-Ot),t.arc(n+g,s-a,h,_-Ot,_),t.arc(n+m,s+c,h,_,_+Ot),t.arc(n-g,s+a,h,_+Ot,_+Ge),t.closePath();break;case"rect":if(!v){d=Math.SQRT1_2*w,p=r?r/2:d,t.rect(n-p,s-d,2*p,2*d);break}_+=qi;case"rectRot":m=Math.cos(_)*(r?r/2:w),a=Math.cos(_)*w,c=Math.sin(_)*w,g=Math.sin(_)*(r?r/2:w),t.moveTo(n-m,s-c),t.lineTo(n+g,s-a),t.lineTo(n+m,s+c),t.lineTo(n-g,s+a),t.closePath();break;case"crossRot":_+=qi;case"cross":m=Math.cos(_)*(r?r/2:w),a=Math.cos(_)*w,c=Math.sin(_)*w,g=Math.sin(_)*(r?r/2:w),t.moveTo(n-m,s-c),t.lineTo(n+m,s+c),t.moveTo(n+g,s-a),t.lineTo(n-g,s+a);break;case"star":m=Math.cos(_)*(r?r/2:w),a=Math.cos(_)*w,c=Math.sin(_)*w,g=Math.sin(_)*(r?r/2:w),t.moveTo(n-m,s-c),t.lineTo(n+m,s+c),t.moveTo(n+g,s-a),t.lineTo(n-g,s+a),_+=qi,m=Math.cos(_)*(r?r/2:w),a=Math.cos(_)*w,c=Math.sin(_)*w,g=Math.sin(_)*(r?r/2:w),t.moveTo(n-m,s-c),t.lineTo(n+m,s+c),t.moveTo(n+g,s-a),t.lineTo(n-g,s+a);break;case"line":a=r?r/2:Math.cos(_)*w,c=Math.sin(_)*w,t.moveTo(n-a,s-c),t.lineTo(n+a,s+c);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(_)*(r?r/2:w),s+Math.sin(_)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ia(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function tf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function nf(t){t.restore()}function HM(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function WM(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function qM(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),qe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function YM(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),a=e-i.actualBoundingBoxLeft,c=e+i.actualBoundingBoxRight,d=n-i.actualBoundingBoxAscent,h=n+i.actualBoundingBoxDescent,p=r.strikethrough?(d+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,p),t.lineTo(c,p),t.stroke()}}function KM(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Rc(t,e,n,s,r,i={}){const a=jt(e)?e:[e],c=i.strokeWidth>0&&i.strokeColor!=="";let d,h;for(t.save(),t.font=r.string,qM(t,i),d=0;d<a.length;++d)h=a[d],i.backdrop&&KM(t,i.backdrop),c&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),qe(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(h,n,s,i.maxWidth)),t.fillText(h,n,s,i.maxWidth),YM(t,n,s,h,i),s+=Number(r.lineHeight);t.restore()}function Ah(t,e){const{x:n,y:s,w:r,h:i,radius:a}=e;t.arc(n+a.topLeft,s+a.topLeft,a.topLeft,1.5*Ge,Ge,!0),t.lineTo(n,s+i-a.bottomLeft),t.arc(n+a.bottomLeft,s+i-a.bottomLeft,a.bottomLeft,Ge,Ot,!0),t.lineTo(n+r-a.bottomRight,s+i),t.arc(n+r-a.bottomRight,s+i-a.bottomRight,a.bottomRight,Ot,0,!0),t.lineTo(n+r,s+a.topRight),t.arc(n+r-a.topRight,s+a.topRight,a.topRight,0,-Ot,!0),t.lineTo(n+a.topLeft,s)}const XM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,QM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function GM(t,e){const n=(""+t).match(XM);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const ZM=t=>+t||0;function W0(t,e){const n={},s=Ue(e),r=s?Object.keys(e):e,i=Ue(t)?s?a=>De(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=ZM(i(a));return n}function aC(t){return W0(t,{top:"y",right:"x",bottom:"y",left:"x"})}function wa(t){return W0(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Fn(t){const e=aC(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ut(t,e){t=t||{},e=e||yt.font;let n=De(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=De(t.style,e.style);s&&!(""+s).match(QM)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:De(t.family,e.family),lineHeight:GM(De(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:De(t.weight,e.weight),string:""};return r.string=UM(r),r}function it(t,e,n,s){let r,i,a;for(r=0,i=t.length;r<i;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e)),n!==void 0&&jt(a)&&(a=a[n%a.length]),a!==void 0))return a}function JM(t,e,n){const{min:s,max:r}=t,i=GS(e,(r-s)/2),a=(c,d)=>n&&c===0?0:c+d;return{min:a(s,-Math.abs(i)),max:a(r,i)}}function Eo(t,e){return Object.assign(Object.create(t),e)}function q0(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=dC("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:c=>q0([c,...t],e,i,s)};return new Proxy(a,{deleteProperty(c,d){return delete c[d],delete c._keys,delete t[0][d],!0},get(c,d){return cC(c,d,()=>aR(d,e,t,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,d){return C1(c).includes(d)},ownKeys(c){return C1(c)},set(c,d,h){const p=c._storage||(c._storage=r());return c[d]=p[d]=h,delete c._keys,!0}})}function Fa(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:lC(t,s),setContext:i=>Fa(t,i,n,s),override:i=>Fa(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,c){return cC(i,a,()=>tR(i,a,c))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,c){return t[a]=c,delete i[a],!0}})}function lC(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:vi(n)?n:()=>n,isIndexable:vi(s)?s:()=>s}}const eR=(t,e)=>t?t+z0(e):e,Y0=(t,e)=>Ue(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function cC(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function tR(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:a}=t;let c=s[e];return vi(c)&&a.isScriptable(e)&&(c=nR(e,c,t,n)),jt(c)&&c.length&&(c=sR(e,c,t,a.isIndexable)),Y0(e,c)&&(c=Fa(c,r,i&&i[e],a)),c}function nR(t,e,n,s){const{_proxy:r,_context:i,_subProxy:a,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let d=e(i,a||s);return c.delete(t),Y0(t,d)&&(d=K0(r._scopes,r,t,d)),d}function sR(t,e,n,s){const{_proxy:r,_context:i,_subProxy:a,_descriptors:c}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(Ue(e[0])){const d=e,h=r._scopes.filter(p=>p!==d);e=[];for(const p of d){const m=K0(h,r,t,p);e.push(Fa(m,i,a&&a[t],c))}}return e}function uC(t,e,n){return vi(t)?t(e,n):t}const rR=(t,e)=>t===!0?e:typeof t=="string"?wo(e,t):void 0;function iR(t,e,n,s,r){for(const i of e){const a=rR(n,i);if(a){t.add(a);const c=uC(a._fallback,n,r);if(typeof c<"u"&&c!==n&&c!==s)return c}else if(a===!1&&typeof s<"u"&&n!==s)return null}return!1}function K0(t,e,n,s){const r=e._rootScopes,i=uC(e._fallback,n,s),a=[...t,...r],c=new Set;c.add(s);let d=S1(c,a,n,i||n,s);return d===null||typeof i<"u"&&i!==n&&(d=S1(c,a,i,d,s),d===null)?!1:q0(Array.from(c),[""],r,i,()=>oR(e,n,s))}function S1(t,e,n,s,r){for(;n;)n=iR(t,e,n,s,r);return n}function oR(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return jt(r)&&Ue(n)?n:r||{}}function aR(t,e,n,s){let r;for(const i of e)if(r=dC(eR(i,t),n),typeof r<"u")return Y0(t,r)?K0(n,s,t,r):r}function dC(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function C1(t){let e=t._keys;return e||(e=t._keys=lR(t._scopes)),e}function lR(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const cR=Number.EPSILON||1e-14,Ba=(t,e)=>e<t.length&&!t[e].skip&&t[e],hC=t=>t==="x"?"y":"x";function uR(t,e,n,s){const r=t.skip?e:t,i=e,a=n.skip?e:n,c=yg(i,r),d=yg(a,i);let h=c/(c+d),p=d/(c+d);h=isNaN(h)?0:h,p=isNaN(p)?0:p;const m=s*h,g=s*p;return{previous:{x:i.x-m*(a.x-r.x),y:i.y-m*(a.y-r.y)},next:{x:i.x+g*(a.x-r.x),y:i.y+g*(a.y-r.y)}}}function dR(t,e,n){const s=t.length;let r,i,a,c,d,h=Ba(t,0);for(let p=0;p<s-1;++p)if(d=h,h=Ba(t,p+1),!(!d||!h)){if(mo(e[p],0,cR)){n[p]=n[p+1]=0;continue}r=n[p]/e[p],i=n[p+1]/e[p],c=Math.pow(r,2)+Math.pow(i,2),!(c<=9)&&(a=3/Math.sqrt(c),n[p]=r*a*e[p],n[p+1]=i*a*e[p])}}function hR(t,e,n="x"){const s=hC(n),r=t.length;let i,a,c,d=Ba(t,0);for(let h=0;h<r;++h){if(a=c,c=d,d=Ba(t,h+1),!c)continue;const p=c[n],m=c[s];a&&(i=(p-a[n])/3,c[`cp1${n}`]=p-i,c[`cp1${s}`]=m-i*e[h]),d&&(i=(d[n]-p)/3,c[`cp2${n}`]=p+i,c[`cp2${s}`]=m+i*e[h])}}function fR(t,e="x"){const n=hC(e),s=t.length,r=Array(s).fill(0),i=Array(s);let a,c,d,h=Ba(t,0);for(a=0;a<s;++a)if(c=d,d=h,h=Ba(t,a+1),!!d){if(h){const p=h[e]-d[e];r[a]=p!==0?(h[n]-d[n])/p:0}i[a]=c?h?Jn(r[a-1])!==Jn(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}dR(t,r,i),hR(t,i,e)}function Ed(t,e,n){return Math.max(Math.min(t,n),e)}function pR(t,e){let n,s,r,i,a,c=Ia(t[0],e);for(n=0,s=t.length;n<s;++n)a=i,i=c,c=n<s-1&&Ia(t[n+1],e),i&&(r=t[n],a&&(r.cp1x=Ed(r.cp1x,e.left,e.right),r.cp1y=Ed(r.cp1y,e.top,e.bottom)),c&&(r.cp2x=Ed(r.cp2x,e.left,e.right),r.cp2y=Ed(r.cp2y,e.top,e.bottom)))}function mR(t,e,n,s,r){let i,a,c,d;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")fR(t,r);else{let h=s?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)c=t[i],d=uR(h,c,t[Math.min(i+1,a-(s?0:1))%a],e.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,h=c}e.capBezierPoints&&pR(t,n)}function X0(){return typeof window<"u"&&typeof document<"u"}function Q0(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Mh(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const sf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function gR(t,e){return sf(t).getPropertyValue(e)}const yR=["top","right","bottom","left"];function go(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=yR[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const xR=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function bR(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let a=!1,c,d;if(xR(r,i,t.target))c=r,d=i;else{const h=e.getBoundingClientRect();c=s.clientX-h.left,d=s.clientY-h.top,a=!0}return{x:c,y:d,box:a}}function Ls(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=sf(n),i=r.boxSizing==="border-box",a=go(r,"padding"),c=go(r,"border","width"),{x:d,y:h,box:p}=bR(t,n),m=a.left+(p&&c.left),g=a.top+(p&&c.top);let{width:x,height:v}=e;return i&&(x-=a.width+c.width,v-=a.height+c.height),{x:Math.round((d-m)/x*n.width/s),y:Math.round((h-g)/v*n.height/s)}}function vR(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&Q0(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),c=sf(i),d=go(c,"border","width"),h=go(c,"padding");e=a.width-h.width-d.width,n=a.height-h.height-d.height,s=Mh(c.maxWidth,i,"clientWidth"),r=Mh(c.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||Ph,maxHeight:r||Ph}}const Pd=t=>Math.round(t*10)/10;function wR(t,e,n,s){const r=sf(t),i=go(r,"margin"),a=Mh(r.maxWidth,t,"clientWidth")||Ph,c=Mh(r.maxHeight,t,"clientHeight")||Ph,d=vR(t,e,n);let{width:h,height:p}=d;if(r.boxSizing==="content-box"){const g=go(r,"border","width"),x=go(r,"padding");h-=x.width+g.width,p-=x.height+g.height}return h=Math.max(0,h-i.width),p=Math.max(0,s?h/s:p-i.height),h=Pd(Math.min(h,a,d.maxWidth)),p=Pd(Math.min(p,c,d.maxHeight)),h&&!p&&(p=Pd(h/2)),(e!==void 0||n!==void 0)&&s&&d.height&&p>d.height&&(p=d.height,h=Pd(Math.floor(p*s))),{width:h,height:p}}function j1(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||a.height!==r||a.width!==i?(t.currentDevicePixelRatio=s,a.height=r,a.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const _R=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};X0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function k1(t,e){const n=gR(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Zi(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function SR(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function CR(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=Zi(t,r,n),c=Zi(r,i,n),d=Zi(i,e,n),h=Zi(a,c,n),p=Zi(c,d,n);return Zi(h,p,n)}const jR=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},kR=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function _a(t,e,n){return t?jR(e,n):kR()}function fC(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function pC(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function mC(t){return t==="angle"?{between:Mc,compare:jM,normalize:Ln}:{between:pr,compare:(e,n)=>e-n,normalize:e=>e}}function N1({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function NR(t,e,n){const{property:s,start:r,end:i}=n,{between:a,normalize:c}=mC(s),d=e.length;let{start:h,end:p,loop:m}=t,g,x;if(m){for(h+=d,p+=d,g=0,x=d;g<x&&a(c(e[h%d][s]),r,i);++g)h--,p--;h%=d,p%=d}return p<h&&(p+=d),{start:h,end:p,loop:m,style:t.style}}function gC(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,a=e.length,{compare:c,between:d,normalize:h}=mC(s),{start:p,end:m,loop:g,style:x}=NR(t,e,n),v=[];let w=!1,_=null,C,k,T;const M=()=>d(r,T,C)&&c(r,T)!==0,P=()=>c(i,C)===0||d(i,T,C),R=()=>w||M(),z=()=>!w||P();for(let I=p,F=p;I<=m;++I)k=e[I%a],!k.skip&&(C=h(k[s]),C!==T&&(w=d(C,r,i),_===null&&R()&&(_=c(C,r)===0?I:F),_!==null&&z()&&(v.push(N1({start:_,end:I,loop:g,count:a,style:x})),_=null),F=I,T=C));return _!==null&&v.push(N1({start:_,end:m,loop:g,count:a,style:x})),v}function yC(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=gC(s[r],t.points,e);i.length&&n.push(...i)}return n}function TR(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function ER(t,e,n,s){const r=t.length,i=[];let a=e,c=t[e],d;for(d=e+1;d<=n;++d){const h=t[d%r];h.skip||h.stop?c.skip||(s=!1,i.push({start:e%r,end:(d-1)%r,loop:s}),e=a=h.stop?d:null):(a=d,c.skip&&(e=d)),c=h}return a!==null&&i.push({start:e%r,end:a%r,loop:s}),i}function PR(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:a,end:c}=TR(n,r,i,s);if(s===!0)return T1(t,[{start:a,end:c,loop:i}],n,e);const d=c<a?c+r:c,h=!!t._fullLoop&&a===0&&c===r-1;return T1(t,ER(n,a,d,h),n,e)}function T1(t,e,n,s){return!s||!s.setContext||!n?e:AR(t,e,n,s)}function AR(t,e,n,s){const r=t._chart.getContext(),i=E1(t.options),{_datasetIndex:a,options:{spanGaps:c}}=t,d=n.length,h=[];let p=i,m=e[0].start,g=m;function x(v,w,_,C){const k=c?-1:1;if(v!==w){for(v+=d;n[v%d].skip;)v-=k;for(;n[w%d].skip;)w+=k;v%d!==w%d&&(h.push({start:v%d,end:w%d,loop:_,style:C}),p=C,m=w%d)}}for(const v of e){m=c?m:v.start;let w=n[m%d],_;for(g=m+1;g<=v.end;g++){const C=n[g%d];_=E1(s.setContext(Eo(r,{type:"segment",p0:w,p1:C,p0DataIndex:(g-1)%d,p1DataIndex:g%d,datasetIndex:a}))),MR(_,p)&&x(m,g-1,v.loop,p),w=C,p=_}m<g-1&&x(m,g-1,v.loop,p)}return h}function E1(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function MR(t,e){if(!e)return!1;const n=[],s=function(r,i){return U0(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Ad(t,e,n){return t.options.clip?t[n]:e[n]}function RR(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Ad(n,e,"left"),right:Ad(n,e,"right"),top:Ad(s,e,"top"),bottom:Ad(s,e,"bottom")}:e}function xC(t,e){const n=e._clip;if(n.disabled)return!1;const s=RR(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class DR{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],a=n.duration;i.forEach(c=>c({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(s-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=sC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let a=i.length-1,c=!1,d;for(;a>=0;--a)d=i[a],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(e),c=!0):(i[a]=i[i.length-1],i.pop());c&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ar=new DR;const P1="transparent",OR={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=b1(t||P1),r=s.valid&&b1(e||P1);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class LR{constructor(e,n,s,r){const i=n[s];r=it([e.to,r,i,e.from]);const a=it([e.from,i,r]);this._active=!0,this._fn=e.fn||OR[e.type||typeof a],this._easing=hc[e.easing]||hc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,a=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=it([e.to,n,r,e.from]),this._from=it([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,a=this._loop,c=this._to;let d;if(this._active=i!==c&&(a||n<s),!this._active){this._target[r]=c,this._notify(!0);return}if(n<0){this._target[r]=i;return}d=n/s%2,d=a&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(i,c,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class bC{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ue(e))return;const n=Object.keys(yt.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!Ue(i))return;const a={};for(const c of n)a[c]=i[c];(jt(i.properties)&&i.properties||[r]).forEach(c=>{(c===r||!s.has(c))&&s.set(c,a)})})}_animateOptions(e,n){const s=n.options,r=FR(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&IR(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),c=Date.now();let d;for(d=a.length-1;d>=0;--d){const h=a[d];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(e,n));continue}const p=n[h];let m=i[h];const g=s.get(h);if(m)if(g&&m.active()){m.update(g,p,c);continue}else m.cancel();if(!g||!g.duration){e[h]=p;continue}i[h]=m=new LR(g,e,h,p),r.push(m)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return ar.add(this._chart,s),!0}}function IR(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function FR(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function A1(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function BR(t,e,n){if(n===!1)return!1;const s=A1(t,n),r=A1(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function zR(t){let e,n,s,r;return Ue(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function vC(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function M1(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let a,c,d,h;if(e===null)return;let p=!1;for(a=0,c=r.length;a<c;++a){if(d=+r[a],d===n){if(p=!0,s.all)continue;break}h=t.values[d],tn(h)&&(i||e===0||Jn(e)===Jn(h))&&(e+=h)}return!p&&!s.all?0:e}function VR(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",a=Object.keys(t),c=new Array(a.length);let d,h,p;for(d=0,h=a.length;d<h;++d)p=a[d],c[d]={[r]:p,[i]:t[p]};return c}function vm(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function $R(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function UR(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function HR(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function R1(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function D1(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:c}=s,d=i.axis,h=a.axis,p=$R(i,a,s),m=e.length;let g;for(let x=0;x<m;++x){const v=e[x],{[d]:w,[h]:_}=v,C=v._stacks||(v._stacks={});g=C[h]=HR(r,p,w),g[c]=_,g._top=R1(g,a,!0,s.type),g._bottom=R1(g,a,!1,s.type);const k=g._visualValues||(g._visualValues={});k[c]=_}}function wm(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function WR(t,e){return Eo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function qR(t,e,n){return Eo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Yl(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const _m=t=>t==="reset"||t==="none",O1=(t,e)=>e?t:Object.assign({},t),YR=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:vC(n,!0),values:null};class yo{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(m,g,x,v)=>m==="x"?g:m==="r"?v:x,i=n.xAxisID=De(s.xAxisID,wm(e,"x")),a=n.yAxisID=De(s.yAxisID,wm(e,"y")),c=n.rAxisID=De(s.rAxisID,wm(e,"r")),d=n.indexAxis,h=n.iAxisID=r(d,i,a,c),p=n.vAxisID=r(d,a,i,c);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&g1(this._data,this),e._stacked&&Yl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Ue(n)){const r=this._cachedMeta;this._data=VR(n,r)}else if(s!==n){if(s){g1(s,this);const r=this._cachedMeta;Yl(r),r._parsed=[]}n&&Object.isExtensible(n)&&EM(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=vm(n.vScale,n),n.stack!==s.stack&&(r=!0,Yl(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(D1(this,n._parsed),n._stacked=vm(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:a}=s,c=i.axis;let d=e===0&&n===r.length?!0:s._sorted,h=e>0&&s._parsed[e-1],p,m,g;if(this._parsing===!1)s._parsed=r,s._sorted=!0,g=r;else{jt(r[e])?g=this.parseArrayData(s,r,e,n):Ue(r[e])?g=this.parseObjectData(s,r,e,n):g=this.parsePrimitiveData(s,r,e,n);const x=()=>m[c]===null||h&&m[c]<h[c];for(p=0;p<n;++p)s._parsed[p+e]=m=g[p],d&&(x()&&(d=!1),h=m);s._sorted=d}a&&D1(this,g)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:a}=e,c=i.axis,d=a.axis,h=i.getLabels(),p=i===a,m=new Array(r);let g,x,v;for(g=0,x=r;g<x;++g)v=g+s,m[g]={[c]:p||i.parse(h[v],v),[d]:a.parse(n[v],v)};return m}parseArrayData(e,n,s,r){const{xScale:i,yScale:a}=e,c=new Array(r);let d,h,p,m;for(d=0,h=r;d<h;++d)p=d+s,m=n[p],c[d]={x:i.parse(m[0],p),y:a.parse(m[1],p)};return c}parseObjectData(e,n,s,r){const{xScale:i,yScale:a}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=new Array(r);let p,m,g,x;for(p=0,m=r;p<m;++p)g=p+s,x=n[g],h[p]={x:i.parse(wo(x,c),g),y:a.parse(wo(x,d),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,a=n[e.axis],c={keys:vC(r,!0),values:n._stacks[e.axis]._visualValues};return M1(c,a,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let a=i===null?NaN:i;const c=r&&s._stacks[n.axis];r&&c&&(r.values=c,a=M1(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,a=r.length,c=this._getOtherScale(e),d=YR(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=UR(c);let g,x;function v(){x=r[g];const w=x[c.axis];return!tn(x[e.axis])||p>w||m<w}for(g=0;g<a&&!(!v()&&(this.updateRangeFromParsed(h,e,x,d),i));++g);if(i){for(g=a-1;g>=0;--g)if(!v()){this.updateRangeFromParsed(h,e,x,d);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,a;for(r=0,i=n.length;r<i;++r)a=n[r][e.axis],tn(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=zR(De(this.options.clip,BR(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,a=[],c=this._drawStart||0,d=this._drawCount||r.length-c,h=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(e,i,c,d),p=c;p<c+d;++p){const m=r[p];m.hidden||(m.active&&h?a.push(m):m.draw(e,i))}for(p=0;p<a.length;++p)a[p].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=qR(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=WR(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,a=e+"-"+n,c=i[a],d=this.enableOptionSharing&&Pc(s);if(c)return O1(c,d);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,e),m=r?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),p),x=Object.keys(yt.elements[e]),v=()=>this.getContext(s,r,n),w=h.resolveNamedOptions(g,x,v,m);return w.$shared&&(w.$shared=d,i[a]=Object.freeze(O1(w,d))),w}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,c=i[a];if(c)return c;let d;if(r.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,n),g=p.getOptionScopes(this.getDataset(),m);d=p.createResolver(g,this.getContext(e,s,n))}const h=new bC(r,d&&d.animations);return d&&d._cacheable&&(i[a]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||_m(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),a=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:a}}updateElement(e,n,s,r){_m(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!_m(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[c,d,h]of this._syncList)this[c](d,h);this._syncList=[];const r=s.length,i=n.length,a=Math.min(i,r);a&&this.parse(0,a),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,a=e+n;let c;const d=h=>{for(h.length+=n,c=h.length-1;c>=a;c--)h[c]=h[c-n]};for(d(i),c=e;c<a;++c)i[c]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&Yl(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}xe(yo,"defaults",{}),xe(yo,"datasetElementType",null),xe(yo,"dataElementType",null);function KR(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=nC(s.sort((r,i)=>r-i))}return t._cache.$bar}function XR(t){const e=t.iScale,n=KR(e,t.type);let s=e._length,r,i,a,c;const d=()=>{a===32767||a===-32768||(Pc(c)&&(s=Math.min(s,Math.abs(a-c)||s)),c=a)};for(r=0,i=n.length;r<i;++r)a=e.getPixelForValue(n[r]),d();for(c=void 0,r=0,i=e.ticks.length;r<i;++r)a=e.getPixelForTick(r),d();return s}function QR(t,e,n,s){const r=n.barThickness;let i,a;return qe(r)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=r*s,a=1),{chunk:i/s,ratio:a,start:e.pixels[t]-i/2}}function GR(t,e,n,s){const r=e.pixels,i=r[t];let a=t>0?r[t-1]:null,c=t<r.length-1?r[t+1]:null;const d=n.categoryPercentage;a===null&&(a=i-(c===null?e.end-e.start:c-i)),c===null&&(c=i+i-a);const h=i-(i-Math.min(a,c))/2*d;return{chunk:Math.abs(c-a)/2*d/s,ratio:n.barPercentage,start:h}}function ZR(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),a=Math.min(r,i),c=Math.max(r,i);let d=a,h=c;Math.abs(a)>Math.abs(c)&&(d=c,h=a),e[n.axis]=h,e._custom={barStart:d,barEnd:h,start:r,end:i,min:a,max:c}}function wC(t,e,n,s){return jt(t)?ZR(t,e,n,s):e[n.axis]=n.parse(t,s),e}function L1(t,e,n,s){const r=t.iScale,i=t.vScale,a=r.getLabels(),c=r===i,d=[];let h,p,m,g;for(h=n,p=n+s;h<p;++h)g=e[h],m={},m[r.axis]=c||r.parse(a[h],h),d.push(wC(g,m,i,h));return d}function Sm(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function JR(t,e,n){return t!==0?Jn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function eD(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function tD(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:c,reverse:d,top:h,bottom:p}=eD(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=h:(n._bottom||0)===s?r=p:(i[I1(p,a,c,d)]=!0,r=h)),i[I1(r,a,c,d)]=!0,t.borderSkipped=i}function I1(t,e,n,s){return s?(t=nD(t,e,n),t=F1(t,n,e)):t=F1(t,e,n),t}function nD(t,e,n){return t===e?n:t===n?e:t}function F1(t,e,n){return t==="start"?e:t==="end"?n:t}function sD(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class pc extends yo{parsePrimitiveData(e,n,s,r){return L1(e,n,s,r)}parseArrayData(e,n,s,r){return L1(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:a}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=i.axis==="x"?c:d,p=a.axis==="x"?c:d,m=[];let g,x,v,w;for(g=s,x=s+r;g<x;++g)w=n[g],v={},v[i.axis]=i.parse(wo(w,h),g),m.push(wC(wo(w,p),v,a,g));return m}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),a=i._custom,c=Sm(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:a,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),h=c.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:g}=this._getSharedOptions(n,r);for(let x=n;x<n+s;x++){const v=this.getParsed(x),w=i||qe(v[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(x),_=this._calculateBarIndexPixels(x,p),C=(v._stacks||{})[c.axis],k={horizontal:h,base:w.base,enableBorderRadius:!C||Sm(v._custom)||a===C._top||a===C._bottom,x:h?w.head:_.center,y:h?_.center:w.head,height:h?_.size:Math.abs(w.size),width:h?Math.abs(w.size):_.size};g&&(k.options=m||this.resolveDataElementOptions(x,e[x].active?"active":r));const T=k.options||e[x].options;tD(k,T,C,a),sD(k,T,p.ratio),this.updateElement(e[x],x,k,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),i=s.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(n),d=c&&c[s.axis],h=p=>{const m=p._parsed.find(x=>x[s.axis]===d),g=m&&m[p.vScale.axis];if(qe(g)||isNaN(g))return!0};for(const p of r)if(!(n!==void 0&&h(p))&&((i===!1||a.indexOf(p.stack)===-1||i===void 0&&p.stack===void 0)&&a.push(p.stack),p.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[De(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,a;for(i=0,a=n.data.length;i<a;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const c=e.barThickness;return{min:c||XR(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:a}}=this,c=i||0,d=this.getParsed(e),h=d._custom,p=Sm(h);let m=d[n.axis],g=0,x=s?this.applyStack(n,d,s):m,v,w;x!==m&&(g=x-m,x=m),p&&(m=h.barStart,x=h.barEnd-h.barStart,m!==0&&Jn(m)!==Jn(h.barEnd)&&(g=0),g+=m);const _=!qe(i)&&!p?i:g;let C=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(g+x):v=C,w=v-C,Math.abs(w)<a){w=JR(w,n,c)*a,m===c&&(C-=w/2);const k=n.getPixelForDecimal(0),T=n.getPixelForDecimal(1),M=Math.min(k,T),P=Math.max(k,T);C=Math.max(Math.min(C,P),M),v=C+w,s&&!p&&(d._stacks[n.axis]._visualValues[r]=n.getValueForPixel(v)-n.getValueForPixel(C))}if(C===n.getPixelForValue(c)){const k=Jn(w)*n.getLineWidthForValue(c)/2;C+=k,w-=k}return{size:w,base:C,head:v,center:v+w/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,a=De(r.maxBarThickness,1/0);let c,d;const h=this._getAxisCount();if(n.grouped){const p=i?this._getStackCount(e):n.stackCount,m=r.barThickness==="flex"?GR(e,n,r,p*h):QR(e,n,r,p*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(De(g,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+x;c=m.start+m.chunk*v+m.chunk/2,d=Math.min(a,m.chunk*m.ratio)}else c=s.getPixelForValue(this.getParsed(e)[s.axis],e),d=Math.min(a,n.min*n.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}xe(pc,"id","bar"),xe(pc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),xe(pc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function rD(t,e,n){let s=1,r=1,i=0,a=0;if(e<ht){const c=t,d=c+e,h=Math.cos(c),p=Math.sin(c),m=Math.cos(d),g=Math.sin(d),x=(T,M,P)=>Mc(T,c,d,!0)?1:Math.max(M,M*n,P,P*n),v=(T,M,P)=>Mc(T,c,d,!0)?-1:Math.min(M,M*n,P,P*n),w=x(0,h,m),_=x(Ot,p,g),C=v(Ge,h,m),k=v(Ge+Ot,p,g);s=(w-C)/2,r=(_-k)/2,i=-(w+C)/2,a=-(_+k)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:a}}class ma extends yo{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=d=>+s[d];if(Ue(s[e])){const{key:d="value"}=this._parsing;i=h=>+wo(s[h],d)}let a,c;for(a=e,c=e+n;a<c;++a)r._parsed[a]=i(a)}}_getRotation(){return fr(this.options.rotation-90)}_getCircumference(){return fr(this.options.circumference)}_getRotationExtents(){let e=ht,n=-ht;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,c=Math.max((Math.min(s.width,s.height)-a)/2,0),d=Math.min(hM(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:p,rotation:m}=this._getRotationExtents(),{ratioX:g,ratioY:x,offsetX:v,offsetY:w}=rD(m,p,d),_=(s.width-a)/g,C=(s.height-a)/x,k=Math.max(Math.min(_,C)/2,0),T=GS(this.options.radius,k),M=Math.max(T*d,0),P=(T-M)/this._getVisibleDatasetWeightTotal();this.offsetX=v*T,this.offsetY=w*T,r.total=this.calculateTotal(),this.outerRadius=T-P*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-P*h,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/ht)}updateElements(e,n,s,r){const i=r==="reset",a=this.chart,c=a.chartArea,h=a.options.animation,p=(c.left+c.right)/2,m=(c.top+c.bottom)/2,g=i&&h.animateScale,x=g?0:this.innerRadius,v=g?0:this.outerRadius,{sharedOptions:w,includeOptions:_}=this._getSharedOptions(n,r);let C=this._getRotation(),k;for(k=0;k<n;++k)C+=this._circumference(k,i);for(k=n;k<n+s;++k){const T=this._circumference(k,i),M=e[k],P={x:p+this.offsetX,y:m+this.offsetY,startAngle:C,endAngle:C+T,circumference:T,outerRadius:v,innerRadius:x};_&&(P.options=w||this.resolveDataElementOptions(k,M.active?"active":r)),C+=T,this.updateElement(M,k,P,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,r;for(r=0;r<n.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ht*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=H0(n._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const s=this.chart;let r,i,a,c,d;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){a=s.getDatasetMeta(r),e=a.data,c=a.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)d=c.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(n=Math.max(n,d.borderWidth||0,d.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(De(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}xe(ma,"id","doughnut"),xe(ma,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),xe(ma,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),xe(ma,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((i,a)=>{const d=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class lh extends yo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:c,count:d}=MM(n,r,a);this._drawStart=c,this._drawCount=d,RM(n)&&(c=0,d=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:h},e),this.updateElements(r,c,d,e)}updateElements(e,n,s,r){const i=r==="reset",{iScale:a,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(n,r),g=a.axis,x=c.axis,{spanGaps:v,segment:w}=this.options,_=Ac(v)?v:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||i||r==="none",k=n+s,T=e.length;let M=n>0&&this.getParsed(n-1);for(let P=0;P<T;++P){const R=e[P],z=C?R:{};if(P<n||P>=k){z.skip=!0;continue}const I=this.getParsed(P),F=qe(I[x]),U=z[g]=a.getPixelForValue(I[g],P),ee=z[x]=i||F?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,I,d):I[x],P);z.skip=isNaN(U)||isNaN(ee)||F,z.stop=P>0&&Math.abs(I[g]-M[g])>_,w&&(z.parsed=I,z.raw=h.data[P]),m&&(z.options=p||this.resolveDataElementOptions(P,R.active?"active":r)),C||this.updateElement(R,P,z,r),M=I}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}xe(lh,"id","line"),xe(lh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),xe(lh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class vg extends ma{}xe(vg,"id","pie"),xe(vg,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ki(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class G0{constructor(e){xe(this,"options");this.options=e||{}}static override(e){Object.assign(G0.prototype,e)}init(){}formats(){return Ki()}parse(){return Ki()}format(){return Ki()}add(){return Ki()}diff(){return Ki()}startOf(){return Ki()}endOf(){return Ki()}}var iD={_date:G0};function oD(t,e,n,s){const{controller:r,data:i,_sorted:a}=t,c=r._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&a&&i.length){const h=c._reversePixels?NM:to;if(s){if(r._sharedOptions){const p=i[0],m=typeof p.getRange=="function"&&p.getRange(e);if(m){const g=h(i,e,n-m),x=h(i,e,n+m);return{lo:g.lo,hi:x.hi}}}}else{const p=h(i,e,n);if(d){const{vScale:m}=r._cachedMeta,{_parsed:g}=t,x=g.slice(0,p.lo+1).reverse().findIndex(w=>!qe(w[m.axis]));p.lo-=Math.max(0,x);const v=g.slice(p.hi).findIndex(w=>!qe(w[m.axis]));p.hi+=Math.max(0,v)}return p}}return{lo:0,hi:i.length-1}}function rf(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let c=0,d=i.length;c<d;++c){const{index:h,data:p}=i[c],{lo:m,hi:g}=oD(i[c],e,a,r);for(let x=m;x<=g;++x){const v=p[x];v.skip||s(v,h,x)}}}function aD(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,a=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Cm(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||rf(t,n,e,function(c,d,h){!r&&!Ia(c,t.chartArea,0)||c.inRange(e.x,e.y,s)&&i.push({element:c,datasetIndex:d,index:h})},!0),i}function lD(t,e,n,s){let r=[];function i(a,c,d){const{startAngle:h,endAngle:p}=a.getProps(["startAngle","endAngle"],s),{angle:m}=eC(a,{x:e.x,y:e.y});Mc(m,h,p)&&r.push({element:a,datasetIndex:c,index:d})}return rf(t,n,e,i),r}function cD(t,e,n,s,r,i){let a=[];const c=aD(n);let d=Number.POSITIVE_INFINITY;function h(p,m,g){const x=p.inRange(e.x,e.y,r);if(s&&!x)return;const v=p.getCenterPoint(r);if(!(!!i||t.isPointInArea(v))&&!x)return;const _=c(e,v);_<d?(a=[{element:p,datasetIndex:m,index:g}],d=_):_===d&&a.push({element:p,datasetIndex:m,index:g})}return rf(t,n,e,h),a}function jm(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?lD(t,e,n,r):cD(t,e,n,s,r,i)}function B1(t,e,n,s,r){const i=[],a=n==="x"?"inXRange":"inYRange";let c=!1;return rf(t,n,e,(d,h,p)=>{d[a]&&d[a](e[n],r)&&(i.push({element:d,datasetIndex:h,index:p}),c=c||d.inRange(e.x,e.y,r))}),s&&!c?[]:i}var uD={modes:{index(t,e,n,s){const r=Ls(e,t),i=n.axis||"x",a=n.includeInvisible||!1,c=n.intersect?Cm(t,r,i,s,a):jm(t,r,i,!1,s,a),d=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const p=c[0].index,m=h.data[p];m&&!m.skip&&d.push({element:m,datasetIndex:h.index,index:p})}),d):[]},dataset(t,e,n,s){const r=Ls(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let c=n.intersect?Cm(t,r,i,s,a):jm(t,r,i,!1,s,a);if(c.length>0){const d=c[0].datasetIndex,h=t.getDatasetMeta(d).data;c=[];for(let p=0;p<h.length;++p)c.push({element:h[p],datasetIndex:d,index:p})}return c},point(t,e,n,s){const r=Ls(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Cm(t,r,i,s,a)},nearest(t,e,n,s){const r=Ls(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return jm(t,r,i,n.intersect,s,a)},x(t,e,n,s){const r=Ls(e,t);return B1(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=Ls(e,t);return B1(t,r,"y",n.intersect,s)}}};const _C=["left","top","right","bottom"];function Kl(t,e){return t.filter(n=>n.pos===e)}function z1(t,e){return t.filter(n=>_C.indexOf(n.pos)===-1&&n.box.axis===e)}function Xl(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function dD(t){const e=[];let n,s,r,i,a,c;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:a,stackWeight:c=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&i+a,stackWeight:c});return e}function hD(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!_C.includes(r))continue;const a=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function fD(t,e){const n=hD(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,a,c;for(i=0,a=t.length;i<a;++i){c=t[i];const{fullSize:d}=c.box,h=n[c.stack],p=h&&c.stackWeight/h.weight;c.horizontal?(c.width=p?p*s:d&&e.availableWidth,c.height=r):(c.width=s,c.height=p?p*r:d&&e.availableHeight)}return n}function pD(t){const e=dD(t),n=Xl(e.filter(h=>h.box.fullSize),!0),s=Xl(Kl(e,"left"),!0),r=Xl(Kl(e,"right")),i=Xl(Kl(e,"top"),!0),a=Xl(Kl(e,"bottom")),c=z1(e,"x"),d=z1(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(d).concat(a).concat(c),chartArea:Kl(e,"chartArea"),vertical:s.concat(r).concat(d),horizontal:i.concat(a).concat(c)}}function V1(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function SC(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function mD(t,e,n,s){const{pos:r,box:i}=n,a=t.maxPadding;if(!Ue(r)){n.size&&(t[r]-=n.size);const m=s[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?i.height:i.width),n.size=m.size/m.count,t[r]+=n.size}i.getPadding&&SC(a,i.getPadding());const c=Math.max(0,e.outerWidth-V1(a,t,"left","right")),d=Math.max(0,e.outerHeight-V1(a,t,"top","bottom")),h=c!==t.w,p=d!==t.h;return t.w=c,t.h=d,n.horizontal?{same:h,other:p}:{same:p,other:h}}function gD(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function yD(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return s(t?["left","right"]:["top","bottom"])}function oc(t,e,n,s){const r=[];let i,a,c,d,h,p;for(i=0,a=t.length,h=0;i<a;++i){c=t[i],d=c.box,d.update(c.width||e.w,c.height||e.h,yD(c.horizontal,e));const{same:m,other:g}=mD(e,n,c,s);h|=m&&r.length,p=p||g,d.fullSize||r.push(c)}return h&&oc(r,e,n,s)||p}function Md(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function $1(t,e,n,s){const r=n.padding;let{x:i,y:a}=e;for(const c of t){const d=c.box,h=s[c.stack]||{placed:0,weight:1},p=c.stackWeight/h.weight||1;if(c.horizontal){const m=e.w*p,g=h.size||d.height;Pc(h.start)&&(a=h.start),d.fullSize?Md(d,r.left,a,n.outerWidth-r.right-r.left,g):Md(d,e.left+h.placed,a,m,g),h.start=a,h.placed+=m,a=d.bottom}else{const m=e.h*p,g=h.size||d.width;Pc(h.start)&&(i=h.start),d.fullSize?Md(d,i,r.top,g,n.outerHeight-r.bottom-r.top):Md(d,i,e.top+h.placed,g,m),h.start=i,h.placed+=m,i=d.right}}e.x=i,e.y=a}var Zn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=Fn(t.options.layout.padding),i=Math.max(e-r.width,0),a=Math.max(n-r.height,0),c=pD(t.boxes),d=c.vertical,h=c.horizontal;Ve(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=d.reduce((w,_)=>_.box.options&&_.box.options.display===!1?w:w+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/p,hBoxMaxHeight:a/2}),g=Object.assign({},r);SC(g,Fn(s));const x=Object.assign({maxPadding:g,w:i,h:a,x:r.left,y:r.top},r),v=fD(d.concat(h),m);oc(c.fullSize,x,m,v),oc(d,x,m,v),oc(h,x,m,v)&&oc(d,x,m,v),gD(x),$1(c.leftAndTop,x,m,v),x.x+=x.w,x.y+=x.h,$1(c.rightAndBottom,x,m,v),t.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Ve(c.chartArea,w=>{const _=w.box;Object.assign(_,t.chartArea),_.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class CC{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class xD extends CC{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ch="$chartjs",bD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},U1=t=>t===null||t==="";function vD(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[ch]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",U1(r)){const i=k1(t,"width");i!==void 0&&(t.width=i)}if(U1(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=k1(t,"height");i!==void 0&&(t.height=i)}return t}const jC=_R?{passive:!0}:!1;function wD(t,e,n){t&&t.addEventListener(e,n,jC)}function _D(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,jC)}function SD(t,e){const n=bD[t.type]||t.type,{x:s,y:r}=Ls(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Rh(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function CD(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let a=!1;for(const c of i)a=a||Rh(c.addedNodes,s),a=a&&!Rh(c.removedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function jD(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let a=!1;for(const c of i)a=a||Rh(c.removedNodes,s),a=a&&!Rh(c.addedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Dc=new Map;let H1=0;function kC(){const t=window.devicePixelRatio;t!==H1&&(H1=t,Dc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function kD(t,e){Dc.size||window.addEventListener("resize",kC),Dc.set(t,e)}function ND(t){Dc.delete(t),Dc.size||window.removeEventListener("resize",kC)}function TD(t,e,n){const s=t.canvas,r=s&&Q0(s);if(!r)return;const i=rC((c,d)=>{const h=r.clientWidth;n(c,d),h<r.clientWidth&&n()},window),a=new ResizeObserver(c=>{const d=c[0],h=d.contentRect.width,p=d.contentRect.height;h===0&&p===0||i(h,p)});return a.observe(r),kD(t,i),a}function km(t,e,n){n&&n.disconnect(),e==="resize"&&ND(t)}function ED(t,e,n){const s=t.canvas,r=rC(i=>{t.ctx!==null&&n(SD(i,t))},t);return wD(s,e,r),r}class PD extends CC{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(vD(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[ch])return!1;const s=n[ch].initial;["height","width"].forEach(i=>{const a=s[i];qe(a)?n.removeAttribute(i):n.setAttribute(i,a)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[ch],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:CD,detach:jD,resize:TD}[n]||ED;r[n]=a(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:km,detach:km,resize:km}[n]||_D)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return wR(e,n,s,r)}isAttached(e){const n=e&&Q0(e);return!!(n&&n.isConnected)}}function AD(t){return!X0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?xD:PD}var th;let jr=(th=class{constructor(){xe(this,"x");xe(this,"y");xe(this,"active",!1);xe(this,"options");xe(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Ac(this.x)&&Ac(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}},xe(th,"defaults",{}),xe(th,"defaultRoutes"),th);function MD(t,e){const n=t.options.ticks,s=RD(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?OD(e):[],a=i.length,c=i[0],d=i[a-1],h=[];if(a>r)return LD(e,h,i,a/r),h;const p=DD(i,e,r);if(a>0){let m,g;const x=a>1?Math.round((d-c)/(a-1)):null;for(Rd(e,h,p,qe(x)?0:c-x,c),m=0,g=a-1;m<g;m++)Rd(e,h,p,i[m],i[m+1]);return Rd(e,h,p,d,qe(x)?e.length:d+x),h}return Rd(e,h,p),h}function RD(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function DD(t,e,n){const s=ID(t),r=e.length/n;if(!s)return Math.max(r,1);const i=vM(s);for(let a=0,c=i.length-1;a<c;a++){const d=i[a];if(d>r)return d}return Math.max(r,1)}function OD(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function LD(t,e,n,s){let r=0,i=n[0],a;for(s=Math.ceil(s),a=0;a<t.length;a++)a===i&&(e.push(t[a]),r++,i=n[r*s])}function Rd(t,e,n,s,r){const i=De(s,0),a=Math.min(De(r,t.length),t.length);let c=0,d,h,p;for(n=Math.ceil(n),r&&(d=r-s,n=d/Math.floor(d/n)),p=i;p<0;)c++,p=Math.round(i+c*n);for(h=Math.max(i,0);h<a;h++)h===p&&(e.push(t[h]),c++,p=Math.round(i+c*n))}function ID(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const FD=t=>t==="left"?"right":t==="right"?"left":t,W1=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,q1=(t,e)=>Math.min(e||t,t);function Y1(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function BD(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,a=t._endPixel,c=1e-6;let d=t.getPixelForTick(r),h;if(!(n&&(s===1?h=Math.max(d-i,a-d):e===0?h=(t.getPixelForTick(1)-d)/2:h=(d-t.getPixelForTick(r-1))/2,d+=r<e?h:-h,d<i-c||d>a+c)))return d}function zD(t,e){Ve(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function Ql(t){return t.drawTicks?t.tickLength:0}function K1(t,e){if(!t.display)return 0;const n=Ut(t.font,e),s=Fn(t.padding);return(jt(t.text)?t.text.length:1)*n.lineHeight+s.height}function VD(t,e){return Eo(t,{scale:e,type:"scale"})}function $D(t,e,n){return Eo(t,{tick:n,index:e,type:"tick"})}function UD(t,e,n){let s=$0(t);return(n&&e!=="right"||!n&&e==="right")&&(s=FD(s)),s}function HD(t,e,n,s){const{top:r,left:i,bottom:a,right:c,chart:d}=t,{chartArea:h,scales:p}=d;let m=0,g,x,v;const w=a-r,_=c-i;if(t.isHorizontal()){if(x=Gt(s,i,c),Ue(n)){const C=Object.keys(n)[0],k=n[C];v=p[C].getPixelForValue(k)+w-e}else n==="center"?v=(h.bottom+h.top)/2+w-e:v=W1(t,n,e);g=c-i}else{if(Ue(n)){const C=Object.keys(n)[0],k=n[C];x=p[C].getPixelForValue(k)-_+e}else n==="center"?x=(h.left+h.right)/2-_+e:x=W1(t,n,e);v=Gt(s,a,r),m=n==="left"?-Ot:Ot}return{titleX:x,titleY:v,maxWidth:g,rotation:m}}class Ya extends jr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=Ps(e,Number.POSITIVE_INFINITY),n=Ps(n,Number.NEGATIVE_INFINITY),s=Ps(s,Number.POSITIVE_INFINITY),r=Ps(r,Number.NEGATIVE_INFINITY),{min:Ps(e,s),max:Ps(n,r),minDefined:tn(e),maxDefined:tn(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),a;if(r&&i)return{min:n,max:s};const c=this.getMatchingVisibleMetas();for(let d=0,h=c.length;d<h;++d)a=c[d].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),i||(s=Math.max(s,a.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:Ps(n,Ps(s,n)),max:Ps(s,Ps(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ne(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=JM(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?Y1(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=MD(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ne(this.options.afterUpdate,[this])}beforeSetDimensions(){Ne(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ne(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ne(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ne(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=Ne(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){Ne(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ne(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=q1(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let a=r,c,d,h;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),m=p.widest.width,g=p.highest.height,x=Jt(this.chart.width-m,0,this.maxWidth);c=e.offset?this.maxWidth/s:x/(s-1),m+6>c&&(c=x/(s-(e.offset?.5:1)),d=this.maxHeight-Ql(e.grid)-n.padding-K1(e.title,this.chart.options.font),h=Math.sqrt(m*m+g*g),a=CM(Math.min(Math.asin(Jt((p.highest.height+6)/c,-1,1)),Math.asin(Jt(d/h,-1,1))-Math.asin(Jt(g/h,-1,1)))),a=Math.max(r,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ne(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ne(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const d=K1(r,n.options.font);if(c?(e.width=this.maxWidth,e.height=Ql(i)+d):(e.height=this.maxHeight,e.width=Ql(i)+d),s.display&&this.ticks.length){const{first:h,last:p,widest:m,highest:g}=this._getLabelSizes(),x=s.padding*2,v=fr(this.labelRotation),w=Math.cos(v),_=Math.sin(v);if(c){const C=s.mirror?0:_*m.width+w*g.height;e.height=Math.min(this.maxHeight,e.height+C+x)}else{const C=s.mirror?0:w*m.width+_*g.height;e.width=Math.min(this.maxWidth,e.width+C+x)}this._calculatePadding(h,p,_,w)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:a},position:c}=this.options,d=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,x=0;d?h?(g=r*e.width,x=s*n.height):(g=s*e.height,x=r*n.width):i==="start"?x=n.width:i==="end"?g=e.width:i!=="inner"&&(g=e.width/2,x=n.width/2),this.paddingLeft=Math.max((g-p+a)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-m+a)*this.width/(this.width-m),0)}else{let p=n.height/2,m=e.height/2;i==="start"?(p=0,m=e.height):i==="end"&&(p=n.height,m=0),this.paddingTop=p+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ne(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)qe(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Y1(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,a=[],c=[],d=Math.floor(n/q1(n,s));let h=0,p=0,m,g,x,v,w,_,C,k,T,M,P;for(m=0;m<n;m+=d){if(v=e[m].label,w=this._resolveTickFontOptions(m),r.font=_=w.string,C=i[_]=i[_]||{data:{},gc:[]},k=w.lineHeight,T=M=0,!qe(v)&&!jt(v))T=w1(r,C.data,C.gc,T,v),M=k;else if(jt(v))for(g=0,x=v.length;g<x;++g)P=v[g],!qe(P)&&!jt(P)&&(T=w1(r,C.data,C.gc,T,P),M+=k);a.push(T),c.push(M),h=Math.max(T,h),p=Math.max(M,p)}zD(i,n);const R=a.indexOf(h),z=c.indexOf(p),I=F=>({width:a[F]||0,height:c[F]||0});return{first:I(0),last:I(n-1),widest:I(R),highest:I(z),widths:a,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return kM(this._alignToPixels?Yi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=$D(this.getContext(),e,s))}return this.$context||(this.$context=VD(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=fr(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,c=i?i.widest.width+a:0,d=i?i.highest.height+a:0;return this.isHorizontal()?d*s>c*r?c/s:d/r:d*r<c*s?d/s:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:a,border:c}=r,d=i.offset,h=this.isHorizontal(),m=this.ticks.length+(d?1:0),g=Ql(i),x=[],v=c.setContext(this.getContext()),w=v.display?v.width:0,_=w/2,C=function(te){return Yi(s,te,w)};let k,T,M,P,R,z,I,F,U,ee,J,de;if(a==="top")k=C(this.bottom),z=this.bottom-g,F=k-_,ee=C(e.top)+_,de=e.bottom;else if(a==="bottom")k=C(this.top),ee=e.top,de=C(e.bottom)-_,z=k+_,F=this.top+g;else if(a==="left")k=C(this.right),R=this.right-g,I=k-_,U=C(e.left)+_,J=e.right;else if(a==="right")k=C(this.left),U=e.left,J=C(e.right)-_,R=k+_,I=this.left+g;else if(n==="x"){if(a==="center")k=C((e.top+e.bottom)/2+.5);else if(Ue(a)){const te=Object.keys(a)[0],Z=a[te];k=C(this.chart.scales[te].getPixelForValue(Z))}ee=e.top,de=e.bottom,z=k+_,F=z+g}else if(n==="y"){if(a==="center")k=C((e.left+e.right)/2);else if(Ue(a)){const te=Object.keys(a)[0],Z=a[te];k=C(this.chart.scales[te].getPixelForValue(Z))}R=k-_,I=R-g,U=e.left,J=e.right}const G=De(r.ticks.maxTicksLimit,m),he=Math.max(1,Math.ceil(m/G));for(T=0;T<m;T+=he){const te=this.getContext(T),Z=i.setContext(te),Y=c.setContext(te),ne=Z.lineWidth,D=Z.color,Q=Y.dash||[],le=Y.dashOffset,_e=Z.tickWidth,ve=Z.tickColor,Be=Z.tickBorderDash||[],Re=Z.tickBorderDashOffset;M=BD(this,T,d),M!==void 0&&(P=Yi(s,M,ne),h?R=I=U=J=P:z=F=ee=de=P,x.push({tx1:R,ty1:z,tx2:I,ty2:F,x1:U,y1:ee,x2:J,y2:de,width:ne,color:D,borderDash:Q,borderDashOffset:le,tickWidth:_e,tickColor:ve,tickBorderDash:Be,tickBorderDashOffset:Re}))}return this._ticksLength=m,this._borderValue=k,x}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,a=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:h,padding:p,mirror:m}=i,g=Ql(s.grid),x=g+p,v=m?-p:x,w=-fr(this.labelRotation),_=[];let C,k,T,M,P,R,z,I,F,U,ee,J,de="middle";if(r==="top")R=this.bottom-v,z=this._getXAxisLabelAlignment();else if(r==="bottom")R=this.top+v,z=this._getXAxisLabelAlignment();else if(r==="left"){const he=this._getYAxisLabelAlignment(g);z=he.textAlign,P=he.x}else if(r==="right"){const he=this._getYAxisLabelAlignment(g);z=he.textAlign,P=he.x}else if(n==="x"){if(r==="center")R=(e.top+e.bottom)/2+x;else if(Ue(r)){const he=Object.keys(r)[0],te=r[he];R=this.chart.scales[he].getPixelForValue(te)+x}z=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")P=(e.left+e.right)/2-x;else if(Ue(r)){const he=Object.keys(r)[0],te=r[he];P=this.chart.scales[he].getPixelForValue(te)}z=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(d==="start"?de="top":d==="end"&&(de="bottom"));const G=this._getLabelSizes();for(C=0,k=c.length;C<k;++C){T=c[C],M=T.label;const he=i.setContext(this.getContext(C));I=this.getPixelForTick(C)+i.labelOffset,F=this._resolveTickFontOptions(C),U=F.lineHeight,ee=jt(M)?M.length:1;const te=ee/2,Z=he.color,Y=he.textStrokeColor,ne=he.textStrokeWidth;let D=z;a?(P=I,z==="inner"&&(C===k-1?D=this.options.reverse?"left":"right":C===0?D=this.options.reverse?"right":"left":D="center"),r==="top"?h==="near"||w!==0?J=-ee*U+U/2:h==="center"?J=-G.highest.height/2-te*U+U:J=-G.highest.height+U/2:h==="near"||w!==0?J=U/2:h==="center"?J=G.highest.height/2-te*U:J=G.highest.height-ee*U,m&&(J*=-1),w!==0&&!he.showLabelBackdrop&&(P+=U/2*Math.sin(w))):(R=I,J=(1-ee)*U/2);let Q;if(he.showLabelBackdrop){const le=Fn(he.backdropPadding),_e=G.heights[C],ve=G.widths[C];let Be=J-le.top,Re=0-le.left;switch(de){case"middle":Be-=_e/2;break;case"bottom":Be-=_e;break}switch(z){case"center":Re-=ve/2;break;case"right":Re-=ve;break;case"inner":C===k-1?Re-=ve:C>0&&(Re-=ve/2);break}Q={left:Re,top:Be,width:ve+le.width,height:_e+le.height,color:he.backdropColor}}_.push({label:M,font:F,textOffset:J,options:{rotation:w,color:Z,strokeColor:Y,strokeWidth:ne,textAlign:D,textBaseline:de,translation:[P,R],backdrop:Q}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-fr(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,a=this._getLabelSizes(),c=e+i,d=a.widest.width;let h,p;return n==="left"?r?(p=this.right+i,s==="near"?h="left":s==="center"?(h="center",p+=d/2):(h="right",p+=d)):(p=this.right-c,s==="near"?h="right":s==="center"?(h="center",p-=d/2):(h="left",p=this.left)):n==="right"?r?(p=this.left+i,s==="near"?h="right":s==="center"?(h="center",p-=d/2):(h="left",p-=d)):(p=this.left+c,s==="near"?h="left":s==="center"?(h="center",p+=d/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const c=(d,h,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(i=0,a=r.length;i<a;++i){const d=r[i];n.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),n.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),a=s.display?i.width:0;if(!a)return;const c=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let h,p,m,g;this.isHorizontal()?(h=Yi(e,this.left,a)-a/2,p=Yi(e,this.right,c)+c/2,m=g=d):(m=Yi(e,this.top,a)-a/2,g=Yi(e,this.bottom,c)+c/2,h=p=d),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(h,m),n.lineTo(p,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&tf(s,r);const i=this.getLabelItems(e);for(const a of i){const c=a.options,d=a.font,h=a.label,p=a.textOffset;Rc(s,h,0,p,d,c)}r&&nf(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=Ut(s.font),a=Fn(s.padding),c=s.align;let d=i.lineHeight/2;n==="bottom"||n==="center"||Ue(n)?(d+=a.bottom,jt(s.text)&&(d+=i.lineHeight*(s.text.length-1))):d+=a.top;const{titleX:h,titleY:p,maxWidth:m,rotation:g}=HD(this,d,n,c);Rc(e,s.text,0,0,i,{color:s.color,maxWidth:m,rotation:g,textAlign:UD(c,n,r),textBaseline:"middle",translation:[h,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=De(e.grid&&e.grid.z,-1),r=De(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ya.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,a;for(i=0,a=n.length;i<a;++i){const c=n[i];c[s]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ut(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Dd{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;YD(n)&&(s=this.register(n));const r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,WD(e,a,s),this.override&&yt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in yt[r]&&(delete yt[r][s],this.override&&delete _o[s])}}function WD(t,e,n){const s=$s(Object.create(null),[n?yt.get(n):{},yt.get(e),t.defaults]);yt.set(e,s),t.defaultRoutes&&qD(e,t.defaultRoutes),t.descriptors&&yt.describe(e,t.descriptors)}function qD(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),a=e[n].split("."),c=a.pop(),d=a.join(".");yt.route(i,r,d,c)})}function YD(t){return"id"in t&&"defaults"in t}class KD{constructor(){this.controllers=new Dd(yo,"datasets",!0),this.elements=new Dd(jr,"elements"),this.plugins=new Dd(Object,"plugins"),this.scales=new Dd(Ya,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):Ve(r,a=>{const c=s||this._getRegistryForType(a);this._exec(e,c,a)})})}_exec(e,n,s){const r=z0(e);Ne(s["before"+r],[],s),n[e](s),Ne(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var Ms=new KD;class XD{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,s,r){r=r||{};for(const i of e){const a=i.plugin,c=a[s],d=[n,r,i.options];if(Ne(c,d,a)===!1&&r.cancelable)return!1}return!0}invalidate(){qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=De(s.options&&s.options.plugins,{}),i=QD(s);return r===!1&&!n?[]:ZD(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,a)=>i.filter(c=>!a.some(d=>c.plugin.id===d.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function QD(t){const e={},n=[],s=Object.keys(Ms.plugins.items);for(let i=0;i<s.length;i++)n.push(Ms.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const a=r[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function GD(t,e){return!e&&t===!1?null:t===!0?{}:t}function ZD(t,{plugins:e,localIds:n},s,r){const i=[],a=t.getContext();for(const c of e){const d=c.id,h=GD(s[d],r);h!==null&&i.push({plugin:c,options:JD(t.config,{plugin:c,local:n[d]},h,a)})}return i}function JD(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(s,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function wg(t,e){const n=yt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function eO(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function tO(t,e){return t===e?"_index_":"_value_"}function X1(t){if(t==="x"||t==="y"||t==="r")return t}function nO(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function _g(t,...e){if(X1(t))return t;for(const n of e){const s=n.axis||nO(n.position)||t.length>1&&X1(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Q1(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function sO(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Q1(t,"x",n[0])||Q1(t,"y",n[0])}return{}}function rO(t,e){const n=_o[t.type]||{scales:{}},s=e.scales||{},r=wg(t.type,e),i=Object.create(null);return Object.keys(s).forEach(a=>{const c=s[a];if(!Ue(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const d=_g(a,c,sO(a,t),yt.scales[c.type]),h=tO(d,r),p=n.scales||{};i[a]=dc(Object.create(null),[{axis:d},c,p[d],p[h]])}),t.data.datasets.forEach(a=>{const c=a.type||t.type,d=a.indexAxis||wg(c,e),p=(_o[c]||{}).scales||{};Object.keys(p).forEach(m=>{const g=eO(m,d),x=a[g+"AxisID"]||g;i[x]=i[x]||Object.create(null),dc(i[x],[{axis:g},s[x],p[m]])})}),Object.keys(i).forEach(a=>{const c=i[a];dc(c,[yt.scales[c.type],yt.scale])}),i}function NC(t){const e=t.options||(t.options={});e.plugins=De(e.plugins,{}),e.scales=rO(t,e)}function TC(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function iO(t){return t=t||{},t.data=TC(t.data),NC(t),t}const G1=new Map,EC=new Set;function Od(t,e){let n=G1.get(t);return n||(n=e(),G1.set(t,n),EC.add(n)),n}const Gl=(t,e,n)=>{const s=wo(e,n);s!==void 0&&t.add(s)};class oO{constructor(e){this._config=iO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=TC(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),NC(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Od(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Od(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Od(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Od(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,a=this._cachedScopes(e,s),c=a.get(n);if(c)return c;const d=new Set;n.forEach(p=>{e&&(d.add(e),p.forEach(m=>Gl(d,e,m))),p.forEach(m=>Gl(d,r,m)),p.forEach(m=>Gl(d,_o[i]||{},m)),p.forEach(m=>Gl(d,yt,m)),p.forEach(m=>Gl(d,xg,m))});const h=Array.from(d);return h.length===0&&h.push(Object.create(null)),EC.has(n)&&a.set(n,h),h}chartOptionScopes(){const{options:e,type:n}=this;return[e,_o[n]||{},yt.datasets[n]||{},{type:n},yt,xg]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:a,subPrefixes:c}=Z1(this._resolverCache,e,r);let d=a;if(lO(a,n)){i.$shared=!1,s=vi(s)?s():s;const h=this.createResolver(e,s,c);d=Fa(a,s,h)}for(const h of n)i[h]=d[h];return i}createResolver(e,n,s=[""],r){const{resolver:i}=Z1(this._resolverCache,e,s);return Ue(n)?Fa(i,n,void 0,r):i}}function Z1(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:q0(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},s.set(r,i)),i}const aO=t=>Ue(t)&&Object.getOwnPropertyNames(t).some(e=>vi(t[e]));function lO(t,e){const{isScriptable:n,isIndexable:s}=lC(t);for(const r of e){const i=n(r),a=s(r),c=(a||i)&&t[r];if(i&&(vi(c)||aO(c))||a&&jt(c))return!0}return!1}var cO="4.5.0";const uO=["top","bottom","left","right","chartArea"];function J1(t,e){return t==="top"||t==="bottom"||uO.indexOf(t)===-1&&e==="x"}function ew(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function tw(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ne(n&&n.onComplete,[t],e)}function dO(t){const e=t.chart,n=e.options.animation;Ne(n&&n.onProgress,[t],e)}function PC(t){return X0()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const uh={},nw=t=>{const e=PC(t);return Object.values(uh).filter(n=>n.canvas===e).pop()};function hO(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const a=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=a)}}}function fO(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var ei;let bs=(ei=class{static register(...e){Ms.add(...e),sw()}static unregister(...e){Ms.remove(...e),sw()}constructor(e,n){const s=this.config=new oO(n),r=PC(e),i=nw(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||AD(r)),this.platform.updateConfig(s);const c=this.platform.acquireContext(r,a.aspectRatio),d=c&&c.canvas,h=d&&d.height,p=d&&d.width;if(this.id=dM(),this.ctx=c,this.canvas=d,this.width=p,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new XD,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=PM(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],uh[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}ar.listen(this,"complete",tw),ar.listen(this,"progress",dO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return qe(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ms}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():j1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _1(this.canvas,this.ctx),this}stop(){return ar.stop(this),this}resize(e,n){ar.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,i),c=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,j1(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Ne(s.onResize,[this,a],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ve(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((a,c)=>(a[c]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const c=n[a],d=_g(a,c),h=d==="r",p=d==="x";return{options:c,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),Ve(i,a=>{const c=a.options,d=c.id,h=_g(d,c),p=De(c.type,a.dtype);(c.position===void 0||J1(c.position,h)!==J1(a.dposition))&&(c.position=a.dposition),r[d]=!0;let m=null;if(d in s&&s[d].type===p)m=s[d];else{const g=Ms.getScale(p);m=new g({id:d,type:p,ctx:this.ctx,chart:this}),s[m.id]=m}m.init(c,e)}),Ve(r,(a,c)=>{a||delete s[c]}),Ve(s,a=>{Zn.configure(this,a,a.options),Zn.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(ew("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let a=this.getDatasetMeta(s);const c=i.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=c,a.indexAxis=i.indexAxis||wg(c,this.options),a.order=i.order||0,a.index=s,a.label=""+i.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const d=Ms.getController(c),{datasetElementType:h,dataElementType:p}=yt.datasets[c];Object.assign(d,{dataElementType:Ms.getElement(p),datasetElementType:h&&Ms.getElement(h)}),a.controller=new d(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ve(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:m}=this.getDatasetMeta(h),g=!r&&i.indexOf(m)===-1;m.buildOrUpdateElements(g),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),r||Ve(i,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ew("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ve(this.scales,e=>{Zn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!h1(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const a=s==="_removeElements"?-i:i;hO(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(a=>a[0]===i).map((a,c)=>c+","+a.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!h1(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Zn.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Ve(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,vi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ar.has(this)?this.attached&&!ar.running(this)&&ar.start(this):(this.draw(),tw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const a=n[r];(!e||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=xC(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&tf(n,r),e.controller.draw(),r&&nf(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Ia(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=uD.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Eo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);Pc(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),a.update(i,{visible:s}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ar.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),_1(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete uh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},r=(i,a,c)=>{i.offsetX=a,i.offsetY=c,this._eventHandler(i)};Ve(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(d,h)=>{n.addEventListener(this,d,h),e[d]=h},r=(d,h)=>{e[d]&&(n.removeEventListener(this,d,h),delete e[d])},i=(d,h)=>{this.canvas&&this.resize(d,h)};let a;const c=()=>{r("attach",c),this.attached=!0,this.resize(),s("resize",i),s("detach",a)};a=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){Ve(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ve(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,a,c,d;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){a=e[c];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:a})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[a],index:a}});!Th(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(d,h)=>d.filter(p=>!h.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),a=i(n,e),c=s?e:i(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,a=n,c=this._getActiveElements(e,r,s,a),d=yM(e),h=fO(e,this._lastEvent,s,d);s&&(this._lastEvent=null,Ne(i.onHover,[e,c,this],this),d&&Ne(i.onClick,[e,c,this],this));const p=!Th(c,r);return(p||n)&&(this._active=c,this._updateHoverStyles(c,r,n)),this._lastEvent=h,p}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},xe(ei,"defaults",yt),xe(ei,"instances",uh),xe(ei,"overrides",_o),xe(ei,"registry",Ms),xe(ei,"version",cO),xe(ei,"getChart",nw),ei);function sw(){return Ve(bs.instances,t=>t._plugins.invalidate())}function pO(t,e,n){const{startAngle:s,x:r,y:i,outerRadius:a,innerRadius:c,options:d}=e,{borderWidth:h,borderJoinStyle:p}=d,m=Math.min(h/a,Ln(s-n));if(t.beginPath(),t.arc(r,i,a-h/2,s+m/2,n-m/2),c>0){const g=Math.min(h/c,Ln(s-n));t.arc(r,i,c+h/2,n-g/2,s+g/2,!0)}else{const g=Math.min(h/2,a*Ln(s-n));if(p==="round")t.arc(r,i,g,n-Ge/2,s+Ge/2,!0);else if(p==="bevel"){const x=2*g*g,v=-x*Math.cos(n+Ge/2)+r,w=-x*Math.sin(n+Ge/2)+i,_=x*Math.cos(s+Ge/2)+r,C=x*Math.sin(s+Ge/2)+i;t.lineTo(v,w),t.lineTo(_,C)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function mO(t,e,n){const{startAngle:s,pixelMargin:r,x:i,y:a,outerRadius:c,innerRadius:d}=e;let h=r/c;t.beginPath(),t.arc(i,a,c,s-h,n+h),d>r?(h=r/d,t.arc(i,a,d,n+h,s-h,!0)):t.arc(i,a,r,n+Ot,s-Ot),t.closePath(),t.clip()}function gO(t){return W0(t,["outerStart","outerEnd","innerStart","innerEnd"])}function yO(t,e,n,s){const r=gO(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,s*e/2),c=d=>{const h=(n-Math.min(i,d))*s/2;return Jt(d,0,Math.min(i,h))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:Jt(r.innerStart,0,a),innerEnd:Jt(r.innerEnd,0,a)}}function fa(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Dh(t,e,n,s,r,i){const{x:a,y:c,startAngle:d,pixelMargin:h,innerRadius:p}=e,m=Math.max(e.outerRadius+s+n-h,0),g=p>0?p+s+n+h:0;let x=0;const v=r-d;if(s){const he=p>0?p-s:0,te=m>0?m-s:0,Z=(he+te)/2,Y=Z!==0?v*Z/(Z+s):v;x=(v-Y)/2}const w=Math.max(.001,v*m-n/Ge)/m,_=(v-w)/2,C=d+_+x,k=r-_-x,{outerStart:T,outerEnd:M,innerStart:P,innerEnd:R}=yO(e,g,m,k-C),z=m-T,I=m-M,F=C+T/z,U=k-M/I,ee=g+P,J=g+R,de=C+P/ee,G=k-R/J;if(t.beginPath(),i){const he=(F+U)/2;if(t.arc(a,c,m,F,he),t.arc(a,c,m,he,U),M>0){const ne=fa(I,U,a,c);t.arc(ne.x,ne.y,M,U,k+Ot)}const te=fa(J,k,a,c);if(t.lineTo(te.x,te.y),R>0){const ne=fa(J,G,a,c);t.arc(ne.x,ne.y,R,k+Ot,G+Math.PI)}const Z=(k-R/g+(C+P/g))/2;if(t.arc(a,c,g,k-R/g,Z,!0),t.arc(a,c,g,Z,C+P/g,!0),P>0){const ne=fa(ee,de,a,c);t.arc(ne.x,ne.y,P,de+Math.PI,C-Ot)}const Y=fa(z,C,a,c);if(t.lineTo(Y.x,Y.y),T>0){const ne=fa(z,F,a,c);t.arc(ne.x,ne.y,T,C-Ot,F)}}else{t.moveTo(a,c);const he=Math.cos(F)*m+a,te=Math.sin(F)*m+c;t.lineTo(he,te);const Z=Math.cos(U)*m+a,Y=Math.sin(U)*m+c;t.lineTo(Z,Y)}t.closePath()}function xO(t,e,n,s,r){const{fullCircles:i,startAngle:a,circumference:c}=e;let d=e.endAngle;if(i){Dh(t,e,n,s,d,r);for(let h=0;h<i;++h)t.fill();isNaN(c)||(d=a+(c%ht||ht))}return Dh(t,e,n,s,d,r),t.fill(),d}function bO(t,e,n,s,r){const{fullCircles:i,startAngle:a,circumference:c,options:d}=e,{borderWidth:h,borderJoinStyle:p,borderDash:m,borderDashOffset:g,borderRadius:x}=d,v=d.borderAlign==="inner";if(!h)return;t.setLineDash(m||[]),t.lineDashOffset=g,v?(t.lineWidth=h*2,t.lineJoin=p||"round"):(t.lineWidth=h,t.lineJoin=p||"bevel");let w=e.endAngle;if(i){Dh(t,e,n,s,w,r);for(let _=0;_<i;++_)t.stroke();isNaN(c)||(w=a+(c%ht||ht))}v&&mO(t,e,w),d.selfJoin&&w-a>=Ge&&x===0&&p!=="miter"&&pO(t,e,w),i||(Dh(t,e,n,s,w,r),t.stroke())}class mi extends jr{constructor(n){super();xe(this,"circumference");xe(this,"endAngle");xe(this,"fullCircles");xe(this,"innerRadius");xe(this,"outerRadius");xe(this,"pixelMargin");xe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:a,distance:c}=eC(i,{x:n,y:s}),{startAngle:d,endAngle:h,innerRadius:p,outerRadius:m,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),x=(this.options.spacing+this.options.borderWidth)/2,v=De(g,h-d),w=Mc(a,d,h)&&d!==h,_=v>=ht||w,C=pr(c,p+x,m+x);return _&&C}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:a,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:p}=this.options,m=(i+a)/2,g=(c+d+p+h)/2;return{x:s+Math.cos(m)*g,y:r+Math.sin(m)*g}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,a=(s.spacing||0)/2,c=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>ht?Math.floor(r/ht):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const d=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(d)*i,Math.sin(d)*i);const h=1-Math.sin(Math.min(Ge,r||0)),p=i*h;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,xO(n,this,p,a,c),bO(n,this,p,a,c),n.restore()}}xe(mi,"id","arc"),xe(mi,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),xe(mi,"defaultRoutes",{backgroundColor:"backgroundColor"}),xe(mi,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function AC(t,e,n=e){t.lineCap=De(n.borderCapStyle,e.borderCapStyle),t.setLineDash(De(n.borderDash,e.borderDash)),t.lineDashOffset=De(n.borderDashOffset,e.borderDashOffset),t.lineJoin=De(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=De(n.borderWidth,e.borderWidth),t.strokeStyle=De(n.borderColor,e.borderColor)}function vO(t,e,n){t.lineTo(n.x,n.y)}function wO(t){return t.stepped?HM:t.tension||t.cubicInterpolationMode==="monotone"?WM:vO}function MC(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:a,end:c}=e,d=Math.max(r,a),h=Math.min(i,c),p=r<a&&i<a||r>c&&i>c;return{count:s,start:d,loop:e.loop,ilen:h<d&&!p?s+h-d:h-d}}function _O(t,e,n,s){const{points:r,options:i}=e,{count:a,start:c,loop:d,ilen:h}=MC(r,n,s),p=wO(i);let{move:m=!0,reverse:g}=s||{},x,v,w;for(x=0;x<=h;++x)v=r[(c+(g?h-x:x))%a],!v.skip&&(m?(t.moveTo(v.x,v.y),m=!1):p(t,w,v,g,i.stepped),w=v);return d&&(v=r[(c+(g?h:0))%a],p(t,w,v,g,i.stepped)),!!d}function SO(t,e,n,s){const r=e.points,{count:i,start:a,ilen:c}=MC(r,n,s),{move:d=!0,reverse:h}=s||{};let p=0,m=0,g,x,v,w,_,C;const k=M=>(a+(h?c-M:M))%i,T=()=>{w!==_&&(t.lineTo(p,_),t.lineTo(p,w),t.lineTo(p,C))};for(d&&(x=r[k(0)],t.moveTo(x.x,x.y)),g=0;g<=c;++g){if(x=r[k(g)],x.skip)continue;const M=x.x,P=x.y,R=M|0;R===v?(P<w?w=P:P>_&&(_=P),p=(m*p+M)/++m):(T(),t.lineTo(M,P),v=R,m=0,w=_=P),C=P}T()}function Sg(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?SO:_O}function CO(t){return t.stepped?SR:t.tension||t.cubicInterpolationMode==="monotone"?CR:Zi}function jO(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),AC(t,e.options),t.stroke(r)}function kO(t,e,n,s){const{segments:r,options:i}=e,a=Sg(e);for(const c of r)AC(t,i,c.style),t.beginPath(),a(t,e,c,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const NO=typeof Path2D=="function";function TO(t,e,n,s){NO&&!e.options.segment?jO(t,e,n,s):kO(t,e,n,s)}class mr extends jr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;mR(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=PR(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,a=yC(this,{property:n,start:r,end:r});if(!a.length)return;const c=[],d=CO(s);let h,p;for(h=0,p=a.length;h<p;++h){const{start:m,end:g}=a[h],x=i[m],v=i[g];if(x===v){c.push(x);continue}const w=Math.abs((r-x[n])/(v[n]-x[n])),_=d(x,v,w,s.stepped);_[n]=e[n],c.push(_)}return c.length===1?c[0]:c}pathSegment(e,n,s){return Sg(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=Sg(this);let a=this._loop;n=n||0,s=s||this.points.length-n;for(const c of r)a&=i(e,this,c,{start:n,end:n+s-1});return!!a}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),TO(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}xe(mr,"id","line"),xe(mr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),xe(mr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),xe(mr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function rw(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class Sa extends jr{constructor(n){super();xe(this,"parsed");xe(this,"skip");xe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:a,y:c}=this.getProps(["x","y"],r);return Math.pow(n-a,2)+Math.pow(s-c,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return rw(this,n,"x",s)}inYRange(n,s){return rw(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!Ia(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,bg(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}xe(Sa,"id","point"),xe(Sa,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),xe(Sa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function RC(t,e){const{x:n,y:s,base:r,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let c,d,h,p,m;return t.horizontal?(m=a/2,c=Math.min(n,r),d=Math.max(n,r),h=s-m,p=s+m):(m=i/2,c=n-m,d=n+m,h=Math.min(s,r),p=Math.max(s,r)),{left:c,top:h,right:d,bottom:p}}function gi(t,e,n,s){return t?0:Jt(e,n,s)}function EO(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=aC(s);return{t:gi(r.top,i.top,0,n),r:gi(r.right,i.right,0,e),b:gi(r.bottom,i.bottom,0,n),l:gi(r.left,i.left,0,e)}}function PO(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=wa(r),a=Math.min(e,n),c=t.borderSkipped,d=s||Ue(r);return{topLeft:gi(!d||c.top||c.left,i.topLeft,0,a),topRight:gi(!d||c.top||c.right,i.topRight,0,a),bottomLeft:gi(!d||c.bottom||c.left,i.bottomLeft,0,a),bottomRight:gi(!d||c.bottom||c.right,i.bottomRight,0,a)}}function AO(t){const e=RC(t),n=e.right-e.left,s=e.bottom-e.top,r=EO(t,n/2,s/2),i=PO(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function Nm(t,e,n,s){const r=e===null,i=n===null,c=t&&!(r&&i)&&RC(t,s);return c&&(r||pr(e,c.left,c.right))&&(i||pr(n,c.top,c.bottom))}function MO(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function RO(t,e){t.rect(e.x,e.y,e.w,e.h)}function Tm(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,a=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+a,radius:t.radius}}class xr extends jr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:a}=AO(this),c=MO(a.radius)?Ah:RO;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),c(e,Tm(a,n,i)),e.clip(),c(e,Tm(i,-n,a)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),c(e,Tm(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return Nm(this,e,n,s)}inXRange(e,n){return Nm(this,e,null,n)}inYRange(e,n){return Nm(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}xe(xr,"id","bar"),xe(xr,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),xe(xr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function DO(t,e,n){const s=t.segments,r=t.points,i=e.points,a=[];for(const c of s){let{start:d,end:h}=c;h=of(d,h,r);const p=Cg(n,r[d],r[h],c.loop);if(!e.segments){a.push({source:c,target:p,start:r[d],end:r[h]});continue}const m=yC(e,p);for(const g of m){const x=Cg(n,i[g.start],i[g.end],g.loop),v=gC(c,r,x);for(const w of v)a.push({source:w,target:g,start:{[n]:iw(p,x,"start",Math.max)},end:{[n]:iw(p,x,"end",Math.min)}})}}return a}function Cg(t,e,n,s){if(s)return;let r=e[t],i=n[t];return t==="angle"&&(r=Ln(r),i=Ln(i)),{property:t,start:r,end:i}}function OO(t,e){const{x:n=null,y:s=null}=t||{},r=e.points,i=[];return e.segments.forEach(({start:a,end:c})=>{c=of(a,c,r);const d=r[a],h=r[c];s!==null?(i.push({x:d.x,y:s}),i.push({x:h.x,y:s})):n!==null&&(i.push({x:n,y:d.y}),i.push({x:n,y:h.y}))}),i}function of(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function iw(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function DC(t,e){let n=[],s=!1;return jt(t)?(s=!0,n=t):n=OO(t,e),n.length?new mr({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function ow(t){return t&&t.fill!==!1}function LO(t,e,n){let r=t[e].fill;const i=[e];let a;if(!n)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!tn(r))return r;if(a=t[r],!a)return!1;if(a.visible)return r;i.push(r),r=a.fill}return!1}function IO(t,e,n){const s=VO(t);if(Ue(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return tn(r)&&Math.floor(r)===r?FO(s[0],e,r,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function FO(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function BO(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ue(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function zO(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:Ue(t)?s=t.value:s=e.getBaseValue(),s}function VO(t){const e=t.options,n=e.fill;let s=De(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function $O(t){const{scale:e,index:n,line:s}=t,r=[],i=s.segments,a=s.points,c=UO(e,n);c.push(DC({x:null,y:e.bottom},s));for(let d=0;d<i.length;d++){const h=i[d];for(let p=h.start;p<=h.end;p++)HO(r,a[p],c)}return new mr({points:r,options:{}})}function UO(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const i=s[r];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function HO(t,e,n){const s=[];for(let r=0;r<n.length;r++){const i=n[r],{first:a,last:c,point:d}=WO(i,e,"x");if(!(!d||a&&c)){if(a)s.unshift(d);else if(t.push(d),!c)break}}t.push(...s)}function WO(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const r=s[n],i=t.segments,a=t.points;let c=!1,d=!1;for(let h=0;h<i.length;h++){const p=i[h],m=a[p.start][n],g=a[p.end][n];if(pr(r,m,g)){c=r===m,d=r===g;break}}return{first:c,last:d,point:s}}class OC{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:r,y:i,radius:a}=this;return n=n||{start:0,end:ht},e.arc(r,i,a,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:r}=this,i=e.angle;return{x:n+Math.cos(i)*r,y:s+Math.sin(i)*r,angle:i}}}function qO(t){const{chart:e,fill:n,line:s}=t;if(tn(n))return YO(e,n);if(n==="stack")return $O(t);if(n==="shape")return!0;const r=KO(t);return r instanceof OC?r:DC(r,s)}function YO(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function KO(t){return(t.scale||{}).getPointPositionForValue?QO(t):XO(t)}function XO(t){const{scale:e={},fill:n}=t,s=BO(n,e);if(tn(s)){const r=e.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function QO(t){const{scale:e,fill:n}=t,s=e.options,r=e.getLabels().length,i=s.reverse?e.max:e.min,a=zO(n,e,i),c=[];if(s.grid.circular){const d=e.getPointPositionForValue(0,i);return new OC({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(a)})}for(let d=0;d<r;++d)c.push(e.getPointPositionForValue(d,a));return c}function Em(t,e,n){const s=qO(e),{chart:r,index:i,line:a,scale:c,axis:d}=e,h=a.options,p=h.fill,m=h.backgroundColor,{above:g=m,below:x=m}=p||{},v=r.getDatasetMeta(i),w=xC(r,v);s&&a.points.length&&(tf(t,n),GO(t,{line:a,target:s,above:g,below:x,area:n,scale:c,axis:d,clip:w}),nf(t))}function GO(t,e){const{line:n,target:s,above:r,below:i,area:a,scale:c,clip:d}=e,h=n._loop?"angle":e.axis;t.save();let p=i;i!==r&&(h==="x"?(aw(t,s,a.top),Pm(t,{line:n,target:s,color:r,scale:c,property:h,clip:d}),t.restore(),t.save(),aw(t,s,a.bottom)):h==="y"&&(lw(t,s,a.left),Pm(t,{line:n,target:s,color:i,scale:c,property:h,clip:d}),t.restore(),t.save(),lw(t,s,a.right),p=r)),Pm(t,{line:n,target:s,color:p,scale:c,property:h,clip:d}),t.restore()}function aw(t,e,n){const{segments:s,points:r}=e;let i=!0,a=!1;t.beginPath();for(const c of s){const{start:d,end:h}=c,p=r[d],m=r[of(d,h,r)];i?(t.moveTo(p.x,p.y),i=!1):(t.lineTo(p.x,n),t.lineTo(p.x,p.y)),a=!!e.pathSegment(t,c,{move:a}),a?t.closePath():t.lineTo(m.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function lw(t,e,n){const{segments:s,points:r}=e;let i=!0,a=!1;t.beginPath();for(const c of s){const{start:d,end:h}=c,p=r[d],m=r[of(d,h,r)];i?(t.moveTo(p.x,p.y),i=!1):(t.lineTo(n,p.y),t.lineTo(p.x,p.y)),a=!!e.pathSegment(t,c,{move:a}),a?t.closePath():t.lineTo(n,m.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Pm(t,e){const{line:n,target:s,property:r,color:i,scale:a,clip:c}=e,d=DO(n,s,r);for(const{source:h,target:p,start:m,end:g}of d){const{style:{backgroundColor:x=i}={}}=h,v=s!==!0;t.save(),t.fillStyle=x,ZO(t,a,c,v&&Cg(r,m,g)),t.beginPath();const w=!!n.pathSegment(t,h);let _;if(v){w?t.closePath():cw(t,s,g,r);const C=!!s.pathSegment(t,p,{move:w,reverse:!0});_=w&&C,_||cw(t,s,m,r)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function ZO(t,e,n,s){const r=e.chart.chartArea,{property:i,start:a,end:c}=s||{};if(i==="x"||i==="y"){let d,h,p,m;i==="x"?(d=a,h=r.top,p=c,m=r.bottom):(d=r.left,h=a,p=r.right,m=c),t.beginPath(),n&&(d=Math.max(d,n.left),p=Math.min(p,n.right),h=Math.max(h,n.top),m=Math.min(m,n.bottom)),t.rect(d,h,p-d,m-h),t.clip()}}function cw(t,e,n,s){const r=e.interpolate(n,s);r&&t.lineTo(r.x,r.y)}var LC={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,r=[];let i,a,c,d;for(a=0;a<s;++a)i=t.getDatasetMeta(a),c=i.dataset,d=null,c&&c.options&&c instanceof mr&&(d={visible:t.isDatasetVisible(a),index:a,fill:IO(c,a,s),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:c}),i.$filler=d,r.push(d);for(a=0;a<s;++a)d=r[a],!(!d||d.fill===!1)&&(d.fill=LO(r,a,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let a=r.length-1;a>=0;--a){const c=r[a].$filler;c&&(c.line.updateControlPoints(i,c.axis),s&&c.fill&&Em(t.ctx,c,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const i=s[r].$filler;ow(i)&&Em(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!ow(s)||n.drawTime!=="beforeDatasetDraw"||Em(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const uw=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},JO=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class dw extends jr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ne(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=Ut(s.font),i=r.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=uw(s,i);let h,p;n.font=r.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(a,i,c,d)+10):(p=this.maxHeight,h=this._fitCols(a,r,c,d)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:a,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.lineWidths=[0],p=r+c;let m=e;i.textAlign="left",i.textBaseline="middle";let g=-1,x=-p;return this.legendItems.forEach((v,w)=>{const _=s+n/2+i.measureText(v.text).width;(w===0||h[h.length-1]+_+2*c>a)&&(m+=p,h[h.length-(w>0?0:1)]=0,x+=p,g++),d[w]={left:0,top:x,row:g,width:_,height:r},h[h.length-1]+=_+c}),m}_fitCols(e,n,s,r){const{ctx:i,maxHeight:a,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.columnSizes=[],p=a-e;let m=c,g=0,x=0,v=0,w=0;return this.legendItems.forEach((_,C)=>{const{itemWidth:k,itemHeight:T}=eL(s,n,i,_,r);C>0&&x+T+2*c>p&&(m+=g+c,h.push({width:g,height:x}),v+=g+c,w++,g=x=0),d[C]={left:v,top:x,col:w,width:k,height:T},g=Math.max(g,k),x+=T+c}),m+=g,h.push({width:g,height:x}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,a=_a(i,this.left,this.width);if(this.isHorizontal()){let c=0,d=Gt(s,this.left+r,this.right-this.lineWidths[c]);for(const h of n)c!==h.row&&(c=h.row,d=Gt(s,this.left+r,this.right-this.lineWidths[c])),h.top+=this.top+e+r,h.left=a.leftForLtr(a.x(d),h.width),d+=h.width+r}else{let c=0,d=Gt(s,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const h of n)h.col!==c&&(c=h.col,d=Gt(s,this.top+e+r,this.bottom-this.columnSizes[c].height)),h.top=d,h.left+=this.left+r,h.left=a.leftForLtr(a.x(h.left),h.width),d+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;tf(e,this),this._draw(),nf(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:a}=e,c=yt.color,d=_a(e.rtl,this.left,this.width),h=Ut(a.font),{padding:p}=a,m=h.size,g=m/2;let x;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:v,boxHeight:w,itemHeight:_}=uw(a,m),C=function(R,z,I){if(isNaN(v)||v<=0||isNaN(w)||w<0)return;r.save();const F=De(I.lineWidth,1);if(r.fillStyle=De(I.fillStyle,c),r.lineCap=De(I.lineCap,"butt"),r.lineDashOffset=De(I.lineDashOffset,0),r.lineJoin=De(I.lineJoin,"miter"),r.lineWidth=F,r.strokeStyle=De(I.strokeStyle,c),r.setLineDash(De(I.lineDash,[])),a.usePointStyle){const U={radius:w*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:F},ee=d.xPlus(R,v/2),J=z+g;oC(r,U,ee,J,a.pointStyleWidth&&v)}else{const U=z+Math.max((m-w)/2,0),ee=d.leftForLtr(R,v),J=wa(I.borderRadius);r.beginPath(),Object.values(J).some(de=>de!==0)?Ah(r,{x:ee,y:U,w:v,h:w,radius:J}):r.rect(ee,U,v,w),r.fill(),F!==0&&r.stroke()}r.restore()},k=function(R,z,I){Rc(r,I.text,R,z+_/2,h,{strikethrough:I.hidden,textAlign:d.textAlign(I.textAlign)})},T=this.isHorizontal(),M=this._computeTitleHeight();T?x={x:Gt(i,this.left+p,this.right-s[0]),y:this.top+p+M,line:0}:x={x:this.left+p,y:Gt(i,this.top+M+p,this.bottom-n[0].height),line:0},fC(this.ctx,e.textDirection);const P=_+p;this.legendItems.forEach((R,z)=>{r.strokeStyle=R.fontColor,r.fillStyle=R.fontColor;const I=r.measureText(R.text).width,F=d.textAlign(R.textAlign||(R.textAlign=a.textAlign)),U=v+g+I;let ee=x.x,J=x.y;d.setWidth(this.width),T?z>0&&ee+U+p>this.right&&(J=x.y+=P,x.line++,ee=x.x=Gt(i,this.left+p,this.right-s[x.line])):z>0&&J+P>this.bottom&&(ee=x.x=ee+n[x.line].width+p,x.line++,J=x.y=Gt(i,this.top+M+p,this.bottom-n[x.line].height));const de=d.x(ee);if(C(de,J,R),ee=AM(F,ee+v+g,T?ee+U:this.right,e.rtl),k(d.x(ee),J,R),T)x.x+=U+p;else if(typeof R.text!="string"){const G=h.lineHeight;x.y+=IC(R,G)+p}else x.y+=P}),pC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Ut(n.font),r=Fn(n.padding);if(!n.display)return;const i=_a(e.rtl,this.left,this.width),a=this.ctx,c=n.position,d=s.size/2,h=r.top+d;let p,m=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),p=this.top+h,m=Gt(e.align,m,this.right-g);else{const v=this.columnSizes.reduce((w,_)=>Math.max(w,_.height),0);p=h+Gt(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const x=Gt(c,m,m+g);a.textAlign=i.textAlign($0(c)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=s.string,Rc(a,n.text,x,p,s)}_computeTitleHeight(){const e=this.options.title,n=Ut(e.font),s=Fn(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(pr(e,this.left,this.right)&&pr(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],pr(e,r.left,r.left+r.width)&&pr(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!sL(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=JO(r,s);r&&!i&&Ne(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&Ne(n.onHover,[e,s,this],this)}else s&&Ne(n.onClick,[e,s,this],this)}}function eL(t,e,n,s,r){const i=tL(s,t,e,n),a=nL(r,s,e.lineHeight);return{itemWidth:i,itemHeight:a}}function tL(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+s.measureText(r).width}function nL(t,e,n){let s=t;return typeof e.text!="string"&&(s=IC(e,n)),s}function IC(t,e){const n=t.text?t.text.length:0;return e*n}function sL(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Ci={id:"legend",_element:dw,start(t,e,n){const s=t.legend=new dw({ctx:t.ctx,options:n,chart:t});Zn.configure(t,s,n),Zn.addBox(t,s)},stop(t){Zn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;Zn.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:a,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const h=d.controller.getStyle(n?0:void 0),p=Fn(h.borderWidth);return{text:e[d.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!d.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:a&&(c||h.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class FC extends jr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=jt(s.text)?s.text.length:1;this._padding=Fn(s.padding);const i=r*Ut(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:a}=this,c=a.align;let d=0,h,p,m;return this.isHorizontal()?(p=Gt(c,s,i),m=n+e,h=i-s):(a.position==="left"?(p=s+e,m=Gt(c,r,n),d=Ge*-.5):(p=i-e,m=Gt(c,n,r),d=Ge*.5),h=r-n),{titleX:p,titleY:m,maxWidth:h,rotation:d}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Ut(n.font),i=s.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:d,rotation:h}=this._drawArgs(i);Rc(e,n.text,0,0,s,{color:n.color,maxWidth:d,rotation:h,textAlign:$0(n.align),textBaseline:"middle",translation:[a,c]})}}function rL(t,e){const n=new FC({ctx:t.ctx,options:e,chart:t});Zn.configure(t,n,e),Zn.addBox(t,n),t.titleBlock=n}var iL={id:"title",_element:FC,start(t,e,n){rL(t,n)},stop(t){const e=t.titleBlock;Zn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;Zn.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ac={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();s.add(d.x),r+=d.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((c,d)=>c+d)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,a,c;for(i=0,a=t.length;i<a;++i){const d=t[i].element;if(d&&d.hasValue()){const h=d.getCenterPoint(),p=yg(e,h);p<r&&(r=p,c=d)}}if(c){const d=c.tooltipPosition();n=d.x,s=d.y}return{x:n,y:s}}};function As(t,e){return e&&(jt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function lr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function oL(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:a,value:c}=i.getLabelAndValue(r);return{chart:t,label:a,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:c,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function hw(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:a,boxHeight:c}=e,d=Ut(e.bodyFont),h=Ut(e.titleFont),p=Ut(e.footerFont),m=i.length,g=r.length,x=s.length,v=Fn(e.padding);let w=v.height,_=0,C=s.reduce((M,P)=>M+P.before.length+P.lines.length+P.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,m&&(w+=m*h.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),C){const M=e.displayColors?Math.max(c,d.lineHeight):d.lineHeight;w+=x*M+(C-x)*d.lineHeight+(C-1)*e.bodySpacing}g&&(w+=e.footerMarginTop+g*p.lineHeight+(g-1)*e.footerSpacing);let k=0;const T=function(M){_=Math.max(_,n.measureText(M).width+k)};return n.save(),n.font=h.string,Ve(t.title,T),n.font=d.string,Ve(t.beforeBody.concat(t.afterBody),T),k=e.displayColors?a+2+e.boxPadding:0,Ve(s,M=>{Ve(M.before,T),Ve(M.lines,T),Ve(M.after,T)}),k=0,n.font=p.string,Ve(t.footer,T),n.restore(),_+=v.width,{width:_,height:w}}function aL(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function lL(t,e,n,s){const{x:r,width:i}=s,a=n.caretSize+n.caretPadding;if(t==="left"&&r+i+a>e.width||t==="right"&&r-i-a<0)return!0}function cL(t,e,n,s){const{x:r,width:i}=n,{width:a,chartArea:{left:c,right:d}}=t;let h="center";return s==="center"?h=r<=(c+d)/2?"left":"right":r<=i/2?h="left":r>=a-i/2&&(h="right"),lL(h,t,e,n)&&(h="center"),h}function fw(t,e,n){const s=n.yAlign||e.yAlign||aL(t,n);return{xAlign:n.xAlign||e.xAlign||cL(t,e,n,s),yAlign:s}}function uL(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function dL(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function pw(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:a}=t,{xAlign:c,yAlign:d}=n,h=r+i,{topLeft:p,topRight:m,bottomLeft:g,bottomRight:x}=wa(a);let v=uL(e,c);const w=dL(e,d,h);return d==="center"?c==="left"?v+=h:c==="right"&&(v-=h):c==="left"?v-=Math.max(p,g)+r:c==="right"&&(v+=Math.max(m,x)+r),{x:Jt(v,0,s.width-e.width),y:Jt(w,0,s.height-e.height)}}function Ld(t,e,n){const s=Fn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function mw(t){return As([],lr(t))}function hL(t,e,n){return Eo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function gw(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const BC={beforeTitle:ir,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:ir,beforeBody:ir,beforeLabel:ir,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return qe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ir,afterBody:ir,beforeFooter:ir,footer:ir,afterFooter:ir};function vn(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?BC[e].call(n,s):r}class jg extends jr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new bC(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=hL(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=vn(s,"beforeTitle",this,e),i=vn(s,"title",this,e),a=vn(s,"afterTitle",this,e);let c=[];return c=As(c,lr(r)),c=As(c,lr(i)),c=As(c,lr(a)),c}getBeforeBody(e,n){return mw(vn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return Ve(e,i=>{const a={before:[],lines:[],after:[]},c=gw(s,i);As(a.before,lr(vn(c,"beforeLabel",this,i))),As(a.lines,vn(c,"label",this,i)),As(a.after,lr(vn(c,"afterLabel",this,i))),r.push(a)}),r}getAfterBody(e,n){return mw(vn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=vn(s,"beforeFooter",this,e),i=vn(s,"footer",this,e),a=vn(s,"afterFooter",this,e);let c=[];return c=As(c,lr(r)),c=As(c,lr(i)),c=As(c,lr(a)),c}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],a=[];let c=[],d,h;for(d=0,h=n.length;d<h;++d)c.push(oL(this.chart,n[d]));return e.filter&&(c=c.filter((p,m,g)=>e.filter(p,m,g,s))),e.itemSort&&(c=c.sort((p,m)=>e.itemSort(p,m,s))),Ve(c,p=>{const m=gw(e.callbacks,p);r.push(vn(m,"labelColor",this,p)),i.push(vn(m,"labelPointStyle",this,p)),a.push(vn(m,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=c,c}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,a=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const c=ac[s.position].call(this,r,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const d=this._size=hw(this,s),h=Object.assign({},c,d),p=fw(this.chart,s,h),m=pw(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,i={opacity:1,x:m.x,y:m.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:a,cornerRadius:c}=s,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:m}=wa(c),{x:g,y:x}=e,{width:v,height:w}=n;let _,C,k,T,M,P;return i==="center"?(M=x+w/2,r==="left"?(_=g,C=_-a,T=M+a,P=M-a):(_=g+v,C=_+a,T=M-a,P=M+a),k=_):(r==="left"?C=g+Math.max(d,p)+a:r==="right"?C=g+v-Math.max(h,m)-a:C=this.caretX,i==="top"?(T=x,M=T-a,_=C-a,k=C+a):(T=x+w,M=T+a,_=C+a,k=C-a),P=T),{x1:_,x2:C,x3:k,y1:T,y2:M,y3:P}}drawTitle(e,n,s){const r=this.title,i=r.length;let a,c,d;if(i){const h=_a(s.rtl,this.x,this.width);for(e.x=Ld(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",a=Ut(s.titleFont),c=s.titleSpacing,n.fillStyle=s.titleColor,n.font=a.string,d=0;d<i;++d)n.fillText(r[d],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,d+1===i&&(e.y+=s.titleMarginBottom-c)}}_drawColorBox(e,n,s,r,i){const a=this.labelColors[s],c=this.labelPointStyles[s],{boxHeight:d,boxWidth:h}=i,p=Ut(i.bodyFont),m=Ld(this,"left",i),g=r.x(m),x=d<p.lineHeight?(p.lineHeight-d)/2:0,v=n.y+x;if(i.usePointStyle){const w={radius:Math.min(h,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},_=r.leftForLtr(g,h)+h/2,C=v+d/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,bg(e,w,_,C),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,bg(e,w,_,C)}else{e.lineWidth=Ue(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const w=r.leftForLtr(g,h),_=r.leftForLtr(r.xPlus(g,1),h-2),C=wa(a.borderRadius);Object.values(C).some(k=>k!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Ah(e,{x:w,y:v,w:h,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Ah(e,{x:_,y:v+1,w:h-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(w,v,h,d),e.strokeRect(w,v,h,d),e.fillStyle=a.backgroundColor,e.fillRect(_,v+1,h-2,d-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:a,displayColors:c,boxHeight:d,boxWidth:h,boxPadding:p}=s,m=Ut(s.bodyFont);let g=m.lineHeight,x=0;const v=_a(s.rtl,this.x,this.width),w=function(I){n.fillText(I,v.x(e.x+x),e.y+g/2),e.y+=g+i},_=v.textAlign(a);let C,k,T,M,P,R,z;for(n.textAlign=a,n.textBaseline="middle",n.font=m.string,e.x=Ld(this,_,s),n.fillStyle=s.bodyColor,Ve(this.beforeBody,w),x=c&&_!=="right"?a==="center"?h/2+p:h+2+p:0,M=0,R=r.length;M<R;++M){for(C=r[M],k=this.labelTextColors[M],n.fillStyle=k,Ve(C.before,w),T=C.lines,c&&T.length&&(this._drawColorBox(n,e,M,v,s),g=Math.max(m.lineHeight,d)),P=0,z=T.length;P<z;++P)w(T[P]),g=m.lineHeight;Ve(C.after,w)}x=0,g=m.lineHeight,Ve(this.afterBody,w),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let a,c;if(i){const d=_a(s.rtl,this.x,this.width);for(e.x=Ld(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=d.textAlign(s.footerAlign),n.textBaseline="middle",a=Ut(s.footerFont),n.fillStyle=s.footerColor,n.font=a.string,c=0;c<i;++c)n.fillText(r[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:a}=this,{x:c,y:d}=e,{width:h,height:p}=s,{topLeft:m,topRight:g,bottomLeft:x,bottomRight:v}=wa(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(c+m,d),a==="top"&&this.drawCaret(e,n,s,r),n.lineTo(c+h-g,d),n.quadraticCurveTo(c+h,d,c+h,d+g),a==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(c+h,d+p-v),n.quadraticCurveTo(c+h,d+p,c+h-v,d+p),a==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(c+x,d+p),n.quadraticCurveTo(c,d+p,c,d+p-x),a==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(c,d+m),n.quadraticCurveTo(c,d,c+m,d),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const a=ac[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=hw(this,e),d=Object.assign({},a,this._size),h=fw(n,e,d),p=pw(e,d,h,n);(r._to!==p.x||i._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=Fn(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),fC(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),pC(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:c,index:d})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[d],index:d}}),i=!Th(s,r),a=this._positionChanged(r,n);(i||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,s),c=this._positionChanged(a,e),d=n||!Th(a,i)||c;return d&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),d}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,a=ac[i.position].call(this,e,n);return a!==!1&&(s!==a.x||r!==a.y)}}xe(jg,"positioners",ac);var ji={id:"tooltip",_element:jg,positioners:ac,afterInit(t,e,n){n&&(t.tooltip=new jg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:BC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const fL=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function pL(t,e,n,s){const r=t.indexOf(e);if(r===-1)return fL(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const mL=(t,e)=>t===null?null:Jt(Math.round(t),0,e);function yw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class So extends Ya{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(qe(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:pL(s,e,De(n,e),this._addedLabels),mL(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return yw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}xe(So,"id","category"),xe(So,"defaults",{ticks:{callback:yw}});function gL(t,e){const n=[],{bounds:r,step:i,min:a,max:c,precision:d,count:h,maxTicks:p,maxDigits:m,includeBounds:g}=t,x=i||1,v=p-1,{min:w,max:_}=e,C=!qe(a),k=!qe(c),T=!qe(h),M=(_-w)/(m+1);let P=p1((_-w)/v/x)*x,R,z,I,F;if(P<1e-14&&!C&&!k)return[{value:w},{value:_}];F=Math.ceil(_/P)-Math.floor(w/P),F>v&&(P=p1(F*P/v/x)*x),qe(d)||(R=Math.pow(10,d),P=Math.ceil(P*R)/R),r==="ticks"?(z=Math.floor(w/P)*P,I=Math.ceil(_/P)*P):(z=w,I=_),C&&k&&i&&_M((c-a)/i,P/1e3)?(F=Math.round(Math.min((c-a)/P,p)),P=(c-a)/F,z=a,I=c):T?(z=C?a:z,I=k?c:I,F=h-1,P=(I-z)/F):(F=(I-z)/P,mo(F,Math.round(F),P/1e3)?F=Math.round(F):F=Math.ceil(F));const U=Math.max(m1(P),m1(z));R=Math.pow(10,qe(d)?U:d),z=Math.round(z*R)/R,I=Math.round(I*R)/R;let ee=0;for(C&&(g&&z!==a?(n.push({value:a}),z<a&&ee++,mo(Math.round((z+ee*P)*R)/R,a,xw(a,M,t))&&ee++):z<a&&ee++);ee<F;++ee){const J=Math.round((z+ee*P)*R)/R;if(k&&J>c)break;n.push({value:J})}return k&&g&&I!==c?n.length&&mo(n[n.length-1].value,c,xw(c,M,t))?n[n.length-1].value=c:n.push({value:c}):(!k||I===c)&&n.push({value:I}),n}function xw(t,e,{horizontal:n,minRotation:s}){const r=fr(s),i=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class yL extends Ya{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return qe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const a=d=>r=n?r:d,c=d=>i=s?i:d;if(e){const d=Jn(r),h=Jn(i);d<0&&h<0?c(0):d>0&&h>0&&a(0)}if(r===i){let d=i===0?1:Math.abs(i*.05);c(i+d),e||a(r-d)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=gL(r,i);return e.bounds==="ticks"&&SM(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return H0(e,this.chart.options.locale,this.options.ticks.format)}}class Co extends yL{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=tn(e)?e:0,this.max=tn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=fr(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}xe(Co,"id","linear"),xe(Co,"defaults",{ticks:{callback:iC.formatters.numeric}});const af={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},jn=Object.keys(af);function bw(t,e){return t-e}function vw(t,e){if(qe(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let a=e;return typeof s=="function"&&(a=s(a)),tn(a)||(a=typeof s=="string"?n.parse(a,s):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(Ac(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,r)),+a)}function ww(t,e,n,s){const r=jn.length;for(let i=jn.indexOf(t);i<r-1;++i){const a=af[jn[i]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(c*a.size))<=s)return jn[i]}return jn[r-1]}function xL(t,e,n,s,r){for(let i=jn.length-1;i>=jn.indexOf(n);i--){const a=jn[i];if(af[a].common&&t._adapter.diff(r,s,a)>=e-1)return a}return jn[n?jn.indexOf(n):0]}function bL(t){for(let e=jn.indexOf(t)+1,n=jn.length;e<n;++e)if(af[jn[e]].common)return jn[e]}function _w(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=V0(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function vL(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),a=e[e.length-1].value;let c,d;for(c=i;c<=a;c=+r.add(c,1,s))d=n[c],d>=0&&(e[d].major=!0);return e}function Sw(t,e,n){const s=[],r={},i=e.length;let a,c;for(a=0;a<i;++a)c=e[a],r[c]=a,s.push({value:c,major:!1});return i===0||!n?s:vL(t,s,r,n)}class Oh extends Ya{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new iD._date(e.adapters.date);r.init(n),dc(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:vw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:a,maxDefined:c}=this.getUserBounds();function d(h){!a&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!c&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!a||!c)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=tn(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=tn(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,a=this.max,c=TM(r,i,a);return this._unit=n.unit||(s.autoSkip?ww(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):xL(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:bL(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),Sw(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Jt(n,0,a),s=Jt(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,a=i.unit||ww(i.minUnit,n,s,this._getLabelCapacity(n)),c=De(r.ticks.stepSize,1),d=a==="week"?i.isoWeekday:!1,h=Ac(d)||d===!0,p={};let m=n,g,x;if(h&&(m=+e.startOf(m,"isoWeek",d)),m=+e.startOf(m,h?"day":a),e.diff(s,n,a)>1e5*c)throw new Error(n+" and "+s+" are too far apart with stepSize of "+c+" "+a);const v=r.ticks.source==="data"&&this.getDataTimestamps();for(g=m,x=0;g<s;g=+e.add(g,c,a),x++)_w(p,g,v);return(g===s||r.bounds==="ticks"||x===1)&&_w(p,g,v),Object.keys(p).sort(bw).map(w=>+w)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,a=n||r[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,s,r){const i=this.options,a=i.ticks.callback;if(a)return Ne(a,[e,n,s],this);const c=i.time.displayFormats,d=this._unit,h=this._majorUnit,p=d&&c[d],m=h&&c[h],g=s[n],x=h&&m&&g&&g.major;return this._adapter.format(e,r||(x?m:p))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=fr(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),a=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:s*i+c*a,h:s*a+c*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,Sw(this,[e],this._majorUnit),r),a=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(vw(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return nC(e.sort(bw))}}xe(Oh,"id","time"),xe(Oh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Id(t,e,n){let s=0,r=t.length-1,i,a,c,d;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=to(t,"pos",e)),{pos:i,time:c}=t[s],{pos:a,time:d}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=to(t,"time",e)),{time:i,pos:c}=t[s],{time:a,pos:d}=t[r]);const h=a-i;return h?c+(d-c)*(e-i)/h:c}class Cw extends Oh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Id(n,this.min),this._tableRange=Id(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let a,c,d,h,p;for(a=0,c=e.length;a<c;++a)h=e[a],h>=n&&h<=s&&r.push(h);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(a=0,c=r.length;a<c;++a)p=r[a+1],d=r[a-1],h=r[a],Math.round((p+d)/2)!==h&&i.push({time:h,pos:a/(c-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Id(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Id(this._table,s*this._tableRange+this._minPos,!0)}}xe(Cw,"id","timeseries"),xe(Cw,"defaults",Oh.defaults);const zC="label";function jw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function wL(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function VC(t,e){t.labels=e}function $C(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zC;const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(a=>a[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function _L(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zC;const n={labels:[],datasets:[]};return VC(n,t.labels),$C(n,t.datasets,e),n}function SL(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:a,data:c,options:d,plugins:h=[],fallbackContent:p,updateMode:m,...g}=t,x=j.useRef(null),v=j.useRef(null),w=()=>{x.current&&(v.current=new bs(x.current,{type:a,data:_L(c,i),options:d&&{...d},plugins:h}),jw(e,v.current))},_=()=>{jw(e,null),v.current&&(v.current.destroy(),v.current=null)};return j.useEffect(()=>{!r&&v.current&&d&&wL(v.current,d)},[r,d]),j.useEffect(()=>{!r&&v.current&&VC(v.current.config.data,c.labels)},[r,c.labels]),j.useEffect(()=>{!r&&v.current&&c.datasets&&$C(v.current.config.data,c.datasets,i)},[r,c.datasets]),j.useEffect(()=>{v.current&&(r?(_(),setTimeout(w)):v.current.update(m))},[r,d,c.labels,c.datasets,m]),j.useEffect(()=>{v.current&&(_(),setTimeout(w))},[a]),j.useEffect(()=>(w(),()=>_()),[]),Is.createElement("canvas",{ref:x,role:"img",height:n,width:s,...g},p)}const CL=j.forwardRef(SL);function Z0(t,e){return bs.register(e),j.forwardRef((n,s)=>Is.createElement(CL,{...n,ref:s,type:t}))}const su=Z0("bar",pc),jL=Z0("doughnut",ma),UC=Z0("pie",vg);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var kw=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),mc={toTextLines:function(t){var e=[],n;for(t=[].concat(t);t.length;)n=t.pop(),typeof n=="string"?e.unshift.apply(e,n.split(`
`)):Array.isArray(n)?t.push.apply(t,n):qe(t)||e.unshift(""+n);return e},textSize:function(t,e,n){var s=[].concat(e),r=s.length,i=t.font,a=0,c;for(t.font=n.string,c=0;c<r;++c)a=Math.max(t.measureText(s[c]).width,a);return t.font=i,{height:r*n.lineHeight,width:a}},bound:function(t,e,n){return Math.max(t,Math.min(e,n))},arrayDiff:function(t,e){var n=t.slice(),s=[],r,i,a,c;for(r=0,a=e.length;r<a;++r)c=e[r],i=n.indexOf(c),i===-1?s.push([c,1]):n.splice(i,1);for(r=0,a=n.length;r<a;++r)s.push([n[r],-1]);return s},rasterize:function(t){return Math.round(t*kw)/kw}};function Am(t,e){var n=e.x,s=e.y;if(n===null)return{x:0,y:-1};if(s===null)return{x:1,y:0};var r=t.x-n,i=t.y-s,a=Math.sqrt(r*r+i*i);return{x:a?r/a:0,y:a?i/a:-1}}function kL(t,e,n,s,r){switch(r){case"center":n=s=0;break;case"bottom":n=0,s=1;break;case"right":n=1,s=0;break;case"left":n=-1,s=0;break;case"top":n=0,s=-1;break;case"start":n=-n,s=-s;break;case"end":break;default:r*=Math.PI/180,n=Math.cos(r),s=Math.sin(r);break}return{x:t,y:e,vx:n,vy:s}}var NL=0,HC=1,WC=2,qC=4,YC=8;function Fd(t,e,n){var s=NL;return t<n.left?s|=HC:t>n.right&&(s|=WC),e<n.top?s|=YC:e>n.bottom&&(s|=qC),s}function TL(t,e){for(var n=t.x0,s=t.y0,r=t.x1,i=t.y1,a=Fd(n,s,e),c=Fd(r,i,e),d,h,p;!(!(a|c)||a&c);)d=a||c,d&YC?(h=n+(r-n)*(e.top-s)/(i-s),p=e.top):d&qC?(h=n+(r-n)*(e.bottom-s)/(i-s),p=e.bottom):d&WC?(p=s+(i-s)*(e.right-n)/(r-n),h=e.right):d&HC&&(p=s+(i-s)*(e.left-n)/(r-n),h=e.left),d===a?(n=h,s=p,a=Fd(n,s,e)):(r=h,i=p,c=Fd(r,i,e));return{x0:n,x1:r,y0:s,y1:i}}function Bd(t,e){var n=e.anchor,s=t,r,i;return e.clamp&&(s=TL(s,e.area)),n==="start"?(r=s.x0,i=s.y0):n==="end"?(r=s.x1,i=s.y1):(r=(s.x0+s.x1)/2,i=(s.y0+s.y1)/2),kL(r,i,t.vx,t.vy,e.align)}var zd={arc:function(t,e){var n=(t.startAngle+t.endAngle)/2,s=Math.cos(n),r=Math.sin(n),i=t.innerRadius,a=t.outerRadius;return Bd({x0:t.x+s*i,y0:t.y+r*i,x1:t.x+s*a,y1:t.y+r*a,vx:s,vy:r},e)},point:function(t,e){var n=Am(t,e.origin),s=n.x*t.options.radius,r=n.y*t.options.radius;return Bd({x0:t.x-s,y0:t.y-r,x1:t.x+s,y1:t.y+r,vx:n.x,vy:n.y},e)},bar:function(t,e){var n=Am(t,e.origin),s=t.x,r=t.y,i=0,a=0;return t.horizontal?(s=Math.min(t.x,t.base),i=Math.abs(t.base-t.x)):(r=Math.min(t.y,t.base),a=Math.abs(t.base-t.y)),Bd({x0:s,y0:r+a,x1:s+i,y1:r,vx:n.x,vy:n.y},e)},fallback:function(t,e){var n=Am(t,e.origin);return Bd({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:n.x,vy:n.y},e)}},gr=mc.rasterize;function EL(t){var e=t.borderWidth||0,n=t.padding,s=t.size.height,r=t.size.width,i=-r/2,a=-s/2;return{frame:{x:i-n.left-e,y:a-n.top-e,w:r+n.width+e*2,h:s+n.height+e*2},text:{x:i,y:a,w:r,h:s}}}function PL(t,e){var n=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var s=n.getBasePixel();return t.horizontal?{x:s,y:null}:{x:null,y:s}}function AL(t){return t instanceof mi?zd.arc:t instanceof Sa?zd.point:t instanceof xr?zd.bar:zd.fallback}function ML(t,e,n,s,r,i){var a=Math.PI/2;if(i){var c=Math.min(i,r/2,s/2),d=e+c,h=n+c,p=e+s-c,m=n+r-c;t.moveTo(e,h),d<p&&h<m?(t.arc(d,h,c,-Math.PI,-a),t.arc(p,h,c,-a,0),t.arc(p,m,c,0,a),t.arc(d,m,c,a,Math.PI)):d<p?(t.moveTo(d,n),t.arc(p,h,c,-a,a),t.arc(d,h,c,a,Math.PI+a)):h<m?(t.arc(d,h,c,-Math.PI,0),t.arc(d,m,c,0,Math.PI)):t.arc(d,h,c,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,s,r)}function RL(t,e,n){var s=n.backgroundColor,r=n.borderColor,i=n.borderWidth;!s&&(!r||!i)||(t.beginPath(),ML(t,gr(e.x)+i/2,gr(e.y)+i/2,gr(e.w)-i,gr(e.h)-i,n.borderRadius),t.closePath(),s&&(t.fillStyle=s,t.fill()),r&&i&&(t.strokeStyle=r,t.lineWidth=i,t.lineJoin="miter",t.stroke()))}function DL(t,e,n){var s=n.lineHeight,r=t.w,i=t.x,a=t.y+s/2;return e==="center"?i+=r/2:(e==="end"||e==="right")&&(i+=r),{h:s,w:r,x:i,y:a}}function OL(t,e,n){var s=t.shadowBlur,r=n.stroked,i=gr(n.x),a=gr(n.y),c=gr(n.w);r&&t.strokeText(e,i,a,c),n.filled&&(s&&r&&(t.shadowBlur=0),t.fillText(e,i,a,c),s&&r&&(t.shadowBlur=s))}function LL(t,e,n,s){var r=s.textAlign,i=s.color,a=!!i,c=s.font,d=e.length,h=s.textStrokeColor,p=s.textStrokeWidth,m=h&&p,g;if(!(!d||!a&&!m))for(n=DL(n,r,c),t.font=c.string,t.textAlign=r,t.textBaseline="middle",t.shadowBlur=s.textShadowBlur,t.shadowColor=s.textShadowColor,a&&(t.fillStyle=i),m&&(t.lineJoin="round",t.lineWidth=p,t.strokeStyle=h),g=0,d=e.length;g<d;++g)OL(t,e[g],{stroked:m,filled:a,w:n.w,x:n.x,y:n.y+n.h*g})}var KC=function(t,e,n,s){var r=this;r._config=t,r._index=s,r._model=null,r._rects=null,r._ctx=e,r._el=n};$s(KC.prototype,{_modelize:function(t,e,n,s){var r=this,i=r._index,a=Ut(it([n.font,{}],s,i)),c=it([n.color,yt.color],s,i);return{align:it([n.align,"center"],s,i),anchor:it([n.anchor,"center"],s,i),area:s.chart.chartArea,backgroundColor:it([n.backgroundColor,null],s,i),borderColor:it([n.borderColor,null],s,i),borderRadius:it([n.borderRadius,0],s,i),borderWidth:it([n.borderWidth,0],s,i),clamp:it([n.clamp,!1],s,i),clip:it([n.clip,!1],s,i),color:c,display:t,font:a,lines:e,offset:it([n.offset,4],s,i),opacity:it([n.opacity,1],s,i),origin:PL(r._el,s),padding:Fn(it([n.padding,4],s,i)),positioner:AL(r._el),rotation:it([n.rotation,0],s,i)*(Math.PI/180),size:mc.textSize(r._ctx,e,a),textAlign:it([n.textAlign,"start"],s,i),textShadowBlur:it([n.textShadowBlur,0],s,i),textShadowColor:it([n.textShadowColor,c],s,i),textStrokeColor:it([n.textStrokeColor,c],s,i),textStrokeWidth:it([n.textStrokeWidth,0],s,i)}},update:function(t){var e=this,n=null,s=null,r=e._index,i=e._config,a,c,d,h=it([i.display,!0],t,r);h&&(a=t.dataset.data[r],c=De(Ne(i.formatter,[a,t]),a),d=qe(c)?[]:mc.toTextLines(c),d.length&&(n=e._modelize(h,d,i,t),s=EL(n))),e._model=n,e._rects=s},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var n=this,s=t.ctx,r=n._model,i=n._rects,a;this.visible()&&(s.save(),r.clip&&(a=r.area,s.beginPath(),s.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),s.clip()),s.globalAlpha=mc.bound(0,r.opacity,1),s.translate(gr(e.x),gr(e.y)),s.rotate(r.rotation),RL(s,i.frame,r),LL(s,r.lines,i.text,r),s.restore())}});var IL=Number.MIN_SAFE_INTEGER||-9007199254740991,FL=Number.MAX_SAFE_INTEGER||9007199254740991;function Zl(t,e,n){var s=Math.cos(n),r=Math.sin(n),i=e.x,a=e.y;return{x:i+s*(t.x-i)-r*(t.y-a),y:a+r*(t.x-i)+s*(t.y-a)}}function Nw(t,e){var n=FL,s=IL,r=e.origin,i,a,c,d,h;for(i=0;i<t.length;++i)a=t[i],c=a.x-r.x,d=a.y-r.y,h=e.vx*c+e.vy*d,n=Math.min(n,h),s=Math.max(s,h);return{min:n,max:s}}function Vd(t,e){var n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);return{vx:(e.x-t.x)/r,vy:(e.y-t.y)/r,origin:t,ln:r}}var XC=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};$s(XC.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,n){this._rotation=n,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,n=1,s=e._rect;return t=Zl(t,e.center(),-e._rotation),!(t.x<s.x-n||t.y<s.y-n||t.x>s.x+s.w+n*2||t.y>s.y+s.h+n*2)},intersects:function(t){var e=this._points(),n=t._points(),s=[Vd(e[0],e[1]),Vd(e[0],e[3])],r,i,a;for(this._rotation!==t._rotation&&s.push(Vd(n[0],n[1]),Vd(n[0],n[3])),r=0;r<s.length;++r)if(i=Nw(e,s[r]),a=Nw(n,s[r]),i.max<a.min||a.max<i.min)return!1;return!0},_points:function(){var t=this,e=t._rect,n=t._rotation,s=t.center();return[Zl({x:e.x,y:e.y},s,n),Zl({x:e.x+e.w,y:e.y},s,n),Zl({x:e.x+e.w,y:e.y+e.h},s,n),Zl({x:e.x,y:e.y+e.h},s,n)]}});function QC(t,e,n){var s=e.positioner(t,e),r=s.vx,i=s.vy;if(!r&&!i)return{x:s.x,y:s.y};var a=n.w,c=n.h,d=e.rotation,h=Math.abs(a/2*Math.cos(d))+Math.abs(c/2*Math.sin(d)),p=Math.abs(a/2*Math.sin(d))+Math.abs(c/2*Math.cos(d)),m=1/Math.max(Math.abs(r),Math.abs(i));return h*=r*m,p*=i*m,h+=e.offset*r,p+=e.offset*i,{x:s.x+h,y:s.y+p}}function BL(t,e){var n,s,r,i;for(n=t.length-1;n>=0;--n)for(r=t[n].$layout,s=n-1;s>=0&&r._visible;--s)i=t[s].$layout,i._visible&&r._box.intersects(i._box)&&e(r,i);return t}function zL(t){var e,n,s,r,i,a,c;for(e=0,n=t.length;e<n;++e)s=t[e],r=s.$layout,r._visible&&(c=new Proxy(s._el,{get:(d,h)=>d.getProps([h],!0)[h]}),i=s.geometry(),a=QC(c,s.model(),i),r._box.update(a,i,s.rotation()));return BL(t,function(d,h){var p=d._hidable,m=h._hidable;p&&m||m?h._visible=!1:p&&(d._visible=!1)})}var gc={prepare:function(t){var e=[],n,s,r,i,a;for(n=0,r=t.length;n<r;++n)for(s=0,i=t[n].length;s<i;++s)a=t[n][s],e.push(a),a.$layout={_box:new XC,_hidable:!1,_visible:!0,_set:n,_idx:a._index};return e.sort(function(c,d){var h=c.$layout,p=d.$layout;return h._idx===p._idx?p._set-h._set:p._idx-h._idx}),this.update(e),e},update:function(t){var e=!1,n,s,r,i,a;for(n=0,s=t.length;n<s;++n)r=t[n],i=r.model(),a=r.$layout,a._hidable=i&&i.display==="auto",a._visible=r.visible(),e|=a._hidable;e&&zL(t)},lookup:function(t,e){var n,s;for(n=t.length-1;n>=0;--n)if(s=t[n].$layout,s&&s._visible&&s._box.contains(e))return t[n];return null},draw:function(t,e){var n,s,r,i,a,c;for(n=0,s=e.length;n<s;++n)r=e[n],i=r.$layout,i._visible&&(a=r.geometry(),c=QC(r._el,r.model(),a),i._box.update(c,a,r.rotation()),r.draw(t,c))}},VL=function(t){if(qe(t))return null;var e=t,n,s,r;if(Ue(t))if(!qe(t.label))e=t.label;else if(!qe(t.r))e=t.r;else for(e="",n=Object.keys(t),r=0,s=n.length;r<s;++r)e+=(r!==0?", ":"")+n[r]+": "+t[n[r]];return""+e},$L={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:VL,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},wn="$datalabels",GC="$default";function UL(t,e){var n=t.datalabels,s={},r=[],i,a;return n===!1?null:(n===!0&&(n={}),e=$s({},[e,n]),i=e.labels||{},a=Object.keys(i),delete e.labels,a.length?a.forEach(function(c){i[c]&&r.push($s({},[e,i[c],{_key:c}]))}):r.push(e),s=r.reduce(function(c,d){return Ve(d.listeners||{},function(h,p){c[p]=c[p]||{},c[p][d._key||GC]=h}),delete d.listeners,c},{}),{labels:r,listeners:s})}function kg(t,e,n,s){if(e){var r=n.$context,i=n.$groups,a;e[i._set]&&(a=e[i._set][i._key],a&&Ne(a,[r,s])===!0&&(t[wn]._dirty=!0,n.update(r)))}}function HL(t,e,n,s,r){var i,a;!n&&!s||(n?s?n!==s&&(a=i=!0):a=!0:i=!0,a&&kg(t,e.leave,n,r),i&&kg(t,e.enter,s,r))}function WL(t,e){var n=t[wn],s=n._listeners,r,i;if(!(!s.enter&&!s.leave)){if(e.type==="mousemove")i=gc.lookup(n._labels,e);else if(e.type!=="mouseout")return;r=n._hovered,n._hovered=i,HL(t,s,r,i,e)}}function qL(t,e){var n=t[wn],s=n._listeners.click,r=s&&gc.lookup(n._labels,e);r&&kg(t,s,r,e)}var Po={id:"datalabels",defaults:$L,beforeInit:function(t){t[wn]={_actives:[]}},beforeUpdate:function(t){var e=t[wn];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(t,e,n){var s=e.index,r=t[wn],i=r._datasets[s]=[],a=t.isDatasetVisible(s),c=t.data.datasets[s],d=UL(c,n),h=e.meta.data||[],p=t.ctx,m,g,x,v,w,_,C,k;for(p.save(),m=0,x=h.length;m<x;++m)if(C=h[m],C[wn]=[],a&&C&&t.getDataVisibility(m)&&!C.skip)for(g=0,v=d.labels.length;g<v;++g)w=d.labels[g],_=w._key,k=new KC(w,p,C,m),k.$groups={_set:s,_key:_||GC},k.$context={active:!1,chart:t,dataIndex:m,dataset:c,datasetIndex:s},k.update(k.$context),C[wn].push(k),i.push(k);p.restore(),$s(r._listeners,d.listeners,{merger:function(T,M,P){M[T]=M[T]||{},M[T][e.index]=P[T],r._listened=!0}})},afterUpdate:function(t){t[wn]._labels=gc.prepare(t[wn]._datasets)},afterDatasetsDraw:function(t){gc.draw(t,t[wn]._labels)},beforeEvent:function(t,e){if(t[wn]._listened){var n=e.event;switch(n.type){case"mousemove":case"mouseout":WL(t,n);break;case"click":qL(t,n);break}}},afterEvent:function(t){var e=t[wn],n=e._actives,s=e._actives=t.getActiveElements(),r=mc.arrayDiff(n,s),i,a,c,d,h,p,m;for(i=0,a=r.length;i<a;++i)if(h=r[i],h[1])for(m=h[0].element[wn]||[],c=0,d=m.length;c<d;++c)p=m[c],p.$context.active=h[1]===1,p.update(p.$context);(e._dirty||r.length)&&(gc.update(e._labels),t.render()),delete e._dirty}},Mm={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var Tw;function YL(){return Tw||(Tw=1,function(t){(function(e,n,s,r){var i=["","webkit","Moz","MS","ms","o"],a=n.createElement("div"),c="function",d=Math.round,h=Math.abs,p=Date.now;function m(E,A,L){return setTimeout(T(E,L),A)}function g(E,A,L){return Array.isArray(E)?(x(E,L[A],L),!0):!1}function x(E,A,L){var q;if(E)if(E.forEach)E.forEach(A,L);else if(E.length!==r)for(q=0;q<E.length;)A.call(L,E[q],q,E),q++;else for(q in E)E.hasOwnProperty(q)&&A.call(L,E[q],q,E)}function v(E,A,L){var q="DEPRECATED METHOD: "+A+`
`+L+` AT 
`;return function(){var re=new Error("get-stack-trace"),fe=re&&re.stack?re.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ie=e.console&&(e.console.warn||e.console.log);return Ie&&Ie.call(e.console,q,fe),E.apply(this,arguments)}}var w;typeof Object.assign!="function"?w=function(A){if(A===r||A===null)throw new TypeError("Cannot convert undefined or null to object");for(var L=Object(A),q=1;q<arguments.length;q++){var re=arguments[q];if(re!==r&&re!==null)for(var fe in re)re.hasOwnProperty(fe)&&(L[fe]=re[fe])}return L}:w=Object.assign;var _=v(function(A,L,q){for(var re=Object.keys(L),fe=0;fe<re.length;)(!q||q&&A[re[fe]]===r)&&(A[re[fe]]=L[re[fe]]),fe++;return A},"extend","Use `assign`."),C=v(function(A,L){return _(A,L,!0)},"merge","Use `assign`.");function k(E,A,L){var q=A.prototype,re;re=E.prototype=Object.create(q),re.constructor=E,re._super=q,L&&w(re,L)}function T(E,A){return function(){return E.apply(A,arguments)}}function M(E,A){return typeof E==c?E.apply(A&&A[0]||r,A):E}function P(E,A){return E===r?A:E}function R(E,A,L){x(U(A),function(q){E.addEventListener(q,L,!1)})}function z(E,A,L){x(U(A),function(q){E.removeEventListener(q,L,!1)})}function I(E,A){for(;E;){if(E==A)return!0;E=E.parentNode}return!1}function F(E,A){return E.indexOf(A)>-1}function U(E){return E.trim().split(/\s+/g)}function ee(E,A,L){if(E.indexOf&&!L)return E.indexOf(A);for(var q=0;q<E.length;){if(L&&E[q][L]==A||!L&&E[q]===A)return q;q++}return-1}function J(E){return Array.prototype.slice.call(E,0)}function de(E,A,L){for(var q=[],re=[],fe=0;fe<E.length;){var Ie=E[fe][A];ee(re,Ie)<0&&q.push(E[fe]),re[fe]=Ie,fe++}return q=q.sort(function(_t,kt){return _t[A]>kt[A]}),q}function G(E,A){for(var L,q,re=A[0].toUpperCase()+A.slice(1),fe=0;fe<i.length;){if(L=i[fe],q=L?L+re:A,q in E)return q;fe++}return r}var he=1;function te(){return he++}function Z(E){var A=E.ownerDocument||E;return A.defaultView||A.parentWindow||e}var Y=/mobile|tablet|ip(ad|hone|od)|android/i,ne="ontouchstart"in e,D=G(e,"PointerEvent")!==r,Q=ne&&Y.test(navigator.userAgent),le="touch",_e="pen",ve="mouse",Be="kinect",Re=25,Me=1,Le=2,Ce=4,ue=8,Pe=1,Te=2,ze=4,st=8,bt=16,vt=Te|ze,sn=st|bt,kr=vt|sn,Ro=["x","y"],vs=["clientX","clientY"];function Pt(E,A){var L=this;this.manager=E,this.callback=A,this.element=E.element,this.target=E.options.inputTarget,this.domHandler=function(q){M(E.options.enable,[E])&&L.handler(q)},this.init()}Pt.prototype={handler:function(){},init:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(Z(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&z(this.element,this.evEl,this.domHandler),this.evTarget&&z(this.target,this.evTarget,this.domHandler),this.evWin&&z(Z(this.element),this.evWin,this.domHandler)}};function el(E){var A,L=E.options.inputClass;return L?A=L:D?A=Oo:Q?A=Er:ne?A=Ar:A=Tr,new A(E,cu)}function cu(E,A,L){var q=L.pointers.length,re=L.changedPointers.length,fe=A&Me&&q-re===0,Ie=A&(Ce|ue)&&q-re===0;L.isFirst=!!fe,L.isFinal=!!Ie,fe&&(E.session={}),L.eventType=A,uu(E,L),E.emit("hammer.input",L),E.recognize(L),E.session.prevInput=L}function uu(E,A){var L=E.session,q=A.pointers,re=q.length;L.firstInput||(L.firstInput=Do(A)),re>1&&!L.firstMultiple?L.firstMultiple=Do(A):re===1&&(L.firstMultiple=!1);var fe=L.firstInput,Ie=L.firstMultiple,wt=Ie?Ie.center:fe.center,_t=A.center=Ti(q);A.timeStamp=p(),A.deltaTime=A.timeStamp-fe.timeStamp,A.angle=nl(wt,_t),A.distance=ws(wt,_t),du(L,A),A.offsetDirection=Nr(A.deltaX,A.deltaY);var kt=tl(A.deltaTime,A.deltaX,A.deltaY);A.overallVelocityX=kt.x,A.overallVelocityY=kt.y,A.overallVelocity=h(kt.x)>h(kt.y)?kt.x:kt.y,A.scale=Ie?pu(Ie.pointers,q):1,A.rotation=Ie?fu(Ie.pointers,q):0,A.maxPointers=L.prevInput?A.pointers.length>L.prevInput.maxPointers?A.pointers.length:L.prevInput.maxPointers:A.pointers.length,hu(L,A);var At=E.element;I(A.srcEvent.target,At)&&(At=A.srcEvent.target),A.target=At}function du(E,A){var L=A.center,q=E.offsetDelta||{},re=E.prevDelta||{},fe=E.prevInput||{};(A.eventType===Me||fe.eventType===Ce)&&(re=E.prevDelta={x:fe.deltaX||0,y:fe.deltaY||0},q=E.offsetDelta={x:L.x,y:L.y}),A.deltaX=re.x+(L.x-q.x),A.deltaY=re.y+(L.y-q.y)}function hu(E,A){var L=E.lastInterval||A,q=A.timeStamp-L.timeStamp,re,fe,Ie,wt;if(A.eventType!=ue&&(q>Re||L.velocity===r)){var _t=A.deltaX-L.deltaX,kt=A.deltaY-L.deltaY,At=tl(q,_t,kt);fe=At.x,Ie=At.y,re=h(At.x)>h(At.y)?At.x:At.y,wt=Nr(_t,kt),E.lastInterval=A}else re=L.velocity,fe=L.velocityX,Ie=L.velocityY,wt=L.direction;A.velocity=re,A.velocityX=fe,A.velocityY=Ie,A.direction=wt}function Do(E){for(var A=[],L=0;L<E.pointers.length;)A[L]={clientX:d(E.pointers[L].clientX),clientY:d(E.pointers[L].clientY)},L++;return{timeStamp:p(),pointers:A,center:Ti(A),deltaX:E.deltaX,deltaY:E.deltaY}}function Ti(E){var A=E.length;if(A===1)return{x:d(E[0].clientX),y:d(E[0].clientY)};for(var L=0,q=0,re=0;re<A;)L+=E[re].clientX,q+=E[re].clientY,re++;return{x:d(L/A),y:d(q/A)}}function tl(E,A,L){return{x:A/E||0,y:L/E||0}}function Nr(E,A){return E===A?Pe:h(E)>=h(A)?E<0?Te:ze:A<0?st:bt}function ws(E,A,L){L||(L=Ro);var q=A[L[0]]-E[L[0]],re=A[L[1]]-E[L[1]];return Math.sqrt(q*q+re*re)}function nl(E,A,L){L||(L=Ro);var q=A[L[0]]-E[L[0]],re=A[L[1]]-E[L[1]];return Math.atan2(re,q)*180/Math.PI}function fu(E,A){return nl(A[1],A[0],vs)+nl(E[1],E[0],vs)}function pu(E,A){return ws(A[0],A[1],vs)/ws(E[0],E[1],vs)}var mf={mousedown:Me,mousemove:Le,mouseup:Ce},sl="mousedown",rl="mousemove mouseup";function Tr(){this.evEl=sl,this.evWin=rl,this.pressed=!1,Pt.apply(this,arguments)}k(Tr,Pt,{handler:function(A){var L=mf[A.type];L&Me&&A.button===0&&(this.pressed=!0),L&Le&&A.which!==1&&(L=Ce),this.pressed&&(L&Ce&&(this.pressed=!1),this.callback(this.manager,L,{pointers:[A],changedPointers:[A],pointerType:ve,srcEvent:A}))}});var il={pointerdown:Me,pointermove:Le,pointerup:Ce,pointercancel:ue,pointerout:ue},ol={2:le,3:_e,4:ve,5:Be},qs="pointerdown",Ys="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(qs="MSPointerDown",Ys="MSPointerMove MSPointerUp MSPointerCancel");function Oo(){this.evEl=qs,this.evWin=Ys,Pt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}k(Oo,Pt,{handler:function(A){var L=this.store,q=!1,re=A.type.toLowerCase().replace("ms",""),fe=il[re],Ie=ol[A.pointerType]||A.pointerType,wt=Ie==le,_t=ee(L,A.pointerId,"pointerId");fe&Me&&(A.button===0||wt)?_t<0&&(L.push(A),_t=L.length-1):fe&(Ce|ue)&&(q=!0),!(_t<0)&&(L[_t]=A,this.callback(this.manager,fe,{pointers:L,changedPointers:[A],pointerType:Ie,srcEvent:A}),q&&L.splice(_t,1))}});var mu={touchstart:Me,touchmove:Le,touchend:Ce,touchcancel:ue},gu="touchstart",yu="touchstart touchmove touchend touchcancel";function al(){this.evTarget=gu,this.evWin=yu,this.started=!1,Pt.apply(this,arguments)}k(al,Pt,{handler:function(A){var L=mu[A.type];if(L===Me&&(this.started=!0),!!this.started){var q=ll.call(this,A,L);L&(Ce|ue)&&q[0].length-q[1].length===0&&(this.started=!1),this.callback(this.manager,L,{pointers:q[0],changedPointers:q[1],pointerType:le,srcEvent:A})}}});function ll(E,A){var L=J(E.touches),q=J(E.changedTouches);return A&(Ce|ue)&&(L=de(L.concat(q),"identifier")),[L,q]}var xu={touchstart:Me,touchmove:Le,touchend:Ce,touchcancel:ue},Ei="touchstart touchmove touchend touchcancel";function Er(){this.evTarget=Ei,this.targetIds={},Pt.apply(this,arguments)}k(Er,Pt,{handler:function(A){var L=xu[A.type],q=Pi.call(this,A,L);q&&this.callback(this.manager,L,{pointers:q[0],changedPointers:q[1],pointerType:le,srcEvent:A})}});function Pi(E,A){var L=J(E.touches),q=this.targetIds;if(A&(Me|Le)&&L.length===1)return q[L[0].identifier]=!0,[L,L];var re,fe,Ie=J(E.changedTouches),wt=[],_t=this.target;if(fe=L.filter(function(kt){return I(kt.target,_t)}),A===Me)for(re=0;re<fe.length;)q[fe[re].identifier]=!0,re++;for(re=0;re<Ie.length;)q[Ie[re].identifier]&&wt.push(Ie[re]),A&(Ce|ue)&&delete q[Ie[re].identifier],re++;if(wt.length)return[de(fe.concat(wt),"identifier"),wt]}var gf=2500,Pr=25;function Ar(){Pt.apply(this,arguments);var E=T(this.handler,this);this.touch=new Er(this.manager,E),this.mouse=new Tr(this.manager,E),this.primaryTouch=null,this.lastTouches=[]}k(Ar,Pt,{handler:function(A,L,q){var re=q.pointerType==le,fe=q.pointerType==ve;if(!(fe&&q.sourceCapabilities&&q.sourceCapabilities.firesTouchEvents)){if(re)Lo.call(this,L,q);else if(fe&&yf.call(this,q))return;this.callback(A,L,q)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Lo(E,A){E&Me?(this.primaryTouch=A.changedPointers[0].identifier,Io.call(this,A)):E&(Ce|ue)&&Io.call(this,A)}function Io(E){var A=E.changedPointers[0];if(A.identifier===this.primaryTouch){var L={x:A.clientX,y:A.clientY};this.lastTouches.push(L);var q=this.lastTouches,re=function(){var fe=q.indexOf(L);fe>-1&&q.splice(fe,1)};setTimeout(re,gf)}}function yf(E){for(var A=E.srcEvent.clientX,L=E.srcEvent.clientY,q=0;q<this.lastTouches.length;q++){var re=this.lastTouches[q],fe=Math.abs(A-re.x),Ie=Math.abs(L-re.y);if(fe<=Pr&&Ie<=Pr)return!0}return!1}var bu=G(a.style,"touchAction"),vu=bu!==r,_s="compute",cl="auto",Fo="manipulation",Ks="none",Mr="pan-x",Rr="pan-y",Ai=bf();function Bo(E,A){this.manager=E,this.set(A)}Bo.prototype={set:function(E){E==_s&&(E=this.compute()),vu&&this.manager.element.style&&Ai[E]&&(this.manager.element.style[bu]=E),this.actions=E.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var E=[];return x(this.manager.recognizers,function(A){M(A.options.enable,[A])&&(E=E.concat(A.getTouchAction()))}),xf(E.join(" "))},preventDefaults:function(E){var A=E.srcEvent,L=E.offsetDirection;if(this.manager.session.prevented){A.preventDefault();return}var q=this.actions,re=F(q,Ks)&&!Ai[Ks],fe=F(q,Rr)&&!Ai[Rr],Ie=F(q,Mr)&&!Ai[Mr];if(re){var wt=E.pointers.length===1,_t=E.distance<2,kt=E.deltaTime<250;if(wt&&_t&&kt)return}if(!(Ie&&fe)&&(re||fe&&L&vt||Ie&&L&sn))return this.preventSrc(A)},preventSrc:function(E){this.manager.session.prevented=!0,E.preventDefault()}};function xf(E){if(F(E,Ks))return Ks;var A=F(E,Mr),L=F(E,Rr);return A&&L?Ks:A||L?A?Mr:Rr:F(E,Fo)?Fo:cl}function bf(){if(!vu)return!1;var E={},A=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(L){E[L]=A?e.CSS.supports("touch-action",L):!0}),E}var Ze=1,dn=2,Ss=4,ss=8,hn=ss,Mi=16,En=32;function fn(E){this.options=w({},this.defaults,E||{}),this.id=te(),this.manager=null,this.options.enable=P(this.options.enable,!0),this.state=Ze,this.simultaneous={},this.requireFail=[]}fn.prototype={defaults:{},set:function(E){return w(this.options,E),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(E){if(g(E,"recognizeWith",this))return this;var A=this.simultaneous;return E=Ht(E,this),A[E.id]||(A[E.id]=E,E.recognizeWith(this)),this},dropRecognizeWith:function(E){return g(E,"dropRecognizeWith",this)?this:(E=Ht(E,this),delete this.simultaneous[E.id],this)},requireFailure:function(E){if(g(E,"requireFailure",this))return this;var A=this.requireFail;return E=Ht(E,this),ee(A,E)===-1&&(A.push(E),E.requireFailure(this)),this},dropRequireFailure:function(E){if(g(E,"dropRequireFailure",this))return this;E=Ht(E,this);var A=ee(this.requireFail,E);return A>-1&&this.requireFail.splice(A,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(E){return!!this.simultaneous[E.id]},emit:function(E){var A=this,L=this.state;function q(re){A.manager.emit(re,E)}L<ss&&q(A.options.event+Pn(L)),q(A.options.event),E.additionalEvent&&q(E.additionalEvent),L>=ss&&q(A.options.event+Pn(L))},tryEmit:function(E){if(this.canEmit())return this.emit(E);this.state=En},canEmit:function(){for(var E=0;E<this.requireFail.length;){if(!(this.requireFail[E].state&(En|Ze)))return!1;E++}return!0},recognize:function(E){var A=w({},E);if(!M(this.options.enable,[this,A])){this.reset(),this.state=En;return}this.state&(hn|Mi|En)&&(this.state=Ze),this.state=this.process(A),this.state&(dn|Ss|ss|Mi)&&this.tryEmit(A)},process:function(E){},getTouchAction:function(){},reset:function(){}};function Pn(E){return E&Mi?"cancel":E&ss?"end":E&Ss?"move":E&dn?"start":""}function wu(E){return E==bt?"down":E==st?"up":E==Te?"left":E==ze?"right":""}function Ht(E,A){var L=A.manager;return L?L.get(E):E}function An(){fn.apply(this,arguments)}k(An,fn,{defaults:{pointers:1},attrTest:function(E){var A=this.options.pointers;return A===0||E.pointers.length===A},process:function(E){var A=this.state,L=E.eventType,q=A&(dn|Ss),re=this.attrTest(E);return q&&(L&ue||!re)?A|Mi:q||re?L&Ce?A|ss:A&dn?A|Ss:dn:En}});function zo(){An.apply(this,arguments),this.pX=null,this.pY=null}k(zo,An,{defaults:{event:"pan",threshold:10,pointers:1,direction:kr},getTouchAction:function(){var E=this.options.direction,A=[];return E&vt&&A.push(Rr),E&sn&&A.push(Mr),A},directionTest:function(E){var A=this.options,L=!0,q=E.distance,re=E.direction,fe=E.deltaX,Ie=E.deltaY;return re&A.direction||(A.direction&vt?(re=fe===0?Pe:fe<0?Te:ze,L=fe!=this.pX,q=Math.abs(E.deltaX)):(re=Ie===0?Pe:Ie<0?st:bt,L=Ie!=this.pY,q=Math.abs(E.deltaY))),E.direction=re,L&&q>A.threshold&&re&A.direction},attrTest:function(E){return An.prototype.attrTest.call(this,E)&&(this.state&dn||!(this.state&dn)&&this.directionTest(E))},emit:function(E){this.pX=E.deltaX,this.pY=E.deltaY;var A=wu(E.direction);A&&(E.additionalEvent=this.options.event+A),this._super.emit.call(this,E)}});function ul(){An.apply(this,arguments)}k(ul,An,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ks]},attrTest:function(E){return this._super.attrTest.call(this,E)&&(Math.abs(E.scale-1)>this.options.threshold||this.state&dn)},emit:function(E){if(E.scale!==1){var A=E.scale<1?"in":"out";E.additionalEvent=this.options.event+A}this._super.emit.call(this,E)}});function Dr(){fn.apply(this,arguments),this._timer=null,this._input=null}k(Dr,fn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[cl]},process:function(E){var A=this.options,L=E.pointers.length===A.pointers,q=E.distance<A.threshold,re=E.deltaTime>A.time;if(this._input=E,!q||!L||E.eventType&(Ce|ue)&&!re)this.reset();else if(E.eventType&Me)this.reset(),this._timer=m(function(){this.state=hn,this.tryEmit()},A.time,this);else if(E.eventType&Ce)return hn;return En},reset:function(){clearTimeout(this._timer)},emit:function(E){this.state===hn&&(E&&E.eventType&Ce?this.manager.emit(this.options.event+"up",E):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}});function Or(){An.apply(this,arguments)}k(Or,An,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ks]},attrTest:function(E){return this._super.attrTest.call(this,E)&&(Math.abs(E.rotation)>this.options.threshold||this.state&dn)}});function Xs(){An.apply(this,arguments)}k(Xs,An,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:vt|sn,pointers:1},getTouchAction:function(){return zo.prototype.getTouchAction.call(this)},attrTest:function(E){var A=this.options.direction,L;return A&(vt|sn)?L=E.overallVelocity:A&vt?L=E.overallVelocityX:A&sn&&(L=E.overallVelocityY),this._super.attrTest.call(this,E)&&A&E.offsetDirection&&E.distance>this.options.threshold&&E.maxPointers==this.options.pointers&&h(L)>this.options.velocity&&E.eventType&Ce},emit:function(E){var A=wu(E.offsetDirection);A&&this.manager.emit(this.options.event+A,E),this.manager.emit(this.options.event,E)}});function Qs(){fn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}k(Qs,fn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Fo]},process:function(E){var A=this.options,L=E.pointers.length===A.pointers,q=E.distance<A.threshold,re=E.deltaTime<A.time;if(this.reset(),E.eventType&Me&&this.count===0)return this.failTimeout();if(q&&re&&L){if(E.eventType!=Ce)return this.failTimeout();var fe=this.pTime?E.timeStamp-this.pTime<A.interval:!0,Ie=!this.pCenter||ws(this.pCenter,E.center)<A.posThreshold;this.pTime=E.timeStamp,this.pCenter=E.center,!Ie||!fe?this.count=1:this.count+=1,this._input=E;var wt=this.count%A.taps;if(wt===0)return this.hasRequireFailures()?(this._timer=m(function(){this.state=hn,this.tryEmit()},A.interval,this),dn):hn}return En},failTimeout:function(){return this._timer=m(function(){this.state=En},this.options.interval,this),En},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==hn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Cs(E,A){return A=A||{},A.recognizers=P(A.recognizers,Cs.defaults.preset),new $o(E,A)}Cs.VERSION="2.0.7",Cs.defaults={domEvents:!1,touchAction:_s,enable:!0,inputTarget:null,inputClass:null,preset:[[Or,{enable:!1}],[ul,{enable:!1},["rotate"]],[Xs,{direction:vt}],[zo,{direction:vt},["swipe"]],[Qs],[Qs,{event:"doubletap",taps:2},["tap"]],[Dr]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var vf=1,Vo=2;function $o(E,A){this.options=w({},Cs.defaults,A||{}),this.options.inputTarget=this.options.inputTarget||E,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=E,this.input=el(this),this.touchAction=new Bo(this,this.options.touchAction),Uo(this,!0),x(this.options.recognizers,function(L){var q=this.add(new L[0](L[1]));L[2]&&q.recognizeWith(L[2]),L[3]&&q.requireFailure(L[3])},this)}$o.prototype={set:function(E){return w(this.options,E),E.touchAction&&this.touchAction.update(),E.inputTarget&&(this.input.destroy(),this.input.target=E.inputTarget,this.input.init()),this},stop:function(E){this.session.stopped=E?Vo:vf},recognize:function(E){var A=this.session;if(!A.stopped){this.touchAction.preventDefaults(E);var L,q=this.recognizers,re=A.curRecognizer;(!re||re&&re.state&hn)&&(re=A.curRecognizer=null);for(var fe=0;fe<q.length;)L=q[fe],A.stopped!==Vo&&(!re||L==re||L.canRecognizeWith(re))?L.recognize(E):L.reset(),!re&&L.state&(dn|Ss|ss)&&(re=A.curRecognizer=L),fe++}},get:function(E){if(E instanceof fn)return E;for(var A=this.recognizers,L=0;L<A.length;L++)if(A[L].options.event==E)return A[L];return null},add:function(E){if(g(E,"add",this))return this;var A=this.get(E.options.event);return A&&this.remove(A),this.recognizers.push(E),E.manager=this,this.touchAction.update(),E},remove:function(E){if(g(E,"remove",this))return this;if(E=this.get(E),E){var A=this.recognizers,L=ee(A,E);L!==-1&&(A.splice(L,1),this.touchAction.update())}return this},on:function(E,A){if(E!==r&&A!==r){var L=this.handlers;return x(U(E),function(q){L[q]=L[q]||[],L[q].push(A)}),this}},off:function(E,A){if(E!==r){var L=this.handlers;return x(U(E),function(q){A?L[q]&&L[q].splice(ee(L[q],A),1):delete L[q]}),this}},emit:function(E,A){this.options.domEvents&&Ri(E,A);var L=this.handlers[E]&&this.handlers[E].slice();if(!(!L||!L.length)){A.type=E,A.preventDefault=function(){A.srcEvent.preventDefault()};for(var q=0;q<L.length;)L[q](A),q++}},destroy:function(){this.element&&Uo(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Uo(E,A){var L=E.element;if(L.style){var q;x(E.options.cssProps,function(re,fe){q=G(L.style,fe),A?(E.oldCssProps[q]=L.style[q],L.style[q]=re):L.style[q]=E.oldCssProps[q]||""}),A||(E.oldCssProps={})}}function Ri(E,A){var L=n.createEvent("Event");L.initEvent(E,!0,!0),L.gesture=A,A.target.dispatchEvent(L)}w(Cs,{INPUT_START:Me,INPUT_MOVE:Le,INPUT_END:Ce,INPUT_CANCEL:ue,STATE_POSSIBLE:Ze,STATE_BEGAN:dn,STATE_CHANGED:Ss,STATE_ENDED:ss,STATE_RECOGNIZED:hn,STATE_CANCELLED:Mi,STATE_FAILED:En,DIRECTION_NONE:Pe,DIRECTION_LEFT:Te,DIRECTION_RIGHT:ze,DIRECTION_UP:st,DIRECTION_DOWN:bt,DIRECTION_HORIZONTAL:vt,DIRECTION_VERTICAL:sn,DIRECTION_ALL:kr,Manager:$o,Input:Pt,TouchAction:Bo,TouchInput:Er,MouseInput:Tr,PointerEventInput:Oo,TouchMouseInput:Ar,SingleTouchInput:al,Recognizer:fn,AttrRecognizer:An,Tap:Qs,Pan:zo,Swipe:Xs,Pinch:ul,Rotate:Or,Press:Dr,on:R,off:z,each:x,merge:C,extend:_,assign:w,inherit:k,bindFn:T,prefixed:G});var wf=typeof e<"u"?e:typeof self<"u"?self:{};wf.Hammer=Cs,t.exports?t.exports=Cs:e[s]=Cs})(window,document,"Hammer")}(Mm)),Mm.exports}var KL=YL();const yc=Kc(KL);/*!
* chartjs-plugin-zoom v2.2.0
* https://www.chartjs.org/chartjs-plugin-zoom/2.2.0/
 * (c) 2016-2024 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const Oc=t=>t&&t.enabled&&t.modifierKey,ZC=(t,e)=>t&&e[t+"Key"],J0=(t,e)=>t&&!e[t+"Key"];function wi(t,e,n){return t===void 0?!0:typeof t=="string"?t.indexOf(e)!==-1:typeof t=="function"?t({chart:n}).indexOf(e)!==-1:!1}function Rm(t,e){return typeof t=="function"&&(t=t({chart:e})),typeof t=="string"?{x:t.indexOf("x")!==-1,y:t.indexOf("y")!==-1}:{x:!1,y:!1}}function XL(t,e){let n;return function(){return clearTimeout(n),n=setTimeout(t,e),e}}function QL({x:t,y:e},n){const s=n.scales,r=Object.keys(s);for(let i=0;i<r.length;i++){const a=s[r[i]];if(e>=a.top&&e<=a.bottom&&t>=a.left&&t<=a.right)return a}return null}function JC(t,e,n){const{mode:s="xy",scaleMode:r,overScaleMode:i}=t||{},a=QL(e,n),c=Rm(s,n),d=Rm(r,n);if(i){const p=Rm(i,n);for(const m of["x","y"])p[m]&&(d[m]=c[m],c[m]=!1)}if(a&&d[a.axis])return[a];const h=[];return Ve(n.scales,function(p){c[p.axis]&&h.push(p)}),h}const Ng=new WeakMap;function ft(t){let e=Ng.get(t);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},Ng.set(t,e)),e}function GL(t){Ng.delete(t)}function ej(t,e,n,s){const r=Math.max(0,Math.min(1,(t-e)/n||0)),i=1-r;return{min:s*r,max:s*i}}function tj(t,e){const n=t.isHorizontal()?e.x:e.y;return t.getValueForPixel(n)}function nj(t,e,n){const s=t.max-t.min,r=s*(e-1),i=tj(t,n);return ej(i,t.min,s,r)}function ZL(t,e,n){const s=tj(t,n);if(s===void 0)return{min:t.min,max:t.max};const r=Math.log10(t.min),i=Math.log10(t.max),a=Math.log10(s),c=i-r,d=c*(e-1),h=ej(a,r,c,d);return{min:Math.pow(10,r+h.min),max:Math.pow(10,i-h.max)}}function JL(t,e){return e&&(e[t.id]||e[t.axis])||{}}function Ew(t,e,n,s,r){let i=n[s];if(i==="original"){const a=t.originalScaleLimits[e.id][s];i=De(a.options,a.scale)}return De(i,r)}function e5(t,e,n){const s=t.getValueForPixel(e),r=t.getValueForPixel(n);return{min:Math.min(s,r),max:Math.max(s,r)}}function t5(t,{min:e,max:n,minLimit:s,maxLimit:r},i){const a=(t-n+e)/2;e-=a,n+=a;const c=i.min.options??i.min.scale,d=i.max.options??i.max.scale,h=t/1e6;return mo(e,c,h)&&(e=c),mo(n,d,h)&&(n=d),e<s?(e=s,n=Math.min(s+t,r)):n>r&&(n=r,e=Math.max(r-t,s)),{min:e,max:n}}function Ao(t,{min:e,max:n},s,r=!1){const i=ft(t.chart),{options:a}=t,c=JL(t,s),{minRange:d=0}=c,h=Ew(i,t,c,"min",-1/0),p=Ew(i,t,c,"max",1/0);if(r==="pan"&&(e<h||n>p))return!0;const m=t.max-t.min,g=r?Math.max(n-e,d):m;if(r&&g===d&&m<=d)return!0;const x=t5(g,{min:e,max:n,minLimit:h,maxLimit:p},i.originalScaleLimits[t.id]);return a.min=x.min,a.max=x.max,i.updatedScaleLimits[t.id]=x,t.parse(x.min)!==t.min||t.parse(x.max)!==t.max}function n5(t,e,n,s){const r=nj(t,e,n),i={min:t.min+r.min,max:t.max-r.max};return Ao(t,i,s,!0)}function s5(t,e,n,s){const r=ZL(t,e,n);return Ao(t,r,s,!0)}function r5(t,e,n,s){Ao(t,e5(t,e,n),s,!0)}const Pw=t=>t===0||isNaN(t)?0:t<0?Math.min(Math.round(t),-1):Math.max(Math.round(t),1);function i5(t){const n=t.getLabels().length-1;t.min>0&&(t.min-=1),t.max<n&&(t.max+=1)}function o5(t,e,n,s){const r=nj(t,e,n);t.min===t.max&&e<1&&i5(t);const i={min:t.min+Pw(r.min),max:t.max-Pw(r.max)};return Ao(t,i,s,!0)}function a5(t){return t.isHorizontal()?t.width:t.height}function l5(t,e,n){const r=t.getLabels().length-1;let{min:i,max:a}=t;const c=Math.max(a-i,1),d=Math.round(a5(t)/Math.max(c,10)),h=Math.round(Math.abs(e/d));let p;return e<-d?(a=Math.min(a+h,r),i=c===1?a:a-c,p=a===r):e>d&&(i=Math.max(0,i-h),a=c===1?i:i+c,p=i===0),Ao(t,{min:i,max:a},n)||p}const c5={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function sj(t,e,n,s=!1){const{min:r,max:i,options:a}=t,c=a.time&&a.time.round,d=c5[c]||0,h=t.getValueForPixel(t.getPixelForValue(r+d)-e),p=t.getValueForPixel(t.getPixelForValue(i+d)-e);return isNaN(h)||isNaN(p)?!0:Ao(t,{min:h,max:p},n,s?"pan":!1)}function Aw(t,e,n){return sj(t,e,n,!0)}const Tg={category:o5,default:n5,logarithmic:s5},Eg={default:r5},Pg={category:l5,default:sj,logarithmic:Aw,timeseries:Aw};function u5(t,e,n){const{id:s,options:{min:r,max:i}}=t;if(!e[s]||!n[s])return!0;const a=n[s];return a.min!==r||a.max!==i}function Mw(t,e){Ve(t,(n,s)=>{e[s]||delete t[s]})}function Ka(t,e){const{scales:n}=t,{originalScaleLimits:s,updatedScaleLimits:r}=e;return Ve(n,function(i){u5(i,s,r)&&(s[i.id]={min:{scale:i.min,options:i.options.min},max:{scale:i.max,options:i.options.max}})}),Mw(s,n),Mw(r,n),s}function Rw(t,e,n,s){const r=Tg[t.type]||Tg.default;Ne(r,[t,e,n,s])}function Dw(t,e,n,s){const r=Eg[t.type]||Eg.default;Ne(r,[t,e,n,s])}function d5(t){const e=t.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function ey(t,e,n="none",s="api"){const{x:r=1,y:i=1,focalPoint:a=d5(t)}=typeof e=="number"?{x:e,y:e}:e,c=ft(t),{options:{limits:d,zoom:h}}=c;Ka(t,c);const p=r!==1,m=i!==1,g=JC(h,a,t);Ve(g||t.scales,function(x){x.isHorizontal()&&p?Rw(x,r,a,d):!x.isHorizontal()&&m&&Rw(x,i,a,d)}),t.update(n),Ne(h.onZoom,[{chart:t,trigger:s}])}function rj(t,e,n,s="none",r="api"){const i=ft(t),{options:{limits:a,zoom:c}}=i,{mode:d="xy"}=c;Ka(t,i);const h=wi(d,"x",t),p=wi(d,"y",t);Ve(t.scales,function(m){m.isHorizontal()&&h?Dw(m,e.x,n.x,a):!m.isHorizontal()&&p&&Dw(m,e.y,n.y,a)}),t.update(s),Ne(c.onZoom,[{chart:t,trigger:r}])}function h5(t,e,n,s="none",r="api"){var c;const i=ft(t);Ka(t,i);const a=t.scales[e];Ao(a,n,void 0,!0),t.update(s),Ne((c=i.options.zoom)==null?void 0:c.onZoom,[{chart:t,trigger:r}])}function f5(t,e="default"){const n=ft(t),s=Ka(t,n);Ve(t.scales,function(r){const i=r.options;s[r.id]?(i.min=s[r.id].min.options,i.max=s[r.id].max.options):(delete i.min,delete i.max),delete n.updatedScaleLimits[r.id]}),t.update(e),Ne(n.options.zoom.onZoomComplete,[{chart:t}])}function p5(t,e){const n=t.originalScaleLimits[e];if(!n)return;const{min:s,max:r}=n;return De(r.options,r.scale)-De(s.options,s.scale)}function m5(t){const e=ft(t);let n=1,s=1;return Ve(t.scales,function(r){const i=p5(e,r.id);if(i){const a=Math.round(i/(r.max-r.min)*100)/100;n=Math.min(n,a),s=Math.max(s,a)}}),n<1?n:s}function Ow(t,e,n,s){const{panDelta:r}=s,i=r[t.id]||0;Jn(i)===Jn(e)&&(e+=i);const a=Pg[t.type]||Pg.default;Ne(a,[t,e,n])?r[t.id]=0:r[t.id]=e}function ij(t,e,n,s="none"){const{x:r=0,y:i=0}=typeof e=="number"?{x:e,y:e}:e,a=ft(t),{options:{pan:c,limits:d}}=a,{onPan:h}=c||{};Ka(t,a);const p=r!==0,m=i!==0;Ve(n||t.scales,function(g){g.isHorizontal()&&p?Ow(g,r,d,a):!g.isHorizontal()&&m&&Ow(g,i,d,a)}),t.update(s),Ne(h,[{chart:t}])}function oj(t){const e=ft(t);Ka(t,e);const n={};for(const s of Object.keys(t.scales)){const{min:r,max:i}=e.originalScaleLimits[s]||{min:{},max:{}};n[s]={min:r.scale,max:i.scale}}return n}function g5(t){const e=ft(t),n={};for(const s of Object.keys(t.scales))n[s]=e.updatedScaleLimits[s];return n}function y5(t){const e=oj(t);for(const n of Object.keys(t.scales)){const{min:s,max:r}=e[n];if(s!==void 0&&t.scales[n].min!==s||r!==void 0&&t.scales[n].max!==r)return!0}return!1}function Lw(t){const e=ft(t);return e.panning||e.dragging}const Iw=(t,e,n)=>Math.min(n,Math.max(e,t));function Cn(t,e){const{handlers:n}=ft(t),s=n[e];s&&s.target&&(s.target.removeEventListener(e,s),delete n[e])}function xc(t,e,n,s){const{handlers:r,options:i}=ft(t),a=r[n];if(a&&a.target===e)return;Cn(t,n),r[n]=d=>s(t,d,i),r[n].target=e;const c=n==="wheel"?!1:void 0;e.addEventListener(n,r[n],{passive:c})}function x5(t,e){const n=ft(t);n.dragStart&&(n.dragging=!0,n.dragEnd=e,t.update("none"))}function b5(t,e){const n=ft(t);!n.dragStart||e.key!=="Escape"||(Cn(t,"keydown"),n.dragging=!1,n.dragStart=n.dragEnd=null,t.update("none"))}function Ag(t,e){if(t.target!==e.canvas){const n=e.canvas.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}return Ls(t,e)}function aj(t,e,n){const{onZoomStart:s,onZoomRejected:r}=n;if(s){const i=Ag(e,t);if(Ne(s,[{chart:t,event:e,point:i}])===!1)return Ne(r,[{chart:t,event:e}]),!1}}function v5(t,e){if(t.legend){const i=Ls(e,t);if(Ia(i,t.legend))return}const n=ft(t),{pan:s,zoom:r={}}=n.options;if(e.button!==0||ZC(Oc(s),e)||J0(Oc(r.drag),e))return Ne(r.onZoomRejected,[{chart:t,event:e}]);aj(t,e,r)!==!1&&(n.dragStart=e,xc(t,t.canvas.ownerDocument,"mousemove",x5),xc(t,window.document,"keydown",b5))}function w5({begin:t,end:e},n){let s=e.x-t.x,r=e.y-t.y;const i=Math.abs(s/r);i>n?s=Math.sign(s)*Math.abs(r*n):i<n&&(r=Math.sign(r)*Math.abs(s/n)),e.x=t.x+s,e.y=t.y+r}function Fw(t,e,n,{min:s,max:r,prop:i}){t[s]=Iw(Math.min(n.begin[i],n.end[i]),e[s],e[r]),t[r]=Iw(Math.max(n.begin[i],n.end[i]),e[s],e[r])}function _5(t,e,n){const s={begin:Ag(e.dragStart,t),end:Ag(e.dragEnd,t)};if(n){const r=t.chartArea.width/t.chartArea.height;w5(s,r)}return s}function lj(t,e,n,s){const r=wi(e,"x",t),i=wi(e,"y",t),{top:a,left:c,right:d,bottom:h,width:p,height:m}=t.chartArea,g={top:a,left:c,right:d,bottom:h},x=_5(t,n,s&&r&&i);r&&Fw(g,t.chartArea,x,{min:"left",max:"right",prop:"x"}),i&&Fw(g,t.chartArea,x,{min:"top",max:"bottom",prop:"y"});const v=g.right-g.left,w=g.bottom-g.top;return{...g,width:v,height:w,zoomX:r&&v?1+(p-v)/p:1,zoomY:i&&w?1+(m-w)/m:1}}function S5(t,e){const n=ft(t);if(!n.dragStart)return;Cn(t,"mousemove");const{mode:s,onZoomComplete:r,drag:{threshold:i=0,maintainAspectRatio:a}}=n.options.zoom,c=lj(t,s,{dragStart:n.dragStart,dragEnd:e},a),d=wi(s,"x",t)?c.width:0,h=wi(s,"y",t)?c.height:0,p=Math.sqrt(d*d+h*h);if(n.dragStart=n.dragEnd=null,p<=i){n.dragging=!1,t.update("none");return}rj(t,{x:c.left,y:c.top},{x:c.right,y:c.bottom},"zoom","drag"),n.dragging=!1,n.filterNextClick=!0,Ne(r,[{chart:t}])}function C5(t,e,n){if(J0(Oc(n.wheel),e)){Ne(n.onZoomRejected,[{chart:t,event:e}]);return}if(aj(t,e,n)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function j5(t,e){const{handlers:{onZoomComplete:n},options:{zoom:s}}=ft(t);if(!C5(t,e,s))return;const r=e.target.getBoundingClientRect(),i=s.wheel.speed,a=e.deltaY>=0?2-1/(1-i):1+i,c={x:a,y:a,focalPoint:{x:e.clientX-r.left,y:e.clientY-r.top}};ey(t,c,"zoom","wheel"),Ne(n,[{chart:t}])}function k5(t,e,n,s){n&&(ft(t).handlers[e]=XL(()=>Ne(n,[{chart:t}]),s))}function N5(t,e){const n=t.canvas,{wheel:s,drag:r,onZoomComplete:i}=e.zoom;s.enabled?(xc(t,n,"wheel",j5),k5(t,"onZoomComplete",i,250)):Cn(t,"wheel"),r.enabled?(xc(t,n,"mousedown",v5),xc(t,n.ownerDocument,"mouseup",S5)):(Cn(t,"mousedown"),Cn(t,"mousemove"),Cn(t,"mouseup"),Cn(t,"keydown"))}function T5(t){Cn(t,"mousedown"),Cn(t,"mousemove"),Cn(t,"mouseup"),Cn(t,"wheel"),Cn(t,"click"),Cn(t,"keydown")}function E5(t,e){return function(n,s){const{pan:r,zoom:i={}}=e.options;if(!r||!r.enabled)return!1;const a=s&&s.srcEvent;return a&&!e.panning&&s.pointerType==="mouse"&&(J0(Oc(r),a)||ZC(Oc(i.drag),a))?(Ne(r.onPanRejected,[{chart:t,event:s}]),!1):!0}}function P5(t,e){const n=Math.abs(t.clientX-e.clientX),s=Math.abs(t.clientY-e.clientY),r=n/s;let i,a;return r>.3&&r<1.7?i=a=!0:n>s?i=!0:a=!0,{x:i,y:a}}function cj(t,e,n){if(e.scale){const{center:s,pointers:r}=n,i=1/e.scale*n.scale,a=n.target.getBoundingClientRect(),c=P5(r[0],r[1]),d=e.options.zoom.mode,h={x:c.x&&wi(d,"x",t)?i:1,y:c.y&&wi(d,"y",t)?i:1,focalPoint:{x:s.x-a.left,y:s.y-a.top}};ey(t,h,"zoom","pinch"),e.scale=n.scale}}function A5(t,e,n){if(e.options.zoom.pinch.enabled){const s=Ls(n,t);Ne(e.options.zoom.onZoomStart,[{chart:t,event:n,point:s}])===!1?(e.scale=null,Ne(e.options.zoom.onZoomRejected,[{chart:t,event:n}])):e.scale=1}}function M5(t,e,n){e.scale&&(cj(t,e,n),e.scale=null,Ne(e.options.zoom.onZoomComplete,[{chart:t}]))}function uj(t,e,n){const s=e.delta;s&&(e.panning=!0,ij(t,{x:n.deltaX-s.x,y:n.deltaY-s.y},e.panScales),e.delta={x:n.deltaX,y:n.deltaY})}function R5(t,e,n){const{enabled:s,onPanStart:r,onPanRejected:i}=e.options.pan;if(!s)return;const a=n.target.getBoundingClientRect(),c={x:n.center.x-a.left,y:n.center.y-a.top};if(Ne(r,[{chart:t,event:n,point:c}])===!1)return Ne(i,[{chart:t,event:n}]);e.panScales=JC(e.options.pan,c,t),e.delta={x:0,y:0},uj(t,e,n)}function D5(t,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,Ne(e.options.pan.onPanComplete,[{chart:t}]))}const Mg=new WeakMap;function Bw(t,e){const n=ft(t),s=t.canvas,{pan:r,zoom:i}=e,a=new yc.Manager(s);i&&i.pinch.enabled&&(a.add(new yc.Pinch),a.on("pinchstart",c=>A5(t,n,c)),a.on("pinch",c=>cj(t,n,c)),a.on("pinchend",c=>M5(t,n,c))),r&&r.enabled&&(a.add(new yc.Pan({threshold:r.threshold,enable:E5(t,n)})),a.on("panstart",c=>R5(t,n,c)),a.on("panmove",c=>uj(t,n,c)),a.on("panend",()=>D5(t,n))),Mg.set(t,a)}function zw(t){const e=Mg.get(t);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),Mg.delete(t))}function O5(t,e){var a,c,d,h;const{pan:n,zoom:s}=t,{pan:r,zoom:i}=e;return((c=(a=s==null?void 0:s.zoom)==null?void 0:a.pinch)==null?void 0:c.enabled)!==((h=(d=i==null?void 0:i.zoom)==null?void 0:d.pinch)==null?void 0:h.enabled)||(n==null?void 0:n.enabled)!==(r==null?void 0:r.enabled)||(n==null?void 0:n.threshold)!==(r==null?void 0:r.threshold)}var L5="2.2.0";function $d(t,e,n){const s=n.zoom.drag,{dragStart:r,dragEnd:i}=ft(t);if(s.drawTime!==e||!i)return;const{left:a,top:c,width:d,height:h}=lj(t,n.zoom.mode,{dragStart:r,dragEnd:i},s.maintainAspectRatio),p=t.ctx;p.save(),p.beginPath(),p.fillStyle=s.backgroundColor||"rgba(225,225,225,0.3)",p.fillRect(a,c,d,h),s.borderWidth>0&&(p.lineWidth=s.borderWidth,p.strokeStyle=s.borderColor||"rgba(225,225,225)",p.strokeRect(a,c,d,h)),p.restore()}var dj={id:"zoom",version:L5,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(t,e,n){const s=ft(t);s.options=n,Object.prototype.hasOwnProperty.call(n.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(n.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(n.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),yc&&Bw(t,n),t.pan=(r,i,a)=>ij(t,r,i,a),t.zoom=(r,i)=>ey(t,r,i),t.zoomRect=(r,i,a)=>rj(t,r,i,a),t.zoomScale=(r,i,a)=>h5(t,r,i,a),t.resetZoom=r=>f5(t,r),t.getZoomLevel=()=>m5(t),t.getInitialScaleBounds=()=>oj(t),t.getZoomedScaleBounds=()=>g5(t),t.isZoomedOrPanned=()=>y5(t),t.isZoomingOrPanning=()=>Lw(t)},beforeEvent(t,{event:e}){if(Lw(t))return!1;if(e.type==="click"||e.type==="mouseup"){const n=ft(t);if(n.filterNextClick)return n.filterNextClick=!1,!1}},beforeUpdate:function(t,e,n){const s=ft(t),r=s.options;s.options=n,O5(r,n)&&(zw(t),Bw(t,n)),N5(t,n)},beforeDatasetsDraw(t,e,n){$d(t,"beforeDatasetsDraw",n)},afterDatasetsDraw(t,e,n){$d(t,"afterDatasetsDraw",n)},beforeDraw(t,e,n){$d(t,"beforeDraw",n)},afterDraw(t,e,n){$d(t,"afterDraw",n)},stop:function(t){T5(t),yc&&zw(t),GL(t)},panFunctions:Pg,zoomFunctions:Tg,zoomRectFunctions:Eg};function $t(t,e="USD"){if(typeof t!="number"||isNaN(t))return"";try{return t.toLocaleString(void 0,{style:"currency",currency:e||"USD",maximumFractionDigits:2})}catch{return t.toFixed(2)}}function I5(t){const e=[],n=new Date;for(let s=t-1;s>=0;s--){const r=new Date(n.getFullYear(),n.getMonth()-s,1);e.push(`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`)}return e}const Xi={income:"#38bdf8",incomeStub:"#334155",outcome:"#ef4444",outcomeStub:"#334155",net:"#22c55e",netFill:"#22c55e22"};bs.register(So,Co,xr,pc,Sa,mr,lh,ji,Ci,LC,Po,dj);function F5({data:t}){const e=I5(12),n=Array.isArray(t)?t.map(g=>{var x;return{month:((x=g._id)==null?void 0:x.date)||"",incomes:g.incomes??0,outcomes:g.outcomes??0}}):[],s=e.map(g=>{const x=n.find(v=>v.month===g);return{month:g,incomes:(x==null?void 0:x.incomes)??0,outcomes:-((x==null?void 0:x.outcomes)??0),net:((x==null?void 0:x.incomes)??0)-((x==null?void 0:x.outcomes)??0)}});if(!s.some(g=>g.incomes!==0||g.outcomes!==0||g.net!==0))return u.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-gray-400 text-lg",children:[u.jsx("span",{children:"No data found."}),u.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Create invoices to unlock analytics!"})]});const i=s.map(g=>g.incomes),a=s.map(g=>g.outcomes),c=s.map(g=>g.net),d=Math.min(...i,...a,...c,0),h=Math.max(...i,...a,...c,0),p={labels:e,datasets:[{label:"Income",data:i,backgroundColor:i.map(g=>g>0?Xi.income:Xi.incomeStub),borderRadius:16,barPercentage:.44,categoryPercentage:.54,order:2,datalabels:{anchor:"end",align:"start",clamp:!0,display:i.map(g=>g>0),color:"#38bdf8",font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:g=>g>0?$t(g):""}},{label:"Outcome",data:a,backgroundColor:a.map(g=>g<0?Xi.outcome:Xi.outcomeStub),borderRadius:16,barPercentage:.44,categoryPercentage:.54,order:3,datalabels:{anchor:"end",align:"end",clamp:!0,display:a.map(g=>g<0),color:"#ef4444",font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:g=>g<0?$t(Math.abs(g)):""}},{label:"Net Result",type:"line",data:c,borderColor:Xi.net,backgroundColor:Xi.netFill,borderWidth:3,fill:!0,pointRadius:7,pointHoverRadius:12,pointBackgroundColor:Xi.net,pointBorderWidth:3,tension:.38,yAxisID:"y",order:1,datalabels:{anchor:"end",align:"top",clamp:!0,display:c.map(g=>g!==0),color:"#22c55e",font:{weight:"bold",size:17},backgroundColor:"#101223",borderRadius:9,borderWidth:2,borderColor:"#23263a",padding:{left:12,right:12,top:6,bottom:6},formatter:g=>g!==0?$t(g):""}}]},m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,callbacks:{title:g=>" "+g[0].label,label:g=>g.dataset.label==="Income"?` Income: ${$t(g.raw)}`:g.dataset.label==="Outcome"?` Outcome: ${$t(Math.abs(g.raw))}`:g.dataset.label==="Net Result"?` Net: ${$t(g.raw)}`:g.dataset.label+": "+g.raw}},datalabels:{display:"auto"},zoom:{pan:{enabled:!0,mode:"y"},zoom:{wheel:{enabled:!0},mode:"y",drag:{enabled:!0}}}},layout:{padding:{left:16,right:16,top:18,bottom:24}},scales:{x:{grid:{display:!1}},y:{grid:{color:"#282b41"},ticks:{color:"#b7bacf",font:{size:15,weight:"bold"},callback:g=>$t(g)},beginAtZero:!1,min:d-Math.abs(h-d)*.07,max:h+Math.abs(h-d)*.13}}};return u.jsx("div",{className:"w-full h-[500px] md:h-[420px]",children:u.jsx(su,{data:p,options:m,plugins:[Po]})})}function Qi(t,e="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:2}).format(t)}function Dm(t){return t===null||isNaN(t)?"--":`${Number(t).toFixed(2)}%`}function B5(t){const e=[],n=new Date;for(let s=t-1;s>=0;s--){const r=new Date(n.getFullYear(),n.getMonth()-s,1);e.push(`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`)}return e}function z5(t,e=150){const n=[];for(let s=0;s<t.length;s++){if(s===0){n.push(0);continue}const r=t[s-1],i=t[s];if(r===0&&i===0)n.push(0);else if(r===0&&i>0)n.push(e);else if(r>0&&i===0)n.push(-100);else{const a=(i-r)/Math.abs(r)*100;n.push(Math.max(-e,Math.min(a,e)))}}return n}const Yn={positive:"#22c55e",negative:"#ef4444",growth:"#facc15",neutral:"#23263a",barBorder:"#22c55e"};bs.register(So,Co,xr,Sa,mr,ji,Ci,LC,Po,dj);function V5({data:t=[],currency:e="USD"}){const n=B5(12),s=n.map(P=>{const R=t.find(I=>{var F;return I.date===P||((F=I._id)==null?void 0:F.date)===P});let z=0;return R&&(typeof R.total=="number"?z=R.total:typeof R.income=="number"&&typeof R.outcome=="number"?R.outcome<0?z=R.income+R.outcome:z=R.income-R.outcome:typeof R.outcome=="number"&&(z=-Math.abs(R.outcome))),{month:P,total:z}});if(!s.some(P=>P.total!==0))return u.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-gray-400 text-lg",children:[u.jsx("span",{children:"No data found."}),u.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Create invoices to unlock analytics!"})]});const i=s.map(P=>P.total),a=z5(i,150),c=a.map((P,R)=>R===0||P===null?"":P>0?"":P<0?"":""),d=i.map(P=>P>0?Yn.positive:P<0?Yn.negative:Yn.neutral),h=i.map(P=>P>0?Yn.positive:P<0?Yn.negative:"#b7bacf"),p=Math.max(Math.abs(Math.min(...i,0)),Math.abs(Math.max(...i,0))),m=a.filter(P=>P!==null&&!isNaN(P)),g=Math.max(Math.abs(Math.min(...m,0)),Math.abs(Math.max(...m,0)),100),x=Math.max(p*.1,1e3),v=Math.max(g*.1,10),w=p+x,_=-w,C=g+v,k=-C,T={labels:n,datasets:[{type:"bar",label:"Net Result",data:i,backgroundColor:d,borderRadius:16,barPercentage:.25,categoryPercentage:.4,order:3,borderSkipped:!1,borderWidth:0,datalabels:{anchor:"end",align:"start",clamp:!0,display:i.map(P=>P!==0),color:h,font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:P=>P!==0?P>0?Qi(P,e):`-${Qi(Math.abs(P),e)}`:""},yAxisID:"y"},{type:"line",label:"Net Line",data:i,borderColor:Yn.barBorder,borderWidth:4,fill:!1,pointRadius:0,pointHoverRadius:0,order:2,yAxisID:"y",datalabels:{display:!1},tension:.45,segment:{borderDash:P=>P.p0.parsed.y<0?[6,4]:[]},borderJoinStyle:"round",borderCapStyle:"round"},{type:"line",label:"Net Dot",data:i,borderColor:"rgba(0,0,0,0)",backgroundColor:Yn.positive,pointBorderColor:Yn.positive,pointBackgroundColor:Yn.positive,pointRadius:8,pointHoverRadius:12,pointBorderWidth:2,showLine:!1,yAxisID:"y",order:1,datalabels:{display:!1}},{type:"line",label:"Growth (%)",data:a,borderColor:Yn.growth,backgroundColor:Yn.growth,borderWidth:3,fill:!1,pointRadius:7,pointHoverRadius:12,pointBackgroundColor:Yn.growth,pointBorderWidth:3,tension:.35,yAxisID:"y2",order:0,datalabels:{display:a.map(P=>P!==null&&!isNaN(P)),anchor:"end",align:"bottom",clamp:!0,color:"#facc15",font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:(P,R)=>P===null||isNaN(P)?"":`${Dm(P)}${P===0?"":" "+c[R.dataIndex]}`},spanGaps:!1}]},M={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,callbacks:{title:P=>" "+P[0].label,label:P=>{if(P.dataset.label==="Net Result"){const R=P.raw;return R>0?` Net: ${Qi(R,e)}`:R<0?` Net: -${Qi(Math.abs(R),e)}`:`Net: ${Qi(R,e)}`}if(P.dataset.label==="Growth (%)"){const R=P.raw;if(R===null||isNaN(R)){const z=i[P.dataIndex-1],I=i[P.dataIndex];return P.dataIndex===0?"No growth data for first month.":z===0?"No growth %: previous month was $0.":I===0?"No growth %: current month is $0.":"--"}return R===0?"":` Growth: ${Dm(R)} ${c[P.dataIndex]}`}return P.dataset.label==="Net Dot"?` Net: ${Qi(P.raw,e)}`:P.dataset.label+": "+P.raw}}},datalabels:{display:"auto"},zoom:{pan:{enabled:!0,mode:"y"},zoom:{wheel:{enabled:!0},mode:"y",drag:{enabled:!0}}}},layout:{padding:{left:16,right:16,top:18,bottom:24}},scales:{x:{grid:{display:!1}},y:{grid:{color:P=>P.tick.value===0?"#fff":"#282b41",lineWidth:P=>P.tick.value===0?2:1},beginAtZero:!1,min:_,max:w,ticks:{color:"#b7bacf",font:{size:15,weight:"bold"},callback:P=>Qi(P,e)},title:{display:!0,text:"Net Amount"}},y2:{position:"right",grid:{drawOnChartArea:!0,color:P=>P.tick.value===0?"#fff":"#282b41",lineWidth:P=>P.tick.value===0?2:1},beginAtZero:!1,min:k,max:C,ticks:{color:"#facc15",font:{size:13,weight:"bold"},callback:P=>Dm(P)},title:{display:!0,text:"Growth (%)"}}}};return u.jsx("div",{className:"w-full h-[500px] md:h-[420px]",children:u.jsx(su,{data:T,options:M,plugins:[Po]})})}bs.register(mi,ji,Ci);const Vw={paid:"#14b8a6",unpaid:"#ef4444",draft:"#facc15"},$w={paid:"Paid",unpaid:"Unpaid",draft:"Draft"};function Uw(t){return t?$w[t]?$w[t]:String(t).charAt(0).toUpperCase()+String(t).slice(1):"Unknown"}function $5({data:t}){const[e,n]=j.useState(!1);if(!t||t.length===0)return u.jsx("div",{className:"flex flex-col items-center mt-8",children:u.jsx("p",{className:"text-gray-400",children:"No invoice data found for this period."})});const s=t.reduce((c,d)=>c+(e?d.total??0:d.count??0),0),r=t.map(c=>Uw(c.status)),i=t.map(c=>e?c.total??0:c.count??0),a=t.map(c=>Vw[c.status]||"#6b7280");return u.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[u.jsxs("div",{className:"mb-3 flex justify-center",children:[u.jsx("button",{onClick:()=>n(!1),className:`px-4 py-1 rounded-l transition font-medium
            ${e?"bg-gray-800 text-gray-300":"bg-blue-600 text-white shadow"}`,children:"Count"}),u.jsx("button",{onClick:()=>n(!0),className:`px-4 py-1 rounded-r transition font-medium
            ${e?"bg-blue-600 text-white shadow":"bg-gray-800 text-gray-300"}`,children:"Total"})]}),u.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-10 rounded-2xl shadow-2xl p-6 md:p-10",style:{background:"#1a1c29",width:680,minWidth:680,maxWidth:680,height:340,minHeight:340,maxHeight:340,boxSizing:"border-box"},children:[u.jsx("div",{style:{width:320,height:220,minWidth:310},children:u.jsx(UC,{data:{labels:r,datasets:[{data:i,backgroundColor:a,borderColor:"#23263a",borderWidth:4,hoverOffset:10,cutout:"40%"}]},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:c=>`${c.label}: ${e?$t(c.parsed):c.parsed} (${s?Math.round(c.parsed/s*100):0}%)`}}},layout:{padding:4},responsive:!0,maintainAspectRatio:!1}})}),u.jsx("div",{className:"flex flex-col justify-center gap-4",style:{width:220,minWidth:220,maxWidth:220},children:t.map((c,d)=>{const h=Uw(c.status),p=Vw[c.status]||"#6b7280",m=e?c.total??0:c.count??0,g=s?Math.round(m/s*100):0;return u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"inline-block rounded-full",style:{width:18,height:18,background:p,boxShadow:"0 2px 8px rgba(0,0,0,0.12)"}}),u.jsx("span",{className:"text-gray-100 font-semibold min-w-[60px]",children:h}),u.jsx("span",{className:"text-gray-200 font-mono text-base text-right",style:{width:90,display:"inline-block"},children:e?$t(m):m}),u.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:[g,"%"]})]},c.status||d)})})]})]})}bs.register(So,Co,xr,ji,Ci,iL,Po);const Om=["0-30 days","31-60 days","61-90 days","90+ days"],U5=["0-30","31-60","61-90","90+"];function H5(){const[t,e]=j.useState(null),[n,s]=j.useState(!0),[r,i]=j.useState("");j.useEffect(()=>{let h=!1;return s(!0),i(""),oe.get("/invoices/analytics?analyticType=overdueAging").then(p=>{h||e(p.data)}).catch(()=>{h||i("Failed to load overdue aging data.")}).finally(()=>{h||s(!1)}),()=>{h=!0}},[]);const a=U5.map(h=>(t==null?void 0:t[h])||{count:0,total:0}),c=a.reduce((h,p)=>h+p.count,0);if(n)return u.jsx("div",{className:"w-full h-[350px] flex items-center justify-center",children:u.jsx("span",{className:"text-gray-400",children:"Loading..."})});if(r)return u.jsx("div",{className:"w-full h-[350px] flex items-center justify-center",children:u.jsx("span",{className:"text-red-400",children:r})});const d=["rgba(239, 68, 68, 0.92)","rgba(251, 191, 36, 0.92)","rgba(59, 130, 246, 0.92)","rgba(99, 102, 241, 0.92)"];return u.jsxs("div",{className:"w-full max-w-2xl mx-auto flex flex-col items-center",children:[u.jsx("div",{className:"w-full h-[350px]",children:u.jsx(su,{data:{labels:Om,datasets:[{label:"Overdue Invoices",data:a.map(h=>h.count),backgroundColor:d,borderRadius:18,barPercentage:.7,categoryPercentage:.68}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:20,bottom:0,left:10,right:10}},plugins:{legend:{display:!1},datalabels:{display:!0,color:"#fff",font:{weight:"bold",size:22,family:"Inter, sans-serif"},anchor:"end",align:"end",offset:6,formatter:h=>h>0?h.toLocaleString():"",textStrokeColor:"#23263a",textStrokeWidth:4,shadowBlur:6,shadowColor:"#23263a88",clamp:!0},tooltip:{callbacks:{title:h=>Om[h[0].dataIndex],label:h=>{const p=h.dataIndex;return[`Count: ${a[p].count}`,`Total: ${$t(a[p].total)}`]}},backgroundColor:"#23263a",borderColor:"#3b3b54",borderWidth:1,bodyFont:{size:15,weight:"bold"},titleFont:{size:15}},title:{display:!1}},scales:{y:{beginAtZero:!0,min:0,max:50,ticks:{color:"#bbb",font:{size:16}},grid:{color:"#23273d"}},x:{ticks:{color:"#eee",font:{size:16,weight:"bold"}},grid:{display:!1}}}}})}),u.jsx("div",{className:"flex justify-between w-full mt-4 px-2",children:Om.map((h,p)=>u.jsxs("div",{className:"flex flex-col items-center flex-1",children:[u.jsx("span",{className:"text-xs text-gray-400",children:h}),u.jsx("span",{className:"text-md font-semibold text-gray-100",children:$t(a[p].total)})]},h))}),u.jsx("div",{className:"mt-2 text-center text-sm text-gray-400",children:c>0?`${c} total overdue invoice${c>1?"s":""}`:"No overdue invoices!"})]})}bs.register(So,Co,xr,ji,Ci,Po);function W5({data:t}){if(!Array.isArray(t))return u.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(t.length===0)return u.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-gray-500",children:"No product sales data found."});const e=t.map(s=>s._id),n=t.map(s=>s.total);return u.jsx("div",{className:"w-full h-[340px]",children:u.jsx(su,{data:{labels:e,datasets:[{label:"Total Sold",data:n,backgroundColor:"#38bdf8dd",borderRadius:12}]},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:s=>`${s.label}: ${$t(s.raw)}`}},datalabels:{display:!0,color:"#fff",align:"end",anchor:"end",font:{weight:"bold"},formatter:s=>$t(s)}},scales:{y:{beginAtZero:!0,max:2e4},x:{grid:{display:!1}}}}})})}bs.register(So,Co,xr,ji,Ci,Po);function q5({data:t,yMax:e=void 0}){if(!Array.isArray(t))return u.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(t.length===0)return u.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-gray-500",children:"No client revenue data found."});const n=t.map(r=>{var i;return((i=r.company)==null?void 0:i.name)||"Unknown"}),s=t.map(r=>r.total);return u.jsx("div",{className:"w-full h-[340px]",children:u.jsx(su,{data:{labels:n,datasets:[{label:"Total Revenue",data:s,backgroundColor:"#22c55edd",borderRadius:12}]},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:r=>`${r.label}: ${$t(r.raw)}`}},datalabels:{display:!0,color:"#fff",align:"end",anchor:"end",font:{weight:"bold"},formatter:r=>$t(r)}},scales:{y:{beginAtZero:!0,...e?{max:e}:{}},x:{grid:{display:!1}}}}})})}bs.register(mi,ji,Ci);const Ud=["#38bdf8","#fbbf24","#22c55e","#ef4444","#a78bfa","#f472b6","#fde68a","#fb7185","#16a34a","#f59e42","#6366f1","#1e293b","#eab308","#dc2626"];function Y5({data:t}){if(!Array.isArray(t))return u.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(t.length===0)return u.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-gray-500",children:"No category breakdown data found."});const e=t.map(r=>r._id||"Unknown"),n=t.map(r=>r.total),s=Ud.length>=e.length?Ud:[...Ud,...Array(e.length-Ud.length).fill("#cbd5e1")];return u.jsx("div",{className:"w-full h-[320px] flex flex-col items-center",children:u.jsx(jL,{data:{labels:e,datasets:[{data:n,backgroundColor:s,borderColor:"#23263a",borderWidth:2}]},options:{plugins:{legend:{display:!0,position:"bottom"},tooltip:{callbacks:{label:r=>`${r.label}: ${$t(r.raw)}`}}}}})})}bs.register(mi,ji,Ci);const Hd=["#38bdf8","#fde68a","#22c55e","#ef4444","#a78bfa","#f472b6","#818cf8","#f59e42","#16a34a","#dc2626","#eab308","#1e293b","#6366f1","#fbbf24"];function K5({data:t}){if(!Array.isArray(t))return u.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(t.length===0)return u.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-gray-500",children:"No currency breakdown data found."});const e=t.map(r=>r._id),n=t.map(r=>r.total),s=Hd.length>=e.length?Hd:[...Hd,...Array(e.length-Hd.length).fill("#cbd5e1")];return u.jsx("div",{className:"w-full h-[320px] flex flex-col items-center",children:u.jsx(UC,{data:{labels:e,datasets:[{data:n,backgroundColor:s,borderColor:"#23263a",borderWidth:2}]},options:{plugins:{legend:{display:!0,position:"bottom"},tooltip:{callbacks:{label:r=>`${r.label}: ${$t(r.raw,r.label)}`}}}}})})}function X5({data:t,loading:e}){const n=(t==null?void 0:t.avgDays)??null;return e?u.jsx("div",{className:"flex flex-col items-center justify-center p-7 text-sky-300",children:"Loading..."}):u.jsxs("div",{className:"flex flex-col items-center justify-center p-7",children:[u.jsxs("div",{className:"text-5xl font-extrabold text-sky-300",children:[n!==null?n.toFixed(1):"--",u.jsx("span",{className:"text-2xl text-gray-400",children:" days"})]}),u.jsx("div",{className:"text-base text-gray-400 mt-2 font-medium",children:"Average Payment Speed"})]})}function Q5({data:t}){return u.jsxs("div",{className:"w-full flex flex-col gap-3 p-6",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"bg-red-600/80 px-4 py-2 rounded text-white text-lg font-bold flex-1",children:["Overdue Invoices:"," ",u.jsx("span",{className:"font-mono",children:(t==null?void 0:t.overdue)??"--"})]}),u.jsxs("div",{className:"bg-amber-500/80 px-4 py-2 rounded text-white text-lg font-bold flex-1",children:["Stale Drafts:"," ",u.jsx("span",{className:"font-mono",children:(t==null?void 0:t.staleDrafts)??"--"})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("div",{className:"text-base font-bold text-sky-400 mb-2",children:"High-Value Unpaid Invoices:"}),u.jsx("ul",{className:"text-white space-y-2",children:Array.isArray(t==null?void 0:t.highUnpaid)&&t.highUnpaid.length?t.highUnpaid.map(e=>{var n;return u.jsxs("li",{className:"bg-gray-800 px-3 py-2 rounded",children:[u.jsx("span",{className:"text-rose-400 font-bold",children:e.totalAmount}),u.jsxs("span",{className:"mx-2 text-xs text-gray-400",children:["due: ",new Date(e.dueDate).toLocaleDateString()]}),u.jsx("span",{className:"ml-2 text-sky-300",children:e.invoiceNumber}),u.jsx("span",{className:"ml-2 text-green-400",children:((n=e.clientCompany)==null?void 0:n.name)||""})]},e.invoiceNumber||e._id)}):u.jsx("li",{className:"text-gray-500",children:"None"})})]})]})}const Rg=[{type:"revenueTrends",label:"Monthly Income vs Outcome",Widget:F5,desc:"Visualize your total incomes, outcomes, and net result for each month."},{type:"growth",label:"Growth Trend (%)",Widget:V5,desc:"Track period-over-period revenue change in %."},{type:"statusBreakdown",label:"Status Breakdown",Widget:$5,desc:"See how your invoices are distributed by status."},{type:"overdueAging",label:"Overdue Aging",Widget:H5,desc:"Breakdown of overdue unpaid invoices by aging bucket."},{type:"topProducts",label:"Top Products",Widget:W5,desc:"Top selling products (by value)."},{type:"topClients",label:"Top Clients",Widget:q5,desc:"Clients who brought the most revenue."},{type:"categoryBreakdown",label:"Category Breakdown",Widget:Y5,desc:"Total value by category."},{type:"currencyBreakdown",label:"Currency Breakdown",Widget:K5,desc:"Total invoice amounts by currency."},{type:"avgPaymentSpeed",label:"Average Payment Speed",Widget:X5,desc:"How fast are invoices paid (in days)?"},{type:"alerts",label:"Alerts & Warnings",Widget:Q5,desc:"Critical items: overdue, stale, or high-value unpaid invoices."}],G5=Rg[0].type,Z5=({onClose:t,showAll:e=!1})=>{const[n,s]=j.useState(G5),[r,i]=j.useState(null),[a,c]=j.useState(!1),[d,h]=j.useState(""),p=j.useRef(),m=Rg.find(x=>x.type===n),g=m.Widget;return j.useEffect(()=>{c(!0),h(""),i(null),p.current&&p.current.abort(),p.current=new AbortController;let x={analyticType:n};return n==="revenueTrends"||n==="growth"?(x.groupBy="month",x.limit=12):(n==="topProducts"||n==="topClients")&&(x.limit=7),e&&(x.all=!0),oe.get("/invoices/analytics",{params:x,signal:p.current.signal}).then(v=>{if(n==="overdueAging"&&Array.isArray(v.data)){const w={};v.data.forEach(_=>{let C=_._id;C==="0"&&(C="030 days"),C==="31"&&(C="3160 days"),C==="61"&&(C="6190 days"),C==="91"&&(C="90+ days"),w[C]={count:_.count,total:_.total}}),i(w)}else i(v.data)}).catch(v=>{var w,_;v.code!=="ERR_CANCELED"&&h(((_=(w=v==null?void 0:v.response)==null?void 0:w.data)==null?void 0:_.error)||(v==null?void 0:v.message)||"Failed to fetch analytics")}).finally(()=>c(!1)),()=>{p.current&&p.current.abort()}},[n,e]),j.useEffect(()=>{const x=v=>{v.key==="Escape"&&t()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[t]),u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-lg",children:u.jsxs("div",{className:"bg-[#23263a] text-white w-full max-w-[1150px] max-h-[98vh] rounded-xl p-2 shadow-2xl overflow-y-auto relative animate-fade-in",style:{minHeight:520},role:"dialog","aria-modal":"true",children:[u.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-base bg-gray-700 hover:bg-gray-900 px-2 py-1 rounded","aria-label":"Close analytics modal",children:""}),u.jsxs("div",{className:"flex items-center gap-2 mb-2 mt-1 ml-2",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"text-xl font-semibold",children:"Invoice Analytics"}),u.jsx("div",{className:"flex gap-1 ml-7 flex-wrap",children:Rg.map(x=>u.jsx("button",{onClick:()=>s(x.type),className:`px-3 py-1 rounded text-xs font-bold border shadow transition-all ${n===x.type?"bg-sky-400 text-black border-sky-400":"bg-[#101223] text-white border-[#23263a] hover:bg-[#23263a] hover:text-sky-300"}`,style:{minWidth:88},children:x.label},x.type))})]}),u.jsx("div",{className:"ml-2 mb-4 text-sm text-gray-400",children:m.desc}),u.jsx("div",{className:"w-full flex justify-center items-center mb-5",children:a?u.jsx("div",{className:"py-10 text-center text-gray-400 text-lg tracking-wide",children:"Loading analytics..."}):d?u.jsx("div",{className:"text-red-400 text-center",children:d}):r?u.jsx("div",{className:"w-full",children:u.jsx(g,{data:r})}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-gray-400 text-lg",children:[u.jsx("span",{children:"No data found."}),u.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Create invoices to unlock analytics!"})]})})]})})},J5=()=>{const[t,e]=j.useState([]),[n,s]=j.useState(!0),[r,i]=j.useState(!1),[a,c]=j.useState(null),[d,h]=j.useState(!1),[p,m]=j.useState(0),[g,x]=j.useState("dateIssued"),[v,w]=j.useState("desc"),[_,C]=j.useState(null),[k,T]=j.useState(!1),[M,P]=j.useState(null),[R,z]=j.useState(!1),I=async()=>{var G,he;s(!0);try{const te=await oe.get("/invoices",{params:{sortBy:g,sortOrder:v,all:!0}}),Z=Array.isArray(te.data)?te.data:te.data.invoices||[];e(Z)}catch(te){console.error("Failed to fetch invoices:",(he=(G=te==null?void 0:te.response)==null?void 0:G.data)==null?void 0:he.message)}finally{s(!1)}};j.useEffect(()=>{I()},[g,v]);const F=G=>{g===G?w(v==="asc"?"desc":"asc"):(x(G),w("asc"))},U=()=>{c(null),i(!0)},ee=G=>{c(G),i(!0)},J=G=>{C(G),T(!0)},de=async G=>{var he,te;if(window.confirm("Are you sure you want to delete this invoice?")){P(G);try{await oe.delete(`/invoices/${G}`),I()}catch(Z){alert(((te=(he=Z==null?void 0:Z.response)==null?void 0:he.data)==null?void 0:te.message)||Z.message||"Failed to delete invoice")}finally{P(null)}}};return u.jsxs("div",{className:"bg-[#181A23] text-white rounded-lg p-6 shadow-lg relative min-h-[60vh]",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6 gap-3",children:[u.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:" All Invoices"}),u.jsx("button",{onClick:()=>z(!0),className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 focus:outline-none",type:"button",children:" Analytics"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>h(!0),className:"bg-gray-700 text-white px-3 py-2 rounded hover:bg-gray-600 focus:outline-none",type:"button",children:"+ New Company"}),u.jsx("button",{onClick:U,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none",children:"+ New Invoice"})]})]}),n?u.jsx("div",{className:"py-12 text-center text-gray-400",children:"Loading invoices..."}):t.length===0?u.jsx("div",{className:"py-12 text-center text-gray-500",children:"No invoices found."}):u.jsx("div",{className:"overflow-x-auto rounded-lg shadow-inner",children:u.jsxs("table",{className:"table-fixed w-full min-w-[1250px] text-sm bg-[#222436] rounded-lg overflow-hidden",children:[u.jsx("thead",{className:"bg-[#23263a] text-gray-200 uppercase text-xs tracking-wide",children:u.jsxs("tr",{children:[u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>F("systemInvoiceNumber"),children:["System #",g==="systemInvoiceNumber"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>F("invoiceNumber"),children:["Invoice #",g==="invoiceNumber"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>F("type"),children:["Type",g==="type"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>F("client"),children:["Client",g==="client"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>F("supplier"),children:["Supplier",g==="supplier"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>F("status"),children:["Status",g==="status"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>F("dateIssued"),children:["Issued",g==="dateIssued"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>F("dueDate"),children:["Due",g==="dueDate"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>F("totalAmount"),children:["Total",g==="totalAmount"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>F("createdAt"),children:["Created",g==="createdAt"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>F("updatedAt"),children:["Edited",g==="updatedAt"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsx("th",{className:"px-4 py-3 font-bold text-left",children:"Actions"})]})}),u.jsx("tbody",{children:t.map(G=>{var te,Z;const he=G.status==="unpaid"&&G.dueDate&&new Date(G.dueDate)<new Date;return u.jsxs("tr",{className:"border-t border-[#8f8f8f] hover:bg-[#23273d] transition",children:[u.jsx("td",{className:"px-2 py-1 text-xs",children:G.systemInvoiceNumber||""}),u.jsx("td",{className:"px-2 py-1 text-xs",children:G.invoiceNumber||""}),u.jsx("td",{className:"px-4 py-2 text-xs max-w-[120px] truncate",children:G.type==="income"?"Income":G.type==="outcome"?"Expense":G.type}),u.jsx("td",{className:"px-2 py-1 text-xs max-w-[120px] truncate",children:((te=G.clientCompany)==null?void 0:te.name)||G.client||""}),u.jsx("td",{className:"px-2 py-1 text-xs max-w-[120px] truncate",children:((Z=G.supplierCompany)==null?void 0:Z.name)||G.supplier||""}),u.jsx("td",{className:"px-2 py-1",children:u.jsx("span",{className:"px-2 py-0.5 rounded text-[11px] font-bold uppercase "+(G.status==="paid"?"bg-green-700 text-green-100":G.status==="unpaid"?"bg-red-700 text-red-100":"bg-gray-700 text-gray-200"),style:{minWidth:46,display:"inline-block",textAlign:"center"},children:G.status||""})}),u.jsx("td",{className:"px-2 py-1 text-xs",children:G.dateIssued?Tc(G.dateIssued):""}),u.jsx("td",{className:"px-2 py-1 text-xs"+(he?" text-red-400 font-bold":""),children:G.dueDate?Tc(G.dueDate):""}),u.jsxs("td",{className:"px-2 py-1 text-xs whitespace-nowrap",children:[Number(G.totalAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," ",G.currency]}),u.jsx("td",{className:"px-2 py-1 text-[11px]",children:G.createdAt?new Date(G.createdAt).toLocaleString():""}),u.jsx("td",{className:"px-2 py-1 text-[11px]",children:G.updatedAt&&G.updatedAt!==G.createdAt?new Date(G.updatedAt).toLocaleString():""}),u.jsxs("td",{className:"px-2 py-1 flex gap-1 min-w-[88px]",children:[u.jsx("button",{onClick:()=>J(G),className:"text-green-400 hover:bg-green-900 hover:text-white px-1 py-0.5 rounded text-[11px] font-medium transition",children:"Details"}),u.jsx("button",{onClick:()=>ee(G),className:"text-blue-400 hover:bg-blue-900 hover:text-white px-1 py-0.5 rounded text-[11px] font-medium transition",children:"Edit"}),u.jsx("button",{onClick:()=>de(G._id),className:"text-red-400 hover:bg-red-900 hover:text-white px-1 py-0.5 rounded text-[11px] font-medium transition",disabled:M===G._id,children:M===G._id?"...":"Delete"})]})]},G._id)})})]})}),r&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-lg",children:u.jsx("div",{className:"w-full max-w-2xl mx-4",children:u.jsx(Nh,{invoice:a,onClose:()=>i(!1),onSaved:()=>{i(!1),I()},companyListUpdated:p})})}),d&&u.jsx(F3,{onClose:()=>h(!1),onSaved:()=>{h(!1),m(G=>G+1)}}),k&&_&&u.jsx(mg,{invoice:_,onClose:()=>T(!1)}),u.jsxs("div",{className:"...",children:[k&&_&&u.jsx(mg,{invoice:_,onClose:()=>T(!1)}),R&&u.jsx(Z5,{onClose:()=>z(!1)})]})]})},eI=()=>{const[t,e]=j.useState([]),[n,s]=j.useState(!0),[r,i]=j.useState(!1),[a,c]=j.useState(null),[d,h]=j.useState(null),[p,m]=j.useState(!1),g=async()=>{var _,C;s(!0);try{const k=await oe.get("/invoices"),T=Array.isArray(k.data)?k.data:k.data.invoices||[];e(T)}catch(k){console.error("Failed to fetch invoices:",(C=(_=k==null?void 0:k.response)==null?void 0:_.data)==null?void 0:C.message)}finally{s(!1)}};j.useEffect(()=>{g()},[]);const x=()=>{c(null),i(!0)},v=_=>{c(_),i(!0)},w=_=>{h(_),m(!0)};return u.jsxs("div",{className:"bg-[#181A23] text-white rounded-lg p-6 shadow-lg relative min-h-[60vh]",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:" All Invoices"}),u.jsx("button",{onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none",children:"+ New Invoice"})]}),n?u.jsx("div",{className:"py-12 text-center text-gray-400",children:"Loading invoices..."}):t.length===0?u.jsx("div",{className:"py-12 text-center text-gray-500",children:"No invoices found."}):u.jsx("div",{className:"overflow-x-auto rounded-lg shadow-inner",children:u.jsxs("table",{className:"min-w-full text-sm bg-[#222436] rounded-lg overflow-hidden",children:[u.jsx("thead",{className:"bg-[#23263a] text-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 font-semibold",children:"#"}),u.jsx("th",{className:"p-3 font-semibold",children:"Type"}),u.jsx("th",{className:"p-3 font-semibold",children:"Client"}),u.jsx("th",{className:"p-3 font-semibold",children:"Supplier"}),u.jsx("th",{className:"p-3 font-semibold",children:"Total"}),u.jsx("th",{className:"p-3 font-semibold",children:"Issued"}),u.jsx("th",{className:"p-3 font-semibold",children:"Actions"})]})}),u.jsx("tbody",{children:t.map(_=>{var C,k;return u.jsxs("tr",{className:"border-t border-[#27293e] hover:bg-[#25294a] transition",children:[u.jsx("td",{className:"p-3",children:_.invoiceNumber||""}),u.jsx("td",{className:"p-3 capitalize",children:_.type==="income"?"Income (You receive)":_.type==="outcome"?"Expense (You pay)":_.type}),u.jsx("td",{className:"p-3",children:((C=_.clientCompany)==null?void 0:C.name)||_.client||""}),u.jsx("td",{className:"p-3",children:((k=_.supplierCompany)==null?void 0:k.name)||_.supplier||""}),u.jsxs("td",{className:"p-3 whitespace-nowrap",children:[Number(_.totalAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," ",_.currency]}),u.jsx("td",{className:"p-3",children:Tc(_.dateIssued)}),u.jsxs("td",{className:"p-3 flex gap-2",children:[u.jsx("button",{onClick:()=>w(_),className:"text-green-400 hover:underline hover:text-green-300 transition",children:"Details"}),u.jsx("button",{onClick:()=>v(_),className:"text-blue-400 hover:underline hover:text-blue-300 transition",children:"Edit"})]})]},_._id)})})]})}),r&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-lg",children:u.jsx("div",{className:"w-full max-w-2xl mx-4",children:u.jsx(Nh,{invoice:a,onClose:()=>i(!1),onSaved:()=>{i(!1),g()}})})}),p&&d&&u.jsx(mg,{invoice:d,onClose:()=>m(!1)})]})},hj=()=>u.jsxs(eS,{children:[u.jsx(Qt,{path:"/",element:u.jsx(J5,{})}),u.jsx(Qt,{path:"new",element:u.jsx(Nh,{})}),u.jsx(Qt,{path:":id",element:u.jsx(eI,{})}),u.jsx(Qt,{path:":id/edit",element:u.jsx(Nh,{})})]}),ty=j.createContext({});function ny(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const sy=typeof window<"u",fj=sy?j.useLayoutEffect:j.useEffect,lf=j.createContext(null);function ry(t,e){t.indexOf(e)===-1&&t.push(e)}function iy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wr=(t,e,n)=>n>e?e:n<t?t:n;let oy=()=>{};const _r={},pj=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function mj(t){return typeof t=="object"&&t!==null}const gj=t=>/^0[^.\s]+$/u.test(t);function ay(t){let e;return()=>(e===void 0&&(e=t()),e)}const es=t=>t,tI=(t,e)=>n=>e(t(n)),ru=(...t)=>t.reduce(tI),Lc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class ly{constructor(){this.subscriptions=[]}add(e){return ry(this.subscriptions,e),()=>iy(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bs=t=>t*1e3,zs=t=>t/1e3;function yj(t,e){return e?t*(1e3/e):0}const xj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,nI=1e-7,sI=12;function rI(t,e,n,s,r){let i,a,c=0;do a=e+(n-e)/2,i=xj(a,s,r)-t,i>0?n=a:e=a;while(Math.abs(i)>nI&&++c<sI);return a}function iu(t,e,n,s){if(t===e&&n===s)return es;const r=i=>rI(i,0,1,t,n);return i=>i===0||i===1?i:xj(r(i),e,s)}const bj=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vj=t=>e=>1-t(1-e),wj=iu(.33,1.53,.69,.99),cy=vj(wj),_j=bj(cy),Sj=t=>(t*=2)<1?.5*cy(t):.5*(2-Math.pow(2,-10*(t-1))),uy=t=>1-Math.sin(Math.acos(t)),Cj=vj(uy),jj=bj(uy),iI=iu(.42,0,1,1),oI=iu(0,0,.58,1),kj=iu(.42,0,.58,1),aI=t=>Array.isArray(t)&&typeof t[0]!="number",Nj=t=>Array.isArray(t)&&typeof t[0]=="number",lI={linear:es,easeIn:iI,easeInOut:kj,easeOut:oI,circIn:uy,circInOut:jj,circOut:Cj,backIn:cy,backInOut:_j,backOut:wj,anticipate:Sj},cI=t=>typeof t=="string",Hw=t=>{if(Nj(t)){oy(t.length===4);const[e,n,s,r]=t;return iu(e,n,s,r)}else if(cI(t))return lI[t];return t},Wd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ww={value:null};function uI(t,e){let n=new Set,s=new Set,r=!1,i=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function h(m){a.has(m)&&(p.schedule(m),t()),d++,m(c)}const p={schedule:(m,g=!1,x=!1)=>{const w=x&&r?n:s;return g&&a.add(m),w.has(m)||w.add(m),m},cancel:m=>{s.delete(m),a.delete(m)},process:m=>{if(c=m,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(h),e&&Ww.value&&Ww.value.frameloop[e].push(d),d=0,n.clear(),r=!1,i&&(i=!1,p.process(m))}};return p}const dI=40;function Tj(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Wd.reduce((T,M)=>(T[M]=uI(i,e?M:void 0),T),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:p,update:m,preRender:g,render:x,postRender:v}=a,w=()=>{const T=_r.useManualTiming?r.timestamp:performance.now();n=!1,_r.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(T-r.timestamp,dI),1)),r.timestamp=T,r.isProcessing=!0,c.process(r),d.process(r),h.process(r),p.process(r),m.process(r),g.process(r),x.process(r),v.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(w))},_=()=>{n=!0,s=!0,r.isProcessing||t(w)};return{schedule:Wd.reduce((T,M)=>{const P=a[M];return T[M]=(R,z=!1,I=!1)=>(n||_(),P.schedule(R,z,I)),T},{}),cancel:T=>{for(let M=0;M<Wd.length;M++)a[Wd[M]].cancel(T)},state:r,steps:a}}const{schedule:ot,cancel:_i,state:Vt,steps:Lm}=Tj(typeof requestAnimationFrame<"u"?requestAnimationFrame:es,!0);let dh;function hI(){dh=void 0}const kn={now:()=>(dh===void 0&&kn.set(Vt.isProcessing||_r.useManualTiming?Vt.timestamp:performance.now()),dh),set:t=>{dh=t,queueMicrotask(hI)}},Ej=t=>e=>typeof e=="string"&&e.startsWith(t),dy=Ej("--"),fI=Ej("var(--"),hy=t=>fI(t)?pI.test(t.split("/*")[0].trim()):!1,pI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ic={...Xa,transform:t=>wr(0,1,t)},qd={...Xa,default:1},bc=t=>Math.round(t*1e5)/1e5,fy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mI(t){return t==null}const gI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,py=(t,e)=>n=>!!(typeof n=="string"&&gI.test(n)&&n.startsWith(t)||e&&!mI(n)&&Object.prototype.hasOwnProperty.call(n,e)),Pj=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,a,c]=s.match(fy);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},yI=t=>wr(0,255,t),Im={...Xa,transform:t=>Math.round(yI(t))},no={test:py("rgb","red"),parse:Pj("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Im.transform(t)+", "+Im.transform(e)+", "+Im.transform(n)+", "+bc(Ic.transform(s))+")"};function xI(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Dg={test:py("#"),parse:xI,transform:no.transform},ou=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ti=ou("deg"),Vs=ou("%"),Ee=ou("px"),bI=ou("vh"),vI=ou("vw"),qw={...Vs,parse:t=>Vs.parse(t)/100,transform:t=>Vs.transform(t*100)},ga={test:py("hsl","hue"),parse:Pj("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Vs.transform(bc(e))+", "+Vs.transform(bc(n))+", "+bc(Ic.transform(s))+")"},Tt={test:t=>no.test(t)||Dg.test(t)||ga.test(t),parse:t=>no.test(t)?no.parse(t):ga.test(t)?ga.parse(t):Dg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?no.transform(t):ga.transform(t),getAnimatableNone:t=>{const e=Tt.parse(t);return e.alpha=0,Tt.transform(e)}},wI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _I(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(fy))==null?void 0:e.length)||0)+(((n=t.match(wI))==null?void 0:n.length)||0)>0}const Aj="number",Mj="color",SI="var",CI="var(",Yw="${}",jI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const c=e.replace(jI,d=>(Tt.test(d)?(s.color.push(i),r.push(Mj),n.push(Tt.parse(d))):d.startsWith(CI)?(s.var.push(i),r.push(SI),n.push(d)):(s.number.push(i),r.push(Aj),n.push(parseFloat(d))),++i,Yw)).split(Yw);return{values:n,split:c,indexes:s,types:r}}function Rj(t){return Fc(t).values}function Dj(t){const{split:e,types:n}=Fc(t),s=e.length;return r=>{let i="";for(let a=0;a<s;a++)if(i+=e[a],r[a]!==void 0){const c=n[a];c===Aj?i+=bc(r[a]):c===Mj?i+=Tt.transform(r[a]):i+=r[a]}return i}}const kI=t=>typeof t=="number"?0:Tt.test(t)?Tt.getAnimatableNone(t):t;function NI(t){const e=Rj(t);return Dj(t)(e.map(kI))}const Si={test:_I,parse:Rj,createTransformer:Dj,getAnimatableNone:NI};function Fm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function TI({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,a=0;if(!e)r=i=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;r=Fm(d,c,t+1/3),i=Fm(d,c,t),a=Fm(d,c,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}function Lh(t,e){return n=>n>0?e:t}const dt=(t,e,n)=>t+(e-t)*n,Bm=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},EI=[Dg,no,ga],PI=t=>EI.find(e=>e.test(t));function Kw(t){const e=PI(t);if(!e)return!1;let n=e.parse(t);return e===ga&&(n=TI(n)),n}const Xw=(t,e)=>{const n=Kw(t),s=Kw(e);if(!n||!s)return Lh(t,e);const r={...n};return i=>(r.red=Bm(n.red,s.red,i),r.green=Bm(n.green,s.green,i),r.blue=Bm(n.blue,s.blue,i),r.alpha=dt(n.alpha,s.alpha,i),no.transform(r))},Og=new Set(["none","hidden"]);function AI(t,e){return Og.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function MI(t,e){return n=>dt(t,e,n)}function my(t){return typeof t=="number"?MI:typeof t=="string"?hy(t)?Lh:Tt.test(t)?Xw:OI:Array.isArray(t)?Oj:typeof t=="object"?Tt.test(t)?Xw:RI:Lh}function Oj(t,e){const n=[...t],s=n.length,r=t.map((i,a)=>my(i)(i,e[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}}function RI(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=my(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function DI(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],a=t.indexes[i][s[i]],c=t.values[a]??0;n[r]=c,s[i]++}return n}const OI=(t,e)=>{const n=Si.createTransformer(e),s=Fc(t),r=Fc(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Og.has(t)&&!r.values.length||Og.has(e)&&!s.values.length?AI(t,e):ru(Oj(DI(s,r),r.values),n):Lh(t,e)};function Lj(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):my(t)(t,e)}const LI=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ot.update(e,n),stop:()=>_i(e),now:()=>Vt.isProcessing?Vt.timestamp:kn.now()}},Ij=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=Math.round(t(i/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ih=2e4;function gy(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Ih;)e+=n,s=t.next(e);return e>=Ih?1/0:e}function II(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(gy(s),Ih);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:zs(r)}}const FI=5;function Fj(t,e,n){const s=Math.max(e-FI,0);return yj(n-t(s),e-s)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zm=.001;function BI({duration:t=gt.duration,bounce:e=gt.bounce,velocity:n=gt.velocity,mass:s=gt.mass}){let r,i,a=1-e;a=wr(gt.minDamping,gt.maxDamping,a),t=wr(gt.minDuration,gt.maxDuration,zs(t)),a<1?(r=h=>{const p=h*a,m=p*t,g=p-n,x=Lg(h,a),v=Math.exp(-m);return zm-g/x*v},i=h=>{const m=h*a*t,g=m*n+n,x=Math.pow(a,2)*Math.pow(h,2)*t,v=Math.exp(-m),w=Lg(Math.pow(h,2),a);return(-r(h)+zm>0?-1:1)*((g-x)*v)/w}):(r=h=>{const p=Math.exp(-h*t),m=(h-n)*t+1;return-zm+p*m},i=h=>{const p=Math.exp(-h*t),m=(n-h)*(t*t);return p*m});const c=5/t,d=VI(r,i,c);if(t=Bs(t),isNaN(d))return{stiffness:gt.stiffness,damping:gt.damping,duration:t};{const h=Math.pow(d,2)*s;return{stiffness:h,damping:a*2*Math.sqrt(s*h),duration:t}}}const zI=12;function VI(t,e,n){let s=n;for(let r=1;r<zI;r++)s=s-t(s)/e(s);return s}function Lg(t,e){return t*Math.sqrt(1-e*e)}const $I=["duration","bounce"],UI=["stiffness","damping","mass"];function Qw(t,e){return e.some(n=>t[n]!==void 0)}function HI(t){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...t};if(!Qw(t,UI)&&Qw(t,$I))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*wr(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:gt.mass,stiffness:r,damping:i}}else{const n=BI(t);e={...e,...n,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function Fh(t=gt.visualDuration,e=gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:h,mass:p,duration:m,velocity:g,isResolvedFromDuration:x}=HI({...n,velocity:-zs(n.velocity||0)}),v=g||0,w=h/(2*Math.sqrt(d*p)),_=a-i,C=zs(Math.sqrt(d/p)),k=Math.abs(_)<5;s||(s=k?gt.restSpeed.granular:gt.restSpeed.default),r||(r=k?gt.restDelta.granular:gt.restDelta.default);let T;if(w<1){const P=Lg(C,w);T=R=>{const z=Math.exp(-w*C*R);return a-z*((v+w*C*_)/P*Math.sin(P*R)+_*Math.cos(P*R))}}else if(w===1)T=P=>a-Math.exp(-C*P)*(_+(v+C*_)*P);else{const P=C*Math.sqrt(w*w-1);T=R=>{const z=Math.exp(-w*C*R),I=Math.min(P*R,300);return a-z*((v+w*C*_)*Math.sinh(I)+P*_*Math.cosh(I))/P}}const M={calculatedDuration:x&&m||null,next:P=>{const R=T(P);if(x)c.done=P>=m;else{let z=P===0?v:0;w<1&&(z=P===0?Bs(v):Fj(T,P,R));const I=Math.abs(z)<=s,F=Math.abs(a-R)<=r;c.done=I&&F}return c.value=c.done?a:R,c},toString:()=>{const P=Math.min(gy(M),Ih),R=Ij(z=>M.next(P*z).value,P,30);return P+"ms "+R},toTransition:()=>{}};return M}Fh.applyToOptions=t=>{const e=II(t,100,Fh);return t.ease=e.ease,t.duration=Bs(e.duration),t.type="keyframes",t};function Ig({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:c,max:d,restDelta:h=.5,restSpeed:p}){const m=t[0],g={done:!1,value:m},x=I=>c!==void 0&&I<c||d!==void 0&&I>d,v=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let w=n*e;const _=m+w,C=a===void 0?_:a(_);C!==_&&(w=C-m);const k=I=>-w*Math.exp(-I/s),T=I=>C+k(I),M=I=>{const F=k(I),U=T(I);g.done=Math.abs(F)<=h,g.value=g.done?C:U};let P,R;const z=I=>{x(g.value)&&(P=I,R=Fh({keyframes:[g.value,v(g.value)],velocity:Fj(T,I,g.value),damping:r,stiffness:i,restDelta:h,restSpeed:p}))};return z(0),{calculatedDuration:null,next:I=>{let F=!1;return!R&&P===void 0&&(F=!0,M(I),z(I)),P!==void 0&&I>=P?R.next(I-P):(!F&&M(I),g)}}}function WI(t,e,n){const s=[],r=n||_r.mix||Lj,i=t.length-1;for(let a=0;a<i;a++){let c=r(t[a],t[a+1]);if(e){const d=Array.isArray(e)?e[a]||es:e;c=ru(d,c)}s.push(c)}return s}function qI(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(oy(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=WI(e,s,r),d=c.length,h=p=>{if(a&&p<t[0])return e[0];let m=0;if(d>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const g=Lc(t[m],t[m+1],p);return c[m](g)};return n?p=>h(wr(t[0],t[i-1],p)):h}function YI(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=Lc(0,e,s);t.push(dt(n,1,r))}}function KI(t){const e=[0];return YI(e,t.length-1),e}function XI(t,e){return t.map(n=>n*e)}function QI(t,e){return t.map(()=>e||kj).splice(0,t.length-1)}function vc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=aI(s)?s.map(Hw):Hw(s),i={done:!1,value:e[0]},a=XI(n&&n.length===e.length?n:KI(e),t),c=qI(a,e,{ease:Array.isArray(r)?r:QI(e,r)});return{calculatedDuration:t,next:d=>(i.value=c(d),i.done=d>=t,i)}}const GI=t=>t!==null;function yy(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(GI),c=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!c||s===void 0?i[c]:s}const ZI={decay:Ig,inertia:Ig,tween:vc,keyframes:vc,spring:Fh};function Bj(t){typeof t.type=="string"&&(t.type=ZI[t.type])}class xy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const JI=t=>t/100;class by extends xy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==kn.now()&&this.tick(kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Bj(e);const{type:n=vc,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e;let{keyframes:c}=e;const d=n||vc;d!==vc&&typeof c[0]!="number"&&(this.mixKeyframes=ru(JI,Lj(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=gy(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:p,repeat:m,repeatType:g,repeatDelay:x,type:v,onUpdate:w,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?C<0:C>r;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let T=this.currentTime,M=s;if(m){const I=Math.min(this.currentTime,r)/c;let F=Math.floor(I),U=I%1;!U&&I>=1&&(U=1),U===1&&F--,F=Math.min(F,m+1),!!(F%2)&&(g==="reverse"?(U=1-U,x&&(U-=x/c)):g==="mirror"&&(M=a)),T=wr(0,1,U)*c}const P=k?{done:!1,value:p[0]}:M.next(T);i&&(P.value=i(P.value));let{done:R}=P;!k&&d!==null&&(R=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return z&&v!==Ig&&(P.value=yy(p,this.options,_,this.speed)),w&&w(P.value),z&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return zs(this.calculatedDuration)}get time(){return zs(this.currentTime)}set time(e){var n;e=Bs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(kn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=zs(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:e=LI,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function eF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const so=t=>t*180/Math.PI,Fg=t=>{const e=so(Math.atan2(t[1],t[0]));return Bg(e)},tF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Fg,rotateZ:Fg,skewX:t=>so(Math.atan(t[1])),skewY:t=>so(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Bg=t=>(t=t%360,t<0&&(t+=360),t),Gw=Fg,Zw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Jw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),nF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Zw,scaleY:Jw,scale:t=>(Zw(t)+Jw(t))/2,rotateX:t=>Bg(so(Math.atan2(t[6],t[5]))),rotateY:t=>Bg(so(Math.atan2(-t[2],t[0]))),rotateZ:Gw,rotate:Gw,skewX:t=>so(Math.atan(t[4])),skewY:t=>so(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function zg(t){return t.includes("scale")?1:0}function Vg(t,e){if(!t||t==="none")return zg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=nF,r=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=tF,r=c}if(!r)return zg(e);const i=s[e],a=r[1].split(",").map(rF);return typeof i=="function"?i(a):a[i]}const sF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Vg(n,e)};function rF(t){return parseFloat(t.trim())}const Qa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ga=new Set(Qa),e2=t=>t===Xa||t===Ee,iF=new Set(["x","y","z"]),oF=Qa.filter(t=>!iF.has(t));function aF(t){const e=[];return oF.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const xo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Vg(e,"x"),y:(t,{transform:e})=>Vg(e,"y")};xo.translateX=xo.x;xo.translateY=xo.y;const bo=new Set;let $g=!1,Ug=!1,Hg=!1;function zj(){if(Ug){const t=Array.from(bo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=aF(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,a])=>{var c;(c=s.getValue(i))==null||c.set(a)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ug=!1,$g=!1,bo.forEach(t=>t.complete(Hg)),bo.clear()}function Vj(){bo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ug=!0)})}function lF(){Hg=!0,Vj(),zj(),Hg=!1}class vy{constructor(e,n,s,r,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(bo.add(this),$g||($g=!0,ot.read(Vj),ot.resolveKeyframes(zj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const c=s.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),r&&i===void 0&&r.set(e[0])}eF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bo.delete(this)}cancel(){this.state==="scheduled"&&(bo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cF=t=>t.startsWith("--");function uF(t,e,n){cF(e)?t.style.setProperty(e,n):t.style[e]=n}const dF=ay(()=>window.ScrollTimeline!==void 0),hF={};function fF(t,e){const n=ay(t);return()=>hF[e]??n()}const $j=fF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,t2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lc([0,.65,.55,1]),circOut:lc([.55,0,1,.45]),backIn:lc([.31,.01,.66,-.59]),backOut:lc([.33,1.53,.69,.99])};function Uj(t,e){if(t)return typeof t=="function"?$j()?Ij(t,e):"ease-out":Nj(t)?lc(t):Array.isArray(t)?t.map(n=>Uj(n,e)||t2.easeOut):t2[t]}function pF(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:a="loop",ease:c="easeOut",times:d}={},h=void 0){const p={[e]:n};d&&(p.offset=d);const m=Uj(c,r);Array.isArray(m)&&(p.easing=m);const g={delay:s,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(p,g)}function Hj(t){return typeof t=="function"&&"applyToOptions"in t}function mF({type:t,...e}){return Hj(t)&&$j()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class gF extends xy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,oy(typeof e.type!="string");const h=mF(e);this.animation=pF(n,s,r,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=yy(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):uF(n,s,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return zs(Number(e))}get time(){return zs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Bs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&dF()?(this.animation.timeline=e,es):n(this)}}const Wj={anticipate:Sj,backInOut:_j,circInOut:jj};function yF(t){return t in Wj}function xF(t){typeof t.ease=="string"&&yF(t.ease)&&(t.ease=Wj[t.ease])}const n2=10;class bF extends gF{constructor(e){xF(e),Bj(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new by({...a,autoplay:!1}),d=Bs(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-n2).value,c.sample(d).value,n2),c.stop()}}const s2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Si.test(t)||t==="0")&&!t.startsWith("url("));function vF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function wF(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=s2(r,e),c=s2(i,e);return!a||!c?!1:vF(t)||(n==="spring"||Hj(n))&&s}function wy(t){return mj(t)&&"offsetHeight"in t}const _F=new Set(["opacity","clipPath","filter","transform"]),SF=ay(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function CF(t){var h;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:a}=t;if(!wy((h=e==null?void 0:e.owner)==null?void 0:h.current))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return SF()&&n&&_F.has(n)&&(n!=="transform"||!d)&&!c&&!s&&r!=="mirror"&&i!==0&&a!=="inertia"}const jF=40;class kF extends xy{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",keyframes:c,name:d,motionValue:h,element:p,...m}){var v;super(),this.stop=()=>{var w,_;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=kn.now();const g={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:a,name:d,motionValue:h,element:p,...m},x=(p==null?void 0:p.KeyframeResolver)||vy;this.keyframeResolver=new x(c,(w,_,C)=>this.onKeyframesResolved(w,_,g,!C),d,h,p),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:a,velocity:c,delay:d,isHandoff:h,onUpdate:p}=s;this.resolvedAt=kn.now(),wF(e,i,a,c)||((_r.instantAnimations||!d)&&(p==null||p(yy(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const g={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>jF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},x=!h&&CF(g)?new bF({...g,element:g.motionValue.owner.current}):new by(g);x.finished.then(()=>this.notifyFinished()).catch(es),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),lF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const NF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TF(t){const e=NF.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function qj(t,e,n=1){const[s,r]=TF(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const a=i.trim();return pj(a)?parseFloat(a):a}return hy(r)?qj(r,e,n+1):r}function _y(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Yj=new Set(["width","height","top","left","right","bottom",...Qa]),EF={test:t=>t==="auto",parse:t=>t},Kj=t=>e=>e.test(t),Xj=[Xa,Ee,Vs,ti,vI,bI,EF],r2=t=>Xj.find(Kj(t));function PF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gj(t):!0}const AF=new Set(["brightness","contrast","saturate","opacity"]);function MF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(fy)||[];if(!s)return t;const r=n.replace(s,"");let i=AF.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const RF=/\b([a-z-]*)\(.*?\)/gu,Wg={...Si,getAnimatableNone:t=>{const e=t.match(RF);return e?e.map(MF).join(" "):t}},i2={...Xa,transform:Math.round},DF={rotate:ti,rotateX:ti,rotateY:ti,rotateZ:ti,scale:qd,scaleX:qd,scaleY:qd,scaleZ:qd,skew:ti,skewX:ti,skewY:ti,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Ic,originX:qw,originY:qw,originZ:Ee},Sy={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...DF,zIndex:i2,fillOpacity:Ic,strokeOpacity:Ic,numOctaves:i2},OF={...Sy,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:Wg,WebkitFilter:Wg},Qj=t=>OF[t];function Gj(t,e){let n=Qj(t);return n!==Wg&&(n=Si),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const LF=new Set(["auto","none","0"]);function IF(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!LF.has(i)&&Fc(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=Gj(n,r)}class FF extends vy{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),hy(h))){const p=qj(h,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!Yj.has(s)||e.length!==2)return;const[r,i]=e,a=r2(r),c=r2(i);if(a!==c)if(e2(a)&&e2(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else xo[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||PF(e[r]))&&s.push(r);s.length&&IF(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=xo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function BF(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=(n==null?void 0:n[t])??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const Zj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,o2=30,zF=t=>!isNaN(parseFloat(t));class VF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var a,c;const i=kn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();r&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=zF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ly);const s=this.events[e].add(n);return e==="change"?()=>{s(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>o2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,o2);return yj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function za(t,e){return new VF(t,e)}const{schedule:Cy}=Tj(queueMicrotask,!1),us={x:!1,y:!1};function Jj(){return us.x||us.y}function $F(t){return t==="x"||t==="y"?us[t]?null:(us[t]=!0,()=>{us[t]=!1}):us.x||us.y?null:(us.x=us.y=!0,()=>{us.x=us.y=!1})}function ek(t,e){const n=BF(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function a2(t){return!(t.pointerType==="touch"||Jj())}function UF(t,e,n={}){const[s,r,i]=ek(t,n),a=c=>{if(!a2(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const p=m=>{a2(m)&&(h(m),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,r)};return s.forEach(c=>{c.addEventListener("pointerenter",a,r)}),i}const tk=(t,e)=>e?t===e?!0:tk(t,e.parentElement):!1,jy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,HF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WF(t){return HF.has(t.tagName)||t.tabIndex!==-1}const hh=new WeakSet;function l2(t){return e=>{e.key==="Enter"&&t(e)}}function Vm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qF=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=l2(()=>{if(hh.has(n))return;Vm(n,"down");const r=l2(()=>{Vm(n,"up")}),i=()=>Vm(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function c2(t){return jy(t)&&!Jj()}function YF(t,e,n={}){const[s,r,i]=ek(t,n),a=c=>{const d=c.currentTarget;if(!c2(c))return;hh.add(d);const h=e(d,c),p=(x,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),hh.has(d)&&hh.delete(d),c2(x)&&typeof h=="function"&&h(x,{success:v})},m=x=>{p(x,d===window||d===document||n.useGlobalTarget||tk(d,x.target))},g=x=>{p(x,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",g,r)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,r),wy(c)&&(c.addEventListener("focus",h=>qF(h,r)),!WF(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function nk(t){return mj(t)&&"ownerSVGElement"in t}function KF(t){return nk(t)&&t.tagName==="svg"}const en=t=>!!(t&&t.getVelocity),XF=[...Xj,Tt,Si],QF=t=>XF.find(Kj(t)),ky=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class GF extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=wy(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ZF({children:t,isPresent:e,anchorX:n,root:s}){const r=j.useId(),i=j.useRef(null),a=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=j.useContext(ky);return j.useInsertionEffect(()=>{const{width:d,height:h,top:p,left:m,right:g}=a.current;if(e||!i.current||!d||!h)return;const x=n==="left"?`left: ${m}`:`right: ${g}`;i.current.dataset.motionPopId=r;const v=document.createElement("style");c&&(v.nonce=c);const w=s??document.head;return w.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{w.removeChild(v),w.contains(v)&&w.removeChild(v)}},[e]),u.jsx(GF,{isPresent:e,childRef:i,sizeRef:a,children:j.cloneElement(t,{ref:i})})}const JF=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a,anchorX:c,root:d})=>{const h=ny(e8),p=j.useId();let m=!0,g=j.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:n,custom:r,onExitComplete:x=>{h.set(x,!0);for(const v of h.values())if(!v)return;s&&s()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[n,h,s]);return i&&m&&(g={...g}),j.useMemo(()=>{h.forEach((x,v)=>h.set(v,!1))},[n]),j.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),a==="popLayout"&&(t=u.jsx(ZF,{isPresent:n,anchorX:c,root:d,children:t})),u.jsx(lf.Provider,{value:g,children:t})};function e8(){return new Map}function sk(t=!0){const e=j.useContext(lf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=j.useId();j.useEffect(()=>{if(t)return r(i)},[t]);const a=j.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,a]:[!0]}const Yd=t=>t.key||"";function u2(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const t8=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:a=!1,anchorX:c="left",root:d})=>{const[h,p]=sk(a),m=j.useMemo(()=>u2(t),[t]),g=a&&!h?[]:m.map(Yd),x=j.useRef(!0),v=j.useRef(m),w=ny(()=>new Map),[_,C]=j.useState(m),[k,T]=j.useState(m);fj(()=>{x.current=!1,v.current=m;for(let R=0;R<k.length;R++){const z=Yd(k[R]);g.includes(z)?w.delete(z):w.get(z)!==!0&&w.set(z,!1)}},[k,g.length,g.join("-")]);const M=[];if(m!==_){let R=[...m];for(let z=0;z<k.length;z++){const I=k[z],F=Yd(I);g.includes(F)||(R.splice(z,0,I),M.push(I))}return i==="wait"&&M.length&&(R=M),T(u2(R)),C(m),null}const{forceRender:P}=j.useContext(ty);return u.jsx(u.Fragment,{children:k.map(R=>{const z=Yd(R),I=a&&!h?!1:m===k||g.includes(z),F=()=>{if(w.has(z))w.set(z,!0);else return;let U=!0;w.forEach(ee=>{ee||(U=!1)}),U&&(P==null||P(),T(v.current),a&&(p==null||p()),s&&s())};return u.jsx(JF,{isPresent:I,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:i,root:d,onExitComplete:I?void 0:F,anchorX:c,children:R},z)})})},rk=j.createContext({strict:!1}),d2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Va={};for(const t in d2)Va[t]={isEnabled:e=>d2[t].some(n=>!!e[n])};function n8(t){for(const e in t)Va[e]={...Va[e],...t[e]}}const s8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||s8.has(t)}let ik=t=>!Bh(t);function r8(t){typeof t=="function"&&(ik=e=>e.startsWith("on")?!Bh(e):t(e))}try{r8(require("@emotion/is-prop-valid").default)}catch{}function i8(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(ik(r)||n===!0&&Bh(r)||!e&&!Bh(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function o8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const cf=j.createContext({});function uf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Bc(t){return typeof t=="string"||Array.isArray(t)}const Ny=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ty=["initial",...Ny];function df(t){return uf(t.animate)||Ty.some(e=>Bc(t[e]))}function ok(t){return!!(df(t)||t.variants)}function a8(t,e){if(df(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Bc(n)?n:void 0,animate:Bc(s)?s:void 0}}return t.inherit!==!1?e:{}}function l8(t){const{initial:e,animate:n}=a8(t,j.useContext(cf));return j.useMemo(()=>({initial:e,animate:n}),[h2(e),h2(n)])}function h2(t){return Array.isArray(t)?t.join(" "):t}const c8=Symbol.for("motionComponentSymbol");function ya(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function u8(t,e,n){return j.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ya(n)&&(n.current=s))},[e])}const Ey=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),d8="framerAppearId",ak="data-"+Ey(d8),lk=j.createContext({});function h8(t,e,n,s,r){var w,_;const{visualElement:i}=j.useContext(cf),a=j.useContext(rk),c=j.useContext(lf),d=j.useContext(ky).reducedMotion,h=j.useRef(null);s=s||a.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,m=j.useContext(lk);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&f8(h.current,n,r,m);const g=j.useRef(!1);j.useInsertionEffect(()=>{p&&g.current&&p.update(n,c)});const x=n[ak],v=j.useRef(!!x&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,x))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,x)));return fj(()=>{p&&(g.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Cy.render(p.render),v.current&&p.animationState&&p.animationState.animateChanges())}),j.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,x)}),v.current=!1))}),p}function f8(t,e,n,s){const{layoutId:r,layout:i,drag:a,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ck(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!a||c&&ya(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:d,layoutRoot:h})}function ck(t){if(t)return t.options.allowProjection!==!1?t.projection:ck(t.parent)}function p8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&n8(t);function i(c,d){let h;const p={...j.useContext(ky),...c,layoutId:m8(c)},{isStatic:m}=p,g=l8(c),x=s(c,m);if(!m&&sy){g8();const v=y8(p);h=v.MeasureLayout,g.visualElement=h8(r,x,p,e,v.ProjectionNode)}return u.jsxs(cf.Provider,{value:g,children:[h&&g.visualElement?u.jsx(h,{visualElement:g.visualElement,...p}):null,n(r,c,u8(x,g.visualElement,d),x,m,g.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const a=j.forwardRef(i);return a[c8]=r,a}function m8({layoutId:t}){const e=j.useContext(ty).id;return e&&t!==void 0?e+"-"+t:t}function g8(t,e){j.useContext(rk).strict}function y8(t){const{drag:e,layout:n}=Va;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const zc={};function x8(t){for(const e in t)zc[e]=t[e],dy(e)&&(zc[e].isCSSVariable=!0)}function uk(t,{layout:e,layoutId:n}){return Ga.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zc[t]||t==="opacity")}const b8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},v8=Qa.length;function w8(t,e,n){let s="",r=!0;for(let i=0;i<v8;i++){const a=Qa[i],c=t[a];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(a.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=Zj(c,Sy[a]);if(!d){r=!1;const p=b8[a]||a;s+=`${p}(${h}) `}n&&(e[a]=h)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function Py(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let a=!1,c=!1;for(const d in e){const h=e[d];if(Ga.has(d)){a=!0;continue}else if(dy(d)){r[d]=h;continue}else{const p=Zj(h,Sy[d]);d.startsWith("origin")?(c=!0,i[d]=p):s[d]=p}}if(e.transform||(a||n?s.transform=w8(e,t.transform,n):s.transform&&(s.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:p=0}=i;s.transformOrigin=`${d} ${h} ${p}`}}const Ay=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dk(t,e,n){for(const s in e)!en(e[s])&&!uk(s,n)&&(t[s]=e[s])}function _8({transformTemplate:t},e){return j.useMemo(()=>{const n=Ay();return Py(n,e,t),Object.assign({},n.vars,n.style)},[e])}function S8(t,e){const n=t.style||{},s={};return dk(s,n,t),Object.assign(s,_8(t,e)),s}function C8(t,e){const n={},s=S8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const j8={offset:"stroke-dashoffset",array:"stroke-dasharray"},k8={offset:"strokeDashoffset",array:"strokeDasharray"};function N8(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?j8:k8;t[i.offset]=Ee.transform(-s);const a=Ee.transform(e),c=Ee.transform(n);t[i.array]=`${a} ${c}`}function hk(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:a=0,...c},d,h,p){if(Py(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),r!==void 0&&N8(m,r,i,a,!1)}const fk=()=>({...Ay(),attrs:{}}),pk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function T8(t,e,n,s){const r=j.useMemo(()=>{const i=fk();return hk(i,e,pk(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};dk(i,t.style,t),r.style={...i,...r.style}}return r}const E8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function My(t){return typeof t!="string"||t.includes("-")?!1:!!(E8.indexOf(t)>-1||/[A-Z]/u.test(t))}function P8(t=!1){return(n,s,r,{latestValues:i},a)=>{const d=(My(n)?T8:C8)(s,i,a,n),h=i8(s,typeof n=="string",t),p=n!==j.Fragment?{...h,...d,ref:r}:{},{children:m}=s,g=j.useMemo(()=>en(m)?m.get():m,[m]);return j.createElement(n,{...p,children:g})}}function f2(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Ry(t,e,n,s){if(typeof e=="function"){const[r,i]=f2(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=f2(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function fh(t){return en(t)?t.get():t}function A8({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:M8(n,s,r,t),renderState:e()}}const mk=t=>(e,n)=>{const s=j.useContext(cf),r=j.useContext(lf),i=()=>A8(t,e,s,r);return n?i():ny(i)};function M8(t,e,n,s){const r={},i=s(t,{});for(const g in i)r[g]=fh(i[g]);let{initial:a,animate:c}=t;const d=df(t),h=ok(t);e&&h&&!d&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const m=p?c:a;if(m&&typeof m!="boolean"&&!uf(m)){const g=Array.isArray(m)?m:[m];for(let x=0;x<g.length;x++){const v=Ry(t,g[x]);if(v){const{transitionEnd:w,transition:_,...C}=v;for(const k in C){let T=C[k];if(Array.isArray(T)){const M=p?T.length-1:0;T=T[M]}T!==null&&(r[k]=T)}for(const k in w)r[k]=w[k]}}}return r}function Dy(t,e,n){var i;const{style:s}=t,r={};for(const a in s)(en(s[a])||e.style&&en(e.style[a])||uk(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(r[a]=s[a]);return r}const R8={useVisualState:mk({scrapeMotionValuesFromProps:Dy,createRenderState:Ay})};function gk(t,e,n){const s=Dy(t,e,n);for(const r in t)if(en(t[r])||en(e[r])){const i=Qa.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const D8={useVisualState:mk({scrapeMotionValuesFromProps:gk,createRenderState:fk})};function O8(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...My(s)?D8:R8,preloadedFeatures:t,useRender:P8(r),createVisualElement:e,Component:s};return p8(a)}}function Vc(t,e,n){const s=t.getProps();return Ry(s,e,n!==void 0?n:s.custom,t)}const qg=t=>Array.isArray(t);function L8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,za(n))}function I8(t){return qg(t)?t[t.length-1]||0:t}function F8(t,e){const n=Vc(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const a in i){const c=I8(i[a]);L8(t,a,c)}}function B8(t){return!!(en(t)&&t.add)}function Yg(t,e){const n=t.getValue("willChange");if(B8(n))return n.add(e);if(!n&&_r.WillChange){const s=new _r.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function yk(t){return t.props[ak]}const z8=t=>t!==null;function V8(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(z8),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[i]}const $8={type:"spring",stiffness:500,damping:25,restSpeed:10},U8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),H8={type:"keyframes",duration:.8},W8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q8=(t,{keyframes:e})=>e.length>2?H8:Ga.has(t)?t.startsWith("scale")?U8(e[1]):$8:W8;function Y8({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:c,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const Oy=(t,e,n,s={},r,i)=>a=>{const c=_y(s,t)||{},d=c.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Bs(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:r};Y8(c)||Object.assign(p,q8(t,p)),p.duration&&(p.duration=Bs(p.duration)),p.repeatDelay&&(p.repeatDelay=Bs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(m=!0)),(_r.instantAnimations||_r.skipAnimations)&&(m=!0,p.duration=0,p.delay=0),p.allowFlatten=!c.type&&!c.ease,m&&!i&&e.get()!==void 0){const g=V8(p.keyframes,c);if(g!==void 0){ot.update(()=>{p.onUpdate(g),p.onComplete()});return}}return c.isSync?new by(p):new kF(p)};function K8({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function xk(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...c}=e;s&&(i=s);const d=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const p in c){const m=t.getValue(p,t.latestValues[p]??null),g=c[p];if(g===void 0||h&&K8(h,p))continue;const x={delay:n,..._y(i||{},p)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===v&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const C=yk(t);if(C){const k=window.MotionHandoffAnimation(C,p,ot);k!==null&&(x.startTime=k,w=!0)}}Yg(t,p),m.start(Oy(p,m,g,t.shouldReduceMotion&&Yj.has(p)?{type:!1}:x,t,w));const _=m.animation;_&&d.push(_)}return a&&Promise.all(d).then(()=>{ot.update(()=>{a&&F8(t,a)})}),d}function Kg(t,e,n={}){var d;const s=Vc(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(xk(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:g}=r;return X8(t,e,h,p,m,g,n)}:()=>Promise.resolve(),{when:c}=r;if(c){const[h,p]=c==="beforeChildren"?[i,a]:[a,i];return h().then(()=>p())}else return Promise.all([i(),a(n.delay)])}function X8(t,e,n=0,s=0,r=0,i=1,a){const c=[],d=t.variantChildren.size,h=(d-1)*r,p=typeof s=="function",m=p?g=>s(g,d):i===1?(g=0)=>g*r:(g=0)=>h-g*r;return Array.from(t.variantChildren).sort(Q8).forEach((g,x)=>{g.notify("AnimationStart",e),c.push(Kg(g,e,{...a,delay:n+(p?0:s)+m(x)}).then(()=>g.notify("AnimationComplete",e)))}),Promise.all(c)}function Q8(t,e){return t.sortNodePosition(e)}function G8(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>Kg(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=Kg(t,e,n);else{const r=typeof e=="function"?Vc(t,e,n.custom):e;s=Promise.all(xk(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function bk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const Z8=Ty.length;function vk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Z8;n++){const s=Ty[n],r=t.props[s];(Bc(r)||r===!1)&&(e[s]=r)}return e}const J8=[...Ny].reverse(),eB=Ny.length;function tB(t){return e=>Promise.all(e.map(({animation:n,options:s})=>G8(t,n,s)))}function nB(t){let e=tB(t),n=p2(),s=!0;const r=d=>(h,p)=>{var g;const m=Vc(t,p,d==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:x,transitionEnd:v,...w}=m;h={...h,...w,...v}}return h};function i(d){e=d(t)}function a(d){const{props:h}=t,p=vk(t.parent)||{},m=[],g=new Set;let x={},v=1/0;for(let _=0;_<eB;_++){const C=J8[_],k=n[C],T=h[C]!==void 0?h[C]:p[C],M=Bc(T),P=C===d?k.isActive:null;P===!1&&(v=_);let R=T===p[C]&&T!==h[C]&&M;if(R&&s&&t.manuallyAnimateOnMount&&(R=!1),k.protectedKeys={...x},!k.isActive&&P===null||!T&&!k.prevProp||uf(T)||typeof T=="boolean")continue;const z=sB(k.prevProp,T);let I=z||C===d&&k.isActive&&!R&&M||_>v&&M,F=!1;const U=Array.isArray(T)?T:[T];let ee=U.reduce(r(C),{});P===!1&&(ee={});const{prevResolvedValues:J={}}=k,de={...J,...ee},G=Z=>{I=!0,g.has(Z)&&(F=!0,g.delete(Z)),k.needsAnimating[Z]=!0;const Y=t.getValue(Z);Y&&(Y.liveStyle=!1)};for(const Z in de){const Y=ee[Z],ne=J[Z];if(x.hasOwnProperty(Z))continue;let D=!1;qg(Y)&&qg(ne)?D=!bk(Y,ne):D=Y!==ne,D?Y!=null?G(Z):g.add(Z):Y!==void 0&&g.has(Z)?G(Z):k.protectedKeys[Z]=!0}k.prevProp=T,k.prevResolvedValues=ee,k.isActive&&(x={...x,...ee}),s&&t.blockInitialAnimation&&(I=!1),I&&(!(R&&z)||F)&&m.push(...U.map(Z=>({animation:Z,options:{type:C}})))}if(g.size){const _={};if(typeof h.initial!="boolean"){const C=Vc(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(_.transition=C.transition)}g.forEach(C=>{const k=t.getBaseTarget(C),T=t.getValue(C);T&&(T.liveStyle=!0),_[C]=k??null}),m.push({animation:_})}let w=!!m.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),s=!1,w?e(m):Promise.resolve()}function c(d,h){var m;if(n[d].isActive===h)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(d,h)}),n[d].isActive=h;const p=a(d);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:a,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=p2(),s=!0}}}function sB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bk(e,t):!1}function Gi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function p2(){return{animate:Gi(!0),whileInView:Gi(),whileHover:Gi(),whileTap:Gi(),whileDrag:Gi(),whileFocus:Gi(),exit:Gi()}}class ki{constructor(e){this.isMounted=!1,this.node=e}update(){}}class rB extends ki{constructor(e){super(e),e.animationState||(e.animationState=nB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();uf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let iB=0;class oB extends ki{constructor(){super(...arguments),this.id=iB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const aB={animation:{Feature:rB},exit:{Feature:oB}};function $c(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function au(t){return{point:{x:t.pageX,y:t.pageY}}}const lB=t=>e=>jy(e)&&t(e,au(e));function wc(t,e,n,s){return $c(t,e,lB(n),s)}function wk({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function cB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function uB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const _k=1e-4,dB=1-_k,hB=1+_k,Sk=.01,fB=0-Sk,pB=0+Sk;function un(t){return t.max-t.min}function mB(t,e,n){return Math.abs(t-e)<=n}function m2(t,e,n,s=.5){t.origin=s,t.originPoint=dt(e.min,e.max,t.origin),t.scale=un(n)/un(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=dB&&t.scale<=hB||isNaN(t.scale))&&(t.scale=1),(t.translate>=fB&&t.translate<=pB||isNaN(t.translate))&&(t.translate=0)}function _c(t,e,n,s){m2(t.x,e.x,n.x,s?s.originX:void 0),m2(t.y,e.y,n.y,s?s.originY:void 0)}function g2(t,e,n){t.min=n.min+e.min,t.max=t.min+un(e)}function gB(t,e,n){g2(t.x,e.x,n.x),g2(t.y,e.y,n.y)}function y2(t,e,n){t.min=e.min-n.min,t.max=t.min+un(e)}function Sc(t,e,n){y2(t.x,e.x,n.x),y2(t.y,e.y,n.y)}const x2=()=>({translate:0,scale:1,origin:0,originPoint:0}),xa=()=>({x:x2(),y:x2()}),b2=()=>({min:0,max:0}),Ct=()=>({x:b2(),y:b2()});function Xn(t){return[t("x"),t("y")]}function $m(t){return t===void 0||t===1}function Xg({scale:t,scaleX:e,scaleY:n}){return!$m(t)||!$m(e)||!$m(n)}function Ji(t){return Xg(t)||Ck(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ck(t){return v2(t.x)||v2(t.y)}function v2(t){return t&&t!=="0%"}function zh(t,e,n){const s=t-n,r=e*s;return n+r}function w2(t,e,n,s,r){return r!==void 0&&(t=zh(t,r,s)),zh(t,n,s)+e}function Qg(t,e=0,n=1,s,r){t.min=w2(t.min,e,n,s,r),t.max=w2(t.max,e,n,s,r)}function jk(t,{x:e,y:n}){Qg(t.x,e.translate,e.scale,e.originPoint),Qg(t.y,n.translate,n.scale,n.originPoint)}const _2=.999999999999,S2=1.0000000000001;function yB(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,a;for(let c=0;c<r;c++){i=n[c],a=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&va(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,jk(t,a)),s&&Ji(i.latestValues)&&va(t,i.latestValues))}e.x<S2&&e.x>_2&&(e.x=1),e.y<S2&&e.y>_2&&(e.y=1)}function ba(t,e){t.min=t.min+e,t.max=t.max+e}function C2(t,e,n,s,r=.5){const i=dt(t.min,t.max,r);Qg(t,e,n,i,s)}function va(t,e){C2(t.x,e.x,e.scaleX,e.scale,e.originX),C2(t.y,e.y,e.scaleY,e.scale,e.originY)}function kk(t,e){return wk(uB(t.getBoundingClientRect(),e))}function xB(t,e,n){const s=kk(t,n),{scroll:r}=e;return r&&(ba(s.x,r.offset.x),ba(s.y,r.offset.y)),s}const Nk=({current:t})=>t?t.ownerDocument.defaultView:null,j2=(t,e)=>Math.abs(t-e);function bB(t,e){const n=j2(t.x,e.x),s=j2(t.y,e.y);return Math.sqrt(n**2+s**2)}class Tk{constructor(e,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Hm(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,v=bB(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!v)return;const{point:w}=g,{timestamp:_}=Vt;this.history.push({...w,timestamp:_});const{onStart:C,onMove:k}=this.handlers;x||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Um(x,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Hm(g.type==="pointercancel"?this.lastMoveEventInfo:Um(x,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,C),w&&w(g,C)},!jy(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=a,this.contextWindow=r||window;const c=au(e),d=Um(c,this.transformPagePoint),{point:h}=d,{timestamp:p}=Vt;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,Hm(d,this.history)),this.removeListeners=ru(wc(this.contextWindow,"pointermove",this.handlePointerMove),wc(this.contextWindow,"pointerup",this.handlePointerUp),wc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_i(this.updatePoint)}}function Um(t,e){return e?{point:e(t.point)}:t}function k2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hm({point:t},e){return{point:t,delta:k2(t,Ek(e)),offset:k2(t,vB(e)),velocity:wB(e,.1)}}function vB(t){return t[0]}function Ek(t){return t[t.length-1]}function wB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=Ek(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Bs(e)));)n--;if(!s)return{x:0,y:0};const i=zs(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function _B(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?dt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?dt(n,t,s.max):Math.min(t,n)),t}function N2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function SB(t,{top:e,left:n,bottom:s,right:r}){return{x:N2(t.x,n,r),y:N2(t.y,e,s)}}function T2(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function CB(t,e){return{x:T2(t.x,e.x),y:T2(t.y,e.y)}}function jB(t,e){let n=.5;const s=un(t),r=un(e);return r>s?n=Lc(e.min,e.max-s,t.min):s>r&&(n=Lc(t.min,t.max-r,e.min)),wr(0,1,n)}function kB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Gg=.35;function NB(t=Gg){return t===!1?t=0:t===!0&&(t=Gg),{x:E2(t,"left","right"),y:E2(t,"top","bottom")}}function E2(t,e,n){return{min:P2(t,e),max:P2(t,n)}}function P2(t,e){return typeof t=="number"?t:t[e]||0}const TB=new WeakMap;class EB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(au(m).point)},a=(m,g)=>{const{drag:x,dragPropagation:v,onDragStart:w}=this.getProps();if(x&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$F(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(C=>{let k=this.getAxisMotionValue(C).get()||0;if(Vs.test(k)){const{projection:T}=this.visualElement;if(T&&T.layout){const M=T.layout.layoutBox[C];M&&(k=un(M)*(parseFloat(k)/100))}}this.originPoint[C]=k}),w&&ot.postRender(()=>w(m,g)),Yg(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},c=(m,g)=>{const{dragPropagation:x,dragDirectionLock:v,onDirectionLock:w,onDrag:_}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:C}=g;if(v&&this.currentDirection===null){this.currentDirection=PB(C),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,C),this.updateAxis("y",g.point,C),this.visualElement.render(),_&&_(m,g)},d=(m,g)=>this.stop(m,g),h=()=>Xn(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Tk(e,{onSessionStart:i,onStart:a,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:Nk(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&ot.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Kd(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=_B(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;e&&ya(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=SB(s.layoutBox,e):this.constraints=!1,this.elastic=NB(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Xn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=kB(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ya(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=xB(s,r.root,this.visualElement.getTransformPagePoint());let a=CB(r.layout.layoutBox,i);if(n){const c=n(cB(a));this.hasMutatedConstraints=!!c,c&&(a=wk(c))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Xn(p=>{if(!Kd(p,n,this.currentDirection))return;let m=d&&d[p]||{};a&&(m={min:0,max:0});const g=r?200:1e6,x=r?40:1e7,v={type:"inertia",velocity:s?e[p]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(p,v)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Yg(this.visualElement,e),s.start(Oy(e,s,0,n,this.visualElement,!1))}stopAnimation(){Xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Xn(n=>{const{drag:s}=this.getProps();if(!Kd(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:c}=r.layout.layoutBox[n];i.set(e[n]-dt(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ya(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Xn(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const d=c.get();r[a]=jB({min:d,max:d},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Xn(a=>{if(!Kd(a,e,null))return;const c=this.getAxisMotionValue(a),{min:d,max:h}=this.constraints[a];c.set(dt(d,h,r[a]))})}addListeners(){if(!this.visualElement.current)return;TB.set(this.visualElement,this);const e=this.visualElement.current,n=wc(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();ya(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ot.read(s);const a=$c(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Xn(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=d[p].translate,m.set(m.get()+d[p].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Gg,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:c}}}function Kd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function PB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class AB extends ki{constructor(e){super(e),this.removeGroupControls=es,this.removeListeners=es,this.controls=new EB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||es}unmount(){this.removeGroupControls(),this.removeListeners()}}const A2=t=>(e,n)=>{t&&ot.postRender(()=>t(e,n))};class MB extends ki{constructor(){super(...arguments),this.removePointerDownListener=es}onPointerDown(e){this.session=new Tk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:A2(e),onStart:A2(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&ot.postRender(()=>r(i,a))}}}mount(){this.removePointerDownListener=wc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ph={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function M2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=M2(t,e.target.x),s=M2(t,e.target.y);return`${n}% ${s}%`}},RB={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=Si.parse(t);if(r.length>5)return s;const i=Si.createTransformer(t),a=typeof r[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;r[0+a]/=c,r[1+a]/=d;const h=dt(c,d,.5);return typeof r[2+a]=="number"&&(r[2+a]/=h),typeof r[3+a]=="number"&&(r[3+a]/=h),i(r)}};let R2=!1;class DB extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;x8(OB),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),R2&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ph.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:a}=s;return a&&(a.isPresent=i,R2=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||ot.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Pk(t){const[e,n]=sk(),s=j.useContext(ty);return u.jsx(DB,{...t,layoutGroup:s,switchLayoutGroup:j.useContext(lk),isPresent:e,safeToRemove:n})}const OB={borderRadius:{...Jl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jl,borderTopRightRadius:Jl,borderBottomLeftRadius:Jl,borderBottomRightRadius:Jl,boxShadow:RB};function LB(t,e,n){const s=en(t)?t:za(t);return s.start(Oy("",s,e,n)),s.animation}const IB=(t,e)=>t.depth-e.depth;class FB{constructor(){this.children=[],this.isDirty=!1}add(e){ry(this.children,e),this.isDirty=!0}remove(e){iy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IB),this.isDirty=!1,this.children.forEach(e)}}function BB(t,e){const n=kn.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(_i(s),t(i-e))};return ot.setup(s,!0),()=>_i(s)}const Ak=["TopLeft","TopRight","BottomLeft","BottomRight"],zB=Ak.length,D2=t=>typeof t=="string"?parseFloat(t):t,O2=t=>typeof t=="number"||Ee.test(t);function VB(t,e,n,s,r,i){r?(t.opacity=dt(0,n.opacity??1,$B(s)),t.opacityExit=dt(e.opacity??1,0,UB(s))):i&&(t.opacity=dt(e.opacity??1,n.opacity??1,s));for(let a=0;a<zB;a++){const c=`border${Ak[a]}Radius`;let d=L2(e,c),h=L2(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||O2(d)===O2(h)?(t[c]=Math.max(dt(D2(d),D2(h),s),0),(Vs.test(h)||Vs.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,s))}function L2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $B=Mk(0,.5,Cj),UB=Mk(.5,.95,es);function Mk(t,e,n){return s=>s<t?0:s>e?1:n(Lc(t,e,s))}function I2(t,e){t.min=e.min,t.max=e.max}function Kn(t,e){I2(t.x,e.x),I2(t.y,e.y)}function F2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function B2(t,e,n,s,r){return t-=e,t=zh(t,1/n,s),r!==void 0&&(t=zh(t,1/r,s)),t}function HB(t,e=0,n=1,s=.5,r,i=t,a=t){if(Vs.test(e)&&(e=parseFloat(e),e=dt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=dt(i.min,i.max,s);t===i&&(c-=e),t.min=B2(t.min,e,n,c,r),t.max=B2(t.max,e,n,c,r)}function z2(t,e,[n,s,r],i,a){HB(t,e[n],e[s],e[r],e.scale,i,a)}const WB=["x","scaleX","originX"],qB=["y","scaleY","originY"];function V2(t,e,n,s){z2(t.x,e,WB,n?n.x:void 0,s?s.x:void 0),z2(t.y,e,qB,n?n.y:void 0,s?s.y:void 0)}function $2(t){return t.translate===0&&t.scale===1}function Rk(t){return $2(t.x)&&$2(t.y)}function U2(t,e){return t.min===e.min&&t.max===e.max}function YB(t,e){return U2(t.x,e.x)&&U2(t.y,e.y)}function H2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Dk(t,e){return H2(t.x,e.x)&&H2(t.y,e.y)}function W2(t){return un(t.x)/un(t.y)}function q2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class KB{constructor(){this.members=[]}add(e){ry(this.members,e),e.scheduleRender()}remove(e){if(iy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XB(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((r||i||a)&&(s=`translate3d(${r}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:m,rotateY:g,skewX:x,skewY:v}=n;h&&(s=`perspective(${h}px) ${s}`),p&&(s+=`rotate(${p}deg) `),m&&(s+=`rotateX(${m}deg) `),g&&(s+=`rotateY(${g}deg) `),x&&(s+=`skewX(${x}deg) `),v&&(s+=`skewY(${v}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(s+=`scale(${c}, ${d})`),s||"none"}const Wm=["","X","Y","Z"],QB=1e3;let GB=0;function qm(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Ok(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=yk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ot,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Ok(s)}function Lk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},c=e==null?void 0:e()){this.id=GB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ez),this.nodes.forEach(rz),this.nodes.forEach(iz),this.nodes.forEach(tz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new FB)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ly),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const d=this.eventHandlers.get(a);d&&d.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=nk(a)&&!KF(a),this.instance=a;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let p,m=0;const g=()=>this.root.updateBlockedByResize=!1;ot.read(()=>{m=window.innerWidth}),t(a,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,p&&p(),p=BB(g,250),ph.hasAnimatedSinceResize&&(ph.hasAnimatedSinceResize=!1,this.nodes.forEach(X2)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||uz,{onLayoutAnimationStart:w,onLayoutAnimationComplete:_}=h.getProps(),C=!this.targetLayout||!Dk(this.targetLayout,x),k=!m&&g;if(this.options.layoutRoot||this.resumeFrom||k||m&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={..._y(v,"layout"),onPlay:w,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(p,k)}else m||X2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oz),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ok(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Y2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(K2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(sz),this.nodes.forEach(ZB),this.nodes.forEach(JB)):this.nodes.forEach(K2),this.clearAllSnapshots();const c=kn.now();Vt.delta=wr(0,1e3/60,c-Vt.timestamp),Vt.timestamp=c,Vt.isProcessing=!0,Lm.update.process(Vt),Lm.preRender.process(Vt),Lm.render.process(Vt),Vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nz),this.sharedNodes.forEach(az)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Rk(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;a&&this.instance&&(c||Ji(this.latestValues)||p)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),dz(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:a}=this.options;if(!a)return Ct();const c=a.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(hz))){const{scroll:p}=this.root;p&&(ba(c.x,p.offset.x),ba(c.y,p.offset.y))}return c}removeElementScroll(a){var d;const c=Ct();if(Kn(c,a),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:g}=p;p!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Kn(c,a),ba(c.x,m.offset.x),ba(c.y,m.offset.y))}return c}applyTransform(a,c=!1){const d=Ct();Kn(d,a);for(let h=0;h<this.path.length;h++){const p=this.path[h];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&va(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ji(p.latestValues)&&va(d,p.latestValues)}return Ji(this.latestValues)&&va(d,this.latestValues),d}removeTransform(a){const c=Ct();Kn(c,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Ji(h.latestValues))continue;Xg(h.latestValues)&&h.updateSnapshot();const p=Ct(),m=h.measurePageBox();Kn(p,m),V2(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Ji(this.latestValues)&&V2(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=Vt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Sc(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kn(this.target,this.layout.layoutBox),jk(this.target,this.targetDelta)):Kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Sc(this.relativeTargetOrigin,this.target,x.target),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Xg(this.parent.latestValues)||Ck(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Vt.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Kn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;yB(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ct());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(F2(this.prevProjectionDelta.x,this.projectionDelta.x),F2(this.prevProjectionDelta.y,this.projectionDelta.y)),_c(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!q2(this.projectionDelta.x,this.prevProjectionDelta.x)||!q2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),a){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xa(),this.projectionDelta=xa(),this.projectionDeltaWithTransform=xa()}setAnimationOrigin(a,c=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},m=xa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Ct(),x=d?d.source:void 0,v=this.layout?this.layout.source:void 0,w=x!==v,_=this.getStack(),C=!_||_.members.length<=1,k=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(cz));this.animationProgress=0;let T;this.mixTargetDelta=M=>{const P=M/1e3;Q2(m.x,a.x,P),Q2(m.y,a.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sc(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lz(this.relativeTarget,this.relativeTargetOrigin,g,P),T&&YB(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Ct()),Kn(T,this.relativeTarget)),w&&(this.animationValues=p,VB(p,h,this.latestValues,P,k,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(_i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{ph.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=za(0)),this.currentAnimation=LB(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),a.onUpdate&&a.onUpdate(p)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:p}=a;if(!(!c||!d||!h)){if(this!==a&&this.layout&&h&&Ik(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Ct();const m=un(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+m;const g=un(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+g}Kn(c,d),va(c,p),_c(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new KB),this.sharedNodes.get(a).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var c;const{layoutId:a}=this.options;return a?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:a}=this.options;return a?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&qm("z",a,h,this.animationValues);for(let p=0;p<Wm.length;p++)qm(`rotate${Wm[p]}`,a,h,this.animationValues),qm(`skew${Wm[p]}`,a,h,this.animationValues);a.render();for(const p in h)a.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=fh(c==null?void 0:c.pointerEvents)||"",a.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=fh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ji(this.latestValues)&&(a.transform=d?d({},""):"none",this.hasProjected=!1);return}a.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=XB(this.projectionDeltaWithTransform,this.treeScale,p);d&&(m=d(p,m)),a.transform=m;const{x:g,y:x}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?a.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:a.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in zc){if(p[v]===void 0)continue;const{correct:w,applyTo:_,isCSSVariable:C}=zc[v],k=m==="none"?p[v]:w(p[v],h);if(_){const T=_.length;for(let M=0;M<T;M++)a[_[M]]=k}else C?this.options.visualElement.renderState.vars[v]=k:a[v]=k}this.options.layoutId&&(a.pointerEvents=h===this?fh(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Y2),this.root.sharedNodes.clear()}}}function ZB(t){t.updateLayout()}function JB(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Xn(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],x=un(g);g.min=s[m].min,g.max=g.min+x}):Ik(i,e.layoutBox,s)&&Xn(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],x=un(s[m]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const c=xa();_c(c,s,e.layoutBox);const d=xa();a?_c(d,t.applyTransform(r,!0),e.measuredBox):_c(d,s,e.layoutBox);const h=!Rk(c);let p=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:x}=m;if(g&&x){const v=Ct();Sc(v,e.layoutBox,g.layoutBox);const w=Ct();Sc(w,s,x.layoutBox),Dk(v,w)||(p=!0),m.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function ez(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function nz(t){t.clearSnapshot()}function Y2(t){t.clearMeasurements()}function K2(t){t.isLayoutDirty=!1}function sz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function X2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rz(t){t.resolveTargetDelta()}function iz(t){t.calcProjection()}function oz(t){t.resetSkewAndRotation()}function az(t){t.removeLeadSnapshot()}function Q2(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function G2(t,e,n,s){t.min=dt(e.min,n.min,s),t.max=dt(e.max,n.max,s)}function lz(t,e,n,s){G2(t.x,e.x,n.x,s),G2(t.y,e.y,n.y,s)}function cz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uz={duration:.45,ease:[.4,0,.1,1]},Z2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),J2=Z2("applewebkit/")&&!Z2("chrome/")?Math.round:es;function e_(t){t.min=J2(t.min),t.max=J2(t.max)}function dz(t){e_(t.x),e_(t.y)}function Ik(t,e,n){return t==="position"||t==="preserve-aspect"&&!mB(W2(e),W2(n),.2)}function hz(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const fz=Lk({attachResizeListener:(t,e)=>$c(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ym={current:void 0},Fk=Lk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ym.current){const t=new fz({});t.mount(window),t.setOptions({layoutScroll:!0}),Ym.current=t}return Ym.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pz={pan:{Feature:MB},drag:{Feature:AB,ProjectionNode:Fk,MeasureLayout:Pk}};function t_(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&ot.postRender(()=>i(e,au(e)))}class mz extends ki{mount(){const{current:e}=this.node;e&&(this.unmount=UF(e,(n,s)=>(t_(this.node,s,"Start"),r=>t_(this.node,r,"End"))))}unmount(){}}class gz extends ki{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ru($c(this.node.current,"focus",()=>this.onFocus()),$c(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function n_(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&ot.postRender(()=>i(e,au(e)))}class yz extends ki{mount(){const{current:e}=this.node;e&&(this.unmount=YF(e,(n,s)=>(n_(this.node,s,"Start"),(r,{success:i})=>n_(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zg=new WeakMap,Km=new WeakMap,xz=t=>{const e=Zg.get(t.target);e&&e(t)},bz=t=>{t.forEach(xz)};function vz({root:t,...e}){const n=t||document;Km.has(n)||Km.set(n,{});const s=Km.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(bz,{root:t,...e})),s[r]}function wz(t,e,n){const s=vz(e);return Zg.set(t,n),s.observe(t),()=>{Zg.delete(t),s.unobserve(t)}}const _z={some:0,all:1};class Sz extends ki{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:_z[r]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),g=h?p:m;g&&g(d)};return wz(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Cz(e,n))&&this.startObserver()}unmount(){}}function Cz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const jz={inView:{Feature:Sz},tap:{Feature:yz},focus:{Feature:gz},hover:{Feature:mz}},kz={layout:{ProjectionNode:Fk,MeasureLayout:Pk}},Jg={current:null},Bk={current:!1};function Nz(){if(Bk.current=!0,!!sy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jg.current=t.matches;t.addEventListener("change",e),e()}else Jg.current=!1}const Tz=new WeakMap;function Ez(t,e,n){for(const s in e){const r=e[s],i=n[s];if(en(r))t.addValue(s,r);else if(en(i))t.addValue(s,za(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(s);t.addValue(s,za(a!==void 0?a:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const s_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Pz{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=kn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ot.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=df(n),this.isVariantNode=ok(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const x=m[g];d[g]!==void 0&&en(x)&&x.set(d[g],!1)}}mount(e){this.current=e,Tz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Bk.current||Nz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_i(this.notifyUpdate),_i(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ga.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ot.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Va){const n=Va[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<s_.length;s++){const r=s_[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,a=e[i];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=Ez(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=za(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(pj(s)||gj(s))?s=parseFloat(s):!QF(s)&&Si.test(n)&&(s=Gj(e,n)),this.setBaseTarget(e,en(s)?s.get():s)),en(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=Ry(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!en(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ly),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class zk extends Pz{constructor(){super(...arguments),this.KeyframeResolver=FF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Vk(t,{style:e,vars:n},s,r){const i=t.style;let a;for(a in e)i[a]=e[a];r==null||r.applyProjectionStyles(i,s);for(a in n)i.setProperty(a,n[a])}function Az(t){return window.getComputedStyle(t)}class Mz extends zk{constructor(){super(...arguments),this.type="html",this.renderInstance=Vk}readValueFromInstance(e,n){var s;if(Ga.has(n))return(s=this.projection)!=null&&s.isProjecting?zg(n):sF(e,n);{const r=Az(e),i=(dy(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return kk(e,n)}build(e,n,s){Py(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Dy(e,n,s)}}const $k=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Rz(t,e,n,s){Vk(t,e,void 0,s);for(const r in e.attrs)t.setAttribute($k.has(r)?r:Ey(r),e.attrs[r])}class Dz extends zk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ga.has(n)){const s=Qj(n);return s&&s.default||0}return n=$k.has(n)?n:Ey(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return gk(e,n,s)}build(e,n,s){hk(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){Rz(e,n,s,r)}mount(e){this.isSVGTag=pk(e.tagName),super.mount(e)}}const Oz=(t,e)=>My(t)?new Dz(e):new Mz(e,{allowProjection:t!==j.Fragment}),Lz=O8({...aB,...jz,...pz,...kz},Oz),Cc=o8(Lz);function Iz({activeTab:t,setActiveTab:e}){const n=[{id:"all",label:"All Complaints"},{id:"assigned",label:"My Assigned Complaints"},{id:"responses",label:"My Responses"}];return u.jsx("nav",{className:"flex items-center justify-start w-full mb-7","aria-label":"Complaint tabs",children:u.jsx("ul",{className:"flex gap-1.5 bg-[#22283b]/80 p-1 rounded-full shadow-md border border-blue-900/50 backdrop-blur-[2px] relative",children:n.map(s=>{const r=t===s.id;return u.jsx("li",{className:"relative",children:u.jsxs("button",{type:"button",onClick:()=>e(s.id),className:`
                  relative px-4 py-1.5 rounded-full font-semibold text-[15px]
                  transition-all duration-300 ease-[cubic-bezier(.4,0,.2,1)]
                  focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/80
                  ${r?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-[0_1px_10px_0_rgba(0,175,255,0.20)]":"text-blue-100/80 hover:text-white hover:bg-blue-900/30 hover:shadow-[0_2px_6px_0_rgba(40,80,220,0.10)]"}
                `,"aria-current":r?"page":void 0,children:[s.label,r&&u.jsx(Cc.span,{layoutId:"underline",className:`\r
                      absolute left-1/2 -bottom-1 -translate-x-1/2\r
                      h-0.5 w-4/5 rounded-full\r
                      bg-gradient-to-r from-cyan-400/80 via-blue-400 to-blue-600/70\r
                      shadow-[0_1px_8px_0_rgba(40,175,255,0.14)]\r
                    `,transition:{type:"spring",stiffness:500,damping:30}})]})},s.id)})})})}var Za=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jo=typeof window>"u"||"Deno"in globalThis;function cn(){}function Fz(t,e){return typeof t=="function"?t(e):t}function e0(t){return typeof t=="number"&&t>=0&&t!==1/0}function Uk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xi(t,e){return typeof t=="function"?t(e):t}function ps(t,e){return typeof t=="function"?t(e):t}function r_(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:a,stale:c}=t;if(a){if(s){if(e.queryHash!==Ly(a,e.options))return!1}else if(!Uc(e.queryKey,a))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||r&&r!==e.state.fetchStatus||i&&!i(e))}function i_(t,e){const{exact:n,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ko(e.options.mutationKey)!==ko(i))return!1}else if(!Uc(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function Ly(t,e){return((e==null?void 0:e.queryKeyHashFn)||ko)(t)}function ko(t){return JSON.stringify(t,(e,n)=>t0(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Uc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Uc(t[n],e[n])):!1}function Hk(t,e){if(t===e)return t;const n=o_(t)&&o_(e);if(n||t0(t)&&t0(e)){const s=n?t:Object.keys(t),r=s.length,i=n?e:Object.keys(e),a=i.length,c=n?[]:{},d=new Set(s);let h=0;for(let p=0;p<a;p++){const m=n?p:i[p];(!n&&d.has(m)||n)&&t[m]===void 0&&e[m]===void 0?(c[m]=void 0,h++):(c[m]=Hk(t[m],e[m]),c[m]===t[m]&&t[m]!==void 0&&h++)}return r===a&&h===r?t:c}return e}function Vh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function o_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function t0(t){if(!a_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!a_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function a_(t){return Object.prototype.toString.call(t)==="[object Object]"}function Bz(t){return new Promise(e=>{setTimeout(e,t)})}function n0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Hk(t,e):e}function zz(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function Vz(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var Iy=Symbol();function Wk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Iy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function qk(t,e){return typeof t=="function"?t(...e):!!t}var ro,ri,ja,D_,$z=(D_=class extends Za{constructor(){super();Se(this,ro);Se(this,ri);Se(this,ja);me(this,ja,e=>{if(!jo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,ri)||this.setEventListener(B(this,ja))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,ri))==null||e.call(this),me(this,ri,void 0))}setEventListener(e){var n;me(this,ja,e),(n=B(this,ri))==null||n.call(this),me(this,ri,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){B(this,ro)!==e&&(me(this,ro,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,ro)=="boolean"?B(this,ro):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ro=new WeakMap,ri=new WeakMap,ja=new WeakMap,D_),Fy=new $z,ka,ii,Na,O_,Uz=(O_=class extends Za{constructor(){super();Se(this,ka,!0);Se(this,ii);Se(this,Na);me(this,Na,e=>{if(!jo&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){B(this,ii)||this.setEventListener(B(this,Na))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,ii))==null||e.call(this),me(this,ii,void 0))}setEventListener(e){var n;me(this,Na,e),(n=B(this,ii))==null||n.call(this),me(this,ii,e(this.setOnline.bind(this)))}setOnline(e){B(this,ka)!==e&&(me(this,ka,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return B(this,ka)}},ka=new WeakMap,ii=new WeakMap,Na=new WeakMap,O_),$h=new Uz;function s0(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}function Hz(t){return Math.min(1e3*2**t,3e4)}function Yk(t){return(t??"online")==="online"?$h.isOnline():!0}var Kk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Xm(t){return t instanceof Kk}function Xk(t){let e=!1,n=0,s=!1,r;const i=s0(),a=w=>{var _;s||(g(new Kk(w)),(_=t.abort)==null||_.call(t))},c=()=>{e=!0},d=()=>{e=!1},h=()=>Fy.isFocused()&&(t.networkMode==="always"||$h.isOnline())&&t.canRun(),p=()=>Yk(t.networkMode)&&t.canRun(),m=w=>{var _;s||(s=!0,(_=t.onSuccess)==null||_.call(t,w),r==null||r(),i.resolve(w))},g=w=>{var _;s||(s=!0,(_=t.onError)==null||_.call(t,w),r==null||r(),i.reject(w))},x=()=>new Promise(w=>{var _;r=C=>{(s||h())&&w(C)},(_=t.onPause)==null||_.call(t)}).then(()=>{var w;r=void 0,s||(w=t.onContinue)==null||w.call(t)}),v=()=>{if(s)return;let w;const _=n===0?t.initialPromise:void 0;try{w=_??t.fn()}catch(C){w=Promise.reject(C)}Promise.resolve(w).then(m).catch(C=>{var R;if(s)return;const k=t.retry??(jo?0:3),T=t.retryDelay??Hz,M=typeof T=="function"?T(n,C):T,P=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,C);if(e||!P){g(C);return}n++,(R=t.onFail)==null||R.call(t,n,C),Bz(M).then(()=>h()?void 0:x()).then(()=>{e?g(C):v()})})};return{promise:i,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:c,continueRetry:d,canStart:p,start:()=>(p()?v():x().then(v),i)}}var Wz=t=>setTimeout(t,0);function qz(){let t=[],e=0,n=c=>{c()},s=c=>{c()},r=Wz;const i=c=>{e?t.push(c):r(()=>{n(c)})},a=()=>{const c=t;t=[],c.length&&r(()=>{s(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||a()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{r=c}}}var Dt=qz(),io,L_,Qk=(L_=class{constructor(){Se(this,io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),e0(this.gcTime)&&me(this,io,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jo?1/0:5*60*1e3))}clearGcTimeout(){B(this,io)&&(clearTimeout(B(this,io)),me(this,io,void 0))}},io=new WeakMap,L_),Ta,oo,Qn,ao,Xt,Hc,lo,ds,cr,I_,Yz=(I_=class extends Qk{constructor(e){super();Se(this,ds);Se(this,Ta);Se(this,oo);Se(this,Qn);Se(this,ao);Se(this,Xt);Se(this,Hc);Se(this,lo);me(this,lo,!1),me(this,Hc,e.defaultOptions),this.setOptions(e.options),this.observers=[],me(this,ao,e.client),me(this,Qn,B(this,ao).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,me(this,Ta,Kz(this.options)),this.state=e.state??B(this,Ta),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=B(this,Xt))==null?void 0:e.promise}setOptions(e){this.options={...B(this,Hc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Qn).remove(this)}setData(e,n){const s=n0(this.state.data,e,this.options);return Fe(this,ds,cr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(e,n){Fe(this,ds,cr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var s,r;const n=(s=B(this,Xt))==null?void 0:s.promise;return(r=B(this,Xt))==null||r.cancel(e),n?n.then(cn).catch(cn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Ta))}isActive(){return this.observers.some(e=>ps(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Iy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>xi(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Uk(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=B(this,Xt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=B(this,Xt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),B(this,Qn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(B(this,Xt)&&(B(this,lo)?B(this,Xt).cancel({revert:!0}):B(this,Xt).cancelRetry()),this.scheduleGc()),B(this,Qn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fe(this,ds,cr).call(this,{type:"invalidate"})}fetch(e,n){var h,p,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,Xt))return B(this,Xt).continueRetry(),B(this,Xt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(x=>x.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,r=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(me(this,lo,!0),s.signal)})},i=()=>{const g=Wk(this.options,n),v=(()=>{const w={client:B(this,ao),queryKey:this.queryKey,meta:this.meta};return r(w),w})();return me(this,lo,!1),this.options.persister?this.options.persister(g,v,this):g(v)},c=(()=>{const g={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:B(this,ao),state:this.state,fetchFn:i};return r(g),g})();(h=this.options.behavior)==null||h.onFetch(c,this),me(this,oo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&Fe(this,ds,cr).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const d=g=>{var x,v,w,_;Xm(g)&&g.silent||Fe(this,ds,cr).call(this,{type:"error",error:g}),Xm(g)||((v=(x=B(this,Qn).config).onError)==null||v.call(x,g,this),(_=(w=B(this,Qn).config).onSettled)==null||_.call(w,this.state.data,g,this)),this.scheduleGc()};return me(this,Xt,Xk({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var x,v,w,_;if(g===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(C){d(C);return}(v=(x=B(this,Qn).config).onSuccess)==null||v.call(x,g,this),(_=(w=B(this,Qn).config).onSettled)==null||_.call(w,g,this.state.error,this),this.scheduleGc()},onError:d,onFail:(g,x)=>{Fe(this,ds,cr).call(this,{type:"failed",failureCount:g,error:x})},onPause:()=>{Fe(this,ds,cr).call(this,{type:"pause"})},onContinue:()=>{Fe(this,ds,cr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),B(this,Xt).start()}},Ta=new WeakMap,oo=new WeakMap,Qn=new WeakMap,ao=new WeakMap,Xt=new WeakMap,Hc=new WeakMap,lo=new WeakMap,ds=new WeakSet,cr=function(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Gk(s.data,this.options),fetchMeta:e.meta??null};case"success":return me(this,oo,void 0),{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Xm(r)&&r.revert&&B(this,oo)?{...B(this,oo),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),Dt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,Qn).notify({query:this,type:"updated",action:e})})},I_);function Gk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Yk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Kz(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Rs,F_,Xz=(F_=class extends Za{constructor(e={}){super();Se(this,Rs);this.config=e,me(this,Rs,new Map)}build(e,n,s){const r=n.queryKey,i=n.queryHash??Ly(r,n);let a=this.get(i);return a||(a=new Yz({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){B(this,Rs).has(e.queryHash)||(B(this,Rs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,Rs).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,Rs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,Rs).get(e)}getAll(){return[...B(this,Rs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>r_(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>r_(e,s)):n}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Rs=new WeakMap,F_),Ds,an,co,Os,ni,B_,Qz=(B_=class extends Qk{constructor(e){super();Se(this,Os);Se(this,Ds);Se(this,an);Se(this,co);this.mutationId=e.mutationId,me(this,an,e.mutationCache),me(this,Ds,[]),this.state=e.state||Zk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){B(this,Ds).includes(e)||(B(this,Ds).push(e),this.clearGcTimeout(),B(this,an).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){me(this,Ds,B(this,Ds).filter(n=>n!==e)),this.scheduleGc(),B(this,an).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){B(this,Ds).length||(this.state.status==="pending"?this.scheduleGc():B(this,an).remove(this))}continue(){var e;return((e=B(this,co))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,c,d,h,p,m,g,x,v,w,_,C,k,T,M,P,R,z,I;const n=()=>{Fe(this,Os,ni).call(this,{type:"continue"})};me(this,co,Xk({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(F,U)=>{Fe(this,Os,ni).call(this,{type:"failed",failureCount:F,error:U})},onPause:()=>{Fe(this,Os,ni).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,an).canRun(this)}));const s=this.state.status==="pending",r=!B(this,co).canStart();try{if(s)n();else{Fe(this,Os,ni).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=B(this,an).config).onMutate)==null?void 0:a.call(i,e,this));const U=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e));U!==this.state.context&&Fe(this,Os,ni).call(this,{type:"pending",context:U,variables:e,isPaused:r})}const F=await B(this,co).start();return await((p=(h=B(this,an).config).onSuccess)==null?void 0:p.call(h,F,e,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,F,e,this.state.context)),await((v=(x=B(this,an).config).onSettled)==null?void 0:v.call(x,F,null,this.state.variables,this.state.context,this)),await((_=(w=this.options).onSettled)==null?void 0:_.call(w,F,null,e,this.state.context)),Fe(this,Os,ni).call(this,{type:"success",data:F}),F}catch(F){try{throw await((k=(C=B(this,an).config).onError)==null?void 0:k.call(C,F,e,this.state.context,this)),await((M=(T=this.options).onError)==null?void 0:M.call(T,F,e,this.state.context)),await((R=(P=B(this,an).config).onSettled)==null?void 0:R.call(P,void 0,F,this.state.variables,this.state.context,this)),await((I=(z=this.options).onSettled)==null?void 0:I.call(z,void 0,F,e,this.state.context)),F}finally{Fe(this,Os,ni).call(this,{type:"error",error:F})}}finally{B(this,an).runNext(this)}}},Ds=new WeakMap,an=new WeakMap,co=new WeakMap,Os=new WeakSet,ni=function(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Dt.batch(()=>{B(this,Ds).forEach(s=>{s.onMutationUpdate(e)}),B(this,an).notify({mutation:this,type:"updated",action:e})})},B_);function Zk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dr,hs,Wc,z_,Gz=(z_=class extends Za{constructor(e={}){super();Se(this,dr);Se(this,hs);Se(this,Wc);this.config=e,me(this,dr,new Set),me(this,hs,new Map),me(this,Wc,0)}build(e,n,s){const r=new Qz({mutationCache:this,mutationId:++wd(this,Wc)._,options:e.defaultMutationOptions(n),state:s});return this.add(r),r}add(e){B(this,dr).add(e);const n=Xd(e);if(typeof n=="string"){const s=B(this,hs).get(n);s?s.push(e):B(this,hs).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,dr).delete(e)){const n=Xd(e);if(typeof n=="string"){const s=B(this,hs).get(n);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&B(this,hs).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Xd(e);if(typeof n=="string"){const s=B(this,hs).get(n),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const n=Xd(e);if(typeof n=="string"){const r=(s=B(this,hs).get(n))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dt.batch(()=>{B(this,dr).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,dr).clear(),B(this,hs).clear()})}getAll(){return Array.from(B(this,dr))}find(e){const n={exact:!0,...e};return this.getAll().find(s=>i_(n,s))}findAll(e={}){return this.getAll().filter(n=>i_(e,n))}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Dt.batch(()=>Promise.all(e.map(n=>n.continue().catch(cn))))}},dr=new WeakMap,hs=new WeakMap,Wc=new WeakMap,z_);function Xd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function l_(t){return{onFetch:(e,n)=>{var p,m,g,x,v;const s=e.options,r=(g=(m=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:g.direction,i=((x=e.state.data)==null?void 0:x.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let w=!1;const _=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},C=Wk(e.options,e.fetchOptions),k=async(T,M,P)=>{if(w)return Promise.reject();if(M==null&&T.pages.length)return Promise.resolve(T);const z=(()=>{const ee={client:e.client,queryKey:e.queryKey,pageParam:M,direction:P?"backward":"forward",meta:e.options.meta};return _(ee),ee})(),I=await C(z),{maxPages:F}=e.options,U=P?Vz:zz;return{pages:U(T.pages,I,F),pageParams:U(T.pageParams,M,F)}};if(r&&i.length){const T=r==="backward",M=T?Zz:c_,P={pages:i,pageParams:a},R=M(s,P);c=await k(P,R,T)}else{const T=t??i.length;do{const M=d===0?a[0]??s.initialPageParam:c_(s,c);if(d>0&&M==null)break;c=await k(c,M),d++}while(d<T)}return c};e.options.persister?e.fetchFn=()=>{var w,_;return(_=(w=e.options).persister)==null?void 0:_.call(w,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function c_(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function Zz(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var mt,oi,ai,Ea,Pa,li,Aa,Ma,V_,Jz=(V_=class{constructor(t={}){Se(this,mt);Se(this,oi);Se(this,ai);Se(this,Ea);Se(this,Pa);Se(this,li);Se(this,Aa);Se(this,Ma);me(this,mt,t.queryCache||new Xz),me(this,oi,t.mutationCache||new Gz),me(this,ai,t.defaultOptions||{}),me(this,Ea,new Map),me(this,Pa,new Map),me(this,li,0)}mount(){wd(this,li)._++,B(this,li)===1&&(me(this,Aa,Fy.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,mt).onFocus())})),me(this,Ma,$h.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,mt).onOnline())})))}unmount(){var t,e;wd(this,li)._--,B(this,li)===0&&((t=B(this,Aa))==null||t.call(this),me(this,Aa,void 0),(e=B(this,Ma))==null||e.call(this),me(this,Ma,void 0))}isFetching(t){return B(this,mt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,oi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,mt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=B(this,mt).build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(xi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return B(this,mt).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),r=B(this,mt).get(s.queryHash),i=r==null?void 0:r.state.data,a=Fz(e,i);if(a!==void 0)return B(this,mt).build(this,s).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Dt.batch(()=>B(this,mt).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,mt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,mt);Dt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,mt);return Dt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=Dt.batch(()=>B(this,mt).findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(cn).catch(cn)}invalidateQueries(t,e={}){return Dt.batch(()=>(B(this,mt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=Dt.batch(()=>B(this,mt).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(cn)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(cn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,mt).build(this,e);return n.isStaleByTime(xi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(cn).catch(cn)}fetchInfiniteQuery(t){return t.behavior=l_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(cn).catch(cn)}ensureInfiniteQueryData(t){return t.behavior=l_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $h.isOnline()?B(this,oi).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,mt)}getMutationCache(){return B(this,oi)}getDefaultOptions(){return B(this,ai)}setDefaultOptions(t){me(this,ai,t)}setQueryDefaults(t,e){B(this,Ea).set(ko(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,Ea).values()],n={};return e.forEach(s=>{Uc(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){B(this,Pa).set(ko(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Pa).values()],n={};return e.forEach(s=>{Uc(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,ai).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ly(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Iy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,ai).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,mt).clear(),B(this,oi).clear()}},mt=new WeakMap,oi=new WeakMap,ai=new WeakMap,Ea=new WeakMap,Pa=new WeakMap,li=new WeakMap,Aa=new WeakMap,Ma=new WeakMap,V_),_n,He,qc,ln,uo,Ra,ci,ui,Yc,Da,Oa,ho,fo,di,La,Qe,cc,r0,i0,o0,a0,l0,c0,u0,Jk,$_,eV=($_=class extends Za{constructor(e,n){super();Se(this,Qe);Se(this,_n);Se(this,He);Se(this,qc);Se(this,ln);Se(this,uo);Se(this,Ra);Se(this,ci);Se(this,ui);Se(this,Yc);Se(this,Da);Se(this,Oa);Se(this,ho);Se(this,fo);Se(this,di);Se(this,La,new Set);this.options=n,me(this,_n,e),me(this,ui,null),me(this,ci,s0()),this.options.experimental_prefetchInRender||B(this,ci).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,He).addObserver(this),u_(B(this,He),this.options)?Fe(this,Qe,cc).call(this):this.updateResult(),Fe(this,Qe,a0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d0(B(this,He),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d0(B(this,He),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Fe(this,Qe,l0).call(this),Fe(this,Qe,c0).call(this),B(this,He).removeObserver(this)}setOptions(e){const n=this.options,s=B(this,He);if(this.options=B(this,_n).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ps(this.options.enabled,B(this,He))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Fe(this,Qe,u0).call(this),B(this,He).setOptions(this.options),n._defaulted&&!Vh(this.options,n)&&B(this,_n).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,He),observer:this});const r=this.hasListeners();r&&d_(B(this,He),s,this.options,n)&&Fe(this,Qe,cc).call(this),this.updateResult(),r&&(B(this,He)!==s||ps(this.options.enabled,B(this,He))!==ps(n.enabled,B(this,He))||xi(this.options.staleTime,B(this,He))!==xi(n.staleTime,B(this,He)))&&Fe(this,Qe,r0).call(this);const i=Fe(this,Qe,i0).call(this);r&&(B(this,He)!==s||ps(this.options.enabled,B(this,He))!==ps(n.enabled,B(this,He))||i!==B(this,di))&&Fe(this,Qe,o0).call(this,i)}getOptimisticResult(e){const n=B(this,_n).getQueryCache().build(B(this,_n),e),s=this.createResult(n,e);return nV(this,s)&&(me(this,ln,s),me(this,Ra,this.options),me(this,uo,B(this,He).state)),s}getCurrentResult(){return B(this,ln)}trackResult(e,n){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),n==null||n(r),Reflect.get(s,r))})}trackProp(e){B(this,La).add(e)}getCurrentQuery(){return B(this,He)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=B(this,_n).defaultQueryOptions(e),s=B(this,_n).getQueryCache().build(B(this,_n),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(e){return Fe(this,Qe,cc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,ln)))}createResult(e,n){var F;const s=B(this,He),r=this.options,i=B(this,ln),a=B(this,uo),c=B(this,Ra),h=e!==s?e.state:B(this,qc),{state:p}=e;let m={...p},g=!1,x;if(n._optimisticResults){const U=this.hasListeners(),ee=!U&&u_(e,n),J=U&&d_(e,s,n,r);(ee||J)&&(m={...m,...Gk(p.data,e.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:_}=m;x=m.data;let C=!1;if(n.placeholderData!==void 0&&x===void 0&&_==="pending"){let U;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(U=i.data,C=!0):U=typeof n.placeholderData=="function"?n.placeholderData((F=B(this,Oa))==null?void 0:F.state.data,B(this,Oa)):n.placeholderData,U!==void 0&&(_="success",x=n0(i==null?void 0:i.data,U,n),g=!0)}if(n.select&&x!==void 0&&!C)if(i&&x===(a==null?void 0:a.data)&&n.select===B(this,Yc))x=B(this,Da);else try{me(this,Yc,n.select),x=n.select(x),x=n0(i==null?void 0:i.data,x,n),me(this,Da,x),me(this,ui,null)}catch(U){me(this,ui,U)}B(this,ui)&&(v=B(this,ui),x=B(this,Da),w=Date.now(),_="error");const k=m.fetchStatus==="fetching",T=_==="pending",M=_==="error",P=T&&k,R=x!==void 0,I={status:_,fetchStatus:m.fetchStatus,isPending:T,isSuccess:_==="success",isError:M,isInitialLoading:P,isLoading:P,data:x,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:k,isRefetching:k&&!T,isLoadingError:M&&!R,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:M&&R,isStale:By(e,n),refetch:this.refetch,promise:B(this,ci)};if(this.options.experimental_prefetchInRender){const U=de=>{I.status==="error"?de.reject(I.error):I.data!==void 0&&de.resolve(I.data)},ee=()=>{const de=me(this,ci,I.promise=s0());U(de)},J=B(this,ci);switch(J.status){case"pending":e.queryHash===s.queryHash&&U(J);break;case"fulfilled":(I.status==="error"||I.data!==J.value)&&ee();break;case"rejected":(I.status!=="error"||I.error!==J.reason)&&ee();break}}return I}updateResult(){const e=B(this,ln),n=this.createResult(B(this,He),this.options);if(me(this,uo,B(this,He).state),me(this,Ra,this.options),B(this,uo).data!==void 0&&me(this,Oa,B(this,He)),Vh(n,e))return;me(this,ln,n);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!B(this,La).size)return!0;const a=new Set(i??B(this,La));return this.options.throwOnError&&a.add("error"),Object.keys(B(this,ln)).some(c=>{const d=c;return B(this,ln)[d]!==e[d]&&a.has(d)})};Fe(this,Qe,Jk).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Fe(this,Qe,a0).call(this)}},_n=new WeakMap,He=new WeakMap,qc=new WeakMap,ln=new WeakMap,uo=new WeakMap,Ra=new WeakMap,ci=new WeakMap,ui=new WeakMap,Yc=new WeakMap,Da=new WeakMap,Oa=new WeakMap,ho=new WeakMap,fo=new WeakMap,di=new WeakMap,La=new WeakMap,Qe=new WeakSet,cc=function(e){Fe(this,Qe,u0).call(this);let n=B(this,He).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(cn)),n},r0=function(){Fe(this,Qe,l0).call(this);const e=xi(this.options.staleTime,B(this,He));if(jo||B(this,ln).isStale||!e0(e))return;const s=Uk(B(this,ln).dataUpdatedAt,e)+1;me(this,ho,setTimeout(()=>{B(this,ln).isStale||this.updateResult()},s))},i0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,He)):this.options.refetchInterval)??!1},o0=function(e){Fe(this,Qe,c0).call(this),me(this,di,e),!(jo||ps(this.options.enabled,B(this,He))===!1||!e0(B(this,di))||B(this,di)===0)&&me(this,fo,setInterval(()=>{(this.options.refetchIntervalInBackground||Fy.isFocused())&&Fe(this,Qe,cc).call(this)},B(this,di)))},a0=function(){Fe(this,Qe,r0).call(this),Fe(this,Qe,o0).call(this,Fe(this,Qe,i0).call(this))},l0=function(){B(this,ho)&&(clearTimeout(B(this,ho)),me(this,ho,void 0))},c0=function(){B(this,fo)&&(clearInterval(B(this,fo)),me(this,fo,void 0))},u0=function(){const e=B(this,_n).getQueryCache().build(B(this,_n),this.options);if(e===B(this,He))return;const n=B(this,He);me(this,He,e),me(this,qc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Jk=function(e){Dt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(B(this,ln))}),B(this,_n).getQueryCache().notify({query:B(this,He),type:"observerResultsUpdated"})})},$_);function tV(t,e){return ps(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function u_(t,e){return tV(t,e)||t.state.data!==void 0&&d0(t,e,e.refetchOnMount)}function d0(t,e,n){if(ps(e.enabled,t)!==!1&&xi(e.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&By(t,e)}return!1}function d_(t,e,n,s){return(t!==e||ps(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&By(t,n)}function By(t,e){return ps(e.enabled,t)!==!1&&t.isStaleByTime(xi(e.staleTime,t))}function nV(t,e){return!Vh(t.getCurrentResult(),e)}var hi,fi,Sn,hr,br,mh,h0,U_,sV=(U_=class extends Za{constructor(n,s){super();Se(this,br);Se(this,hi);Se(this,fi);Se(this,Sn);Se(this,hr);me(this,hi,n),this.setOptions(s),this.bindMethods(),Fe(this,br,mh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const s=this.options;this.options=B(this,hi).defaultMutationOptions(n),Vh(this.options,s)||B(this,hi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,Sn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&ko(s.mutationKey)!==ko(this.options.mutationKey)?this.reset():((r=B(this,Sn))==null?void 0:r.state.status)==="pending"&&B(this,Sn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=B(this,Sn))==null||n.removeObserver(this)}onMutationUpdate(n){Fe(this,br,mh).call(this),Fe(this,br,h0).call(this,n)}getCurrentResult(){return B(this,fi)}reset(){var n;(n=B(this,Sn))==null||n.removeObserver(this),me(this,Sn,void 0),Fe(this,br,mh).call(this),Fe(this,br,h0).call(this)}mutate(n,s){var r;return me(this,hr,s),(r=B(this,Sn))==null||r.removeObserver(this),me(this,Sn,B(this,hi).getMutationCache().build(B(this,hi),this.options)),B(this,Sn).addObserver(this),B(this,Sn).execute(n)}},hi=new WeakMap,fi=new WeakMap,Sn=new WeakMap,hr=new WeakMap,br=new WeakSet,mh=function(){var s;const n=((s=B(this,Sn))==null?void 0:s.state)??Zk();me(this,fi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},h0=function(n){Dt.batch(()=>{var s,r,i,a,c,d,h,p;if(B(this,hr)&&this.hasListeners()){const m=B(this,fi).variables,g=B(this,fi).context;(n==null?void 0:n.type)==="success"?((r=(s=B(this,hr)).onSuccess)==null||r.call(s,n.data,m,g),(a=(i=B(this,hr)).onSettled)==null||a.call(i,n.data,null,m,g)):(n==null?void 0:n.type)==="error"&&((d=(c=B(this,hr)).onError)==null||d.call(c,n.error,m,g),(p=(h=B(this,hr)).onSettled)==null||p.call(h,void 0,n.error,m,g))}this.listeners.forEach(m=>{m(B(this,fi))})})},U_),eN=j.createContext(void 0),Bn=t=>{const e=j.useContext(eN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rV=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(eN.Provider,{value:t,children:e})),tN=j.createContext(!1),iV=()=>j.useContext(tN);tN.Provider;function oV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var aV=j.createContext(oV()),lV=()=>j.useContext(aV),cV=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},uV=t=>{j.useEffect(()=>{t.clearReset()},[t])},dV=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(r&&t.data===void 0||qk(n,[t.error,s])),hV=t=>{if(t.suspense){const e=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>e(n(...s)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},fV=(t,e)=>t.isLoading&&t.isFetching&&!e,pV=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,h_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function mV(t,e,n){var m,g,x,v,w;const s=iV(),r=lV(),i=Bn(),a=i.defaultQueryOptions(t);(g=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||g.call(m,a),a._optimisticResults=s?"isRestoring":"optimistic",hV(a),cV(a,r),uV(r);const c=!i.getQueryCache().get(a.queryHash),[d]=j.useState(()=>new e(i,a)),h=d.getOptimisticResult(a),p=!s&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(_=>{const C=p?d.subscribe(Dt.batchCalls(_)):cn;return d.updateResult(),C},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),j.useEffect(()=>{d.setOptions(a)},[a,d]),pV(a,h))throw h_(a,d,r);if(dV({result:h,errorResetBoundary:r,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw h.error;if((v=(x=i.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||v.call(x,a,h),a.experimental_prefetchInRender&&!jo&&fV(h,s)){const _=c?h_(a,d,r):(w=i.getQueryCache().get(a.queryHash))==null?void 0:w.promise;_==null||_.catch(cn).finally(()=>{d.updateResult()})}return a.notifyOnChangeProps?h:d.trackResult(h)}function Mo(t,e){return mV(t,eV)}function Ws(t,e){const n=Bn(),[s]=j.useState(()=>new sV(n,t));j.useEffect(()=>{s.setOptions(t)},[s,t]);const r=j.useSyncExternalStore(j.useCallback(a=>s.subscribe(Dt.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=j.useCallback((a,c)=>{s.mutate(a,c).catch(cn)},[s]);if(r.error&&qk(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}function zy(t={},e=3e4){return Mo({queryKey:["complaints",t],queryFn:async()=>{const{data:n}=await oe.get("/admin/complaints",{params:t});return n},refetchInterval:e,staleTime:0,refetchOnWindowFocus:!0})}function gV(t,e=5e3){return Mo({queryKey:["complaint",t],queryFn:async()=>{const{data:n}=await oe.get(`/admin/complaints/${t}`);return n},enabled:!!t,refetchInterval:e,refetchOnWindowFocus:!0})}function yV(){const t=Bn();return Ws({mutationFn:async e=>{const{data:n}=await oe.patch(`/admin/complaints/${e}/assign`);return n},onSuccess:()=>{t.invalidateQueries(["complaints"])}})}function xV(){const t=Bn();return Ws({mutationFn:async e=>{const{data:n}=await oe.post("/admin/complaints",e);return n},onSuccess:()=>{t.invalidateQueries(["complaints"])}})}function bV(t){const e=Bn();return Ws({mutationFn:async n=>{await oe.post(`/admin/complaints/${t}/message`,{message:n})},onSuccess:()=>{e.invalidateQueries(["complaint",t])}})}function vV(t,e=5e3){return Mo({queryKey:["userComplaint",t],queryFn:async()=>{const{data:n}=await oe.get(`/complaints/${t}`);return n},enabled:!!t,refetchInterval:e,refetchOnWindowFocus:!0})}function wV(){const t=Bn();return Ws({mutationFn:async({id:e,status:n})=>{const{data:s}=await oe.patch(`/admin/complaints/${e}/status`,{status:n});return s},onSuccess:(e,n)=>{t.invalidateQueries(["complaints"]),t.invalidateQueries(["complaint",n.id])}})}function nN({statusTab:t,setStatusTab:e,counts:n,statusTabs:s=["Open","Under Review","Resolved","Closed"]}){return u.jsx("ul",{className:"flex gap-1.5 bg-[#202a40]/70 p-1 rounded-full shadow border border-blue-900/30 mb-4",children:s.map(r=>{const i=t===r;return u.jsx("li",{className:"relative",children:u.jsxs("button",{type:"button",onClick:()=>e(r),className:`relative px-4 py-1 rounded-full font-semibold text-[14px]
                transition-all
                ${i?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow":"text-blue-100/80 hover:text-white hover:bg-blue-900/30"}
              `,"aria-current":i?"page":void 0,children:[r,u.jsx("span",{className:"ml-2 font-mono text-xs px-2 py-0.5 rounded-full bg-slate-900 text-cyan-200",children:n[r]??0}),i&&u.jsx(Cc.span,{layoutId:"complaint-status-underline",className:"absolute left-1/2 -bottom-1 -translate-x-1/2 h-0.5 w-4/5 rounded-full bg-gradient-to-r from-cyan-400/80 via-blue-400 to-blue-600/70 shadow-[0_1px_8px_0_rgba(40,175,255,0.14)]",transition:{type:"spring",stiffness:500,damping:30}})]})},r)})})}function _V({assignedTo:t,currentUserId:e}){return t?t._id===e?u.jsx("span",{className:"text-blue-300 font-semibold",children:"You"}):u.jsxs("span",{children:[t.firstName," ",t.lastName,t.email&&u.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["(",t.email,")"]})]}):u.jsx("span",{className:"text-gray-400",children:""})}function SV({open:t,onClose:e,complaint:n}){var r;const{user:s}=ns();return!t||!n?null:u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-slate-800 rounded-2xl p-7 max-w-lg w-full shadow-2xl text-white relative",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white text-2xl","aria-label":"Close",children:""}),u.jsx("h2",{className:"text-2xl font-bold mb-1",children:n.subject}),u.jsxs("div",{className:"text-xs text-gray-400 mb-4",children:["#",n._id.slice(-6)]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Status:"})," ",u.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs
                ${n.status==="Open"?"bg-green-600":n.status==="Under Review"?"bg-yellow-600":n.status==="Resolved"?"bg-blue-600":"bg-gray-600"}`,children:n.status})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Category:"})," ",n.category]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Channel:"})," ",n.channel]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Assigned To:"})," ",u.jsx(_V,{assignedTo:n.assignedTo,currentUserId:s==null?void 0:s._id})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Submitted:"})," ",(r=n.timeline)!=null&&r.submitted?new Date(n.timeline.submitted).toLocaleString():n.createdAt?new Date(n.createdAt).toLocaleString():"-"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Description:"}),u.jsx("div",{className:"mt-1 bg-slate-700 rounded p-3 text-sm whitespace-pre-line",children:n.description})]})]})]})})}function CV(t,e){var r,i,a;if(!t)return"-";if(((r=t._id)==null?void 0:r.toString())===(e==null?void 0:e.toString()))return"You";const n=(i=t.firstName)==null?void 0:i.trim(),s=(a=t.lastName)==null?void 0:a.trim();return n||s?`${n??""} ${s??""}`.trim():t.name?t.name:"-"}function jV({tags:t}){return!t||t.length===0?u.jsx("span",{className:"text-gray-400",children:"-"}):u.jsx("div",{className:"flex flex-wrap gap-1",children:t.map((e,n)=>u.jsx("span",{className:"inline-block bg-blue-950 px-2 py-0.5 rounded text-xs text-blue-200",title:e,children:e.length>12?e.slice(0,12)+"":e},n))})}function kV({isEscalated:t,feedback:e,notes:n,messages:s}){return u.jsxs("span",{className:"flex gap-1 items-center",children:[t&&u.jsx("span",{title:"Escalated",className:"text-red-400 font-bold",children:""}),e&&u.jsx("span",{title:`Feedback: ${e.rating||"-"}`,children:""}),Array.isArray(n)&&n.length>0&&u.jsx("span",{title:`${n.length} Notes`,className:"text-purple-400",children:""}),Array.isArray(s)&&s.length>0&&u.jsx("span",{title:`${s.length} Messages`,className:"text-blue-300",children:""})]})}function NV({c:t,onAssign:e,assigning:n,assignError:s,onView:r,currentUserId:i}){var d,h;const a=CV(t.assignedTo,i),c=!t.assignedTo&&typeof e=="function";return u.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-blue-950/60 transition group",children:[u.jsx("td",{className:"px-3 py-2 min-w-[60px] font-mono text-xs text-blue-400 truncate",children:t._id.slice(-6)}),u.jsx("td",{className:"px-3 py-2 max-w-[220px] truncate",title:t.subject,children:u.jsx("span",{className:"font-semibold text-slate-200",children:t.subject})}),u.jsx("td",{className:"px-3 py-2 text-center",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold
            ${t.status==="Open"?"bg-green-700 text-green-100":t.status==="Under Review"?"bg-yellow-700 text-yellow-100":t.status==="Resolved"?"bg-blue-700 text-blue-100":"bg-slate-600 text-slate-100"}
          `,children:t.status})}),u.jsx("td",{className:"px-3 py-2 text-center",children:t.category||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx("td",{className:"px-3 py-2 capitalize text-center",children:t.channel||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx("td",{className:"px-3 py-2 max-w-[160px]",children:u.jsx(jV,{tags:t.tags})}),u.jsx("td",{className:"px-3 py-2 text-center",children:a}),u.jsx("td",{className:"px-3 py-2 text-center",children:(d=t.timeline)!=null&&d.assigned?new Date(t.timeline.assigned).toLocaleDateString():"-"}),u.jsx("td",{className:"px-3 py-2 text-center",children:(h=t.timeline)!=null&&h.submitted?new Date(t.timeline.submitted).toLocaleDateString():t.createdAt?new Date(t.createdAt).toLocaleDateString():"-"}),u.jsx("td",{className:"px-3 py-2 text-center",children:u.jsx(kV,{...t})}),u.jsxs("td",{className:"px-3 py-2 text-right",children:[c&&u.jsx("button",{onClick:e,disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded transition shadow-sm mr-2",children:n?"Assigning...":"Assign to Me"}),u.jsx("button",{onClick:r,className:"bg-slate-600 hover:bg-blue-600 text-white px-2 py-1 rounded transition shadow-sm group-hover:bg-blue-700",children:"View"}),s&&u.jsxs("span",{className:"text-xs text-red-400 block mt-1",children:["Failed to assign: ",s.message||"Unknown error"]})]})]})}function Vy({complaints:t=[],isLoading:e=!1,emptyText:n="No complaints found.",onAssign:s,assigning:r={},assignError:i={},currentUserId:a}){const[c,d]=j.useState(!1),[h,p]=j.useState(null),m=x=>{p(x),d(!0)},g=()=>{d(!1),p(null)};return e?u.jsx("div",{className:"flex items-center justify-center min-h-[30vh] text-blue-300",children:"Loading complaints"}):t.length?u.jsxs("section",{className:"w-full bg-slate-800 rounded-xl shadow-lg border border-slate-700 overflow-hidden",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-sm text-white border-separate border-spacing-0",children:[u.jsx("thead",{className:"sticky top-0 z-10 bg-slate-900/95 border-b border-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 min-w-[60px] text-left",children:"ID"}),u.jsx("th",{className:"px-3 py-2 text-left",children:"Subject"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Status"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Category"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Channel"}),u.jsx("th",{className:"px-3 py-2 text-left",children:"Tags"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Assigned To"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Assigned At"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Submitted"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Flags"}),u.jsx("th",{className:"px-3 py-2 text-right",children:"Actions"})]})}),u.jsx("tbody",{children:t.map(x=>u.jsx(NV,{c:x,onAssign:s?()=>s(x._id):void 0,assigning:r[x._id],assignError:i[x._id],onView:()=>m(x),currentUserId:a},x._id))})]})}),c&&u.jsx("div",{className:"fixed inset-0 z-30 flex items-center justify-center bg-slate-900/70 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white max-w-lg w-full rounded-xl p-6 shadow-2xl relative animate-fade-in",children:[u.jsx("button",{className:"absolute top-3 right-3 text-xl text-slate-500 hover:text-blue-600 transition",onClick:g,"aria-label":"Close",children:""}),u.jsx(SV,{open:c,onClose:g,complaint:h})]})})]}):u.jsx("div",{className:"flex items-center justify-center min-h-[30vh] text-slate-400",children:n})}const TV=["Open","Under Review","Resolved","Closed"];function EV({currentUserId:t="moderator-id-123"}){const{data:e=[],isLoading:n}=zy(),s=yV(),[r,i]=j.useState("Open"),a=TV.reduce((m,g)=>({...m,[g]:e.filter(x=>x.status===g).length}),{}),c=e.filter(m=>m.status===r),d={},h={};s.variables&&(d[s.variables]=s.isLoading,h[s.variables]=s.error);const p=m=>s.mutate(m);return u.jsxs("div",{children:[u.jsx(nN,{statusTab:r,setStatusTab:i,counts:a}),u.jsx(Vy,{complaints:c,isLoading:n,onAssign:p,assigning:d,assignError:h,currentUserId:t,emptyText:"No complaints for this status."})]})}const f_=["Under Review","Resolved","Closed"];function PV(){const{data:t=[],isLoading:e}=zy(),{user:n}=ns(),[s,r]=j.useState("Under Review"),i=t.filter(d=>d.assignedTo&&d.assignedTo._id===(n==null?void 0:n._id)),a=f_.reduce((d,h)=>({...d,[h]:i.filter(p=>p.status===h).length}),{}),c=i.filter(d=>d.status===s);return u.jsxs("div",{children:[u.jsx(nN,{statusTab:s,setStatusTab:r,counts:a,statusTabs:f_}),u.jsx(Vy,{complaints:c,isLoading:e,emptyText:"No complaints for this status."})]})}let AV={data:""},MV=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||AV,RV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,DV=/\/\*[^]*?\*\/|  +/g,p_=/\n+/g,si=(t,e)=>{let n="",s="",r="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":s+=i[1]=="f"?si(a,i):i+"{"+si(a,i[1]=="k"?"":e)+"}":typeof a=="object"?s+=si(a,e?e.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=si.p?si.p(i,a):i+":"+a+";")}return n+(e&&r?e+"{"+r+"}":r)+s},or={},sN=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+sN(t[n]);return e}return t},OV=(t,e,n,s,r)=>{let i=sN(t),a=or[i]||(or[i]=(d=>{let h=0,p=11;for(;h<d.length;)p=101*p+d.charCodeAt(h++)>>>0;return"go"+p})(i));if(!or[a]){let d=i!==t?t:(h=>{let p,m,g=[{}];for(;p=RV.exec(h.replace(DV,""));)p[4]?g.shift():p[3]?(m=p[3].replace(p_," ").trim(),g.unshift(g[0][m]=g[0][m]||{})):g[0][p[1]]=p[2].replace(p_," ").trim();return g[0]})(t);or[a]=si(r?{["@keyframes "+a]:d}:d,n?"":"."+a)}let c=n&&or.g?or.g:null;return n&&(or.g=or[a]),((d,h,p,m)=>{m?h.data=h.data.replace(m,d):h.data.indexOf(d)===-1&&(h.data=p?d+h.data:h.data+d)})(or[a],e,s,c),a},LV=(t,e,n)=>t.reduce((s,r,i)=>{let a=e[i];if(a&&a.call){let c=a(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;a=d?"."+d:c&&typeof c=="object"?c.props?"":si(c,""):c===!1?"":c}return s+r+(a??"")},"");function hf(t){let e=this||{},n=t.call?t(e.p):t;return OV(n.unshift?n.raw?LV(n,[].slice.call(arguments,1),e.p):n.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):n,MV(e.target),e.g,e.o,e.k)}let rN,f0,p0;hf.bind({g:1});let Sr=hf.bind({k:1});function IV(t,e,n,s){si.p=e,rN=t,f0=n,p0=s}function Ni(t,e){let n=this||{};return function(){let s=arguments;function r(i,a){let c=Object.assign({},i),d=c.className||r.className;n.p=Object.assign({theme:f0&&f0()},c),n.o=/ *go\d+/.test(d),c.className=hf.apply(n,s)+(d?" "+d:"");let h=t;return t[0]&&(h=c.as||t,delete c.as),p0&&h[0]&&p0(c),rN(h,c)}return r}}var FV=t=>typeof t=="function",m0=(t,e)=>FV(t)?t(e):t,BV=(()=>{let t=0;return()=>(++t).toString()})(),zV=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),VV=20,iN=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,VV)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return iN(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let r=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+r}))}}},$V=[],Qm={toasts:[],pausedAt:void 0},$y=t=>{Qm=iN(Qm,t),$V.forEach(e=>{e(Qm)})},UV=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||BV()}),lu=t=>(e,n)=>{let s=UV(e,t,n);return $y({type:2,toast:s}),s.id},In=(t,e)=>lu("blank")(t,e);In.error=lu("error");In.success=lu("success");In.loading=lu("loading");In.custom=lu("custom");In.dismiss=t=>{$y({type:3,toastId:t})};In.remove=t=>$y({type:4,toastId:t});In.promise=(t,e,n)=>{let s=In.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let i=e.success?m0(e.success,r):void 0;return i?In.success(i,{id:s,...n,...n==null?void 0:n.success}):In.dismiss(s),r}).catch(r=>{let i=e.error?m0(e.error,r):void 0;i?In.error(i,{id:s,...n,...n==null?void 0:n.error}):In.dismiss(s)}),t};var HV=Sr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,WV=Sr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qV=Sr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,YV=Ni("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${HV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${WV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${qV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,KV=Sr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,XV=Ni("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${KV} 1s linear infinite;
`,QV=Sr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GV=Sr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ZV=Ni("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,JV=Ni("div")`
  position: absolute;
`,e7=Ni("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,t7=Sr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,n7=Ni("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${t7} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,s7=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?j.createElement(n7,null,e):e:n==="blank"?null:j.createElement(e7,null,j.createElement(XV,{...s}),n!=="loading"&&j.createElement(JV,null,n==="error"?j.createElement(YV,{...s}):j.createElement(ZV,{...s})))},r7=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,i7=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,o7="0%{opacity:0;} 100%{opacity:1;}",a7="0%{opacity:1;} 100%{opacity:0;}",l7=Ni("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,c7=Ni("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,u7=(t,e)=>{let n=t.includes("top")?1:-1,[s,r]=zV()?[o7,a7]:[r7(n),i7(n)];return{animation:e?`${Sr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Sr(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};j.memo(({toast:t,position:e,style:n,children:s})=>{let r=t.height?u7(t.position||e||"top-center",t.visible):{opacity:0},i=j.createElement(s7,{toast:t}),a=j.createElement(c7,{...t.ariaProps},m0(t.message,t));return j.createElement(l7,{className:t.className,style:{...r,...n,...t.style}},typeof s=="function"?s({icon:i,message:a}):j.createElement(j.Fragment,null,i,a))});IV(j.createElement);hf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var m_=In;function d7({status:t,complaintId:e,onStatusChange:n}){const[s,r]=j.useState(!1),[i,a]=j.useState(null),[c,d]=j.useState(!1),h=j.useRef(null),p=wV();j.useEffect(()=>{function x(v){h.current&&!h.current.contains(v.target)&&r(!1)}return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const m=x=>{if(x===t)return r(!1);a(x),d(!0)},g=async()=>{var x,v;d(!1),r(!1);try{await p.mutateAsync({id:e,status:i}),n==null||n(i),m_.success("Status updated!")}catch(w){m_.error(((v=(x=w==null?void 0:w.response)==null?void 0:x.data)==null?void 0:v.error)||(w==null?void 0:w.message)||"Failed to update status. Please try again.")}a(null)};return u.jsxs("div",{className:"relative",ref:h,children:[u.jsxs("button",{className:"flex items-center min-w-[140px] px-4 py-2 rounded-lg bg-[#1e2538] text-white border border-slate-700 shadow font-semibold transition hover:bg-sky-700 focus:ring-2 focus:ring-sky-400",onClick:()=>r(x=>!x),type:"button",disabled:p.isLoading,children:[t,u.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&u.jsx("ul",{className:"absolute right-0 z-10 mt-2 bg-[#232c3d] border border-slate-700 rounded-xl shadow-lg min-w-[140px] py-1",children:["Under Review","Resolved","Closed"].map(x=>u.jsx("li",{children:u.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded-lg transition
                  ${x===t?"bg-slate-900 text-sky-300 cursor-not-allowed":"hover:bg-blue-500 hover:text-white text-white"}
                `,onClick:()=>m(x),disabled:x===t,type:"button",children:x})},x))}),c&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"bg-[#232c3d] rounded-xl shadow-xl p-6 min-w-[320px] text-white flex flex-col gap-4",children:[u.jsxs("div",{className:"text-base font-semibold",children:['Are you sure you want to change the status to "',i,'"?']}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg",onClick:()=>d(!1),type:"button",children:"Cancel"}),u.jsxs("button",{className:"bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg font-semibold flex items-center justify-center",onClick:g,type:"button",disabled:p.isLoading,children:[p.isLoading&&u.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"white",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"white",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Yes, change"]})]})]})})]})}const oN=(t,e="U")=>(t||e).split(" ").map(n=>n[0]).join("").slice(0,2).toUpperCase(),h7=t=>t==="admin"?{name:"Admin",initials:"A"}:t==="moderator"?{name:"Moderator",initials:"M"}:t==="user"?{name:"Customer",initials:"C"}:{name:"User",initials:"U"};function f7(t){if(!t)return[];const e=Array.isArray(t.messages)?t.messages:[];return(t.description&&(!e.length||e[0].message!==t.description)?[{role:"user",message:t.description,sentAt:t.createdAt||Date.now(),isDescription:!0}]:[]).concat(e)}function p7(){var c;const{user:t}=ns(),{data:e=[],isLoading:n}=zy(),s=e.filter(d=>d.assignedTo&&d.assignedTo._id===(t==null?void 0:t._id)&&d.status!=="Resolved"&&d.status!=="Closed"),[r,i]=j.useState(((c=s[0])==null?void 0:c._id)||null);j.useEffect(()=>{(!r||!s.find(d=>d._id===r))&&s.length&&i(s[0]._id)},[s,r]);const a=s.find(d=>d._id===r);return n?u.jsx("div",{className:"flex h-96 items-center justify-center text-gray-400",children:"Loading complaints..."}):s.length?u.jsxs("div",{className:"w-full flex flex-1 min-h-0 bg-transparent rounded-xl shadow-xl overflow-hidden border border-slate-800 h-[600px]",children:[u.jsxs("aside",{className:"w-60 bg-[#192338] border-r border-slate-800 flex flex-col py-3 px-2 gap-2 min-h-0",children:[u.jsx("h2",{className:"text-base font-bold text-white mb-1 pl-1 tracking-tight",children:"Assigned Complaints"}),u.jsx("ul",{className:"flex-1 overflow-y-auto pr-1 custom-scrollbar min-h-0",children:s.map(d=>u.jsx("li",{className:"mb-1",children:u.jsxs("button",{className:`w-full flex items-center gap-2 px-2 py-1.5 rounded-lg transition font-medium text-[13px]
                  ${r===d._id?"bg-gradient-to-r from-blue-500 to-cyan-400 text-white shadow":"bg-[#202c44] hover:bg-blue-500 hover:text-white text-slate-300"}`,onClick:()=>i(d._id),children:[u.jsx("span",{className:"font-mono text-[11px] bg-slate-900 px-1.5 py-0.5 rounded mr-1",children:d._id.slice(-6)}),u.jsx("span",{className:"truncate",children:d.subject||u.jsx("em",{className:"italic text-slate-400",children:"No subject"})})]})},d._id))})]}),u.jsx("section",{className:"flex-1 flex flex-col min-h-0 p-4",children:u.jsxs("div",{className:"flex flex-col h-full min-h-0 w-full mx-auto bg-gradient-to-br from-[#232c3d] via-[#202a40] to-[#1a2235] rounded-2xl shadow-xl border border-slate-700 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-[#171f30] via-[#1b273a] to-[#22334c] px-6 py-4 border-b border-slate-800 flex-shrink-0",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-cyan-400 font-bold text-white text-[15px] shadow-md border-2 border-white",children:oN(t==null?void 0:t.name,"U")}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-[16px] text-white tracking-wide leading-none",children:"Chat with User"}),u.jsx("div",{className:"text-[11px] text-slate-400 mt-0.5 leading-none",children:u.jsx("span",{className:"font-semibold text-white",children:a==null?void 0:a.subject})})]}),u.jsx("div",{className:"ml-auto flex items-center gap-2",children:(a==null?void 0:a.assignedTo)&&u.jsx(d7,{status:a.status,complaintId:a._id,onStatusChange:d=>{(d==="Resolved"||d==="Closed")&&i(null)}})})]}),u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-6 py-4 flex flex-col gap-2 custom-scrollbar bg-transparent",children:a?u.jsx(m7,{complaintId:a._id,currentUser:t}):u.jsx("div",{className:"flex flex-1 items-center justify-center",children:u.jsx("p",{className:"text-slate-400",children:"Select a complaint to view messages."})})})]})})]}):u.jsx("div",{className:"flex h-96 items-center justify-center text-gray-400",children:"No assigned complaints."})}function m7({complaintId:t,currentUser:e}){const n=j.useRef(null),{data:s,isLoading:r}=gV(t,5e3),i=bV(t),[a,c]=j.useState(""),d=f7(s);j.useEffect(()=>{n.current&&n.current.scrollIntoView({behavior:"smooth"})},[d.length,r]);const h=async p=>{p.preventDefault(),!(!a.trim()||i.isLoading)&&(await i.mutateAsync(a),c(""))};return r||!s?u.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:"Loading chat..."}):u.jsxs("div",{className:"flex flex-col h-full min-h-0 relative",children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-2 min-h-0 overflow-y-auto pb-2",children:[d.length===0&&u.jsx("p",{className:"text-gray-400 text-xs text-center mt-10",children:"No messages yet."}),d.map((p,m)=>{const g=p.role===(e==null?void 0:e.role)&&p.sender===(e==null?void 0:e.id)||p.role==="admin"&&(e==null?void 0:e.role)==="admin"||p.role==="moderator"&&(e==null?void 0:e.role)==="moderator",{name:x,initials:v}=h7(p.role);return u.jsxs("div",{className:`flex items-end gap-2 ${g?"justify-end":"justify-start"}`,children:[!g&&u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-700 to-cyan-400 flex items-center justify-center font-bold text-white text-xs shadow border-2 border-white",children:v})}),u.jsxs("div",{className:`
    px-4 py-2.5 
    rounded-[22px]
    max-w-[90%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]
    break-words
    shadow-md
    text-[14px]
    ${g?"bg-gradient-to-br from-blue-400 to-cyan-400 text-white rounded-br-lg":"bg-white text-gray-900 rounded-bl-lg"}
    transition
  `,children:[u.jsxs("div",{className:"text-[11px] mb-1 opacity-60 flex items-center gap-1",children:[u.jsx("span",{children:g?"You":x}),u.jsx("span",{className:"mx-1",children:""}),u.jsx("span",{children:p.sentAt?new Date(p.sentAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),u.jsx("div",{className:"whitespace-pre-wrap break-words break-all leading-tight",children:p.message})]}),g&&u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-700 to-cyan-400 flex items-center justify-center font-bold text-white text-xs shadow border-2 border-white",children:oN(e==null?void 0:e.name,v)})})]},m)}),u.jsx("div",{ref:n})]}),u.jsxs("form",{className:"flex gap-2 p-4 border-t border-slate-800 bg-slate-900/95 rounded-b-xl shadow-inner",onSubmit:h,autoComplete:"off",children:[u.jsx("input",{className:"flex-1 px-4 py-3 rounded-lg bg-[#263149] text-white focus:outline-none focus:ring-2 focus:ring-sky-400/80 transition shadow-md",value:a,onChange:p=>c(p.target.value),placeholder:"Type your message",disabled:i.isLoading,maxLength:1e3}),u.jsx("button",{className:"bg-gradient-to-br from-sky-500 to-blue-600 hover:from-sky-400 hover:to-blue-700 px-6 py-3 rounded-lg text-white font-semibold shadow-lg border border-blue-400/50 transition",type:"submit",disabled:i.isLoading,children:i.isLoading?"Sending":"Send"})]})]})}function aN(){const[t,e]=j.useState("all");return u.jsxs("div",{children:[u.jsx(Iz,{activeTab:t,setActiveTab:e}),t==="all"&&u.jsx(EV,{}),t==="assigned"&&u.jsx(PV,{}),t==="responses"&&u.jsx(p7,{})]})}const Uy=()=>{const{id:t}=j0(),e=Hs(),[n,s]=j.useState(null),[r,i]=j.useState(""),[a,c]=j.useState(""),d=async()=>{var p,m;try{const{data:g}=await oe.get(`/admin/complaints/${t}`);s(g)}catch(g){c(((m=(p=g.response)==null?void 0:p.data)==null?void 0:m.message)||g.message)}},h=async()=>{var p,m;try{await oe.post(`/admin/complaints/${t}/message`,{message:r}),i(""),d()}catch(g){c(((m=(p=g.response)==null?void 0:p.data)==null?void 0:m.message)||g.message)}};return j.useEffect(()=>{d()},[t]),n?u.jsxs("div",{children:[u.jsx("button",{className:"mb-4 text-blue-400",onClick:()=>e("/dashboard/admin/complaints"),children:" Back to list"}),u.jsx("h2",{className:"text-2xl mb-2",children:n.subject}),u.jsxs("p",{className:"mb-4",children:["Status: ",u.jsx("strong",{children:n.status})]}),a&&u.jsx("p",{className:"text-red-500",children:a}),u.jsx("section",{className:"bg-slate-700 p-4 rounded mb-4 max-h-64 overflow-y-auto",children:n.messages.map((p,m)=>u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"text-sm text-gray-400",children:[u.jsx("strong",{children:p.role})," on ",new Date(p.sentAt).toLocaleString()]}),u.jsx("div",{className:"mt-1",children:p.message})]},m))}),u.jsx("textarea",{value:r,rows:4,onChange:p=>i(p.target.value),className:"w-full p-2 bg-[#1e293b] rounded text-white",placeholder:"Type your message"}),u.jsx("button",{className:"mt-2 bg-green-600 px-4 py-2 rounded",onClick:h,children:"Send Message"})]}):u.jsx("p",{children:"Loading complaint..."})};function g7({refetchInterval:t=5e3,showTrashed:e=!1,showAll:n=!1}={}){return Mo({queryKey:["todos",{showTrashed:e,showAll:n}],queryFn:async()=>{let s="/admin/todos";return e?s+="?trash=1":n&&(s+="?all=1"),(await oe.get(s)).data},refetchInterval:t,staleTime:2e3})}function y7(){const t=Bn();return Ws({mutationFn:async e=>(await oe.post("/admin/todos",e)).data,onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]})}})}function lN(){const t=Bn();return Ws({mutationFn:async({id:e,...n})=>(await oe.put(`/admin/todos/${e}`,n)).data,onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]})}})}function x7(){const t=Bn();return Ws({mutationFn:async e=>(await oe.delete(`/admin/todos/${e}`)).data,onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]})}})}function b7(){const t=Bn();return Ws({mutationFn:async e=>(await oe.post(`/admin/todos/${e}/restore`)).data,onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]})}})}function v7(){const t=Bn();return Ws({mutationFn:async e=>(await oe.delete(`/admin/todos/${e}/hard`)).data,onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]})}})}function w7(t){return Mo({queryKey:["assignable-users"],queryFn:async()=>{const n=await oe.get("/users?roles=moderator");if(Array.isArray(n.data))return n.data;if(Array.isArray(n.data.users))return n.data.users;if(Array.isArray(n.data.data))return n.data.data;throw new Error("Unexpected response format: "+JSON.stringify(n.data))},staleTime:6e4})}function _7(t,e){const n=(t||"").split(/\s+/),s=(e||"").split(/\s+/),r=n.length,i=s.length,a=Array(r+1).fill(null).map(()=>Array(i+1).fill(0));for(let p=r-1;p>=0;p--)for(let m=i-1;m>=0;m--)n[p]===s[m]?a[p][m]=a[p+1][m+1]+1:a[p][m]=Math.max(a[p+1][m],a[p][m+1]);let c=0,d=0;const h=[];for(;c<r&&d<i;)n[c]===s[d]?(h.push({type:"same",value:n[c]}),c++,d++):a[c+1][d]>=a[c][d+1]?(h.push({type:"removed",value:n[c]}),c++):(h.push({type:"added",value:s[d]}),d++);for(;c<r;)h.push({type:"removed",value:n[c++]});for(;d<i;)h.push({type:"added",value:s[d++]});return h}function g_({oldText:t,newText:e,type:n}){const s=_7(t,e);return u.jsx("span",{children:s.map((r,i)=>n==="old"?r.type==="removed"?u.jsx("span",{className:"bg-rose-900/80 text-rose-300 rounded px-0.5",children:r.value+" "},i):r.type==="same"?u.jsx("span",{children:r.value+" "},i):null:r.type==="added"?u.jsx("span",{className:"bg-green-900/80 text-green-300 rounded px-0.5",children:r.value+" "},i):r.type==="same"?u.jsx("span",{children:r.value+" "},i):null)})}function S7(t){return t?new Date(t).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function C7(t){return t?t.firstName||t.lastName?`${t.firstName||""} ${t.lastName||""}`.trim():t.email||t.username||t._id||"(unknown user)":"(unknown user)"}function y_(t,e=120){const n=String(t??"");return n.length<=e?{isLong:!1,preview:n,full:n}:{isLong:!0,preview:n.slice(0,e)+"...",full:n}}function j7({open:t,onClose:e,history:n=[]}){const[s,r]=j.useState({});if(!t)return null;const i=[...n].sort((p,m)=>new Date(m.timestamp)-new Date(p.timestamp)),a=p=>{switch(p){case"updated":return"bg-blue-600 text-white";case"deleted":return"bg-rose-600 text-white";case"restored":return"bg-green-600 text-white";case"created":return"bg-teal-600 text-white";default:return"bg-gray-600 text-white"}},c=p=>{switch(p){case"updated":return"bg-[#181f2e]/90 border-blue-900";case"deleted":return"bg-[#251b23]/90 border-rose-700";case"restored":return"bg-[#1d2d22]/90 border-green-700";case"created":return"bg-[#1d2d28]/90 border-teal-700";default:return"bg-[#22283a]/90 border-gray-800"}},d=p=>{r(m=>({...m,[p]:!m[p]}))},h=u.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 px-4 transition-colors duration-300",children:[u.jsxs("div",{className:"relative rounded-2xl shadow-2xl max-w-3xl w-full overflow-hidden animate-fade-in",style:{background:"#232e47",padding:"2.2rem 0 2rem 0"},children:[u.jsx("button",{className:"absolute right-6 top-6 text-gray-300 hover:text-white text-2xl font-bold transition-colors","aria-label":"Close modal",onClick:e,children:""}),u.jsx("h2",{className:"text-2xl font-extrabold mb-5 pl-8 pt-2 tracking-tight text-white",children:"ToDo Change History"}),u.jsx("div",{className:`\r
            max-h-[70vh]\r
            overflow-y-auto\r
            px-5\r
            custom-scrollbar-dark\r
            pb-1\r
            scroll-smooth\r
            transition-all\r
          `,children:i.length===0?u.jsx("p",{className:"text-gray-400 py-12 text-center",children:"No history available."}):u.jsx("ul",{className:"space-y-5",children:i.map((p,m)=>{const g=y_(p.oldValue,120),x=y_(p.newValue,120),v=!!s[m],w=g.isLong&&!v?g.preview:g.full,_=x.isLong&&!v?x.preview:x.full;return u.jsxs("li",{className:`
                      border-l-4 pl-5 pr-3 py-4
                      rounded-xl
                      shadow
                      ${c(p.action)}
                      transition-shadow
                      hover:shadow-lg
                    `,style:{minHeight:"86px"},children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[u.jsx("span",{className:`
                          text-xs px-2 py-0.5 rounded font-bold tracking-wide uppercase
                          ${a(p.action)}
                        `,children:p.action}),p.field&&u.jsx("span",{className:"text-[11px] bg-[#151b2b] text-gray-300 px-2 py-0.5 rounded font-mono tracking-tight border border-gray-700",children:p.field}),u.jsx("span",{className:"text-[11px] text-gray-400 ml-auto tabular-nums",children:S7(p.timestamp)})]}),u.jsxs("div",{className:"mt-1 text-sm",children:[p.action==="updated"&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"text-gray-300 font-medium",children:[p.field," changed:"]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-1",children:[u.jsxs("div",{className:"flex-1 break-words whitespace-pre-wrap text-xs leading-snug font-mono"+(v&&g.full.length>400?" max-h-[180px] overflow-y-auto custom-scrollbar-dark":""),children:[u.jsx("span",{className:"text-gray-400 font-mono text-xs",children:"From:"})," ",u.jsxs("span",{className:"text-rose-400",children:['"',u.jsx(g_,{oldText:w,newText:_,type:"old"}),'"']})]}),u.jsxs("div",{className:"flex-1 break-words whitespace-pre-wrap text-xs leading-snug font-mono"+(v&&x.full.length>400?" max-h-[180px] overflow-y-auto custom-scrollbar-dark":""),children:[u.jsx("span",{className:"text-gray-400 font-mono text-xs",children:"To:"})," ",u.jsxs("span",{className:"text-green-400",children:['"',u.jsx(g_,{oldText:w,newText:_,type:"new"}),'"']})]})]}),(g.isLong||x.isLong)&&u.jsx("div",{className:"pt-2",children:u.jsx("button",{className:"text-xs underline text-blue-300 hover:text-blue-100 transition",onClick:()=>d(m),children:v?"Show less":"Show more"})})]}),p.action==="deleted"&&u.jsx("p",{className:"text-rose-400 font-semibold flex items-center gap-1 mt-2",children:" ToDo moved to trash."}),p.action==="restored"&&u.jsx("p",{className:"text-green-400 font-semibold flex items-center gap-1 mt-2",children:" ToDo restored from trash."}),p.action==="created"&&u.jsx("p",{className:"text-teal-400 font-semibold flex items-center gap-1 mt-2",children:" ToDo created."})]}),u.jsxs("div",{className:"text-xs text-gray-400 mt-4 font-mono flex items-center gap-1",children:["By:"," ",u.jsx("span",{className:"font-semibold text-white not-italic",children:C7(p.user)})]})]},m)})})})]}),u.jsx("style",{children:`
        .custom-scrollbar-dark::-webkit-scrollbar {
          width: 9px;
        }
        .custom-scrollbar-dark::-webkit-scrollbar-thumb {
          background: #273559;
          border-radius: 8px;
        }
        .custom-scrollbar-dark::-webkit-scrollbar-track {
          background: #151b2b;
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(30px) scale(.97);}
          to   { opacity: 1; transform: none;}
        }
        .animate-fade-in {
          animation: fade-in 0.32s cubic-bezier(.5,1.4,.3,1) both;
        }
      `})]});return BP.createPortal(h,document.getElementById("modal-root"))}function ec(t,e=!0){if(!t)return"-";const n=new Date(t);return e?n.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString()}function Qd(t){return t?t.firstName||t.lastName?`${t.firstName||""} ${t.lastName||""}`.trim():t.email?t.email:t.username||t._id||"-":"-"}function k7(t){if(!t)return null;const e=new Date(t)-new Date;if(e<0)return"Pending permanent deletion";const n=Math.floor(e/(1e3*60*60*24)),s=Math.floor(e/(1e3*60*60)%24),r=Math.floor(e/(1e3*60)%60);return`Auto-deletes in ${n}d ${s}h ${r}m`}function N7(t,e,n){return!!(n==="admin"||t.createdBy&&(typeof t.createdBy=="object"&&t.createdBy._id===e||typeof t.createdBy=="string"&&t.createdBy===e)||t.type==="collaborative"&&n==="moderator")}function T7({todo:t,onEdit:e,onDelete:n,onMarkDone:s,onRestore:r,onHardDelete:i,userId:a,userRole:c,idx:d,isMarking:h,isTrash:p=!1}){const[m,g]=j.useState(!1),[x,v]=j.useState(!1),w=t.status==="done"?"bg-gray-100/70":"bg-slate-800/80",_=t.status==="done"?"text-gray-700":"text-white",C=t.status==="done"?"text-gray-600":"text-gray-300",k=t.status==="done"?"bg-gray-300 text-gray-700":"bg-slate-600 text-white",T=t.status==="done"?"bg-green-200 text-gray-700":t.status==="in_progress"?"bg-blue-800 text-blue-200":t.status==="blocked"?"bg-red-800 text-red-200":"bg-slate-700 text-slate-100";return u.jsxs("div",{className:`
        ${w}
        rounded-2xl shadow px-6 py-5 border border-slate-800
        relative group transition-all duration-150
        backdrop-blur-sm
        ${m?"pb-7":""}
      `,children:[u.jsxs("div",{className:"flex flex-row justify-between items-start gap-2",children:[u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>g(M=>!M),title:"Show/hide description",children:[typeof d=="number"&&u.jsxs("span",{className:`font-mono text-xs px-2 py-0.5 mr-2 opacity-70 rounded ${t.status==="done"?"bg-gray-300 text-gray-700":"bg-slate-600 text-white"}`,children:["#",d+1]}),u.jsx("h2",{className:`
                text-lg md:text-xl font-bold group-hover:underline line-clamp-1 transition-all
                ${_}
                ${t.status==="done"?"line-through decoration-2 decoration-gray-400 decoration-center":""}
              `,children:t.title}),u.jsx("span",{className:`ml-2 text-xs hidden md:inline ${C}`,children:ec(t.createdAt)})]})}),u.jsx("div",{className:"flex items-center gap-2 mt-1",children:u.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${T}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})})]}),u.jsxs("div",{className:"mt-3",children:[u.jsx("button",{onClick:()=>g(M=>!M),className:`text-left text-sm hover:underline focus:outline-none mb-1 ${t.status==="done"?"text-blue-600":"text-blue-400"}`,children:m?"Hide Details ":"Show Details "}),m&&u.jsxs("div",{className:`mt-2 p-3 rounded-md shadow-inner transition-all ${t.status==="done"?"bg-gray-200":"bg-[#232942]"}`,children:[u.jsx("div",{className:`${_} text-base whitespace-pre-line break-words`,children:t.description||u.jsx("span",{className:C,children:"No description."})}),t.subtasks&&t.subtasks.length>0&&u.jsx("ul",{className:"list-disc ml-5 mt-3 space-y-1",children:t.subtasks.map((M,P)=>u.jsx("li",{className:`
                      text-sm
                      ${M.done?"line-through text-green-400":_}
                    `,children:M.text},P))})]})]}),u.jsxs("div",{className:`flex flex-wrap items-center gap-x-4 gap-y-2 text-xs mt-3 ${C}`,children:[t.tags&&t.tags.length>0&&u.jsx("div",{className:"flex gap-1",children:t.tags.map((M,P)=>u.jsx("span",{className:`inline-block px-2 py-0.5 rounded ${k}`,children:M},P))}),u.jsxs("span",{children:["Priority:"," ",u.jsx("span",{className:`font-semibold ${t.priority==="high"?"text-red-500":t.priority==="medium"?"text-yellow-600":""}`,children:t.priority})]}),t.dueDate&&u.jsxs("span",{children:["Due: ",ec(t.dueDate)," ",new Date(t.dueDate).toDateString()===new Date().toDateString()&&u.jsx("span",{className:"text-green-600",children:"(today)"})]}),u.jsxs("span",{children:["Type:"," ",u.jsx("span",{className:t.status==="done"?"text-blue-800":"text-blue-300",children:t.type})]}),t.assignedTo&&u.jsxs("span",{children:["Assigned:"," ",u.jsx("b",{className:t.status==="done"?"text-purple-800":"text-purple-300",children:Qd(t.assignedTo)})]}),t.assignmentNote&&t.assignmentNote.trim()&&u.jsxs("span",{children:["Note:"," ",u.jsx("span",{className:t.status==="done"?"italic text-blue-800":"italic text-blue-200",children:t.assignmentNote})]}),t.createdBy&&u.jsxs("span",{children:["Created by:"," ",u.jsx("b",{className:"text-teal-400",children:Qd(t.createdBy)})]}),t.deletedAt&&t.deletedBy&&u.jsxs("span",{children:["Deleted by:"," ",u.jsx("b",{className:"text-rose-400",children:Qd(t.deletedBy)}),t.deletedAt&&u.jsxs("span",{className:"ml-2 text-red-200",children:["on ",ec(t.deletedAt)]})]}),t.restoredBy&&u.jsxs("span",{children:["Restored by:"," ",u.jsx("b",{className:"text-green-400",children:Qd(t.restoredBy)}),t.restoredAt&&u.jsxs("span",{className:"ml-2 text-green-200",children:["on ",ec(t.restoredAt)]})]})]}),p?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mt-2 text-xs text-red-400 flex items-center gap-2",children:[u.jsx(zA,{size:14,className:"inline mr-1"}),t.permanentDeleteAt&&u.jsxs(u.Fragment,{children:["Scheduled for permanent deletion:",u.jsx("b",{children:ec(t.permanentDeleteAt)}),u.jsx("span",{className:"ml-2 text-red-300/80 italic",children:k7(t.permanentDeleteAt)})]})]}),u.jsxs("div",{className:"flex flex-row gap-2 mt-4",children:[u.jsx("button",{onClick:()=>v(!0),"aria-label":"View History",className:`\r
                w-8 h-8 flex items-center justify-center rounded-full shadow-sm\r
                transition-all duration-150 bg-slate-700 hover:bg-slate-600 focus:outline-none\r
              `,children:u.jsx(Kv,{size:18,className:"text-blue-300"})}),u.jsxs("button",{onClick:()=>r(t),className:"bg-blue-500 hover:bg-blue-700 text-white px-3 py-1 rounded shadow",children:[u.jsx(l4,{size:16,className:"inline mr-1"}),"Restore"]}),(c==="admin"||t.createdBy&&(typeof t.createdBy=="object"&&t.createdBy._id===a||typeof t.createdBy=="string"&&t.createdBy===a))&&u.jsxs("button",{onClick:()=>{window.confirm("Permanently delete this To Do? This cannot be undone.")&&i(t)},className:"bg-rose-700 hover:bg-rose-800 text-white px-3 py-1 rounded shadow",children:[u.jsx(Qv,{size:16,className:"inline mr-1"}),"Delete Forever"]})]})]}):u.jsxs("div",{className:"flex flex-row items-center gap-2 absolute bottom-6 right-8 z-10",children:[u.jsx("button",{onClick:()=>v(!0),"aria-label":"View History",className:`\r
              w-8 h-8 flex items-center justify-center rounded-full shadow-sm\r
              transition-all duration-150 bg-slate-700 hover:bg-slate-600 focus:outline-none\r
            `,children:u.jsx(Kv,{size:18,className:"text-blue-300"})}),u.jsx("button",{onClick:()=>t.status==="done"?s(t,"todo"):s(t,"done"),disabled:h,"aria-label":t.status==="done"?"Undo Done":"Mark as Done",className:`
              w-8 h-8 flex items-center justify-center rounded-full shadow-sm
              transition-all duration-150 focus:outline-none focus:ring-2
              ${t.status==="done"?"bg-emerald-500 hover:bg-emerald-600 focus:ring-emerald-300":"bg-transparent hover:bg-emerald-600/90 focus:ring-emerald-300"}
            `,children:t.status==="done"?u.jsx(JA,{size:18,className:`${t.status==="done"?"text-white":"text-emerald-400 group-hover:text-white"}`}):u.jsx(FA,{size:18,className:`${t.status==="done"?"text-white":"text-emerald-400 group-hover:text-white"}`})}),u.jsx("button",{onClick:()=>e(t),"aria-label":"Edit",className:`
              w-8 h-8 flex items-center justify-center rounded-full shadow-sm
              transition-all duration-150 focus:outline-none focus:ring-2
              ${t.status==="done"?"bg-blue-500 hover:bg-blue-600 focus:ring-blue-300":"bg-transparent hover:bg-blue-600/90 focus:ring-blue-300"}
            `,children:u.jsx(i4,{size:18,className:`${t.status==="done"?"text-white":"text-blue-400 group-hover:text-white"}`})}),N7(t,a,c)&&u.jsx("button",{onClick:()=>n(t),"aria-label":"Move to Trash",className:`
                w-8 h-8 flex items-center justify-center rounded-full shadow-sm
                transition-all duration-150 focus:outline-none focus:ring-2
                ${t.status==="done"?"bg-rose-500 hover:bg-rose-600 focus:ring-rose-300":"bg-transparent hover:bg-rose-600/90 focus:ring-rose-300"}
              `,children:u.jsx(Qv,{size:18,className:`${t.status==="done"?"text-white":"text-red-400 group-hover:text-white"}`})})]}),u.jsx(j7,{open:x,onClose:()=>v(!1),history:t.history})]})}const E7=[{label:"Open",value:"open"},{label:"Done",value:"done"},{label:"All",value:"all"},{label:"Trash",value:"trash"}];function Gd(t,e){return t.assignedTo?typeof t.assignedTo=="string"?t.assignedTo===e:typeof t.assignedTo=="object"&&t.assignedTo._id?t.assignedTo._id===e:!1:t.type==="collaborative"}function Gm(t,e,n){if(!t.deletedAt)return!1;if(n==="admin")return!0;const s=t.assignedTo?typeof t.assignedTo=="object"?t.assignedTo._id===e:t.assignedTo===e:!1,r=typeof t.createdBy=="object"?t.createdBy._id===e:t.createdBy===e,i=t.type==="collaborative";return s||r||i}function P7({todos:t=[],type:e="personal",userId:n,userRole:s,onEdit:r,onDelete:i,onMarkDone:a,onRestore:c,onHardDelete:d}){const[h,p]=j.useState("all"),m=[...t].sort((w,_)=>new Date(_.createdAt)-new Date(w.createdAt));let g=[];h==="trash"?g=m.filter(w=>w.type===e&&Gm(w,n,s)):e==="collaborative"?g=m.filter(w=>w.type==="collaborative"&&!w.deletedAt):g=m.filter(w=>w.type==="personal"&&!w.deletedAt&&Gd(w,n));let x=[];h==="all"||h==="trash"?x=g:h==="open"?x=g.filter(w=>w.status!=="done"):h==="done"&&(x=g.filter(w=>w.status==="done"));const v={all:e==="collaborative"?m.filter(w=>w.type==="collaborative"&&!w.deletedAt).length:m.filter(w=>w.type==="personal"&&!w.deletedAt&&Gd(w,n)).length,open:e==="collaborative"?m.filter(w=>w.type==="collaborative"&&!w.deletedAt&&w.status!=="done").length:m.filter(w=>w.type==="personal"&&!w.deletedAt&&w.status!=="done"&&Gd(w,n)).length,done:e==="collaborative"?m.filter(w=>w.type==="collaborative"&&!w.deletedAt&&w.status==="done").length:m.filter(w=>w.type==="personal"&&!w.deletedAt&&w.status==="done"&&Gd(w,n)).length,trash:e==="collaborative"?m.filter(w=>w.type==="collaborative"&&Gm(w,n,s)).length:m.filter(w=>w.type==="personal"&&Gm(w,n,s)).length};return u.jsxs("div",{children:[u.jsx("div",{className:"flex gap-3 mb-6 px-1",children:E7.map(w=>u.jsxs("button",{onClick:()=>p(w.value),className:`
              group relative flex items-center gap-2 px-5 py-2
              rounded-xl border transition font-medium
              ${h===w.value?"bg-blue-700/90 text-white border-blue-500":"bg-transparent text-slate-300 border-slate-700 hover:bg-slate-800/80 hover:text-white"}
              focus:outline-none focus:ring-2 focus:ring-blue-300/50
              duration-100
            `,style:{minWidth:90,justifyContent:"center"},children:[u.jsx("span",{className:"tracking-wide",children:w.label}),u.jsx("span",{className:`
                ml-2 flex items-center justify-center
                w-6 h-6 min-w-[1.5rem] min-h-[1.5rem]
                rounded-full font-bold text-xs
                ${h===w.value?"bg-white text-blue-700 shadow-sm":"bg-slate-700 text-slate-200 group-hover:bg-white/80 group-hover:text-blue-700"}
                border border-white/10
                transition
              `,style:{lineHeight:1.1},children:v[w.value]})]},w.value))}),x.length===0?u.jsx("div",{className:"py-8 text-center text-gray-400",children:"No To Dos in this tab."}):u.jsx("div",{className:"space-y-6",children:x.map((w,_)=>u.jsx(T7,{todo:w,onEdit:r,onDelete:i,onMarkDone:a,onRestore:c,onHardDelete:d,userId:n,userRole:s,idx:_,isTrash:h==="trash"},w._id))})]})}const Zd={title:"",description:"",type:"personal",assignedTo:"",priority:"medium",dueDate:"",tags:[],subtasks:[],assignmentNote:"",titleCursor:0,titleVersionsLength:1,descriptionCursor:0,descriptionVersionsLength:1},A7=({users:t,usersLoading:e,usersError:n,currentUser:s,onCreated:r,onClose:i,todo:a})=>{var G,he;const c=!!a,[d,h]=j.useState(a?{...a,dueDate:a.dueDate?a.dueDate.slice(0,10):"",titleCursor:a.titleCursor??0,titleVersionsLength:((G=a.titleVersions)==null?void 0:G.length)??1,descriptionCursor:a.descriptionCursor??0,descriptionVersionsLength:((he=a.descriptionVersions)==null?void 0:he.length)??1}:Zd),[p,m]=j.useState(""),[g,x]=j.useState(""),[v,w]=j.useState(!1),_=async()=>{var te,Z;if(!v){x(""),w(!0);try{const{data:Y}=await oe.post(`/admin/todos/${a._id}/title/undo`),{todo:ne,looped:D}=Y;h(Q=>({...Q,title:ne.title,titleCursor:ne.titleCursor,titleVersionsLength:ne.titleVersionsLength})),D&&x(" No more undo steps  reset to latest version.")}catch(Y){x(((Z=(te=Y==null?void 0:Y.response)==null?void 0:te.data)==null?void 0:Z.message)||Y.message||"Undo failed.")}finally{w(!1)}}},C=async()=>{var te,Z;if(!v){x(""),w(!0);try{const{data:Y}=await oe.post(`/admin/todos/${a._id}/title/redo`),{todo:ne,looped:D}=Y;h(Q=>({...Q,title:ne.title,titleCursor:ne.titleCursor,titleVersionsLength:ne.titleVersionsLength})),D&&x(" No more redo steps  reset to first version.")}catch(Y){x(((Z=(te=Y==null?void 0:Y.response)==null?void 0:te.data)==null?void 0:Z.message)||Y.message||"Redo failed.")}finally{w(!1)}}},k=async()=>{var te,Z;if(!v){x(""),w(!0);try{const{data:Y}=await oe.post(`/admin/todos/${a._id}/description/undo`),{todo:ne,looped:D}=Y;h(Q=>({...Q,description:ne.description,descriptionCursor:ne.descriptionCursor,descriptionVersionsLength:ne.descriptionVersionsLength})),D&&x(" No more undo steps  reset to latest version.")}catch(Y){x(((Z=(te=Y==null?void 0:Y.response)==null?void 0:te.data)==null?void 0:Z.message)||Y.message||"Undo failed.")}finally{w(!1)}}},T=async()=>{var te,Z;if(!v){x(""),w(!0);try{const{data:Y}=await oe.post(`/admin/todos/${a._id}/description/redo`),{todo:ne,looped:D}=Y;h(Q=>({...Q,description:ne.description,descriptionCursor:ne.descriptionCursor,descriptionVersionsLength:ne.descriptionVersionsLength})),D&&x(" No more redo steps  reset to first version.")}catch(Y){x(((Z=(te=Y==null?void 0:Y.response)==null?void 0:te.data)==null?void 0:Z.message)||Y.message||"Redo failed.")}finally{w(!1)}}};j.useEffect(()=>{if(g){const te=setTimeout(()=>x(""),5e3);return()=>clearTimeout(te)}},[g]);const{mutate:M,isLoading:P,error:R}=y7(),{mutate:z,isLoading:I,error:F}=lN();j.useEffect(()=>{h(a?{...a,dueDate:a.dueDate?a.dueDate.slice(0,10):""}:Zd),m("")},[a,i]);const U=te=>{const{name:Z,value:Y}=te.target;h(ne=>({...ne,[Z]:Y}))},ee=()=>{p.trim()&&(h(te=>({...te,subtasks:[...te.subtasks,{text:p,done:!1}]})),m(""))},J=te=>{h(Z=>({...Z,subtasks:Z.subtasks.filter((Y,ne)=>ne!==te)}))},de=te=>{te.preventDefault();let Z={...d,dueDate:d.dueDate||null,tags:d.tags.filter(Boolean)};Z.type==="collaborative"&&(delete Z.assignedTo,delete Z.assignmentNote),Object.keys(Z).forEach(Y=>(Z[Y]===""||Z[Y]===void 0)&&delete Z[Y]),c?z({id:a._id,...Z},{onSuccess:()=>{h(Zd),r&&r(),i&&i()}}):M(Z,{onSuccess:()=>{h(Zd),r&&r(),i&&i()}})};return u.jsx("div",{className:"fixed inset-0 bg-white/40 backdrop-blur-sm flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white text-black p-8 rounded-2xl shadow-lg max-w-lg w-full mx-auto relative",children:[u.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 text-2xl font-bold focus:outline-none","aria-label":"Close",children:""}),u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:c?"Edit To Do":"Create New To Do"}),n&&u.jsxs("div",{className:"text-red-500 text-sm mb-2",children:["Failed to load users: ",n.message]}),u.jsxs("form",{onSubmit:de,children:[u.jsxs("label",{className:"block mb-2 font-semibold flex items-center gap-2",children:["Title",c&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:_,title:"Undo Title",className:"px-1",disabled:d.titleCursor===0||v,children:""}),u.jsx("button",{type:"button",onClick:C,title:"Redo Title",className:"px-1",disabled:d.titleCursor===d.titleVersionsLength-1||v,children:""})]})]}),u.jsx("input",{type:"text",name:"title",value:d.title,onChange:U,required:!0,className:"block w-full p-2 border rounded mt-1",autoFocus:!0}),u.jsxs("label",{className:"block mb-2 flex items-center gap-2",children:["Description",c&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:k,title:"Undo Description",className:"px-1",disabled:d.descriptionCursor===0||v,children:""}),u.jsx("button",{type:"button",onClick:T,title:"Redo Description",className:"px-1",disabled:d.descriptionCursor===d.descriptionVersionsLength-1||v,children:""})]})]}),u.jsx("textarea",{name:"description",value:d.description,onChange:U,className:"block w-full p-2 border rounded mt-1",rows:3}),u.jsxs("div",{className:"flex gap-4 mb-2",children:[u.jsxs("label",{className:"flex-1",children:["Priority",u.jsxs("select",{name:"priority",value:d.priority,onChange:U,className:"block w-full p-2 border rounded mt-1",children:[u.jsx("option",{value:"low",children:"Low"}),u.jsx("option",{value:"medium",children:"Medium"}),u.jsx("option",{value:"high",children:"High"})]})]}),u.jsxs("label",{className:"flex-1",children:["Due Date",u.jsx("input",{type:"date",name:"dueDate",value:d.dueDate,onChange:U,className:"block w-full p-2 border rounded mt-1"})]})]}),u.jsxs("label",{className:"block mb-2",children:["Tags (comma separated)",u.jsx("input",{type:"text",name:"tags",value:d.tags.join(","),onChange:te=>h(Z=>({...Z,tags:te.target.value.split(",").map(Y=>Y.trim()).filter(Boolean)})),className:"block w-full p-2 border rounded mt-1"})]}),u.jsxs("label",{className:"block mb-2",children:["Subtasks",u.jsxs("div",{className:"flex gap-2 mt-1 mb-2",children:[u.jsx("input",{type:"text",value:p,onChange:te=>m(te.target.value),className:"flex-1 p-2 border rounded",placeholder:"Add subtask"}),u.jsx("button",{type:"button",onClick:ee,className:"bg-blue-500 text-white px-3 py-1 rounded",children:"Add"})]}),u.jsx("ul",{className:"list-disc ml-6",children:d.subtasks.map((te,Z)=>u.jsxs("li",{className:"flex items-center gap-2 text-sm mb-1",children:[u.jsx("span",{children:te.text}),u.jsx("button",{type:"button",onClick:()=>J(Z),className:"text-red-400 hover:text-red-700",title:"Remove subtask",children:""})]},Z))})]}),u.jsxs("label",{className:"block mb-2",children:["Type",u.jsxs("select",{name:"type",value:d.type,onChange:U,className:"block w-full p-2 border rounded mt-1",children:[u.jsx("option",{value:"personal",children:"Personal"}),u.jsx("option",{value:"collaborative",children:"Collaborative"})]})]}),d.type==="personal"&&t&&s&&u.jsxs("label",{className:"block mb-2",children:["Assign to",u.jsx("select",{name:"assignedTo",value:d.assignedTo,onChange:U,className:"block w-full p-2 border rounded mt-1",required:!0,disabled:e,children:e?u.jsx("option",{children:"Loading..."}):t.length===0?u.jsx("option",{children:"No users available"}):u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"",children:"Select user"}),t.filter(te=>!(!["admin","moderator"].includes(te.role)||s.role==="admin"&&te._id===s._id||s.role==="moderator"&&te.role!=="moderator"&&te._id!==s._id)).map(te=>u.jsxs("option",{value:te._id,children:[te.username," (",te.role,")"]},te._id))]})})]}),d.type==="personal"&&u.jsxs("label",{className:"block mb-2",children:["Note for assignee (optional)",u.jsx("input",{type:"text",name:"assignmentNote",value:d.assignmentNote,onChange:U,className:"block w-full p-2 border rounded mt-1",maxLength:300})]}),u.jsxs("div",{className:"flex gap-2 mt-6",children:[u.jsx("button",{type:"submit",disabled:P||I,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold",children:P||I?"Saving...":c?"Save Changes":"Create"}),i&&u.jsx("button",{type:"button",onClick:i,className:"bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"})]}),(R||F)&&u.jsx("div",{className:"mt-3 text-red-500 text-sm",children:(R||F).message}),g&&u.jsx("div",{className:"text-red-500 text-sm mt-2",children:g})]})]})})},M7=[{label:"Personal",key:"personal"},{label:"Collaborative",key:"collaborative"}];function cN(){const{user:t}=ns(),[e,n]=j.useState("personal"),[s,r]=j.useState(!1),[i,a]=j.useState(null),{data:c=[],isLoading:d,error:h}=w7(),{data:p=[],isLoading:m,error:g}=g7({showAll:!0}),x=lN(),v=x7(),w=b7(),_=v7(),C=I=>{a(I),r(!0)},k=(I,F)=>{(F==="done"&&I.status!=="done"||F==="todo"&&I.status==="done")&&x.mutate({id:I._id,status:F})},T=I=>{window.confirm("Move this To Do to trash?")&&v.mutate(I._id)},M=I=>{window.confirm("Restore this To Do from trash?")&&w.mutate(I._id)},P=I=>{window.confirm("This will permanently delete the To Do and cannot be undone. Proceed?")&&_.mutate(I._id)},R=()=>{r(!1),a(null)},z=[...p].sort((I,F)=>new Date(F.createdAt)-new Date(I.createdAt));return u.jsxs("div",{className:"min-h-screen bg-[#10182a] px-0 py-6",children:[u.jsxs("div",{className:"flex gap-2 mb-4 items-center px-6",children:[M7.map(I=>u.jsx("button",{className:`px-4 py-2 rounded transition font-semibold ${e===I.key?"bg-blue-600 text-white shadow":"bg-[#1c253a] text-slate-200 hover:bg-[#26304c]"}`,onClick:()=>n(I.key),children:I.label},I.key)),u.jsx("div",{className:"flex-1"}),u.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold shadow",onClick:()=>{a(null),r(!0)},children:"+ New To Do"})]}),u.jsxs("div",{className:"rounded-2xl bg-[#141c2c] p-4 shadow-lg min-h-[200px] mx-6",children:[m&&u.jsx("div",{className:"text-slate-300",children:"Loading..."}),g&&u.jsx("div",{className:"text-red-500",children:g.message}),!m&&u.jsx(P7,{todos:z,type:e,userId:t==null?void 0:t._id,userRole:t==null?void 0:t.role,onEdit:C,onDelete:T,onMarkDone:k,onRestore:M,onHardDelete:P})]}),s&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/20 backdrop-blur-[4px]",children:u.jsx(A7,{users:c,usersLoading:d,usersError:h,currentUser:t,todo:i,onCreated:R,onUpdated:R,onClose:R})})]})}const R7=["M","T","W","T","F","S","S"],tc=new Date,D7=({month:t,year:e,editable:n,onDayClick:s})=>{const[r,i]=j.useState({show:!1,x:0,y:0,dayIdx:null,alignLeft:!1}),a=(p,m)=>{if(!n){const g=p.currentTarget.getBoundingClientRect(),x=220,v=g.right+x>window.innerWidth;i({show:!0,x:v?g.left-x-10:g.right+10,y:g.top,dayIdx:m,alignLeft:v})}},c=()=>{i({show:!1,x:0,y:0,dayIdx:null,alignLeft:!1})},d=p=>p%7===5||p%7===6,h=t.month===tc.getMonth()&&e===tc.getFullYear()?"border-teal-400":"border-slate-700";return u.jsxs("div",{className:`relative rounded-lg p-1 bg-slate-900 shadow text-[11px] w-full max-w-[210px] min-w-[175px] transition border-2 ${h}`,children:[u.jsx("div",{className:"font-semibold text-center text-[12px] mb-1 text-slate-100 tracking-wide",children:t.name}),u.jsx("div",{className:"grid grid-cols-7 gap-[5px] mb-[1px]",children:R7.map((p,m)=>u.jsx("div",{className:`text-center font-semibold text-[10px] py-[2px] 
              ${m>=5?"text-pink-600":"text-slate-400"}
            `,children:p},m))}),u.jsx("div",{className:"grid grid-cols-7 gap-1",children:t.days.map((p,m)=>{if(!p.day)return u.jsx("div",{},m);const g=d(m),x=p.events.length>0,v=p.day===tc.getDate()&&t.month===tc.getMonth()&&e===tc.getFullYear();let w="";v&&x?w="bg-orange-600 text-white":v&&(w="bg-teal-600 text-white");const _=g?x?"bg-pink-600 text-white":"bg-pink-900 text-rose-200 hover:bg-pink-600":x?"bg-blue-600 text-white":"bg-slate-700 hover:bg-blue-500 hover:text-white text-slate-300";return u.jsx("div",{onMouseEnter:C=>a(C,m),onMouseLeave:c,className:"relative",children:u.jsx("button",{className:`
          w-6 h-6 flex items-center justify-center rounded font-medium transition duration-100 text-xs
          border-slate-600
          ${w||_}
          ${!n&&"cursor-default"}
        `,disabled:!n,onClick:()=>n&&s(m),tabIndex:-1,children:p.day})},p.date)})}),!n&&r.show&&t.days[r.dayIdx]&&t.days[r.dayIdx].events.length>0&&u.jsx("div",{className:"fixed z-50 bg-slate-800 text-white text-xs rounded-md shadow-2xl max-w-[240px] w-fit whitespace-normal break-words pointer-events-none animate-fade-in",style:{top:r.y,left:r.x,transform:"translateY(-50%)"},children:t.days[r.dayIdx].events.map((p,m)=>u.jsxs("div",{className:"mb-2 border-b border-slate-600 pb-1 mr-5 last:border-none last:mb-0",children:[u.jsx("div",{className:"font-semibold text-sm",children:p.title}),p.description&&u.jsx("div",{className:"text-[11px] text-slate-300 mt-1 leading-snug",children:p.description})]},m))})]})},O7="#101729";function x_(t){return t?t.firstName||t.lastName?`${t.firstName||""} ${t.lastName||""}`.trim():t.username?t.username:t.email?t.email:"Unknown":"Unknown"}function b_(t){return t?new Date(t).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function v_({initial:t,onSave:e,onCancel:n}){const[s,r]=j.useState((t==null?void 0:t.title)||""),[i,a]=j.useState((t==null?void 0:t.type)||"custom"),[c,d]=j.useState((t==null?void 0:t.color)||"#f43f5e"),[h,p]=j.useState((t==null?void 0:t.description)||"");return j.useEffect(()=>{r((t==null?void 0:t.title)||""),a((t==null?void 0:t.type)||"custom"),d((t==null?void 0:t.color)||"#f43f5e"),p((t==null?void 0:t.description)||"")},[t]),u.jsxs("form",{className:"flex flex-col gap-2 mb-4",onSubmit:m=>{m.preventDefault(),e({title:s,type:i,color:c,description:h})},children:[u.jsx("input",{autoFocus:!0,required:!0,className:"rounded-lg bg-slate-800 border border-slate-700 text-slate-100 p-2 text-sm",placeholder:"Event Title",value:s,onChange:m=>r(m.target.value)}),u.jsx("textarea",{rows:2,className:"rounded-lg bg-slate-800 border border-slate-700 text-slate-100 p-2 resize-none text-xs",placeholder:"Description",value:h,onChange:m=>p(m.target.value),maxLength:500}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsxs("select",{value:i,className:"rounded bg-slate-800 text-slate-100 px-2 py-1 text-xs",onChange:m=>a(m.target.value),children:[u.jsx("option",{value:"custom",children:"Custom"}),u.jsx("option",{value:"holiday",children:"Holiday"}),u.jsx("option",{value:"national",children:"National"})]}),u.jsxs("label",{className:"flex items-center gap-1 ml-1 text-slate-200 text-xs",children:[u.jsx("span",{children:"Color"}),u.jsx("input",{type:"color",value:c,onChange:m=>d(m.target.value),className:"w-6 h-6 border-none bg-transparent",title:"Pick color"})]})]}),u.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[u.jsx("button",{type:"button",className:"rounded bg-slate-700 text-slate-200 px-3 py-1.5 font-medium text-xs",onClick:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"rounded bg-pink-800 hover:bg-pink-600 text-white font-bold px-3 py-1.5 shadow-md text-xs",children:"Save"})]})]})}function L7({open:t,onClose:e,dateLabel:n="",events:s=[],onAddEvent:r,onEditEvent:i,onDeleteEvent:a}){const[c,d]=j.useState(-1),[h,p]=j.useState(!1);return j.useEffect(()=>{if(!t)return;const m=document.createElement("style");return m.innerHTML=`
      .daymodal-scroll::-webkit-scrollbar {
        width: 10px;
        background: #131a2a;
        border-radius: 8px;
      }
      .daymodal-scroll::-webkit-scrollbar-thumb {
        background: #22304b;
        border-radius: 8px;
        border: 2px solid #101729;
      }
      .daymodal-scroll::-webkit-scrollbar-thumb:hover {
        background: #36518a;
      }
      .daymodal-scroll {
        scrollbar-width: thin;
        scrollbar-color: #22304b #101729;
      }
    `,m.setAttribute("data-daymodal-scroll","true"),document.head.appendChild(m),()=>{m.parentNode&&m.parentNode.removeChild(m)}},[t]),j.useEffect(()=>{t||(d(-1),p(!1))},[t]),t?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center  bg-black/60 backdrop-blur-sm",children:u.jsxs("div",{className:`\r
          border border-slate-800 rounded-2xl px-8 py-7\r
          min-w-[800px] max-w-xl min-h-[620px] max-h-[90vh]\r
          shadow-2xl flex flex-col animate-fade-in relative\r
        `,style:{background:O7},children:[u.jsx("button",{onClick:e,className:"absolute right-5 top-5 text-slate-500 hover:text-red-400 text-3xl leading-none",title:"Close","aria-label":"Close",children:""}),u.jsx("div",{className:"mb-3",children:u.jsxs("span",{className:"font-bold text-2xl text-slate-100",children:["Events on ",u.jsx("span",{className:"font-semibold",children:n})]})}),u.jsxs("div",{className:"daymodal-scroll flex flex-col gap-2 max-h-[630px] overflow-y-auto mb-3 border-2 border-slate-600 rounded-xl p-2",children:[s.length===0&&!h&&u.jsx("span",{className:"text-slate-400 text-sm pl-1",children:"No events yet."}),s.map((m,g)=>c===g?u.jsx(v_,{initial:m,onSave:x=>{i(g,x),d(-1)},onCancel:()=>d(-1)},m._id||g):u.jsxs("div",{className:"rounded-lg bg-slate-800 border border-slate-600 px-3 py-2 flex flex-col gap-0.5 relative",style:{borderLeft:`4px solid ${m.color||"#f43f5e"}`},children:[u.jsxs("div",{className:"flex gap-2 items-center mb-0.5",children:[u.jsx("span",{className:"w-2.5 h-2.5 rounded-full border border-slate-700",style:{background:m.color||"#f43f5e"}}),u.jsx("span",{className:"font-bold text-sm text-slate-100",children:m.title}),u.jsx("span",{className:"ml-2 text-[11px] text-slate-400 uppercase",children:m.type})]}),m.description&&u.jsx("div",{className:"text-xs text-slate-300 pl-6 break-words whitespace-pre-line leading-snug",children:m.description}),u.jsx("div",{className:"mt-2 text-[11px] text-slate-400 flex flex-row gap-2 pl-6",children:u.jsxs("span",{children:["Created by"," ",u.jsx("span",{className:"font-semibold text-slate-300",children:x_(m.createdBy)}),"  ",u.jsx("span",{children:b_(m.createdAt)}),m.editedBy&&u.jsxs(u.Fragment,{children:["  Last edited by ",u.jsx("span",{className:"font-semibold text-slate-300",children:x_(m.editedBy)}),"  ",u.jsx("span",{children:b_(m.updatedAt)})]})]})}),u.jsxs("div",{className:"flex gap-2 absolute top-2 right-3",children:[u.jsxs("button",{className:`\r
                      flex items-center gap-1\r
                      px-3 py-1 rounded-md\r
                      text-xs font-semibold\r
                      bg-teal-900 text-teal-200\r
                      hover:bg-teal-600 hover:text-white\r
                      focus:outline-none focus:ring-2 focus:ring-teal-400\r
                      transition\r
                      shadow-sm\r
                    `,onClick:()=>d(g),title:"Edit",type:"button",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M15.232 5.232l-8.464 8.464m2.121-2.121l8.485-8.485a2.121 2.121 0 013 3l-8.485 8.485a2.121 2.121 0 01-3-3z"})}),"Edit"]}),u.jsxs("button",{className:`\r
                      flex items-center gap-1\r
                      px-3 py-1 rounded-md\r
                      text-xs font-semibold\r
                      bg-red-900 text-red-200\r
                      hover:bg-red-600 hover:text-white\r
                      focus:outline-none focus:ring-2 focus:ring-red-400\r
                      transition\r
                      shadow-sm\r
                    `,onClick:()=>a(g),title:"Delete",type:"button",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M6 6l8 8M6 14L14 6"})}),"Delete"]})]})]},m._id||g))]}),h&&u.jsx(v_,{onSave:m=>{r(m),p(!1)},onCancel:()=>p(!1)}),!h&&u.jsx("button",{className:"mt-2 px-3 py-2 rounded-lg bg-teal-600 hover:bg-teal-500 text-white text-sm font-bold shadow-md self-end",onClick:()=>p(!0),children:"+ Add Event"})]})}):null}function nc(t){alert(t)}const w_=({data:t,year:e,editable:n,country:s})=>{var x;const[r,i]=j.useState({open:!1,monthIdx:null,dayIdx:null}),a=Bn(),c=r.open&&((x=t[r.monthIdx])!=null&&x.days[r.dayIdx])?t[r.monthIdx].days[r.dayIdx]:null,d=(v,w)=>{n&&i({open:!0,monthIdx:v,dayIdx:w})},h=async v=>{if(v!=null&&v.title)try{await oe.post(`/admin/calendars/${s}/${e}/${r.monthIdx}/${r.dayIdx}/events`,v),await a.invalidateQueries(["calendar",s,e])}catch{nc("Failed to add event")}},p=async(v,w)=>{if(!v){nc("Event ID not found.");return}try{await oe.patch(`/admin/calendars/${s}/${e}/${r.monthIdx}/${r.dayIdx}/events/${v}`,w),await a.invalidateQueries(["calendar",s,e])}catch{nc("Failed to edit event.")}},m=async v=>{if(!v){nc("Event ID not found.");return}try{await oe.delete(`/admin/calendars/${s}/${e}/${r.monthIdx}/${r.dayIdx}/events/${v}`),await a.invalidateQueries(["calendar",s,e])}catch{nc("Failed to delete event.")}},g=()=>i({open:!1,monthIdx:null,dayIdx:null});return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.map((v,w)=>u.jsx(D7,{month:v,year:e,editable:n,onDayClick:_=>d(w,_)},v.name))}),n&&u.jsx(L7,{open:r.open,onClose:g,dateLabel:c==null?void 0:c.date,events:(c==null?void 0:c.events)||[],onAddEvent:h,onEditEvent:(v,w)=>{var C,k;const _=(k=(C=c==null?void 0:c.events)==null?void 0:C[v])==null?void 0:k._id;p(_,w)},onDeleteEvent:v=>{var _,C;const w=(C=(_=c==null?void 0:c.events)==null?void 0:_[v])==null?void 0:C._id;m(w)}})]})},I7=(t,e)=>Mo({queryKey:["calendar",t,e],queryFn:async()=>(await oe.get(`/admin/calendars/${t}/${e}`)).data}),F7=(t,e)=>{const n=Bn();return Ws({mutationFn:async s=>{await oe.put(`/admin/calendars/${t}/${e}`,{calendar:s.calendar})},onSuccess:()=>{n.invalidateQueries(["calendar",t,e])}})},__=[{code:"BG",name:"Bulgaria"},{code:"US",name:"United States"},{code:"IN",name:"India"}];function S_(t,e){return!t||!e?[]:Object.keys({...t,...e}).filter(s=>t[s]!==e[s]&&typeof t[s]!="object"&&typeof e[s]!="object").map(s=>({field:s,from:t[s],to:e[s]}))}function C_(t){if(!t)return null;const e=["updatedAt","createdAt","date"];return u.jsx("ul",{className:"ml-3 mt-1 text-xs text-slate-400 flex flex-wrap gap-2",children:Object.entries(t).filter(([n,s])=>typeof s!="object"&&n!=="_id"&&n!=="__v"&&n!=="createdAt"&&n!=="updatedAt").map(([n,s])=>u.jsxs("li",{children:[u.jsxs("b",{children:[n,":"]})," ",e.includes(n)?gh(s):String(s)]},n))})}function gh(t){if(!t)return"";const e=new Date(t);if(isNaN(e))return"";const n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),c=String(e.getSeconds()).padStart(2,"0");return`${n}-${s}-${r} ${i}:${a}:${c}`}function j_(t){return t?t.firstName&&t.lastName?`${t.firstName} ${t.lastName}`:t.firstName?t.firstName:t.username?t.username:"Unknown":"Unknown"}const B7=[{label:"All",value:"all",color:""},{label:"Added",value:"add",color:"text-green-300"},{label:"Edited",value:"edit",color:"text-blue-300"},{label:"Deleted",value:"delete",color:"text-red-300"}];function z7({country:t,year:e}){const[n,s]=j.useState("all"),[r,i]=j.useState(""),{data:a,isLoading:c,error:d}=Mo({queryKey:["calendarChangeLog",t,e],queryFn:async()=>(await oe.get(`/admin/calendars/${t}/${e}/changelog`)).data}),h=["updatedAt","createdAt","date"],p=j.useMemo(()=>{if(!a)return[];let m=a.slice().reverse();if(n!=="all"&&(m=m.filter(g=>g.action===n)),r.trim()){const g=r.toLowerCase();m=m.filter(x=>{var w,_,C,k;return[(w=x.newEvent)==null?void 0:w.title,(_=x.prevEvent)==null?void 0:_.title,(C=x.newEvent)==null?void 0:C.description,(k=x.prevEvent)==null?void 0:k.description,j_(x.user)].some(T=>T&&String(T).toLowerCase().includes(g))})}return m},[a,n,r]);return c?u.jsx("div",{className:"text-slate-200",children:"Loading history..."}):d?u.jsx("div",{className:"text-red-400",children:"Failed to load history."}):a!=null&&a.length?u.jsxs("div",{className:"rounded-lg bg-slate-800 p-4 shadow",children:[u.jsx("h2",{className:"text-xl font-bold mb-3 text-slate-100",children:"Change Log"}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[B7.map(m=>u.jsx("button",{onClick:()=>s(m.value),className:`px-3 py-1 rounded text-sm font-semibold border transition
              ${n===m.value?`bg-slate-700 border-teal-400 ${m.color}`:"bg-slate-700 border-slate-600 text-slate-300"}
            `,children:m.label},m.value)),u.jsx("input",{className:"ml-2 p-2 rounded bg-slate-700 text-white border border-slate-600 text-sm w-48",type:"text",placeholder:"Search by title, descr...",value:r,onChange:m=>i(m.target.value)})]}),u.jsxs("ul",{className:"space-y-3",children:[p.length===0&&u.jsx("li",{className:"text-slate-400 text-sm",children:"No results match your filter."}),p.map((m,g)=>u.jsxs("li",{className:"p-3 rounded bg-slate-700",children:[u.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-xs text-slate-300",children:[u.jsx("span",{className:"uppercase font-semibold",children:m.action}),u.jsxs("span",{children:["on ",m.targetDate]}),u.jsxs("span",{children:["by ",j_(m.user)]}),u.jsxs("span",{children:["at ",gh(m.date)]}),m.comment&&u.jsxs("span",{className:"italic text-slate-400",children:["(",m.comment,")"]})]}),m.action==="edit"&&m.prevEvent&&m.newEvent&&u.jsxs("div",{className:"mt-2 text-xs",children:[u.jsx("b",{className:"text-blue-300",children:"Changed fields:"}),S_(m.prevEvent,m.newEvent).length===0?u.jsx("span",{className:"ml-2 text-slate-400",children:"No changes"}):u.jsx("ul",{className:"ml-2",children:S_(m.prevEvent,m.newEvent).map((x,v)=>{const w=h.includes(x.field);return u.jsxs("li",{children:[u.jsx("span",{className:"font-bold",children:x.field}),":",u.jsx("span",{className:"text-red-300 line-through",children:w?gh(x.from):String(x.from)}),"",u.jsx("span",{className:"text-green-300",children:w?gh(x.to):String(x.to)})]},v)})})]}),m.action==="add"&&m.newEvent&&u.jsxs("div",{className:"mt-2 text-xs text-green-300",children:[u.jsx("b",{children:"Added event fields:"}),C_(m.newEvent)]}),m.action==="delete"&&m.prevEvent&&u.jsxs("div",{className:"mt-2 text-xs text-red-300",children:[u.jsx("b",{children:"Deleted event fields:"}),C_(m.prevEvent)]})]},g))]})]}):u.jsx("div",{className:"text-slate-400",children:"No changes found."})}const uN=()=>{var x;const[t,e]=j.useState("BG"),n=2025,[s,r]=j.useState("calendar"),{data:i,isLoading:a}=I7(t,n),{mutate:c,isPending:d}=F7(t,n),[h,p]=j.useState(null),m=!!h&&JSON.stringify(h.calendar)!==JSON.stringify(i.calendar),g=()=>{h!=null&&h.calendar&&c(h)};return a||!(i!=null&&i.calendar)?u.jsx("p",{className:"text-white",children:"Loading..."}):u.jsxs("div",{className:"space-y-4 text-white p-4",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[u.jsx("select",{className:"p-2 bg-slate-800 border border-slate-600 rounded text-sm",value:t,onChange:v=>e(v.target.value),children:__.map(v=>u.jsx("option",{value:v.code,children:v.name},v.code))}),u.jsx("button",{type:"button",className:`px-4 py-2 rounded-t-md font-semibold transition ${s==="calendar"?"bg-slate-800 border-b-2 border-teal-400 text-teal-300":"bg-slate-700 text-slate-300"}`,onClick:()=>r("calendar"),children:"Calendar"}),u.jsx("button",{type:"button",className:`px-4 py-2 rounded-t-md font-semibold transition ${s==="history"?"bg-slate-800 border-b-2 border-pink-400 text-pink-300":"bg-slate-700 text-slate-300"}`,onClick:()=>r("history"),children:"History"}),u.jsxs("div",{className:"relative group text-sm cursor-pointer",children:[u.jsxs("button",{type:"button",className:`\r
    flex items-center gap-1 px-3 py-1.5 rounded-full\r
    bg-slate-800 hover:bg-blue-900 text-blue-200 font-semibold\r
    text-xs shadow-sm border border-blue-700/40\r
    transition focus:outline-none focus:ring-2 focus:ring-blue-700/30\r
  `,children:[u.jsx("span",{className:"bg-blue-700/20 rounded-full p-1 mr-1 flex items-center justify-center",children:u.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16v-4m0-4h.01"})]})}),u.jsx("span",{children:"Show Guide"})]}),u.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 top-full mt-2 z-50 hidden group-hover:flex flex-col gap-2 bg-slate-800 text-white text-xs p-3 rounded shadow-lg w-72",children:[u.jsx("div",{className:"font-semibold text-slate-100 mb-1",children:"How to use the calendar"}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-slate-300",children:"Left Side:"}),u.jsxs("span",{className:"ml-1",children:["This is the"," ",u.jsx("span",{className:"text-yellow-300 font-semibold",children:"public calendar"})," ","all users see. You can only view it."]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-slate-300",children:"Right Side:"}),u.jsxs("span",{className:"ml-1",children:["This is your"," ",u.jsx("span",{className:"text-pink-400 font-semibold",children:"editable calendar"}),". You can add, edit, or remove events here before publishing."]})]}),u.jsx("div",{className:"border-t border-slate-600 my-2"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 bg-blue-600 rounded-sm inline-block"}),u.jsx("span",{children:"Regular day with event"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 bg-slate-600 rounded-sm inline-block"}),u.jsx("span",{children:"Regular day without event"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 bg-pink-900 rounded-sm inline-block border border-pink-700"}),u.jsx("span",{children:"Weekend without event"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 bg-teal-600 rounded-sm inline-block"}),u.jsx("span",{children:"Today (no event)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 bg-orange-600 rounded-sm inline-block"}),u.jsx("span",{children:"Today (with event)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 inline-block rounded-sm border-2 border-teal-400 bg-transparent",style:{boxSizing:"border-box"}}),u.jsx("span",{children:"Current month"})]}),u.jsx("div",{className:"border-t border-slate-600 my-2"}),u.jsx("div",{className:"text-slate-300 leading-snug",children:u.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-[10px]",children:[u.jsxs("li",{children:[u.jsx("span",{className:"font-medium text-white",children:"To add an event:"})," ","Click on a day in the right calendar and enter a title."]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-medium text-white",children:"To edit or remove an event:"})," ","Click on a day that already has an event and update or clear the details."]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-medium text-white",children:"To save your changes:"})," ","Click"," ",u.jsx("span",{className:"text-teal-300 font-semibold",children:'"Publish Calendar"'}),". This will update the public calendar everyone sees."]}),u.jsx("li",{children:"You can switch between countries using the dropdown at the top."})]})})]})]}),u.jsx("button",{onClick:g,disabled:!m||d,className:`
            flex items-center gap-2 px-4 py-1.5 rounded-md font-medium text-sm transition
            ${!m||d?"bg-teal-900 text-teal-300 opacity-60 cursor-not-allowed":"bg-teal-600 hover:bg-teal-500 text-white shadow"}
          `,style:{minWidth:142},title:"Publish this calendar for all users",children:d?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),u.jsx("span",{children:"Saving..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",strokeWidth:2.2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"Publish Calendar"})]})})]}),s==="calendar"?u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-7",children:[u.jsxs("div",{className:"border border-slate-700 rounded-xl ",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsxs("h3",{className:"text-lg font-semibold text-slate-100",children:["Public Calendar"," ",u.jsx("span",{className:"ml-2 px-2 py-0.5 rounded bg-slate-800 text-xs font-medium text-slate-300",children:n})]})]}),u.jsxs("div",{className:"text-slate-400 text-xs mb-2 pl-7",children:["This is what all users see for"," ",u.jsx("span",{className:"font-medium",children:(x=__.find(v=>v.code===t))==null?void 0:x.name}),". Update the calendar on the right, then save to update this view."]}),u.jsx(w_,{data:i.calendar,year:n,editable:!1})]}),u.jsxs("div",{className:"border border-slate-700 rounded-xl ",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsxs("h3",{className:"text-lg font-semibold text-slate-100",children:["Edit Calendar"," ",u.jsx("span",{className:"ml-2 px-2 py-0.5 rounded bg-slate-800 text-xs font-medium text-slate-300",children:n})]})]}),u.jsx("div",{className:"text-slate-400 text-xs mb-2 pl-7",children:"You can add, edit, or remove events here. Dont forget to save when done!"}),u.jsx(w_,{data:(h==null?void 0:h.calendar)||i.calendar,year:n,editable:!0,setData:v=>p({...i,calendar:v}),country:t})]})]}):u.jsx(z7,{country:t,year:n})]})};var Zm={exports:{}},sc={},k_;function V7(){if(k_)return sc;k_=1,Object.defineProperty(sc,"__esModule",{value:!0});var t,e=Uh(),n=(t=e)&&typeof t=="object"&&"default"in t?t.default:t;function s(){return(s=Object.assign?Object.assign.bind():function(h){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(h[g]=m[g])}return h}).apply(this,arguments)}var r=[],i=!1,a=function(){if(i)for(var h;h=r.shift();)h()},c=typeof window>"u"?{__unlayer_lastEditorId:0}:window;c.__unlayer_lastEditorId=c.__unlayer_lastEditorId||0;var d=n.forwardRef(function(h,p){var m,g,x,v,w,_,C,k,T,M=h.onLoad,P=h.onReady,R=h.scriptUrl,z=h.minHeight,I=z===void 0?500:z,F=h.style,U=F===void 0?{}:F,ee=e.useState(null),J=ee[0],de=ee[1],G=e.useState(!1),he=G[0],te=G[1],Z=e.useMemo(function(){return h.editorId||"editor-"+ ++c.__unlayer_lastEditorId},[h.editorId]),Y=s({},h.options||{},{appearance:(m=h.appearance)!=null?m:(g=h.options)==null?void 0:g.appearance,displayMode:(h==null?void 0:h.displayMode)||((x=h.options)==null?void 0:x.displayMode)||"email",locale:(v=h.locale)!=null?v:(w=h.options)==null?void 0:w.locale,projectId:(_=h.projectId)!=null?_:(C=h.options)==null?void 0:C.projectId,tools:(k=h.tools)!=null?k:(T=h.options)==null?void 0:T.tools,id:Z,source:{name:"react-email-editor",version:"1.7.11"}});e.useImperativeHandle(p,function(){return{editor:J}},[J]),e.useEffect(function(){return function(){J==null||J.destroy()}},[]),e.useEffect(function(){te(!1),function(D,Q){if(Q===void 0&&(Q="https://editor.unlayer.com/embed.js?2"),r.push(function(){return te(!0)}),function(_e){var ve=document.querySelectorAll("script"),Be=!1;return ve.forEach(function(Re){Re.src.includes(_e)&&(Be=!0)}),Be}(Q))a();else{var le=document.createElement("script");le.setAttribute("src",Q),le.onload=function(){i=!0,a()},document.head.appendChild(le)}}(0,R)},[R]),e.useEffect(function(){he&&(J==null||J.destroy(),de(unlayer.createEditor(Y)))},[JSON.stringify(Y),he]);var ne=Object.keys(h).filter(function(D){return/^on/.test(D)});return e.useEffect(function(){J&&(M==null||M(J),ne.forEach(function(D){/^on/.test(D)&&D!=="onLoad"&&D!=="onReady"&&typeof h[D]=="function"&&J.addEventListener(D,h[D])}),P&&J.addEventListener("editor:ready",function(){P(J)}))},[J,Object.keys(ne).join(",")]),n.createElement("div",{style:{flex:1,display:"flex",minHeight:I}},n.createElement("div",{id:Z,style:s({},U,{flex:1})}))});return sc.EmailEditor=d,sc.default=d,sc}var N_;function $7(){return N_||(N_=1,Zm.exports=V7()),Zm.exports}var U7=$7();const H7=Kc(U7),W7=({onSave:t,initialDesign:e,onExport:n,mode:s="edit"})=>{const r=j.useRef(null),i=()=>{e&&typeof e=="object"&&Object.keys(e).length>0&&r.current.editor.loadDesign(e)},a=()=>{r.current&&r.current.editor&&r.current.editor.saveDesign(d=>{t&&t(d)})},c=()=>{r.current&&r.current.editor&&r.current.editor.exportHtml(d=>{n&&n(d)})};return u.jsxs("div",{style:{minHeight:800},children:[u.jsx(H7,{ref:r,onLoad:i,minHeight:700,options:{displayMode:"email",mergeTags:{"First Name":"{{user.firstName}}","Last Name":"{{user.lastName}}",Email:"{{user.email}}"},appearance:{theme:"dark"}}}),u.jsxs("div",{className:"flex gap-4 mt-4",children:[u.jsx("button",{className:"px-5 py-2 bg-blue-700 text-white rounded",onClick:a,children:"Save Template"}),u.jsx("button",{className:"px-5 py-2 bg-green-600 text-white rounded",onClick:c,children:"Export HTML"})]})]})},q7=()=>{const[t,e]=j.useState([]),[n,s]=j.useState(null),[r,i]=j.useState(null);j.useEffect(()=>{oe.get("/admin/rich-documents").then(d=>e(d.data)).catch(()=>e([]))},[]);const a=async d=>{r?await oe.put(`/admin/rich-documents/${r}`,{design:d}):await oe.post("/admin/rich-documents",{design:d}),window.location.reload()},c=d=>{alert("HTML exported. Ready to send!")};return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Email Campaigns"}),u.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:()=>{s({}),i(null)},children:"+ New Template"})]}),n?u.jsx(W7,{initialDesign:n,onSave:a,onExport:c}):u.jsx("div",{children:u.jsx("ul",{children:t.map(d=>u.jsxs("li",{className:"mb-3 flex justify-between items-center bg-slate-800 rounded p-3",children:[u.jsx("span",{children:d.name||"Untitled Template"}),u.jsx("div",{children:u.jsx("button",{className:"mr-3 text-blue-400",onClick:()=>{s(d.design),i(d._id)},children:"Edit"})})]},d._id))})})]})},Us=Object.create(null);Us.open="0";Us.close="1";Us.ping="2";Us.pong="3";Us.message="4";Us.upgrade="5";Us.noop="6";const yh=Object.create(null);Object.keys(Us).forEach(t=>{yh[Us[t]]=t});const g0={type:"error",data:"parser error"},dN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",hN=typeof ArrayBuffer=="function",fN=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Hy=({type:t,data:e},n,s)=>dN&&e instanceof Blob?n?s(e):T_(e,s):hN&&(e instanceof ArrayBuffer||fN(e))?n?s(e):T_(new Blob([e]),s):s(Us[t]+(e||"")),T_=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function E_(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Jm;function Y7(t,e){if(dN&&t.data instanceof Blob)return t.data.arrayBuffer().then(E_).then(e);if(hN&&(t.data instanceof ArrayBuffer||fN(t.data)))return e(E_(t.data));Hy(t,!1,n=>{Jm||(Jm=new TextEncoder),e(Jm.encode(n))})}const P_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<P_.length;t++)uc[P_.charCodeAt(t)]=t;const K7=t=>{let e=t.length*.75,n=t.length,s,r=0,i,a,c,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const h=new ArrayBuffer(e),p=new Uint8Array(h);for(s=0;s<n;s+=4)i=uc[t.charCodeAt(s)],a=uc[t.charCodeAt(s+1)],c=uc[t.charCodeAt(s+2)],d=uc[t.charCodeAt(s+3)],p[r++]=i<<2|a>>4,p[r++]=(a&15)<<4|c>>2,p[r++]=(c&3)<<6|d&63;return h},X7=typeof ArrayBuffer=="function",Wy=(t,e)=>{if(typeof t!="string")return{type:"message",data:pN(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Q7(t.substring(1),e)}:yh[n]?t.length>1?{type:yh[n],data:t.substring(1)}:{type:yh[n]}:g0},Q7=(t,e)=>{if(X7){const n=K7(t);return pN(n,e)}else return{base64:!0,data:t}},pN=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},mN="",G7=(t,e)=>{const n=t.length,s=new Array(n);let r=0;t.forEach((i,a)=>{Hy(i,!1,c=>{s[a]=c,++r===n&&e(s.join(mN))})})},Z7=(t,e)=>{const n=t.split(mN),s=[];for(let r=0;r<n.length;r++){const i=Wy(n[r],e);if(s.push(i),i.type==="error")break}return s};function J7(){return new TransformStream({transform(t,e){Y7(t,n=>{const s=n.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(n)})}})}let eg;function Jd(t){return t.reduce((e,n)=>e+n.length,0)}function eh(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let r=0;r<e;r++)n[r]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function e$(t,e){eg||(eg=new TextDecoder);const n=[];let s=0,r=-1,i=!1;return new TransformStream({transform(a,c){for(n.push(a);;){if(s===0){if(Jd(n)<1)break;const d=eh(n,1);i=(d[0]&128)===128,r=d[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if(Jd(n)<2)break;const d=eh(n,2);r=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),s=3}else if(s===2){if(Jd(n)<8)break;const d=eh(n,8),h=new DataView(d.buffer,d.byteOffset,d.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){c.enqueue(g0);break}r=p*Math.pow(2,32)+h.getUint32(4),s=3}else{if(Jd(n)<r)break;const d=eh(n,r);c.enqueue(Wy(i?d:eg.decode(d),e)),s=0}if(r===0||r>t){c.enqueue(g0);break}}}})}const gN=4;function Et(t){if(t)return t$(t)}function t$(t){for(var e in Et.prototype)t[e]=Et.prototype[e];return t}Et.prototype.on=Et.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Et.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Et.prototype.off=Et.prototype.removeListener=Et.prototype.removeAllListeners=Et.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,r=0;r<n.length;r++)if(s=n[r],s===e||s.fn===e){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Et.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,r=n.length;s<r;++s)n[s].apply(this,e)}return this};Et.prototype.emitReserved=Et.prototype.emit;Et.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Et.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ff=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Gn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),n$="arraybuffer";function yN(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const s$=Gn.setTimeout,r$=Gn.clearTimeout;function pf(t,e){e.useNativeTimers?(t.setTimeoutFn=s$.bind(Gn),t.clearTimeoutFn=r$.bind(Gn)):(t.setTimeoutFn=Gn.setTimeout.bind(Gn),t.clearTimeoutFn=Gn.clearTimeout.bind(Gn))}const i$=1.33;function o$(t){return typeof t=="string"?a$(t):Math.ceil((t.byteLength||t.size)*i$)}function a$(t){let e=0,n=0;for(let s=0,r=t.length;s<r;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function xN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function l$(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function c$(t){let e={},n=t.split("&");for(let s=0,r=n.length;s<r;s++){let i=n[s].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class u$ extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class qy extends Et{constructor(e){super(),this.writable=!1,pf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new u$(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Wy(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=l$(e);return n.length?"?"+n:""}}class d$ extends qy{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Z7(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,G7(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=xN()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let bN=!1;try{bN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const h$=bN;function f$(){}class p$ extends d${constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}let Ca=class xh extends Et{constructor(e,n,s){super(),this.createRequest=e,pf(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=yN(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=xh.requestsCount++,xh.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=f$,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete xh.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Ca.requestsCount=0;Ca.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",A_);else if(typeof addEventListener=="function"){const t="onpagehide"in Gn?"pagehide":"unload";addEventListener(t,A_,!1)}}function A_(){for(let t in Ca.requests)Ca.requests.hasOwnProperty(t)&&Ca.requests[t].abort()}const m$=function(){const t=vN({xdomain:!1});return t&&t.responseType!==null}();class g$ extends p${constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=m$&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ca(vN,this.uri(),e)}}function vN(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||h$))return new XMLHttpRequest}catch{}if(!e)try{return new Gn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const wN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class y$ extends qy{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=wN?{}:yN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n===e.length-1;Hy(s,this.supportsBinary,i=>{try{this.doWrite(s,i)}catch{}r&&ff(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=xN()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const tg=Gn.WebSocket||Gn.MozWebSocket;class x$ extends y${createSocket(e,n,s){return wN?new tg(e,n,s):n?new tg(e,n):new tg(e)}doWrite(e,n){this.ws.send(n)}}class b$ extends qy{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=e$(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),r=J7();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{s.read().then(({done:c,value:d})=>{c||(this.onPacket(d),i())}).catch(c=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n===e.length-1;this._writer.write(s).then(()=>{r&&ff(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const v$={websocket:x$,webtransport:b$,polling:g$},w$=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_$=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function y0(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let r=w$.exec(t||""),i={},a=14;for(;a--;)i[_$[a]]=r[a]||"";return n!=-1&&s!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=S$(i,i.path),i.queryKey=C$(i,i.query),i}function S$(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function C$(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,i){r&&(n[r]=i)}),n}const x0=typeof addEventListener=="function"&&typeof removeEventListener=="function",bh=[];x0&&addEventListener("offline",()=>{bh.forEach(t=>t())},!1);class bi extends Et{constructor(e,n){if(super(),this.binaryType=n$,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=y0(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=y0(n.host).host);pf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const r=s.prototype.name;this.transports.push(r),this._transportsByName[r]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=c$(this.opts.query)),x0&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},bh.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=gN,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&bi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",bi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(n+=o$(r)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ff(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:e,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(bi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),x0&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=bh.indexOf(this._offlineEventListener);s!==-1&&bh.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}bi.protocol=gN;class j$ extends bi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;bi.priorWebsocketSuccess=!1;const r=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",m=>{if(!s)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;bi.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=n.name,this.emitReserved("upgradeError",g)}}))};function i(){s||(s=!0,p(),n.close(),n=null)}const a=m=>{const g=new Error("probe error: "+m);g.transport=n.name,i(),this.emitReserved("upgradeError",g)};function c(){a("transport closed")}function d(){a("socket closed")}function h(m){n&&m.name!==n.name&&i()}const p=()=>{n.removeListener("open",r),n.removeListener("error",a),n.removeListener("close",c),this.off("close",d),this.off("upgrading",h)};n.once("open",r),n.once("error",a),n.once("close",c),this.once("close",d),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let k$=class extends j${constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(r=>v$[r]).filter(r=>!!r)),super(e,s)}};function N$(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=y0(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+e,s.href=s.protocol+"://"+i+(n&&n.port===s.port?"":":"+s.port),s}const T$=typeof ArrayBuffer=="function",E$=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,_N=Object.prototype.toString,P$=typeof Blob=="function"||typeof Blob<"u"&&_N.call(Blob)==="[object BlobConstructor]",A$=typeof File=="function"||typeof File<"u"&&_N.call(File)==="[object FileConstructor]";function Yy(t){return T$&&(t instanceof ArrayBuffer||E$(t))||P$&&t instanceof Blob||A$&&t instanceof File}function vh(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(vh(t[n]))return!0;return!1}if(Yy(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return vh(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&vh(t[n]))return!0;return!1}function M$(t){const e=[],n=t.data,s=t;return s.data=b0(n,e),s.attachments=e.length,{packet:s,buffers:e}}function b0(t,e){if(!t)return t;if(Yy(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=b0(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=b0(t[s],e));return n}return t}function R$(t,e){return t.data=v0(t.data,e),delete t.attachments,t}function v0(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=v0(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=v0(t[n],e));return t}const D$=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],O$=5;var We;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(We||(We={}));class L${constructor(e){this.replacer=e}encode(e){return(e.type===We.EVENT||e.type===We.ACK)&&vh(e)?this.encodeAsBinary({type:e.type===We.EVENT?We.BINARY_EVENT:We.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===We.BINARY_EVENT||e.type===We.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=M$(e),s=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(s),r}}function M_(t){return Object.prototype.toString.call(t)==="[object Object]"}class Ky extends Et{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===We.BINARY_EVENT;s||n.type===We.BINARY_ACK?(n.type=s?We.EVENT:We.ACK,this.reconstructor=new I$(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Yy(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(We[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===We.BINARY_EVENT||s.type===We.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(i,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(a)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(i,n)}else s.nsp="/";const r=e.charAt(n+1);if(r!==""&&Number(r)==r){const i=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}s.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(Ky.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case We.CONNECT:return M_(n);case We.DISCONNECT:return n===void 0;case We.CONNECT_ERROR:return typeof n=="string"||M_(n);case We.EVENT:case We.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&D$.indexOf(n[0])===-1);case We.ACK:case We.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class I${constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=R$(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const F$=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ky,Encoder:L$,get PacketType(){return We},protocol:O$},Symbol.toStringTag,{value:"Module"}));function fs(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const B$=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class SN extends Et{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[fs(e,"open",this.onopen.bind(this)),fs(e,"packet",this.onpacket.bind(this)),fs(e,"error",this.onerror.bind(this)),fs(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,r,i;if(B$.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:We.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,m=n.pop();this._registerAckCallback(p,m),a.id=p}const c=(r=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||r===void 0?void 0:r.writable,d=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!c||(d?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,n){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},r),a=(...c)=>{this.io.clearTimeoutFn(i),n.apply(this,c)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((s,r)=>{const i=(a,c)=>a?r(a):s(c);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...i)=>s!==this._queue[0]?void 0:(r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:We.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case We.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case We.EVENT:case We.BINARY_EVENT:this.onevent(e);break;case We.ACK:case We.BINARY_ACK:this.onack(e);break;case We.DISCONNECT:this.ondisconnect();break;case We.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...r){s||(s=!0,n.packet({type:We.ACK,id:e,data:r}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:We.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function Ja(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ja.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Ja.prototype.reset=function(){this.attempts=0};Ja.prototype.setMin=function(t){this.ms=t};Ja.prototype.setMax=function(t){this.max=t};Ja.prototype.setJitter=function(t){this.jitter=t};class w0 extends Et{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,pf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Ja({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const r=n.parser||F$;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new k$(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=fs(n,"open",function(){s.onopen(),e&&e()}),i=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},a=fs(n,"error",i);if(this._timeout!==!1){const c=this._timeout,d=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),n.close()},c);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(fs(e,"ping",this.onping.bind(this)),fs(e,"data",this.ondata.bind(this)),fs(e,"error",this.onerror.bind(this)),fs(e,"close",this.onclose.bind(this)),fs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){ff(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new SN(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const rc={};function wh(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=N$(t,e.path||"/socket.io"),s=n.source,r=n.id,i=n.path,a=rc[r]&&i in rc[r].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let d;return c?d=new w0(s,e):(rc[r]||(rc[r]=new w0(s,e)),d=rc[r]),n.query&&!e.query&&(e.query=n.queryKey),d.socket(n.path,e)}Object.assign(wh,{Manager:w0,Socket:SN,io:wh,connect:wh});function z$(t){const[e,n]=j.useState([]),[s,r]=j.useState(null),[i,a]=j.useState({}),c=j.useRef(null);j.useEffect(()=>{if(!t)return;const m=wh(void 0,{withCredentials:!0,query:{token:document.cookie.split("=")[1]}});return c.current=m,m.on("roomList",g=>{n(g)}),m.on("message",g=>{a(x=>({...x,[g.roomId]:[...x[g.roomId]||[],{...g,senderName:g.senderName,senderId:g.senderId}]}))}),m.emit("getRooms"),()=>{m.disconnect()}},[t]);const d=()=>{c.current&&c.current.emit("getRooms")},h=m=>{r(m),c.current&&c.current.emit("joinRoom",m)};j.useEffect(()=>{var m;if(s)return(m=c.current)==null||m.on("roomMessages",g=>{const x=g.map(v=>({...v,senderName:v.sender?v.sender.name:"Unknown"}));a(v=>({...v,[s]:x}))}),()=>{var g;(g=c.current)==null||g.off("roomMessages")}},[s]);const p=(m,g,x)=>{c.current&&x&&c.current.emit("sendMessage",{roomId:m,text:g,sender:x.id,senderName:x.name})};return{socket:c.current,rooms:e,currentRoom:s,messages:i,joinRoom:h,refreshRooms:d,sendMessage:p}}function V$({rooms:t,currentRoom:e,joinRoom:n}){return u.jsx("aside",{className:"w-72 p-6  backdrop-blur-xl border-r border-gray-800 flex flex-col rounded-lg shadow-lg",children:u.jsx("ul",{className:"space-y-4",children:t.map(s=>u.jsx("li",{children:u.jsxs("button",{className:`w-full text-left px-4 py-3 rounded-lg flex justify-between items-center transition-all ${s._id===e?"bg-white/20 text-white":"text-gray-300 hover:bg-white/10 hover:text-white"}`,onClick:()=>{n(s._id)},children:[u.jsxs("span",{className:"font-medium",children:["#",s.name]}),s._id===e&&u.jsx("span",{className:"text-xs text-blue-100",children:"Active"})]})},s._id))})})}function $$({user:t,roomId:e,messages:n,sendMessage:s}){const[r,i]=j.useState(""),a=d=>{d.preventDefault(),r.trim()&&(s(e,r),i(""))},c=d=>{const h=new Date(d),p=h.getHours(),m=h.getMinutes();return`${p}:${m<10?`0${m}`:m}`};return u.jsxs("div",{className:"flex-1 flex flex-col bg-gray-800 rounded-xl overflow-hidden shadow-lg",children:[u.jsx("div",{className:"flex-1 p-6 overflow-y-auto space-y-6",children:n.length===0?u.jsx("p",{className:"text-gray-400 text-center",children:"No messages yet. Start the conversation!"}):n.map((d,h)=>u.jsxs("div",{className:`flex flex-col ${d.sender&&d.sender.id===t.id?"items-end":"items-start"}`,children:[u.jsx("div",{className:"text-sm text-gray-400",children:u.jsx("strong",{children:d.sender?d.sender.fullName:"Unknown Sender"})}),u.jsxs("div",{className:`message-text max-w-xl p-3 rounded-lg mt-1 ${d.sender&&d.sender.id===t.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-100"}`,children:[u.jsx("p",{children:d.text})," "]}),u.jsx("div",{className:"text-xs text-gray-400 mt-1",children:u.jsx("span",{children:c(d.createdAt)})})]},h))}),u.jsxs("form",{onSubmit:a,className:"flex p-3 border-t border-slate-700 bg-slate-900 rounded-lg bg-opacity-60 backdrop-blur-xl",children:[u.jsx("input",{value:r,onChange:d=>i(d.target.value),className:"flex-1 p-3 rounded-lg bg-slate-800 text-white placeholder-gray-400 focus:outline-none bg-opacity-70",placeholder:"Type your message..."}),u.jsx("button",{type:"submit",className:"ml-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Send"})]})]})}function U$({roomId:t,onClose:e,onInvited:n}){const[s,r]=j.useState([]),[i,a]=j.useState("");j.useEffect(()=>{oe.get("/admin/users?role=moderator").then(d=>r(d.data))},[]);const c=async()=>{await oe.post(`/admin/chat/rooms/${t}/members`,{userId:i}),n&&n(i),e()};return u.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white p-6 rounded shadow text-black space-y-4 w-80",children:[u.jsx("b",{children:"Invite Moderator"}),u.jsxs("select",{className:"border w-full p-2",value:i,onChange:d=>a(d.target.value),children:[u.jsx("option",{value:"",children:"Select moderator..."}),s.map(d=>u.jsxs("option",{value:d._id,children:[d.firstName," ",d.lastName," (",d.username,")"]},d._id))]}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{onClick:e,className:"text-gray-600",children:"Cancel"}),u.jsx("button",{disabled:!i,onClick:c,className:"bg-blue-700 px-3 py-1 rounded text-white",children:"Invite"})]})]})})}function CN(){const{user:t}=ns(),{rooms:e,currentRoom:n,messages:s,joinRoom:r,sendMessage:i,refreshRooms:a}=z$(t),[c,d]=j.useState(!1),[h,p]=j.useState(!1),[m,g]=j.useState({name:"",type:"channel"}),[x,v]=j.useState(!1),w=e.find(C=>C._id===n);j.useEffect(()=>{e.length>0&&!n&&r(e[0]._id)},[e,n,r]);const _=async C=>{if(C.preventDefault(),!!m.name.trim()){v(!0);try{const k=await oe.post("/admin/chat/rooms",{name:m.name,type:m.type,members:[],isReadOnly:!1,isPublic:!1});p(!1),g({name:"",type:"channel"}),a(),setTimeout(()=>r(k.data._id),400)}finally{v(!1)}}};return u.jsxs("div",{className:"flex h-full bg-gray-900",children:[u.jsxs("div",{className:"w-80 p-6 border-r border-gray-800 flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-white text-lg font-semibold",children:"Channels & DMs"}),u.jsx("button",{className:"bg-blue-600 px-4 py-2 rounded-lg text-sm text-white hover:bg-blue-700 transition",onClick:()=>p(!0),children:"+ New Room"})]}),u.jsx(V$,{rooms:e,currentRoom:n,joinRoom:r})]}),u.jsxs("div",{className:"flex-1 flex flex-col bg-gray-800 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-700 bg-gray-900",children:w?u.jsxs(u.Fragment,{children:[u.jsxs("span",{className:"font-bold text-lg text-white",children:["#",w.name]}),u.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded text-xs hover:bg-blue-700 transition",onClick:()=>d(!0),children:"Invite Moderator"})]}):u.jsx("span",{className:"text-gray-400",children:"Select a chat room to begin."})}),w?u.jsx($$,{user:t,roomId:w._id,messages:s[w._id]||[],sendMessage:i}):u.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:"Select a chat room to begin."}),c&&w&&u.jsx(U$,{roomId:w._id,onClose:()=>d(!1),onInvited:()=>{}}),h&&u.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:u.jsxs("form",{className:"bg-white text-black p-8 rounded-xl shadow-xl space-y-4 w-96",onSubmit:_,children:[u.jsx("h3",{className:"font-semibold text-xl mb-4",children:"Create Room"}),u.jsx("input",{className:"border p-4 rounded-lg w-full bg-gray-100 focus:ring-2 focus:ring-blue-600",placeholder:"Room name",value:m.name,onChange:C=>g({...m,name:C.target.value}),autoFocus:!0,disabled:x}),u.jsxs("select",{value:m.type,onChange:C=>g({...m,type:C.target.value}),className:"w-full p-4 bg-gray-100 rounded-lg focus:ring-2 focus:ring-blue-600",disabled:x,children:[u.jsx("option",{value:"channel",children:"Channel"}),u.jsx("option",{value:"group",children:"Group"}),u.jsx("option",{value:"dm",children:"Direct Message"})]}),u.jsxs("div",{className:"flex gap-4 justify-end",children:[u.jsx("button",{type:"button",className:"px-4 py-2 text-gray-600 hover:text-gray-800",onClick:()=>p(!1),disabled:x,children:"Cancel"}),u.jsx("button",{type:"submit",className:"bg-blue-700 px-6 py-3 rounded-lg text-white",disabled:x||!m.name.trim(),children:x?"Creating...":"Create"})]})]})})]})]})}const H$=()=>{const[t,e]=j.useState(null),[n,s]=j.useState(null),[r,i]=Gc(),a=r.get("tab")||"profile",c=r.get("complaintId"),d=j.useCallback(async()=>{try{const g=await oe.get("/users/me");e(g.data)}catch{e(null)}},[]),h=j.useCallback(async()=>{try{const g=await oe.get("/dashboard/admin");s(g.data)}catch{s(null)}},[]);j.useEffect(()=>{d(),h()},[d,h]);const p=(g,x={})=>{i({tab:g,...x})},m=()=>{if(!t)return u.jsx("p",{children:"Loading profile..."});switch(a){case"profile":return u.jsx(O0,{user:t,refreshUser:d});case"orders":return u.jsx("p",{className:"text-sm text-gray-600",children:" Orders coming soon..."});case"wishlist":return u.jsx("p",{className:"text-sm text-gray-600",children:" Wishlist coming soon..."});case"users":return u.jsx(b4,{});case"products":return u.jsx(_4,{});case"products-management":return u.jsx(H4,{});case"blog":return u.jsx(q4,{});case"blog-editor":return u.jsx(O3,{});case"invoices":return u.jsx(hj,{});case"overview":return n?u.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[u.jsx("p",{children:n.message}),u.jsx("pre",{className:"mt-4 text-sm bg-gray-100 p-4 rounded",children:JSON.stringify(n.stats,null,2)})]}):u.jsx("p",{children:"Loading admin stats..."});case"complaints":return u.jsx(aN,{});case"complaints-detail":return u.jsx(Uy,{id:c,goBack:()=>p("complaints")});case"todos":return u.jsx(cN,{});case"calendar":return u.jsx(uN,{});case"email-marketing":return u.jsx(q7,{});case"chat":return u.jsx(CN,{});default:return u.jsx("p",{className:"text-sm text-red-500",children:" Unknown section"})}};return u.jsxs("div",{className:"flex flex-col h-screen",children:[u.jsx(eu,{}),u.jsx("div",{className:"flex flex-1 min-h-0",children:u.jsx(D0,{activeTab:a,setActiveTab:p,children:u.jsxs("div",{className:"flex-1 flex flex-col bg-[#0f172a] text-white p-6 ",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),u.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:m()})]})})})]})},W$=()=>{const[t,e]=j.useState(null),[n,s]=Gc(),r=n.get("tab")||"profile",i=n.get("complaintId"),a=j.useCallback(async()=>{try{const h=await oe.get("/users/me");e(h.data)}catch{e(null)}},[]);j.useEffect(()=>{a()},[a]);const c=(h,p={})=>{s({tab:h,...p})},d=()=>{if(!t)return u.jsx("p",{children:"Loading profile..."});switch(r){case"profile":return u.jsx(O0,{user:t,refreshUser:a});case"complaints":return u.jsx(aN,{user:t,role:"moderator"});case"complaints-detail":return u.jsx(Uy,{id:i,goBack:()=>c("complaints")});case"todos":return u.jsx(cN,{});case"calendar":return u.jsx(uN,{});case"chat":return u.jsx(CN,{});default:return u.jsx("p",{className:"text-sm text-red-500",children:" Unknown section"})}};return u.jsxs("div",{className:"flex flex-col h-screen",children:[u.jsx(eu,{}),u.jsx("div",{className:"flex flex-1 min-h-0",children:u.jsx(D0,{activeTab:r.split("-")[0],setActiveTab:c,children:u.jsxs("div",{className:"flex-1 flex flex-col bg-[#0f172a] text-white p-6 overflow-hidden",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Moderator Dashboard"}),u.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:d()})]})})})]})};function q$(){var d,h,p,m;const[t,e]=j.useState({subject:"",category:"order issue",description:""}),[n,s]=j.useState(""),r=["order issue","payment","product","delivery","other"],i=xV(),a=g=>e(x=>({...x,[g.target.name]:g.target.value})),c=async g=>{g.preventDefault(),s(""),i.mutate(t,{onSuccess:()=>{s(" Complaint submitted successfully!"),e({subject:"",category:"order issue",description:""})}})};return u.jsxs(Cc.form,{onSubmit:c,className:"max-w-lg mx-auto mt-10 bg-slate-800/90 rounded-2xl shadow-2xl border border-slate-700 px-8 py-7 relative",initial:{opacity:0,y:25},animate:{opacity:1,y:0},transition:{type:"spring",duration:.6},children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-2 rounded-t-2xl bg-gradient-to-r from-cyan-500 via-blue-500 to-sky-400"}),u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6 mt-2 text-center tracking-tight",children:"Raise a Complaint"}),u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{className:"block text-sm font-semibold text-cyan-200 mb-1",children:"Subject"}),u.jsx("input",{name:"subject",value:t.subject,onChange:a,required:!0,className:"w-full px-3 py-2 bg-[#1e293b] rounded-lg border border-slate-700 focus:ring-2 focus:ring-cyan-400 focus:outline-none text-white transition",placeholder:"Short summary",maxLength:70})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{className:"block text-sm font-semibold text-cyan-200 mb-1",children:"Category"}),u.jsx("select",{name:"category",value:t.category,onChange:a,className:"w-full px-3 py-2 bg-[#1e293b] rounded-lg border border-slate-700 text-white focus:ring-2 focus:ring-cyan-400 focus:outline-none transition",children:r.map(g=>u.jsx("option",{value:g,children:g.charAt(0).toUpperCase()+g.slice(1)},g))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-semibold text-cyan-200 mb-1",children:"Description"}),u.jsx("textarea",{name:"description",value:t.description,onChange:a,required:!0,rows:5,maxLength:1e3,className:"w-full px-3 py-2 bg-[#1e293b] rounded-lg border border-slate-700 text-white focus:ring-2 focus:ring-cyan-400 focus:outline-none transition",placeholder:"Describe your complaint"}),u.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[t.description.length,"/1000"]})]}),u.jsxs(t8,{children:[i.isError&&u.jsx(Cc.p,{className:"text-red-400 mb-2",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},children:((p=(h=(d=i.error)==null?void 0:d.response)==null?void 0:h.data)==null?void 0:p.message)||((m=i.error)==null?void 0:m.message)}),n&&u.jsx(Cc.p,{className:"text-green-400 mb-2",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},children:n})]}),u.jsx("button",{type:"submit",disabled:i.isLoading,className:"w-full mt-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-400 hover:to-blue-600 text-white font-semibold px-6 py-2.5 rounded-lg shadow-lg transition disabled:opacity-60",children:i.isLoading?"Submitting":"Submit Complaint"})]})}const R_=(t,e="U")=>(t||e).split(" ").map(n=>n[0]).join("").slice(0,2).toUpperCase();function Y$(t){if(!t)return[];const e=Array.isArray(t.messages)?t.messages:[];return(t.description&&(!e.length||e[0].message!==t.description)?[{role:"user",message:t.description,sentAt:t.createdAt||Date.now(),isDescription:!0}]:[]).concat(e)}function K$({complaintId:t}){const{user:e}=ns(),n=j.useRef(null),[s,r]=j.useState(""),[i,a]=j.useState(!1),{data:c,isLoading:d,isError:h,error:p,refetch:m}=vV(t,!1);j.useEffect(()=>{if(!t)return;const v=setInterval(()=>{m()},5e3);return()=>clearInterval(v)},[t,m]);const g=Y$(c);j.useEffect(()=>{n.current&&n.current.scrollIntoView({behavior:"smooth"})},[g.length,d]);const x=async v=>{var w,_;if(v.preventDefault(),!(!s.trim()||i)){a(!0);try{await oe.post(`/complaint/${t}/message`,{message:s}),r(""),m()}catch(C){alert(((_=(w=C.response)==null?void 0:w.data)==null?void 0:_.error)||"Failed to send message. Please try again.")}a(!1)}};return h?u.jsx("div",{className:"flex-1 flex items-center justify-center text-red-400",children:(p==null?void 0:p.message)||"Could not load complaint."}):d||!c?u.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:"Loading chat..."}):u.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[u.jsx("div",{className:"border-b border-slate-800 px-6 py-3 bg-slate-900 rounded-t-xl",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xl font-semibold text-white",children:c.subject}),u.jsx("span",{className:`
              text-xs px-2 py-1 rounded 
              ${c.status==="Resolved"?"bg-green-800 text-green-300":c.status==="Open"?"bg-yellow-800 text-yellow-200":"bg-blue-900 text-blue-200"}
            `,children:c.status}),u.jsx("span",{className:"ml-auto text-xs text-slate-400",children:new Date(c.createdAt).toLocaleDateString()})]})}),u.jsxs("div",{className:"flex-1 flex flex-col gap-2 px-4 py-6 overflow-y-auto custom-scrollbar",style:{minHeight:0,scrollbarWidth:"thin",scrollbarColor:"#4b5563 #141a29",WebkitOverflowScrolling:"touch",msOverflowStyle:"-ms-autohiding-scrollbar"},children:[g.length===0&&u.jsx("p",{className:"text-gray-400 text-sm text-center mt-16",children:"No messages yet."}),g.map((v,w)=>{const _=v.role==="user",C=_?(e==null?void 0:e.name)||"You":v.role==="admin"?"Admin":"Moderator";return u.jsxs("div",{className:`flex items-end gap-2 mb-2 ${_?"justify-end":"justify-start"}`,children:[!_&&u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-7 h-7 rounded-full bg-blue-700 flex items-center justify-center font-semibold text-white text-xs shadow border-2 border-blue-300",children:R_(C)})}),u.jsxs("div",{className:`
                  px-4 py-2.5 rounded-[22px] max-w-[90%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%] break-words shadow-md text-[14px]
                  ${_?"bg-slate-200/90 text-gray-900 rounded-tr-md border border-slate-400/20":"bg-gradient-to-br from-blue-600 via-sky-500 to-cyan-400 text-white rounded-tl-md border border-blue-500/40"} transition
                `,children:[u.jsxs("div",{className:"text-xs mb-1 opacity-80 flex items-center gap-1 font-mono tracking-tight",children:[u.jsx("span",{children:_?"You":C}),u.jsx("span",{className:"mx-1",children:""}),u.jsx("span",{children:v.sentAt?new Date(v.sentAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),u.jsx("div",{className:"whitespace-pre-wrap break-words break-all leading-tight",children:v.message})]}),_&&u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-500 to-sky-400 flex items-center justify-center font-semibold text-white text-xs shadow border-2 border-sky-200",children:R_(e==null?void 0:e.name,"U")})})]},w)}),u.jsx("div",{ref:n})]}),u.jsxs("form",{className:"flex gap-2 p-4 border-t border-slate-800 bg-slate-900/95 rounded-b-xl shadow-inner",onSubmit:x,autoComplete:"off",children:[u.jsx("input",{className:"flex-1 px-4 py-3 rounded-lg bg-[#263149] text-white focus:outline-none focus:ring-2 focus:ring-sky-400/80 transition shadow-md",value:s,onChange:v=>r(v.target.value),placeholder:"Type your message",disabled:i,maxLength:1e3}),u.jsx("button",{className:"bg-gradient-to-br from-sky-500 to-blue-600 hover:from-sky-400 hover:to-blue-700 px-6 py-3 rounded-lg text-white font-semibold shadow-lg border border-blue-400/50 transition",type:"submit",disabled:i,children:i?"Sending":"Send"})]})]})}function X$(){const[t,e]=j.useState([]),[n,s]=j.useState(!0),[r,i]=j.useState(null),[a,c]=j.useState("Open"),d=["Open","Under Review","Resolved","Closed"],h=d.reduce((m,g)=>(m[g]=t.filter(x=>x.status===g).length,m),{}),p=t.filter(m=>m.status===a);return j.useEffect(()=>{let m=!0,g;const x=async()=>{try{const{data:v}=await oe.get("/complaint");m&&e(v)}catch{m&&e([])}m&&s(!1)};return x(),g=setInterval(x,5e3),()=>{m=!1,clearInterval(g)}},[]),j.useEffect(()=>{p.length?i(p[0]._id):i(null)},[a,t.length]),u.jsx("div",{className:"w-full flex flex-col items-center",children:u.jsxs("div",{className:"w-full max-w-[98vw] flex flex-col mx-auto",style:{height:"74vh",maxHeight:"74vh",minHeight:520},children:[u.jsx("div",{className:"flex justify-center py-2",children:u.jsx("ul",{className:"flex gap-1 bg-[#202a40]/70 px-1.5 py-0.5 rounded-full shadow border border-blue-900/30",children:d.map(m=>u.jsx("li",{children:u.jsxs("button",{type:"button",onClick:()=>c(m),className:`px-3 py-1 rounded-full font-medium text-[14px] transition-all duration-300
                    ${a===m?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow":"text-blue-100/80 hover:text-white hover:bg-blue-900/30"}
                  `,style:{minWidth:70},children:[m,u.jsx("span",{className:"ml-1 font-mono text-xs px-1.5 py-0.5 rounded-full bg-slate-900 text-cyan-200",children:h[m]??0}),a===m&&u.jsx("span",{className:"block h-0.5 w-4/5 rounded-full bg-gradient-to-r from-cyan-400/80 via-blue-400 to-blue-600/70 mx-auto mt-1"})]})},m))})}),u.jsxs("div",{className:"flex flex-1 min-h-0 w-full gap-0",children:[u.jsx("div",{className:"relative w-1/4 min-w-[260px] max-w-[340px] flex-shrink-0 h-full",children:u.jsxs("div",{className:"flex flex-col bg-[#151b29] rounded-l-2xl shadow-2xl h-full border border-slate-800",children:[u.jsx("div",{className:"px-4 py-3 border-b border-slate-800",children:u.jsx("h3",{className:"text-base font-bold text-white tracking-tight",children:"Your Complaints"})}),u.jsx("ul",{className:"flex-1 min-h-0 overflow-y-auto custom-scrollbar",style:{scrollbarWidth:"thin",scrollbarColor:"#4b5563 #151b29",WebkitOverflowScrolling:"touch"},children:n?u.jsx("div",{className:"px-4 py-6 text-slate-400 text-center text-sm",children:"Loading your complaints..."}):p.length===0?u.jsx("div",{className:"px-4 py-6 text-slate-400 text-center text-sm",children:"No complaints in this status."}):p.map(m=>u.jsxs("li",{className:`group cursor-pointer px-4 py-3 border-b border-slate-800 transition-all duration-150 ${r===m._id?"bg-gradient-to-r from-sky-950/70 to-slate-900 border-sky-500 shadow-inner":"hover:bg-slate-800/60"}`,onClick:()=>i(m._id),children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"font-semibold text-blue-200 text-xs",children:m.subject}),u.jsx("span",{className:`text-xs rounded px-2 py-0.5 ${m.status==="Resolved"?"bg-green-700/50 text-green-300":m.status==="Open"?"bg-yellow-700/40 text-yellow-200":m.status==="Closed"?"bg-slate-700 text-slate-200":"bg-blue-800/40 text-sky-200"}`,children:m.status})]}),u.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["Category: ",m.category," "," ",new Date(m.createdAt).toLocaleDateString()]}),u.jsx("div",{className:"text-gray-300 text-xs line-clamp-2",children:m.description}),u.jsx("div",{className:"mt-2",children:u.jsx("span",{className:`text-xs font-medium transition ${r===m._id?"text-sky-400":"text-blue-400 group-hover:text-sky-300"}`,children:r===m._id?"Chat Open":"View Chat"})})]},m._id))})]})}),u.jsx("div",{className:"flex-1 flex flex-col rounded-r-2xl bg-[#161d2b] shadow-2xl ml-0 border-t border-b border-r border-slate-800",style:{height:"100%"},children:r?u.jsx(K$,{complaintId:r}):u.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 text-lg",children:"Select a complaint to view chat."})})]})]})})}function Q$(){const[t,e]=j.useState("raise");return u.jsxs("div",{children:[u.jsxs("div",{className:"flex gap-2 mb-6",children:[u.jsx("button",{className:`px-4 py-2 rounded-t font-semibold transition ${t==="raise"?"bg-blue-600 text-white shadow":"bg-slate-800 text-blue-200"}`,onClick:()=>e("raise"),children:"Raise Complaint"}),u.jsx("button",{className:`px-4 py-2 rounded-t font-semibold transition ${t==="list"?"bg-blue-600 text-white shadow":"bg-slate-800 text-blue-200"}`,onClick:()=>e("list"),children:"My Complaints"})]}),u.jsxs("div",{children:[t==="raise"&&u.jsx(q$,{}),t==="list"&&u.jsx(X$,{})]})]})}const G$=()=>{const[t,e]=j.useState(null),[n,s]=Gc(),r=n.get("tab")||"profile",i=d=>{s({tab:d})},a=async()=>{var d,h;try{const p=await oe.get("/users/me");e(p.data)}catch(p){console.error("Failed to load profile:",(h=(d=p.response)==null?void 0:d.data)==null?void 0:h.message)}};j.useEffect(()=>{a()},[]);const c=()=>{if(!t)return u.jsx("p",{children:"Loading profile..."});switch(r){case"profile":return u.jsx(O0,{user:t,refreshUser:a});case"orders":return u.jsx("p",{className:"text-sm text-gray-600",children:" Orders coming soon..."});case"wishlist":return u.jsx("p",{className:"text-sm text-gray-600",children:" Wishlist coming soon..."});case"raise-complaint":return u.jsx(Q$,{});default:return u.jsx("p",{className:"text-sm text-red-500",children:" Unknown section"})}};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-[#0f172a]",children:[" ",u.jsx(eu,{}),u.jsx(D0,{activeTab:r,setActiveTab:i,children:u.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[" ",u.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"User Dashboard"}),c()]})})]})},pa=({allowedRoles:t,children:e})=>{const{user:n}=ns();return n?t.includes(n.role)?e:u.jsx(Tv,{to:"/unauthorized"}):u.jsx(Tv,{to:"/"})};function Z$(){const{loading:t}=ns();return t?u.jsx("div",{className:"p-10 text-center",children:"Checking session..."}):u.jsx("div",{children:u.jsxs(eS,{children:[u.jsx(Qt,{path:"/",element:u.jsx(p4,{})}),u.jsx(Qt,{path:"/reset-password/confirm",element:u.jsx(m4,{})}),u.jsx(Qt,{path:"/verify-email/:token",element:u.jsx(g4,{})}),u.jsx(Qt,{path:"/unauthorized",element:u.jsx(x4,{})}),u.jsx(Qt,{path:"/product/:slug",element:u.jsx(y4,{})}),u.jsx(Qt,{path:"/dashboard/admin/complaints",element:u.jsx(pa,{allowedRoles:["moderator","admin"],children:u.jsx(Vy,{})})}),u.jsx(Qt,{path:"/dashboard/admin/complaints/:id",element:u.jsx(pa,{allowedRoles:["moderator","admin"],children:u.jsx(Uy,{})})}),u.jsx(Qt,{path:"/dashboard/admin/invoice/*",element:u.jsx(pa,{allowedRoles:["admin"],children:u.jsx(hj,{})})}),u.jsx(Qt,{path:"/dashboard/admin/*",element:u.jsx(pa,{allowedRoles:["admin"],children:u.jsx(H$,{})})}),u.jsx(Qt,{path:"/dashboard/moderator/*",element:u.jsx(pa,{allowedRoles:["moderator","admin"],children:u.jsx(W$,{})})}),u.jsx(Qt,{path:"/dashboard/user/*",element:u.jsx(pa,{allowedRoles:["user","moderator","admin"],children:u.jsx(G$,{})})})]})})}const J$=new Jz;fE.createRoot(document.getElementById("root")).render(u.jsx(Is.StrictMode,{children:u.jsx(TP,{children:u.jsx(rV,{client:J$,children:u.jsx(bA,{children:u.jsx(Z$,{})})})})}));
