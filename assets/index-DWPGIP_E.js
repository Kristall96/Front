var NN=Object.defineProperty;var _v=t=>{throw TypeError(t)};var TN=(t,e,n)=>e in t?NN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xe=(t,e,n)=>TN(t,typeof e!="symbol"?e+"":e,n),bp=(t,e,n)=>e.has(t)||_v("Cannot "+n);var I=(t,e,n)=>(bp(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?_v("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,s)=>(bp(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),ze=(t,e,n)=>(bp(t,e,"access private method"),n);var rd=(t,e,n,s)=>({set _(r){fe(t,e,r,n)},get _(){return I(t,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Dg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wp={exports:{}},Al={},Sp={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function PN(){if(Cv)return Be;Cv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function S(O,X,ie){this.props=O,this.context=X,this.refs=_,this.updater=ie||v}S.prototype.isReactComponent={},S.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=S.prototype;function N(O,X,ie){this.props=O,this.context=X,this.refs=_,this.updater=ie||v}var P=N.prototype=new C;P.constructor=N,b(P,S.prototype),P.isPureReactComponent=!0;var A=Array.isArray,M=Object.prototype.hasOwnProperty,R={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function B(O,X,ie){var Se,we={},$e=null,De=null;if(X!=null)for(Se in X.ref!==void 0&&(De=X.ref),X.key!==void 0&&($e=""+X.key),X)M.call(X,Se)&&!z.hasOwnProperty(Se)&&(we[Se]=X[Se]);var Ae=arguments.length-2;if(Ae===1)we.children=ie;else if(1<Ae){for(var Le=Array(Ae),Ce=0;Ce<Ae;Ce++)Le[Ce]=arguments[Ce+2];we.children=Le}if(O&&O.defaultProps)for(Se in Ae=O.defaultProps,Ae)we[Se]===void 0&&(we[Se]=Ae[Se]);return{$$typeof:t,type:O,key:$e,ref:De,props:we,_owner:R.current}}function V(O,X){return{$$typeof:t,type:O.type,key:X,ref:O.ref,props:O.props,_owner:O._owner}}function $(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function G(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return X[ie]})}var ne=/\/+/g;function ue(O,X){return typeof O=="object"&&O!==null&&O.key!=null?G(""+O.key):X.toString(36)}function Q(O,X,ie,Se,we){var $e=typeof O;($e==="undefined"||$e==="boolean")&&(O=null);var De=!1;if(O===null)De=!0;else switch($e){case"string":case"number":De=!0;break;case"object":switch(O.$$typeof){case t:case e:De=!0}}if(De)return De=O,we=we(De),O=Se===""?"."+ue(De,0):Se,A(we)?(ie="",O!=null&&(ie=O.replace(ne,"$&/")+"/"),Q(we,X,ie,"",function(Ce){return Ce})):we!=null&&($(we)&&(we=V(we,ie+(!we.key||De&&De.key===we.key?"":(""+we.key).replace(ne,"$&/")+"/")+O)),X.push(we)),1;if(De=0,Se=Se===""?".":Se+":",A(O))for(var Ae=0;Ae<O.length;Ae++){$e=O[Ae];var Le=Se+ue($e,Ae);De+=Q($e,X,ie,Le,we)}else if(Le=y(O),typeof Le=="function")for(O=Le.call(O),Ae=0;!($e=O.next()).done;)$e=$e.value,Le=Se+ue($e,Ae++),De+=Q($e,X,ie,Le,we);else if($e==="object")throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return De}function pe(O,X,ie){if(O==null)return O;var Se=[],we=0;return Q(O,Se,"","",function($e){return X.call(ie,$e,we++)}),Se}function me(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var ae={current:null},Z={transition:null},oe={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:Z,ReactCurrentOwner:R};return Be.Children={map:pe,forEach:function(O,X,ie){pe(O,function(){X.apply(this,arguments)},ie)},count:function(O){var X=0;return pe(O,function(){X++}),X},toArray:function(O){return pe(O,function(X){return X})||[]},only:function(O){if(!$(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Be.Component=S,Be.Fragment=n,Be.Profiler=r,Be.PureComponent=N,Be.StrictMode=s,Be.Suspense=u,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Be.cloneElement=function(O,X,ie){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Se=b({},O.props),we=O.key,$e=O.ref,De=O._owner;if(X!=null){if(X.ref!==void 0&&($e=X.ref,De=R.current),X.key!==void 0&&(we=""+X.key),O.type&&O.type.defaultProps)var Ae=O.type.defaultProps;for(Le in X)M.call(X,Le)&&!z.hasOwnProperty(Le)&&(Se[Le]=X[Le]===void 0&&Ae!==void 0?Ae[Le]:X[Le])}var Le=arguments.length-2;if(Le===1)Se.children=ie;else if(1<Le){Ae=Array(Le);for(var Ce=0;Ce<Le;Ce++)Ae[Ce]=arguments[Ce+2];Se.children=Ae}return{$$typeof:t,type:O.type,key:we,ref:$e,props:Se,_owner:De}},Be.createContext=function(O){return O={$$typeof:a,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:i,_context:O},O.Consumer=O},Be.createElement=B,Be.createFactory=function(O){var X=B.bind(null,O);return X.type=O,X},Be.createRef=function(){return{current:null}},Be.forwardRef=function(O){return{$$typeof:c,render:O}},Be.isValidElement=$,Be.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:me}},Be.memo=function(O,X){return{$$typeof:h,type:O,compare:X===void 0?null:X}},Be.startTransition=function(O){var X=Z.transition;Z.transition={};try{O()}finally{Z.transition=X}},Be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Be.useCallback=function(O,X){return ae.current.useCallback(O,X)},Be.useContext=function(O){return ae.current.useContext(O)},Be.useDebugValue=function(){},Be.useDeferredValue=function(O){return ae.current.useDeferredValue(O)},Be.useEffect=function(O,X){return ae.current.useEffect(O,X)},Be.useId=function(){return ae.current.useId()},Be.useImperativeHandle=function(O,X,ie){return ae.current.useImperativeHandle(O,X,ie)},Be.useInsertionEffect=function(O,X){return ae.current.useInsertionEffect(O,X)},Be.useLayoutEffect=function(O,X){return ae.current.useLayoutEffect(O,X)},Be.useMemo=function(O,X){return ae.current.useMemo(O,X)},Be.useReducer=function(O,X,ie){return ae.current.useReducer(O,X,ie)},Be.useRef=function(O){return ae.current.useRef(O)},Be.useState=function(O){return ae.current.useState(O)},Be.useSyncExternalStore=function(O,X,ie){return ae.current.useSyncExternalStore(O,X,ie)},Be.useTransition=function(){return ae.current.useTransition()},Be.version="18.2.0",Be}var kv;function Og(){return kv||(kv=1,Sp.exports=PN()),Sp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function EN(){if(jv)return Al;jv=1;var t=Og(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,h){var p,g={},y=null,v=null;h!==void 0&&(y=""+h),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(v=u.ref);for(p in u)s.call(u,p)&&!i.hasOwnProperty(p)&&(g[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)g[p]===void 0&&(g[p]=u[p]);return{$$typeof:e,type:c,key:y,ref:v,props:g,_owner:r.current}}return Al.Fragment=n,Al.jsx=a,Al.jsxs=a,Al}var Nv;function MN(){return Nv||(Nv=1,wp.exports=EN()),wp.exports}var f=MN(),k=Og();const Ms=Dg(k);var id={},_p={exports:{}},yn={},Cp={exports:{}},kp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function AN(){return Tv||(Tv=1,function(t){function e(Z,oe){var O=Z.length;Z.push(oe);e:for(;0<O;){var X=O-1>>>1,ie=Z[X];if(0<r(ie,oe))Z[X]=oe,Z[O]=ie,O=X;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var oe=Z[0],O=Z.pop();if(O!==oe){Z[0]=O;e:for(var X=0,ie=Z.length,Se=ie>>>1;X<Se;){var we=2*(X+1)-1,$e=Z[we],De=we+1,Ae=Z[De];if(0>r($e,O))De<ie&&0>r(Ae,$e)?(Z[X]=Ae,Z[De]=O,X=De):(Z[X]=$e,Z[we]=O,X=we);else if(De<ie&&0>r(Ae,O))Z[X]=Ae,Z[De]=O,X=De;else break e}}return oe}function r(Z,oe){var O=Z.sortIndex-oe.sortIndex;return O!==0?O:Z.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],h=[],p=1,g=null,y=3,v=!1,b=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Z){for(var oe=n(h);oe!==null;){if(oe.callback===null)s(h);else if(oe.startTime<=Z)s(h),oe.sortIndex=oe.expirationTime,e(u,oe);else break;oe=n(h)}}function A(Z){if(_=!1,P(Z),!b)if(n(u)!==null)b=!0,me(M);else{var oe=n(h);oe!==null&&ae(A,oe.startTime-Z)}}function M(Z,oe){b=!1,_&&(_=!1,C(B),B=-1),v=!0;var O=y;try{for(P(oe),g=n(u);g!==null&&(!(g.expirationTime>oe)||Z&&!G());){var X=g.callback;if(typeof X=="function"){g.callback=null,y=g.priorityLevel;var ie=X(g.expirationTime<=oe);oe=t.unstable_now(),typeof ie=="function"?g.callback=ie:g===n(u)&&s(u),P(oe)}else s(u);g=n(u)}if(g!==null)var Se=!0;else{var we=n(h);we!==null&&ae(A,we.startTime-oe),Se=!1}return Se}finally{g=null,y=O,v=!1}}var R=!1,z=null,B=-1,V=5,$=-1;function G(){return!(t.unstable_now()-$<V)}function ne(){if(z!==null){var Z=t.unstable_now();$=Z;var oe=!0;try{oe=z(!0,Z)}finally{oe?ue():(R=!1,z=null)}}else R=!1}var ue;if(typeof N=="function")ue=function(){N(ne)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,pe=Q.port2;Q.port1.onmessage=ne,ue=function(){pe.postMessage(null)}}else ue=function(){S(ne,0)};function me(Z){z=Z,R||(R=!0,ue())}function ae(Z,oe){B=S(function(){Z(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){b||v||(b=!0,me(M))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var O=y;y=oe;try{return Z()}finally{y=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var O=y;y=Z;try{return oe()}finally{y=O}},t.unstable_scheduleCallback=function(Z,oe,O){var X=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?X+O:X):O=X,Z){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=O+ie,Z={id:p++,callback:oe,priorityLevel:Z,startTime:O,expirationTime:ie,sortIndex:-1},O>X?(Z.sortIndex=O,e(h,Z),n(u)===null&&Z===n(h)&&(_?(C(B),B=-1):_=!0,ae(A,O-X))):(Z.sortIndex=ie,e(u,Z),b||v||(b=!0,me(M))),Z},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(Z){var oe=y;return function(){var O=y;y=oe;try{return Z.apply(this,arguments)}finally{y=O}}}}(kp)),kp}var Pv;function RN(){return Pv||(Pv=1,Cp.exports=AN()),Cp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function DN(){if(Ev)return yn;Ev=1;var t=Og(),e=RN();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,r={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(r[o]=l,o=0;o<l.length;o++)s.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(o){return u.call(g,o)?!0:u.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function v(o,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function b(o,l,d,m){if(l===null||typeof l>"u"||v(o,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function _(o,l,d,m,x,w,j){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=w,this.removeEmptyString=j}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new _(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];S[l]=new _(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new _(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new _(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new _(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new _(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new _(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new _(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new _(o,5,!1,o.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function N(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(C,N);S[l]=new _(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(C,N);S[l]=new _(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(C,N);S[l]=new _(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new _(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new _(o,1,!1,o.toLowerCase(),null,!0,!0)});function P(o,l,d,m){var x=S.hasOwnProperty(l)?S[l]:null;(x!==null?x.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,d,x,m)&&(d=null),m||x===null?y(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):x.mustUseProperty?o[x.propertyName]=d===null?x.type===3?!1:"":d:(l=x.attributeName,m=x.attributeNamespace,d===null?o.removeAttribute(l):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,m?o.setAttributeNS(m,l,d):o.setAttribute(l,d))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),R=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),G=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),Z=Symbol.iterator;function oe(o){return o===null||typeof o!="object"?null:(o=Z&&o[Z]||o["@@iterator"],typeof o=="function"?o:null)}var O=Object.assign,X;function ie(o){if(X===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);X=l&&l[1]||""}return`
`+X+o}var Se=!1;function we(o,l){if(!o||Se)return"";Se=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Y){var m=Y}Reflect.construct(o,[],l)}else{try{l.call()}catch(Y){m=Y}o.call(l.prototype)}else{try{throw Error()}catch(Y){m=Y}o()}}catch(Y){if(Y&&m&&typeof Y.stack=="string"){for(var x=Y.stack.split(`
`),w=m.stack.split(`
`),j=x.length-1,D=w.length-1;1<=j&&0<=D&&x[j]!==w[D];)D--;for(;1<=j&&0<=D;j--,D--)if(x[j]!==w[D]){if(j!==1||D!==1)do if(j--,D--,0>D||x[j]!==w[D]){var F=`
`+x[j].replace(" at new "," at ");return o.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",o.displayName)),F}while(1<=j&&0<=D);break}}}finally{Se=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?ie(o):""}function $e(o){switch(o.tag){case 5:return ie(o.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return o=we(o.type,!1),o;case 11:return o=we(o.type.render,!1),o;case 1:return o=we(o.type,!0),o;default:return""}}function De(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case z:return"Fragment";case R:return"Portal";case V:return"Profiler";case B:return"StrictMode";case ue:return"Suspense";case Q:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case G:return(o.displayName||"Context")+".Consumer";case $:return(o._context.displayName||"Context")+".Provider";case ne:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case pe:return l=o.displayName||null,l!==null?l:De(o.type)||"Memo";case me:l=o._payload,o=o._init;try{return De(o(l))}catch{}}return null}function Ae(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(l);case 8:return l===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Le(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ce(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function le(o){var l=Ce(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),m=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,w=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(j){m=""+j,w.call(this,j)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(j){m=""+j},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ee(o){o._valueTracker||(o._valueTracker=le(o))}function Te(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return o&&(m=Ce(o)?o.checked?"true":"false":o.value),o=m,o!==d?(l.setValue(o),!0):!1}function Ie(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function tt(o,l){var d=l.checked;return O({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function yt(o,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=Le(l.value!=null?l.value:d),o._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function xt(o,l){l=l.checked,l!=null&&P(o,"checked",l,!1)}function tn(o,l){xt(o,l);var d=Le(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Co(o,l.type,d):l.hasOwnProperty("defaultValue")&&Co(o,l.type,Le(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function vr(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function Co(o,l,d){(l!=="number"||Ie(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var ps=Array.isArray;function Nt(o,l,d,m){if(o=o.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=l.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&m&&(o[d].defaultSelected=!0)}else{for(d=""+Le(d),l=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,m&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function Ha(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return O({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function qc(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(ps(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:Le(d)}}function Yc(o,l){var d=Le(l.value),m=Le(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),m!=null&&(o.defaultValue=""+m)}function Kc(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Xc(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ko(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Xc(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var bi,Wa=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,x){MSApp.execUnsafeLocalFunction(function(){return o(l,d,m,x)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(bi=bi||document.createElement("div"),bi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=bi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function br(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qa=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(o){qa.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),ms[l]=ms[o]})});function Qc(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||ms.hasOwnProperty(o)&&ms[o]?(""+l).trim():l+"px"}function Gc(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,x=Qc(d,l[d],m);d==="float"&&(d="cssFloat"),m?o.setProperty(d,x):o[d]=x}}var Fh=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ya(o,l){if(l){if(Fh[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Ka(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wr=null;function Xa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Qa=null,zs=null,Vs=null;function jo(o){if(o=yl(o)){if(typeof Qa!="function")throw Error(n(280));var l=o.stateNode;l&&(l=vu(l),Qa(o.stateNode,o.type,l))}}function Zc(o){zs?Vs?Vs.push(o):Vs=[o]:zs=o}function Jc(){if(zs){var o=zs,l=Vs;if(Vs=zs=null,jo(o),l)for(o=0;o<l.length;o++)jo(l[o])}}function eu(o,l){return o(l)}function Ga(){}var Za=!1;function tu(o,l,d){if(Za)return o(l,d);Za=!0;try{return eu(o,l,d)}finally{Za=!1,(zs!==null||Vs!==null)&&(Ga(),Jc())}}function wi(o,l){var d=o.stateNode;if(d===null)return null;var m=vu(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Sr=!1;if(c)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{Sr=!1}function zh(o,l,d,m,x,w,j,D,F){var Y=Array.prototype.slice.call(arguments,3);try{l.apply(d,Y)}catch(te){this.onError(te)}}var _r=!1,Cr=null,No=!1,To=null,Vh={onError:function(o){_r=!0,Cr=o}};function nu(o,l,d,m,x,w,j,D,F){_r=!1,Cr=null,zh.apply(Vh,arguments)}function su(o,l,d,m,x,w,j,D,F){if(nu.apply(this,arguments),_r){if(_r){var Y=Cr;_r=!1,Cr=null}else throw Error(n(198));No||(No=!0,To=Y)}}function gs(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function Ja(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Po(o){if(gs(o)!==o)throw Error(n(188))}function Bs(o){var l=o.alternate;if(!l){if(l=gs(o),l===null)throw Error(n(188));return l!==o?null:o}for(var d=o,m=l;;){var x=d.return;if(x===null)break;var w=x.alternate;if(w===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===d)return Po(x),o;if(w===m)return Po(x),l;w=w.sibling}throw Error(n(188))}if(d.return!==m.return)d=x,m=w;else{for(var j=!1,D=x.child;D;){if(D===d){j=!0,d=x,m=w;break}if(D===m){j=!0,m=x,d=w;break}D=D.sibling}if(!j){for(D=w.child;D;){if(D===d){j=!0,d=w,m=x;break}if(D===m){j=!0,m=w,d=x;break}D=D.sibling}if(!j)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:l}function kr(o){return o=Bs(o),o!==null?jr(o):null}function jr(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=jr(o);if(l!==null)return l;o=o.sibling}return null}var _i=e.unstable_scheduleCallback,Eo=e.unstable_cancelCallback,Bh=e.unstable_shouldYield,Uh=e.unstable_requestPaint,Ge=e.unstable_now,cn=e.unstable_getCurrentPriorityLevel,ys=e.unstable_ImmediatePriority,Zn=e.unstable_UserBlockingPriority,un=e.unstable_NormalPriority,Ci=e.unstable_LowPriority,Nn=e.unstable_IdlePriority,dn=null,Tn=null;function ru(o){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(dn,o,void 0,(o.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:el,Pn=Math.log,Mo=Math.LN2;function el(o){return o>>>=0,o===0?32:31-(Pn(o)/Mo|0)|0}var Nr=64,Tr=4194304;function Us(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function $s(o,l){var d=o.pendingLanes;if(d===0)return 0;var m=0,x=o.suspendedLanes,w=o.pingedLanes,j=d&268435455;if(j!==0){var D=j&~x;D!==0?m=Us(D):(w&=j,w!==0&&(m=Us(w)))}else j=d&~x,j!==0?m=Us(j):w!==0&&(m=Us(w));if(m===0)return 0;if(l!==0&&l!==m&&(l&x)===0&&(x=m&-m,w=l&-l,x>=w||x===16&&(w&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=m;0<l;)d=31-Ut(l),x=1<<d,m|=o[d],l&=~x;return m}function xs(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $h(o,l){for(var d=o.suspendedLanes,m=o.pingedLanes,x=o.expirationTimes,w=o.pendingLanes;0<w;){var j=31-Ut(w),D=1<<j,F=x[j];F===-1?((D&d)===0||(D&m)!==0)&&(x[j]=xs(D,l)):F<=l&&(o.expiredLanes|=D),w&=~D}}function Ao(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Ro(){var o=Nr;return Nr<<=1,(Nr&4194240)===0&&(Nr=64),o}function Do(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function ki(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Ut(l),o[l]=d}function Hh(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<d;){var x=31-Ut(d),w=1<<x;l[x]=0,m[x]=-1,o[x]=-1,d&=~w}}function T(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var m=31-Ut(d),x=1<<m;x&l|o[m]&l&&(o[m]|=l),d&=~x}}var E=0;function L(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var q,ee,de,Fe,vt,bt=!1,Ct=[],Tt=null,Pr=null,Er=null,tl=new Map,nl=new Map,Mr=[],Xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iy(o,l){switch(o){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":tl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(l.pointerId)}}function sl(o,l,d,m,x,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[x]},l!==null&&(l=yl(l),l!==null&&ee(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function Qk(o,l,d,m,x){switch(l){case"focusin":return Tt=sl(Tt,o,l,d,m,x),!0;case"dragenter":return Pr=sl(Pr,o,l,d,m,x),!0;case"mouseover":return Er=sl(Er,o,l,d,m,x),!0;case"pointerover":var w=x.pointerId;return tl.set(w,sl(tl.get(w)||null,o,l,d,m,x)),!0;case"gotpointercapture":return w=x.pointerId,nl.set(w,sl(nl.get(w)||null,o,l,d,m,x)),!0}return!1}function oy(o){var l=ji(o.target);if(l!==null){var d=gs(l);if(d!==null){if(l=d.tag,l===13){if(l=Ja(d),l!==null){o.blockedOn=l,vt(o.priority,function(){de(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function iu(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=qh(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var m=new d.constructor(d.type,d);wr=m,d.target.dispatchEvent(m),wr=null}else return l=yl(d),l!==null&&ee(l),o.blockedOn=d,!1;l.shift()}return!0}function ay(o,l,d){iu(o)&&d.delete(l)}function Gk(){bt=!1,Tt!==null&&iu(Tt)&&(Tt=null),Pr!==null&&iu(Pr)&&(Pr=null),Er!==null&&iu(Er)&&(Er=null),tl.forEach(ay),nl.forEach(ay)}function rl(o,l){o.blockedOn===l&&(o.blockedOn=null,bt||(bt=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gk)))}function il(o){function l(x){return rl(x,o)}if(0<Ct.length){rl(Ct[0],o);for(var d=1;d<Ct.length;d++){var m=Ct[d];m.blockedOn===o&&(m.blockedOn=null)}}for(Tt!==null&&rl(Tt,o),Pr!==null&&rl(Pr,o),Er!==null&&rl(Er,o),tl.forEach(l),nl.forEach(l),d=0;d<Mr.length;d++)m=Mr[d],m.blockedOn===o&&(m.blockedOn=null);for(;0<Mr.length&&(d=Mr[0],d.blockedOn===null);)oy(d),d.blockedOn===null&&Mr.shift()}var Oo=A.ReactCurrentBatchConfig,ou=!0;function Zk(o,l,d,m){var x=E,w=Oo.transition;Oo.transition=null;try{E=1,Wh(o,l,d,m)}finally{E=x,Oo.transition=w}}function Jk(o,l,d,m){var x=E,w=Oo.transition;Oo.transition=null;try{E=4,Wh(o,l,d,m)}finally{E=x,Oo.transition=w}}function Wh(o,l,d,m){if(ou){var x=qh(o,l,d,m);if(x===null)uf(o,l,m,au,d),iy(o,m);else if(Qk(x,o,l,d,m))m.stopPropagation();else if(iy(o,m),l&4&&-1<Xk.indexOf(o)){for(;x!==null;){var w=yl(x);if(w!==null&&q(w),w=qh(o,l,d,m),w===null&&uf(o,l,m,au,d),w===x)break;x=w}x!==null&&m.stopPropagation()}else uf(o,l,m,null,d)}}var au=null;function qh(o,l,d,m){if(au=null,o=Xa(m),o=ji(o),o!==null)if(l=gs(o),l===null)o=null;else if(d=l.tag,d===13){if(o=Ja(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return au=o,null}function ly(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cn()){case ys:return 1;case Zn:return 4;case un:case Ci:return 16;case Nn:return 536870912;default:return 16}default:return 16}}var Ar=null,Yh=null,lu=null;function cy(){if(lu)return lu;var o,l=Yh,d=l.length,m,x="value"in Ar?Ar.value:Ar.textContent,w=x.length;for(o=0;o<d&&l[o]===x[o];o++);var j=d-o;for(m=1;m<=j&&l[d-m]===x[w-m];m++);return lu=x.slice(o,1<m?1-m:void 0)}function cu(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function uu(){return!0}function uy(){return!1}function En(o){function l(d,m,x,w,j){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=w,this.target=j,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(d=o[D],this[D]=d?d(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?uu:uy,this.isPropagationStopped=uy,this}return O(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),l}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kh=En(Lo),ol=O({},Lo,{view:0,detail:0}),ej=En(ol),Xh,Qh,al,du=O({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==al&&(al&&o.type==="mousemove"?(Xh=o.screenX-al.screenX,Qh=o.screenY-al.screenY):Qh=Xh=0,al=o),Xh)},movementY:function(o){return"movementY"in o?o.movementY:Qh}}),dy=En(du),tj=O({},du,{dataTransfer:0}),nj=En(tj),sj=O({},ol,{relatedTarget:0}),Gh=En(sj),rj=O({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),ij=En(rj),oj=O({},Lo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),aj=En(oj),lj=O({},Lo,{data:0}),hy=En(lj),cj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hj(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=dj[o])?!!l[o]:!1}function Zh(){return hj}var fj=O({},ol,{key:function(o){if(o.key){var l=cj[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=cu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?uj[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zh,charCode:function(o){return o.type==="keypress"?cu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?cu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),pj=En(fj),mj=O({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fy=En(mj),gj=O({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zh}),yj=En(gj),xj=O({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),vj=En(xj),bj=O({},du,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),wj=En(bj),Sj=[9,13,27,32],Jh=c&&"CompositionEvent"in window,ll=null;c&&"documentMode"in document&&(ll=document.documentMode);var _j=c&&"TextEvent"in window&&!ll,py=c&&(!Jh||ll&&8<ll&&11>=ll),my=" ",gy=!1;function yy(o,l){switch(o){case"keyup":return Sj.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xy(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Io=!1;function Cj(o,l){switch(o){case"compositionend":return xy(l);case"keypress":return l.which!==32?null:(gy=!0,my);case"textInput":return o=l.data,o===my&&gy?null:o;default:return null}}function kj(o,l){if(Io)return o==="compositionend"||!Jh&&yy(o,l)?(o=cy(),lu=Yh=Ar=null,Io=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return py&&l.locale!=="ko"?null:l.data;default:return null}}var jj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vy(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!jj[o.type]:l==="textarea"}function by(o,l,d,m){Zc(m),l=gu(l,"onChange"),0<l.length&&(d=new Kh("onChange","change",null,d,m),o.push({event:d,listeners:l}))}var cl=null,ul=null;function Nj(o){Fy(o,0)}function hu(o){var l=Uo(o);if(Te(l))return o}function Tj(o,l){if(o==="change")return l}var wy=!1;if(c){var ef;if(c){var tf="oninput"in document;if(!tf){var Sy=document.createElement("div");Sy.setAttribute("oninput","return;"),tf=typeof Sy.oninput=="function"}ef=tf}else ef=!1;wy=ef&&(!document.documentMode||9<document.documentMode)}function _y(){cl&&(cl.detachEvent("onpropertychange",Cy),ul=cl=null)}function Cy(o){if(o.propertyName==="value"&&hu(ul)){var l=[];by(l,ul,o,Xa(o)),tu(Nj,l)}}function Pj(o,l,d){o==="focusin"?(_y(),cl=l,ul=d,cl.attachEvent("onpropertychange",Cy)):o==="focusout"&&_y()}function Ej(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return hu(ul)}function Mj(o,l){if(o==="click")return hu(l)}function Aj(o,l){if(o==="input"||o==="change")return hu(l)}function Rj(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Jn=typeof Object.is=="function"?Object.is:Rj;function dl(o,l){if(Jn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!u.call(l,x)||!Jn(o[x],l[x]))return!1}return!0}function ky(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function jy(o,l){var d=ky(o);o=0;for(var m;d;){if(d.nodeType===3){if(m=o+d.textContent.length,o<=l&&m>=l)return{node:d,offset:l-o};o=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=ky(d)}}function Ny(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Ny(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Ty(){for(var o=window,l=Ie();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Ie(o.document)}return l}function nf(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function Dj(o){var l=Ty(),d=o.focusedElem,m=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&Ny(d.ownerDocument.documentElement,d)){if(m!==null&&nf(d)){if(l=m.start,o=m.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var x=d.textContent.length,w=Math.min(m.start,x);m=m.end===void 0?w:Math.min(m.end,x),!o.extend&&w>m&&(x=m,m=w,w=x),x=jy(d,w);var j=jy(d,m);x&&j&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==j.node||o.focusOffset!==j.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),o.removeAllRanges(),w>m?(o.addRange(l),o.extend(j.node,j.offset)):(l.setEnd(j.node,j.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Oj=c&&"documentMode"in document&&11>=document.documentMode,Fo=null,sf=null,hl=null,rf=!1;function Py(o,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;rf||Fo==null||Fo!==Ie(m)||(m=Fo,"selectionStart"in m&&nf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),hl&&dl(hl,m)||(hl=m,m=gu(sf,"onSelect"),0<m.length&&(l=new Kh("onSelect","select",null,l,d),o.push({event:l,listeners:m}),l.target=Fo)))}function fu(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var zo={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},of={},Ey={};c&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function pu(o){if(of[o])return of[o];if(!zo[o])return o;var l=zo[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in Ey)return of[o]=l[d];return o}var My=pu("animationend"),Ay=pu("animationiteration"),Ry=pu("animationstart"),Dy=pu("transitionend"),Oy=new Map,Ly="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(o,l){Oy.set(o,l),i(l,[o])}for(var af=0;af<Ly.length;af++){var lf=Ly[af],Lj=lf.toLowerCase(),Ij=lf[0].toUpperCase()+lf.slice(1);Rr(Lj,"on"+Ij)}Rr(My,"onAnimationEnd"),Rr(Ay,"onAnimationIteration"),Rr(Ry,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Dy,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fj=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function Iy(o,l,d){var m=o.type||"unknown-event";o.currentTarget=d,su(m,l,void 0,o),o.currentTarget=null}function Fy(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var m=o[d],x=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var j=m.length-1;0<=j;j--){var D=m[j],F=D.instance,Y=D.currentTarget;if(D=D.listener,F!==w&&x.isPropagationStopped())break e;Iy(x,D,Y),w=F}else for(j=0;j<m.length;j++){if(D=m[j],F=D.instance,Y=D.currentTarget,D=D.listener,F!==w&&x.isPropagationStopped())break e;Iy(x,D,Y),w=F}}}if(No)throw o=To,No=!1,To=null,o}function Je(o,l){var d=l[gf];d===void 0&&(d=l[gf]=new Set);var m=o+"__bubble";d.has(m)||(zy(l,o,2,!1),d.add(m))}function cf(o,l,d){var m=0;l&&(m|=4),zy(d,o,m,l)}var mu="_reactListening"+Math.random().toString(36).slice(2);function pl(o){if(!o[mu]){o[mu]=!0,s.forEach(function(d){d!=="selectionchange"&&(Fj.has(d)||cf(d,!1,o),cf(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[mu]||(l[mu]=!0,cf("selectionchange",!1,l))}}function zy(o,l,d,m){switch(ly(l)){case 1:var x=Zk;break;case 4:x=Jk;break;default:x=Wh}d=x.bind(null,l,d,o),x=void 0,!Sr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),m?x!==void 0?o.addEventListener(l,d,{capture:!0,passive:x}):o.addEventListener(l,d,!0):x!==void 0?o.addEventListener(l,d,{passive:x}):o.addEventListener(l,d,!1)}function uf(o,l,d,m,x){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var j=m.tag;if(j===3||j===4){var D=m.stateNode.containerInfo;if(D===x||D.nodeType===8&&D.parentNode===x)break;if(j===4)for(j=m.return;j!==null;){var F=j.tag;if((F===3||F===4)&&(F=j.stateNode.containerInfo,F===x||F.nodeType===8&&F.parentNode===x))return;j=j.return}for(;D!==null;){if(j=ji(D),j===null)return;if(F=j.tag,F===5||F===6){m=w=j;continue e}D=D.parentNode}}m=m.return}tu(function(){var Y=w,te=Xa(d),se=[];e:{var J=Oy.get(o);if(J!==void 0){var he=Kh,ye=o;switch(o){case"keypress":if(cu(d)===0)break e;case"keydown":case"keyup":he=pj;break;case"focusin":ye="focus",he=Gh;break;case"focusout":ye="blur",he=Gh;break;case"beforeblur":case"afterblur":he=Gh;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=nj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=yj;break;case My:case Ay:case Ry:he=ij;break;case Dy:he=vj;break;case"scroll":he=ej;break;case"wheel":he=wj;break;case"copy":case"cut":case"paste":he=aj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=fy}var ve=(l&4)!==0,wt=!ve&&o==="scroll",H=ve?J!==null?J+"Capture":null:J;ve=[];for(var U=Y,W;U!==null;){W=U;var re=W.stateNode;if(W.tag===5&&re!==null&&(W=re,H!==null&&(re=wi(U,H),re!=null&&ve.push(ml(U,re,W)))),wt)break;U=U.return}0<ve.length&&(J=new he(J,ye,null,d,te),se.push({event:J,listeners:ve}))}}if((l&7)===0){e:{if(J=o==="mouseover"||o==="pointerover",he=o==="mouseout"||o==="pointerout",J&&d!==wr&&(ye=d.relatedTarget||d.fromElement)&&(ji(ye)||ye[Hs]))break e;if((he||J)&&(J=te.window===te?te:(J=te.ownerDocument)?J.defaultView||J.parentWindow:window,he?(ye=d.relatedTarget||d.toElement,he=Y,ye=ye?ji(ye):null,ye!==null&&(wt=gs(ye),ye!==wt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(he=null,ye=Y),he!==ye)){if(ve=dy,re="onMouseLeave",H="onMouseEnter",U="mouse",(o==="pointerout"||o==="pointerover")&&(ve=fy,re="onPointerLeave",H="onPointerEnter",U="pointer"),wt=he==null?J:Uo(he),W=ye==null?J:Uo(ye),J=new ve(re,U+"leave",he,d,te),J.target=wt,J.relatedTarget=W,re=null,ji(te)===Y&&(ve=new ve(H,U+"enter",ye,d,te),ve.target=W,ve.relatedTarget=wt,re=ve),wt=re,he&&ye)t:{for(ve=he,H=ye,U=0,W=ve;W;W=Vo(W))U++;for(W=0,re=H;re;re=Vo(re))W++;for(;0<U-W;)ve=Vo(ve),U--;for(;0<W-U;)H=Vo(H),W--;for(;U--;){if(ve===H||H!==null&&ve===H.alternate)break t;ve=Vo(ve),H=Vo(H)}ve=null}else ve=null;he!==null&&Vy(se,J,he,ve,!1),ye!==null&&wt!==null&&Vy(se,wt,ye,ve,!0)}}e:{if(J=Y?Uo(Y):window,he=J.nodeName&&J.nodeName.toLowerCase(),he==="select"||he==="input"&&J.type==="file")var be=Tj;else if(vy(J))if(wy)be=Aj;else{be=Ej;var ke=Pj}else(he=J.nodeName)&&he.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(be=Mj);if(be&&(be=be(o,Y))){by(se,be,d,te);break e}ke&&ke(o,J,Y),o==="focusout"&&(ke=J._wrapperState)&&ke.controlled&&J.type==="number"&&Co(J,"number",J.value)}switch(ke=Y?Uo(Y):window,o){case"focusin":(vy(ke)||ke.contentEditable==="true")&&(Fo=ke,sf=Y,hl=null);break;case"focusout":hl=sf=Fo=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,Py(se,d,te);break;case"selectionchange":if(Oj)break;case"keydown":case"keyup":Py(se,d,te)}var je;if(Jh)e:{switch(o){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Io?yy(o,d)&&(Me="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Me="onCompositionStart");Me&&(py&&d.locale!=="ko"&&(Io||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Io&&(je=cy()):(Ar=te,Yh="value"in Ar?Ar.value:Ar.textContent,Io=!0)),ke=gu(Y,Me),0<ke.length&&(Me=new hy(Me,o,null,d,te),se.push({event:Me,listeners:ke}),je?Me.data=je:(je=xy(d),je!==null&&(Me.data=je)))),(je=_j?Cj(o,d):kj(o,d))&&(Y=gu(Y,"onBeforeInput"),0<Y.length&&(te=new hy("onBeforeInput","beforeinput",null,d,te),se.push({event:te,listeners:Y}),te.data=je))}Fy(se,l)})}function ml(o,l,d){return{instance:o,listener:l,currentTarget:d}}function gu(o,l){for(var d=l+"Capture",m=[];o!==null;){var x=o,w=x.stateNode;x.tag===5&&w!==null&&(x=w,w=wi(o,d),w!=null&&m.unshift(ml(o,w,x)),w=wi(o,l),w!=null&&m.push(ml(o,w,x))),o=o.return}return m}function Vo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Vy(o,l,d,m,x){for(var w=l._reactName,j=[];d!==null&&d!==m;){var D=d,F=D.alternate,Y=D.stateNode;if(F!==null&&F===m)break;D.tag===5&&Y!==null&&(D=Y,x?(F=wi(d,w),F!=null&&j.unshift(ml(d,F,D))):x||(F=wi(d,w),F!=null&&j.push(ml(d,F,D)))),d=d.return}j.length!==0&&o.push({event:l,listeners:j})}var zj=/\r\n?/g,Vj=/\u0000|\uFFFD/g;function By(o){return(typeof o=="string"?o:""+o).replace(zj,`
`).replace(Vj,"")}function yu(o,l,d){if(l=By(l),By(o)!==l&&d)throw Error(n(425))}function xu(){}var df=null,hf=null;function ff(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var pf=typeof setTimeout=="function"?setTimeout:void 0,Bj=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,Uj=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(o){return Uy.resolve(null).then(o).catch($j)}:pf;function $j(o){setTimeout(function(){throw o})}function mf(o,l){var d=l,m=0;do{var x=d.nextSibling;if(o.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(m===0){o.removeChild(x),il(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=x}while(d);il(l)}function Dr(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function $y(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),vs="__reactFiber$"+Bo,gl="__reactProps$"+Bo,Hs="__reactContainer$"+Bo,gf="__reactEvents$"+Bo,Hj="__reactListeners$"+Bo,Wj="__reactHandles$"+Bo;function ji(o){var l=o[vs];if(l)return l;for(var d=o.parentNode;d;){if(l=d[Hs]||d[vs]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=$y(o);o!==null;){if(d=o[vs])return d;o=$y(o)}return l}o=d,d=o.parentNode}return null}function yl(o){return o=o[vs]||o[Hs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Uo(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function vu(o){return o[gl]||null}var yf=[],$o=-1;function Or(o){return{current:o}}function et(o){0>$o||(o.current=yf[$o],yf[$o]=null,$o--)}function Ze(o,l){$o++,yf[$o]=o.current,o.current=l}var Lr={},$t=Or(Lr),hn=Or(!1),Ni=Lr;function Ho(o,l){var d=o.type.contextTypes;if(!d)return Lr;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var x={},w;for(w in d)x[w]=l[w];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=x),x}function fn(o){return o=o.childContextTypes,o!=null}function bu(){et(hn),et($t)}function Hy(o,l,d){if($t.current!==Lr)throw Error(n(168));Ze($t,l),Ze(hn,d)}function Wy(o,l,d){var m=o.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var x in m)if(!(x in l))throw Error(n(108,Ae(o)||"Unknown",x));return O({},d,m)}function wu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Lr,Ni=$t.current,Ze($t,o),Ze(hn,hn.current),!0}function qy(o,l,d){var m=o.stateNode;if(!m)throw Error(n(169));d?(o=Wy(o,l,Ni),m.__reactInternalMemoizedMergedChildContext=o,et(hn),et($t),Ze($t,o)):et(hn),Ze(hn,d)}var Ws=null,Su=!1,xf=!1;function Yy(o){Ws===null?Ws=[o]:Ws.push(o)}function qj(o){Su=!0,Yy(o)}function Ir(){if(!xf&&Ws!==null){xf=!0;var o=0,l=E;try{var d=Ws;for(E=1;o<d.length;o++){var m=d[o];do m=m(!0);while(m!==null)}Ws=null,Su=!1}catch(x){throw Ws!==null&&(Ws=Ws.slice(o+1)),_i(ys,Ir),x}finally{E=l,xf=!1}}return null}var Wo=[],qo=0,_u=null,Cu=0,In=[],Fn=0,Ti=null,qs=1,Ys="";function Pi(o,l){Wo[qo++]=Cu,Wo[qo++]=_u,_u=o,Cu=l}function Ky(o,l,d){In[Fn++]=qs,In[Fn++]=Ys,In[Fn++]=Ti,Ti=o;var m=qs;o=Ys;var x=32-Ut(m)-1;m&=~(1<<x),d+=1;var w=32-Ut(l)+x;if(30<w){var j=x-x%5;w=(m&(1<<j)-1).toString(32),m>>=j,x-=j,qs=1<<32-Ut(l)+x|d<<x|m,Ys=w+o}else qs=1<<w|d<<x|m,Ys=o}function vf(o){o.return!==null&&(Pi(o,1),Ky(o,1,0))}function bf(o){for(;o===_u;)_u=Wo[--qo],Wo[qo]=null,Cu=Wo[--qo],Wo[qo]=null;for(;o===Ti;)Ti=In[--Fn],In[Fn]=null,Ys=In[--Fn],In[Fn]=null,qs=In[--Fn],In[Fn]=null}var Mn=null,An=null,nt=!1,es=null;function Xy(o,l){var d=Un(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function Qy(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Mn=o,An=Dr(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Mn=o,An=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Ti!==null?{id:qs,overflow:Ys}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Un(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,Mn=o,An=null,!0):!1;default:return!1}}function wf(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Sf(o){if(nt){var l=An;if(l){var d=l;if(!Qy(o,l)){if(wf(o))throw Error(n(418));l=Dr(d.nextSibling);var m=Mn;l&&Qy(o,l)?Xy(m,d):(o.flags=o.flags&-4097|2,nt=!1,Mn=o)}}else{if(wf(o))throw Error(n(418));o.flags=o.flags&-4097|2,nt=!1,Mn=o}}}function Gy(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Mn=o}function ku(o){if(o!==Mn)return!1;if(!nt)return Gy(o),nt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!ff(o.type,o.memoizedProps)),l&&(l=An)){if(wf(o))throw Zy(),Error(n(418));for(;l;)Xy(o,l),l=Dr(l.nextSibling)}if(Gy(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){An=Dr(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}An=null}}else An=Mn?Dr(o.stateNode.nextSibling):null;return!0}function Zy(){for(var o=An;o;)o=Dr(o.nextSibling)}function Yo(){An=Mn=null,nt=!1}function _f(o){es===null?es=[o]:es.push(o)}var Yj=A.ReactCurrentBatchConfig;function ts(o,l){if(o&&o.defaultProps){l=O({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}var ju=Or(null),Nu=null,Ko=null,Cf=null;function kf(){Cf=Ko=Nu=null}function jf(o){var l=ju.current;et(ju),o._currentValue=l}function Nf(o,l,d){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===d)break;o=o.return}}function Xo(o,l){Nu=o,Cf=Ko=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(pn=!0),o.firstContext=null)}function zn(o){var l=o._currentValue;if(Cf!==o)if(o={context:o,memoizedValue:l,next:null},Ko===null){if(Nu===null)throw Error(n(308));Ko=o,Nu.dependencies={lanes:0,firstContext:o}}else Ko=Ko.next=o;return l}var Ei=null;function Tf(o){Ei===null?Ei=[o]:Ei.push(o)}function Jy(o,l,d,m){var x=l.interleaved;return x===null?(d.next=d,Tf(l)):(d.next=x.next,x.next=d),l.interleaved=d,Ks(o,m)}function Ks(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var Fr=!1;function Pf(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ex(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Xs(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function zr(o,l,d){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(qe&2)!==0){var x=m.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),m.pending=l,Ks(o,d)}return x=m.interleaved,x===null?(l.next=l,Tf(m)):(l.next=x.next,x.next=l),m.interleaved=l,Ks(o,d)}function Tu(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,T(o,d)}}function tx(o,l){var d=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var j={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?x=w=j:w=w.next=j,d=d.next}while(d!==null);w===null?x=w=l:w=w.next=l}else x=w=l;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:m.shared,effects:m.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function Pu(o,l,d,m){var x=o.updateQueue;Fr=!1;var w=x.firstBaseUpdate,j=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var F=D,Y=F.next;F.next=null,j===null?w=Y:j.next=Y,j=F;var te=o.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==j&&(D===null?te.firstBaseUpdate=Y:D.next=Y,te.lastBaseUpdate=F))}if(w!==null){var se=x.baseState;j=0,te=Y=F=null,D=w;do{var J=D.lane,he=D.eventTime;if((m&J)===J){te!==null&&(te=te.next={eventTime:he,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var ye=o,ve=D;switch(J=l,he=d,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){se=ye.call(he,se,J);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,J=typeof ye=="function"?ye.call(he,se,J):ye,J==null)break e;se=O({},se,J);break e;case 2:Fr=!0}}D.callback!==null&&D.lane!==0&&(o.flags|=64,J=x.effects,J===null?x.effects=[D]:J.push(D))}else he={eventTime:he,lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(Y=te=he,F=se):te=te.next=he,j|=J;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;J=D,D=J.next,J.next=null,x.lastBaseUpdate=J,x.shared.pending=null}}while(!0);if(te===null&&(F=se),x.baseState=F,x.firstBaseUpdate=Y,x.lastBaseUpdate=te,l=x.shared.interleaved,l!==null){x=l;do j|=x.lane,x=x.next;while(x!==l)}else w===null&&(x.shared.lanes=0);Ri|=j,o.lanes=j,o.memoizedState=se}}function nx(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var m=o[l],x=m.callback;if(x!==null){if(m.callback=null,m=d,typeof x!="function")throw Error(n(191,x));x.call(m)}}}var sx=new t.Component().refs;function Ef(o,l,d,m){l=o.memoizedState,d=d(m,l),d=d==null?l:O({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Eu={isMounted:function(o){return(o=o._reactInternals)?gs(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var m=sn(),x=$r(o),w=Xs(m,x);w.payload=l,d!=null&&(w.callback=d),l=zr(o,w,x),l!==null&&(rs(l,o,x,m),Tu(l,o,x))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var m=sn(),x=$r(o),w=Xs(m,x);w.tag=1,w.payload=l,d!=null&&(w.callback=d),l=zr(o,w,x),l!==null&&(rs(l,o,x,m),Tu(l,o,x))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=sn(),m=$r(o),x=Xs(d,m);x.tag=2,l!=null&&(x.callback=l),l=zr(o,x,m),l!==null&&(rs(l,o,m,d),Tu(l,o,m))}};function rx(o,l,d,m,x,w,j){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,w,j):l.prototype&&l.prototype.isPureReactComponent?!dl(d,m)||!dl(x,w):!0}function ix(o,l,d){var m=!1,x=Lr,w=l.contextType;return typeof w=="object"&&w!==null?w=zn(w):(x=fn(l)?Ni:$t.current,m=l.contextTypes,w=(m=m!=null)?Ho(o,x):Lr),l=new l(d,w),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Eu,o.stateNode=l,l._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=w),l}function ox(o,l,d,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==o&&Eu.enqueueReplaceState(l,l.state,null)}function Mf(o,l,d,m){var x=o.stateNode;x.props=d,x.state=o.memoizedState,x.refs=sx,Pf(o);var w=l.contextType;typeof w=="object"&&w!==null?x.context=zn(w):(w=fn(l)?Ni:$t.current,x.context=Ho(o,w)),x.state=o.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Ef(o,l,w,d),x.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&Eu.enqueueReplaceState(x,x.state,null),Pu(o,d,x,m),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function xl(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var m=d.stateNode}if(!m)throw Error(n(147,o));var x=m,w=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(j){var D=x.refs;D===sx&&(D=x.refs={}),j===null?delete D[w]:D[w]=j},l._stringRef=w,l)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function Mu(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function ax(o){var l=o._init;return l(o._payload)}function lx(o){function l(H,U){if(o){var W=H.deletions;W===null?(H.deletions=[U],H.flags|=16):W.push(U)}}function d(H,U){if(!o)return null;for(;U!==null;)l(H,U),U=U.sibling;return null}function m(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function x(H,U){return H=Wr(H,U),H.index=0,H.sibling=null,H}function w(H,U,W){return H.index=W,o?(W=H.alternate,W!==null?(W=W.index,W<U?(H.flags|=2,U):W):(H.flags|=2,U)):(H.flags|=1048576,U)}function j(H){return o&&H.alternate===null&&(H.flags|=2),H}function D(H,U,W,re){return U===null||U.tag!==6?(U=pp(W,H.mode,re),U.return=H,U):(U=x(U,W),U.return=H,U)}function F(H,U,W,re){var be=W.type;return be===z?te(H,U,W.props.children,re,W.key):U!==null&&(U.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===me&&ax(be)===U.type)?(re=x(U,W.props),re.ref=xl(H,U,W),re.return=H,re):(re=Qu(W.type,W.key,W.props,null,H.mode,re),re.ref=xl(H,U,W),re.return=H,re)}function Y(H,U,W,re){return U===null||U.tag!==4||U.stateNode.containerInfo!==W.containerInfo||U.stateNode.implementation!==W.implementation?(U=mp(W,H.mode,re),U.return=H,U):(U=x(U,W.children||[]),U.return=H,U)}function te(H,U,W,re,be){return U===null||U.tag!==7?(U=Ii(W,H.mode,re,be),U.return=H,U):(U=x(U,W),U.return=H,U)}function se(H,U,W){if(typeof U=="string"&&U!==""||typeof U=="number")return U=pp(""+U,H.mode,W),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case M:return W=Qu(U.type,U.key,U.props,null,H.mode,W),W.ref=xl(H,null,U),W.return=H,W;case R:return U=mp(U,H.mode,W),U.return=H,U;case me:var re=U._init;return se(H,re(U._payload),W)}if(ps(U)||oe(U))return U=Ii(U,H.mode,W,null),U.return=H,U;Mu(H,U)}return null}function J(H,U,W,re){var be=U!==null?U.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return be!==null?null:D(H,U,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case M:return W.key===be?F(H,U,W,re):null;case R:return W.key===be?Y(H,U,W,re):null;case me:return be=W._init,J(H,U,be(W._payload),re)}if(ps(W)||oe(W))return be!==null?null:te(H,U,W,re,null);Mu(H,W)}return null}function he(H,U,W,re,be){if(typeof re=="string"&&re!==""||typeof re=="number")return H=H.get(W)||null,D(U,H,""+re,be);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case M:return H=H.get(re.key===null?W:re.key)||null,F(U,H,re,be);case R:return H=H.get(re.key===null?W:re.key)||null,Y(U,H,re,be);case me:var ke=re._init;return he(H,U,W,ke(re._payload),be)}if(ps(re)||oe(re))return H=H.get(W)||null,te(U,H,re,be,null);Mu(U,re)}return null}function ye(H,U,W,re){for(var be=null,ke=null,je=U,Me=U=0,Ot=null;je!==null&&Me<W.length;Me++){je.index>Me?(Ot=je,je=null):Ot=je.sibling;var Ye=J(H,je,W[Me],re);if(Ye===null){je===null&&(je=Ot);break}o&&je&&Ye.alternate===null&&l(H,je),U=w(Ye,U,Me),ke===null?be=Ye:ke.sibling=Ye,ke=Ye,je=Ot}if(Me===W.length)return d(H,je),nt&&Pi(H,Me),be;if(je===null){for(;Me<W.length;Me++)je=se(H,W[Me],re),je!==null&&(U=w(je,U,Me),ke===null?be=je:ke.sibling=je,ke=je);return nt&&Pi(H,Me),be}for(je=m(H,je);Me<W.length;Me++)Ot=he(je,H,Me,W[Me],re),Ot!==null&&(o&&Ot.alternate!==null&&je.delete(Ot.key===null?Me:Ot.key),U=w(Ot,U,Me),ke===null?be=Ot:ke.sibling=Ot,ke=Ot);return o&&je.forEach(function(qr){return l(H,qr)}),nt&&Pi(H,Me),be}function ve(H,U,W,re){var be=oe(W);if(typeof be!="function")throw Error(n(150));if(W=be.call(W),W==null)throw Error(n(151));for(var ke=be=null,je=U,Me=U=0,Ot=null,Ye=W.next();je!==null&&!Ye.done;Me++,Ye=W.next()){je.index>Me?(Ot=je,je=null):Ot=je.sibling;var qr=J(H,je,Ye.value,re);if(qr===null){je===null&&(je=Ot);break}o&&je&&qr.alternate===null&&l(H,je),U=w(qr,U,Me),ke===null?be=qr:ke.sibling=qr,ke=qr,je=Ot}if(Ye.done)return d(H,je),nt&&Pi(H,Me),be;if(je===null){for(;!Ye.done;Me++,Ye=W.next())Ye=se(H,Ye.value,re),Ye!==null&&(U=w(Ye,U,Me),ke===null?be=Ye:ke.sibling=Ye,ke=Ye);return nt&&Pi(H,Me),be}for(je=m(H,je);!Ye.done;Me++,Ye=W.next())Ye=he(je,H,Me,Ye.value,re),Ye!==null&&(o&&Ye.alternate!==null&&je.delete(Ye.key===null?Me:Ye.key),U=w(Ye,U,Me),ke===null?be=Ye:ke.sibling=Ye,ke=Ye);return o&&je.forEach(function(jN){return l(H,jN)}),nt&&Pi(H,Me),be}function wt(H,U,W,re){if(typeof W=="object"&&W!==null&&W.type===z&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case M:e:{for(var be=W.key,ke=U;ke!==null;){if(ke.key===be){if(be=W.type,be===z){if(ke.tag===7){d(H,ke.sibling),U=x(ke,W.props.children),U.return=H,H=U;break e}}else if(ke.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===me&&ax(be)===ke.type){d(H,ke.sibling),U=x(ke,W.props),U.ref=xl(H,ke,W),U.return=H,H=U;break e}d(H,ke);break}else l(H,ke);ke=ke.sibling}W.type===z?(U=Ii(W.props.children,H.mode,re,W.key),U.return=H,H=U):(re=Qu(W.type,W.key,W.props,null,H.mode,re),re.ref=xl(H,U,W),re.return=H,H=re)}return j(H);case R:e:{for(ke=W.key;U!==null;){if(U.key===ke)if(U.tag===4&&U.stateNode.containerInfo===W.containerInfo&&U.stateNode.implementation===W.implementation){d(H,U.sibling),U=x(U,W.children||[]),U.return=H,H=U;break e}else{d(H,U);break}else l(H,U);U=U.sibling}U=mp(W,H.mode,re),U.return=H,H=U}return j(H);case me:return ke=W._init,wt(H,U,ke(W._payload),re)}if(ps(W))return ye(H,U,W,re);if(oe(W))return ve(H,U,W,re);Mu(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,U!==null&&U.tag===6?(d(H,U.sibling),U=x(U,W),U.return=H,H=U):(d(H,U),U=pp(W,H.mode,re),U.return=H,H=U),j(H)):d(H,U)}return wt}var Qo=lx(!0),cx=lx(!1),vl={},bs=Or(vl),bl=Or(vl),wl=Or(vl);function Mi(o){if(o===vl)throw Error(n(174));return o}function Af(o,l){switch(Ze(wl,l),Ze(bl,o),Ze(bs,vl),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ko(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=ko(l,o)}et(bs),Ze(bs,l)}function Go(){et(bs),et(bl),et(wl)}function ux(o){Mi(wl.current);var l=Mi(bs.current),d=ko(l,o.type);l!==d&&(Ze(bl,o),Ze(bs,d))}function Rf(o){bl.current===o&&(et(bs),et(bl))}var ot=Or(0);function Au(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Df=[];function Of(){for(var o=0;o<Df.length;o++)Df[o]._workInProgressVersionPrimary=null;Df.length=0}var Ru=A.ReactCurrentDispatcher,Lf=A.ReactCurrentBatchConfig,Ai=0,at=null,Pt=null,Rt=null,Du=!1,Sl=!1,_l=0,Kj=0;function Ht(){throw Error(n(321))}function If(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Jn(o[d],l[d]))return!1;return!0}function Ff(o,l,d,m,x,w){if(Ai=w,at=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Ru.current=o===null||o.memoizedState===null?Zj:Jj,o=d(m,x),Sl){w=0;do{if(Sl=!1,_l=0,25<=w)throw Error(n(301));w+=1,Rt=Pt=null,l.updateQueue=null,Ru.current=eN,o=d(m,x)}while(Sl)}if(Ru.current=Iu,l=Pt!==null&&Pt.next!==null,Ai=0,Rt=Pt=at=null,Du=!1,l)throw Error(n(300));return o}function zf(){var o=_l!==0;return _l=0,o}function ws(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?at.memoizedState=Rt=o:Rt=Rt.next=o,Rt}function Vn(){if(Pt===null){var o=at.alternate;o=o!==null?o.memoizedState:null}else o=Pt.next;var l=Rt===null?at.memoizedState:Rt.next;if(l!==null)Rt=l,Pt=o;else{if(o===null)throw Error(n(310));Pt=o,o={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Rt===null?at.memoizedState=Rt=o:Rt=Rt.next=o}return Rt}function Cl(o,l){return typeof l=="function"?l(o):l}function Vf(o){var l=Vn(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=Pt,x=m.baseQueue,w=d.pending;if(w!==null){if(x!==null){var j=x.next;x.next=w.next,w.next=j}m.baseQueue=x=w,d.pending=null}if(x!==null){w=x.next,m=m.baseState;var D=j=null,F=null,Y=w;do{var te=Y.lane;if((Ai&te)===te)F!==null&&(F=F.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),m=Y.hasEagerState?Y.eagerState:o(m,Y.action);else{var se={lane:te,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};F===null?(D=F=se,j=m):F=F.next=se,at.lanes|=te,Ri|=te}Y=Y.next}while(Y!==null&&Y!==w);F===null?j=m:F.next=D,Jn(m,l.memoizedState)||(pn=!0),l.memoizedState=m,l.baseState=j,l.baseQueue=F,d.lastRenderedState=m}if(o=d.interleaved,o!==null){x=o;do w=x.lane,at.lanes|=w,Ri|=w,x=x.next;while(x!==o)}else x===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Bf(o){var l=Vn(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var m=d.dispatch,x=d.pending,w=l.memoizedState;if(x!==null){d.pending=null;var j=x=x.next;do w=o(w,j.action),j=j.next;while(j!==x);Jn(w,l.memoizedState)||(pn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,m]}function dx(){}function hx(o,l){var d=at,m=Vn(),x=l(),w=!Jn(m.memoizedState,x);if(w&&(m.memoizedState=x,pn=!0),m=m.queue,Uf(mx.bind(null,d,m,o),[o]),m.getSnapshot!==l||w||Rt!==null&&Rt.memoizedState.tag&1){if(d.flags|=2048,kl(9,px.bind(null,d,m,x,l),void 0,null),Dt===null)throw Error(n(349));(Ai&30)!==0||fx(d,l,x)}return x}function fx(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=at.updateQueue,l===null?(l={lastEffect:null,stores:null},at.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function px(o,l,d,m){l.value=d,l.getSnapshot=m,gx(l)&&yx(o)}function mx(o,l,d){return d(function(){gx(l)&&yx(o)})}function gx(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Jn(o,d)}catch{return!0}}function yx(o){var l=Ks(o,1);l!==null&&rs(l,o,1,-1)}function xx(o){var l=ws();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:o},l.queue=o,o=o.dispatch=Gj.bind(null,at,o),[l.memoizedState,o]}function kl(o,l,d,m){return o={tag:o,create:l,destroy:d,deps:m,next:null},l=at.updateQueue,l===null?(l={lastEffect:null,stores:null},at.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(m=d.next,d.next=o,o.next=m,l.lastEffect=o)),o}function vx(){return Vn().memoizedState}function Ou(o,l,d,m){var x=ws();at.flags|=o,x.memoizedState=kl(1|l,d,void 0,m===void 0?null:m)}function Lu(o,l,d,m){var x=Vn();m=m===void 0?null:m;var w=void 0;if(Pt!==null){var j=Pt.memoizedState;if(w=j.destroy,m!==null&&If(m,j.deps)){x.memoizedState=kl(l,d,w,m);return}}at.flags|=o,x.memoizedState=kl(1|l,d,w,m)}function bx(o,l){return Ou(8390656,8,o,l)}function Uf(o,l){return Lu(2048,8,o,l)}function wx(o,l){return Lu(4,2,o,l)}function Sx(o,l){return Lu(4,4,o,l)}function _x(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Cx(o,l,d){return d=d!=null?d.concat([o]):null,Lu(4,4,_x.bind(null,l,o),d)}function $f(){}function kx(o,l){var d=Vn();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&If(l,m[1])?m[0]:(d.memoizedState=[o,l],o)}function jx(o,l){var d=Vn();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&If(l,m[1])?m[0]:(o=o(),d.memoizedState=[o,l],o)}function Nx(o,l,d){return(Ai&21)===0?(o.baseState&&(o.baseState=!1,pn=!0),o.memoizedState=d):(Jn(d,l)||(d=Ro(),at.lanes|=d,Ri|=d,o.baseState=!0),l)}function Xj(o,l){var d=E;E=d!==0&&4>d?d:4,o(!0);var m=Lf.transition;Lf.transition={};try{o(!1),l()}finally{E=d,Lf.transition=m}}function Tx(){return Vn().memoizedState}function Qj(o,l,d){var m=$r(o);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},Px(o))Ex(l,d);else if(d=Jy(o,l,d,m),d!==null){var x=sn();rs(d,o,m,x),Mx(d,l,m)}}function Gj(o,l,d){var m=$r(o),x={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(Px(o))Ex(l,x);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var j=l.lastRenderedState,D=w(j,d);if(x.hasEagerState=!0,x.eagerState=D,Jn(D,j)){var F=l.interleaved;F===null?(x.next=x,Tf(l)):(x.next=F.next,F.next=x),l.interleaved=x;return}}catch{}finally{}d=Jy(o,l,x,m),d!==null&&(x=sn(),rs(d,o,m,x),Mx(d,l,m))}}function Px(o){var l=o.alternate;return o===at||l!==null&&l===at}function Ex(o,l){Sl=Du=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function Mx(o,l,d){if((d&4194240)!==0){var m=l.lanes;m&=o.pendingLanes,d|=m,l.lanes=d,T(o,d)}}var Iu={readContext:zn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},Zj={readContext:zn,useCallback:function(o,l){return ws().memoizedState=[o,l===void 0?null:l],o},useContext:zn,useEffect:bx,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,Ou(4194308,4,_x.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Ou(4194308,4,o,l)},useInsertionEffect:function(o,l){return Ou(4,2,o,l)},useMemo:function(o,l){var d=ws();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var m=ws();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},m.queue=o,o=o.dispatch=Qj.bind(null,at,o),[m.memoizedState,o]},useRef:function(o){var l=ws();return o={current:o},l.memoizedState=o},useState:xx,useDebugValue:$f,useDeferredValue:function(o){return ws().memoizedState=o},useTransition:function(){var o=xx(!1),l=o[0];return o=Xj.bind(null,o[1]),ws().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var m=at,x=ws();if(nt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),Dt===null)throw Error(n(349));(Ai&30)!==0||fx(m,l,d)}x.memoizedState=d;var w={value:d,getSnapshot:l};return x.queue=w,bx(mx.bind(null,m,w,o),[o]),m.flags|=2048,kl(9,px.bind(null,m,w,d,l),void 0,null),d},useId:function(){var o=ws(),l=Dt.identifierPrefix;if(nt){var d=Ys,m=qs;d=(m&~(1<<32-Ut(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=_l++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=Kj++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},Jj={readContext:zn,useCallback:kx,useContext:zn,useEffect:Uf,useImperativeHandle:Cx,useInsertionEffect:wx,useLayoutEffect:Sx,useMemo:jx,useReducer:Vf,useRef:vx,useState:function(){return Vf(Cl)},useDebugValue:$f,useDeferredValue:function(o){var l=Vn();return Nx(l,Pt.memoizedState,o)},useTransition:function(){var o=Vf(Cl)[0],l=Vn().memoizedState;return[o,l]},useMutableSource:dx,useSyncExternalStore:hx,useId:Tx,unstable_isNewReconciler:!1},eN={readContext:zn,useCallback:kx,useContext:zn,useEffect:Uf,useImperativeHandle:Cx,useInsertionEffect:wx,useLayoutEffect:Sx,useMemo:jx,useReducer:Bf,useRef:vx,useState:function(){return Bf(Cl)},useDebugValue:$f,useDeferredValue:function(o){var l=Vn();return Pt===null?l.memoizedState=o:Nx(l,Pt.memoizedState,o)},useTransition:function(){var o=Bf(Cl)[0],l=Vn().memoizedState;return[o,l]},useMutableSource:dx,useSyncExternalStore:hx,useId:Tx,unstable_isNewReconciler:!1};function Zo(o,l){try{var d="",m=l;do d+=$e(m),m=m.return;while(m);var x=d}catch(w){x=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:l,stack:x,digest:null}}function Hf(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function Wf(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var tN=typeof WeakMap=="function"?WeakMap:Map;function Ax(o,l,d){d=Xs(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){Hu||(Hu=!0,op=m),Wf(o,l)},d}function Rx(o,l,d){d=Xs(-1,d),d.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var x=l.value;d.payload=function(){return m(x)},d.callback=function(){Wf(o,l)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){Wf(o,l),typeof m!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})}),d}function Dx(o,l,d){var m=o.pingCache;if(m===null){m=o.pingCache=new tN;var x=new Set;m.set(l,x)}else x=m.get(l),x===void 0&&(x=new Set,m.set(l,x));x.has(d)||(x.add(d),o=mN.bind(null,o,l,d),l.then(o,o))}function Ox(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function Lx(o,l,d,m,x){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Xs(-1,1),l.tag=2,zr(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var nN=A.ReactCurrentOwner,pn=!1;function nn(o,l,d,m){l.child=o===null?cx(l,null,d,m):Qo(l,o.child,d,m)}function Ix(o,l,d,m,x){d=d.render;var w=l.ref;return Xo(l,x),m=Ff(o,l,d,m,w,x),d=zf(),o!==null&&!pn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,Qs(o,l,x)):(nt&&d&&vf(l),l.flags|=1,nn(o,l,m,x),l.child)}function Fx(o,l,d,m,x){if(o===null){var w=d.type;return typeof w=="function"&&!fp(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=w,zx(o,l,w,m,x)):(o=Qu(d.type,null,m,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,(o.lanes&x)===0){var j=w.memoizedProps;if(d=d.compare,d=d!==null?d:dl,d(j,m)&&o.ref===l.ref)return Qs(o,l,x)}return l.flags|=1,o=Wr(w,m),o.ref=l.ref,o.return=l,l.child=o}function zx(o,l,d,m,x){if(o!==null){var w=o.memoizedProps;if(dl(w,m)&&o.ref===l.ref)if(pn=!1,l.pendingProps=m=w,(o.lanes&x)!==0)(o.flags&131072)!==0&&(pn=!0);else return l.lanes=o.lanes,Qs(o,l,x)}return qf(o,l,d,m,x)}function Vx(o,l,d){var m=l.pendingProps,x=m.children,w=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ea,Rn),Rn|=d;else{if((d&1073741824)===0)return o=w!==null?w.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Ze(ea,Rn),Rn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:d,Ze(ea,Rn),Rn|=m}else w!==null?(m=w.baseLanes|d,l.memoizedState=null):m=d,Ze(ea,Rn),Rn|=m;return nn(o,l,x,d),l.child}function Bx(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function qf(o,l,d,m,x){var w=fn(d)?Ni:$t.current;return w=Ho(l,w),Xo(l,x),d=Ff(o,l,d,m,w,x),m=zf(),o!==null&&!pn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,Qs(o,l,x)):(nt&&m&&vf(l),l.flags|=1,nn(o,l,d,x),l.child)}function Ux(o,l,d,m,x){if(fn(d)){var w=!0;wu(l)}else w=!1;if(Xo(l,x),l.stateNode===null)zu(o,l),ix(l,d,m),Mf(l,d,m,x),m=!0;else if(o===null){var j=l.stateNode,D=l.memoizedProps;j.props=D;var F=j.context,Y=d.contextType;typeof Y=="object"&&Y!==null?Y=zn(Y):(Y=fn(d)?Ni:$t.current,Y=Ho(l,Y));var te=d.getDerivedStateFromProps,se=typeof te=="function"||typeof j.getSnapshotBeforeUpdate=="function";se||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(D!==m||F!==Y)&&ox(l,j,m,Y),Fr=!1;var J=l.memoizedState;j.state=J,Pu(l,m,j,x),F=l.memoizedState,D!==m||J!==F||hn.current||Fr?(typeof te=="function"&&(Ef(l,d,te,m),F=l.memoizedState),(D=Fr||rx(l,d,D,m,J,F,Y))?(se||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=F),j.props=m,j.state=F,j.context=Y,m=D):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{j=l.stateNode,ex(o,l),D=l.memoizedProps,Y=l.type===l.elementType?D:ts(l.type,D),j.props=Y,se=l.pendingProps,J=j.context,F=d.contextType,typeof F=="object"&&F!==null?F=zn(F):(F=fn(d)?Ni:$t.current,F=Ho(l,F));var he=d.getDerivedStateFromProps;(te=typeof he=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(D!==se||J!==F)&&ox(l,j,m,F),Fr=!1,J=l.memoizedState,j.state=J,Pu(l,m,j,x);var ye=l.memoizedState;D!==se||J!==ye||hn.current||Fr?(typeof he=="function"&&(Ef(l,d,he,m),ye=l.memoizedState),(Y=Fr||rx(l,d,Y,m,J,ye,F)||!1)?(te||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(m,ye,F),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(m,ye,F)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||D===o.memoizedProps&&J===o.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&J===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ye),j.props=m,j.state=ye,j.context=F,m=Y):(typeof j.componentDidUpdate!="function"||D===o.memoizedProps&&J===o.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&J===o.memoizedState||(l.flags|=1024),m=!1)}return Yf(o,l,d,m,w,x)}function Yf(o,l,d,m,x,w){Bx(o,l);var j=(l.flags&128)!==0;if(!m&&!j)return x&&qy(l,d,!1),Qs(o,l,w);m=l.stateNode,nN.current=l;var D=j&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,o!==null&&j?(l.child=Qo(l,o.child,null,w),l.child=Qo(l,null,D,w)):nn(o,l,D,w),l.memoizedState=m.state,x&&qy(l,d,!0),l.child}function $x(o){var l=o.stateNode;l.pendingContext?Hy(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Hy(o,l.context,!1),Af(o,l.containerInfo)}function Hx(o,l,d,m,x){return Yo(),_f(x),l.flags|=256,nn(o,l,d,m),l.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function Xf(o){return{baseLanes:o,cachePool:null,transitions:null}}function Wx(o,l,d){var m=l.pendingProps,x=ot.current,w=!1,j=(l.flags&128)!==0,D;if((D=j)||(D=o!==null&&o.memoizedState===null?!1:(x&2)!==0),D?(w=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),Ze(ot,x&1),o===null)return Sf(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(j=m.children,o=m.fallback,w?(m=l.mode,w=l.child,j={mode:"hidden",children:j},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=j):w=Gu(j,m,0,null),o=Ii(o,m,d,null),w.return=l,o.return=l,w.sibling=o,l.child=w,l.child.memoizedState=Xf(d),l.memoizedState=Kf,o):Qf(l,j));if(x=o.memoizedState,x!==null&&(D=x.dehydrated,D!==null))return sN(o,l,j,m,D,x,d);if(w){w=m.fallback,j=l.mode,x=o.child,D=x.sibling;var F={mode:"hidden",children:m.children};return(j&1)===0&&l.child!==x?(m=l.child,m.childLanes=0,m.pendingProps=F,l.deletions=null):(m=Wr(x,F),m.subtreeFlags=x.subtreeFlags&14680064),D!==null?w=Wr(D,w):(w=Ii(w,j,d,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,j=o.child.memoizedState,j=j===null?Xf(d):{baseLanes:j.baseLanes|d,cachePool:null,transitions:j.transitions},w.memoizedState=j,w.childLanes=o.childLanes&~d,l.memoizedState=Kf,m}return w=o.child,o=w.sibling,m=Wr(w,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=m,l.memoizedState=null,m}function Qf(o,l){return l=Gu({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Fu(o,l,d,m){return m!==null&&_f(m),Qo(l,o.child,null,d),o=Qf(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function sN(o,l,d,m,x,w,j){if(d)return l.flags&256?(l.flags&=-257,m=Hf(Error(n(422))),Fu(o,l,j,m)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(w=m.fallback,x=l.mode,m=Gu({mode:"visible",children:m.children},x,0,null),w=Ii(w,x,j,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,(l.mode&1)!==0&&Qo(l,o.child,null,j),l.child.memoizedState=Xf(j),l.memoizedState=Kf,w);if((l.mode&1)===0)return Fu(o,l,j,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var D=m.dgst;return m=D,w=Error(n(419)),m=Hf(w,m,void 0),Fu(o,l,j,m)}if(D=(j&o.childLanes)!==0,pn||D){if(m=Dt,m!==null){switch(j&-j){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|j))!==0?0:x,x!==0&&x!==w.retryLane&&(w.retryLane=x,Ks(o,x),rs(m,o,x,-1))}return hp(),m=Hf(Error(n(421))),Fu(o,l,j,m)}return x.data==="$?"?(l.flags|=128,l.child=o.child,l=gN.bind(null,o),x._reactRetry=l,null):(o=w.treeContext,An=Dr(x.nextSibling),Mn=l,nt=!0,es=null,o!==null&&(In[Fn++]=qs,In[Fn++]=Ys,In[Fn++]=Ti,qs=o.id,Ys=o.overflow,Ti=l),l=Qf(l,m.children),l.flags|=4096,l)}function qx(o,l,d){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),Nf(o.return,l,d)}function Gf(o,l,d,m,x){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=d,w.tailMode=x)}function Yx(o,l,d){var m=l.pendingProps,x=m.revealOrder,w=m.tail;if(nn(o,l,m.children,d),m=ot.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&qx(o,d,l);else if(o.tag===19)qx(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(Ze(ot,m),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(d=l.child,x=null;d!==null;)o=d.alternate,o!==null&&Au(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),Gf(l,!1,x,d,w);break;case"backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&Au(o)===null){l.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}Gf(l,!0,d,null,w);break;case"together":Gf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function zu(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Qs(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Ri|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,d=Wr(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Wr(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function rN(o,l,d){switch(l.tag){case 3:$x(l),Yo();break;case 5:ux(l);break;case 1:fn(l.type)&&wu(l);break;case 4:Af(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,x=l.memoizedProps.value;Ze(ju,m._currentValue),m._currentValue=x;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(Ze(ot,ot.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?Wx(o,l,d):(Ze(ot,ot.current&1),o=Qs(o,l,d),o!==null?o.sibling:null);Ze(ot,ot.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(o.flags&128)!==0){if(m)return Yx(o,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ze(ot,ot.current),m)break;return null;case 22:case 23:return l.lanes=0,Vx(o,l,d)}return Qs(o,l,d)}var Kx,Zf,Xx,Qx;Kx=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Zf=function(){},Xx=function(o,l,d,m){var x=o.memoizedProps;if(x!==m){o=l.stateNode,Mi(bs.current);var w=null;switch(d){case"input":x=tt(o,x),m=tt(o,m),w=[];break;case"select":x=O({},x,{value:void 0}),m=O({},m,{value:void 0}),w=[];break;case"textarea":x=Ha(o,x),m=Ha(o,m),w=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=xu)}Ya(d,m);var j;d=null;for(Y in x)if(!m.hasOwnProperty(Y)&&x.hasOwnProperty(Y)&&x[Y]!=null)if(Y==="style"){var D=x[Y];for(j in D)D.hasOwnProperty(j)&&(d||(d={}),d[j]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(r.hasOwnProperty(Y)?w||(w=[]):(w=w||[]).push(Y,null));for(Y in m){var F=m[Y];if(D=x!=null?x[Y]:void 0,m.hasOwnProperty(Y)&&F!==D&&(F!=null||D!=null))if(Y==="style")if(D){for(j in D)!D.hasOwnProperty(j)||F&&F.hasOwnProperty(j)||(d||(d={}),d[j]="");for(j in F)F.hasOwnProperty(j)&&D[j]!==F[j]&&(d||(d={}),d[j]=F[j])}else d||(w||(w=[]),w.push(Y,d)),d=F;else Y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,D=D?D.__html:void 0,F!=null&&D!==F&&(w=w||[]).push(Y,F)):Y==="children"?typeof F!="string"&&typeof F!="number"||(w=w||[]).push(Y,""+F):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(r.hasOwnProperty(Y)?(F!=null&&Y==="onScroll"&&Je("scroll",o),w||D===F||(w=[])):(w=w||[]).push(Y,F))}d&&(w=w||[]).push("style",d);var Y=w;(l.updateQueue=Y)&&(l.flags|=4)}},Qx=function(o,l,d,m){d!==m&&(l.flags|=4)};function jl(o,l){if(!nt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Wt(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,m=0;if(l)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=m,o.childLanes=d,l}function iN(o,l,d){var m=l.pendingProps;switch(bf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(l),null;case 1:return fn(l.type)&&bu(),Wt(l),null;case 3:return m=l.stateNode,Go(),et(hn),et($t),Of(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(ku(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,es!==null&&(cp(es),es=null))),Zf(o,l),Wt(l),null;case 5:Rf(l);var x=Mi(wl.current);if(d=l.type,o!==null&&l.stateNode!=null)Xx(o,l,d,m,x),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return Wt(l),null}if(o=Mi(bs.current),ku(l)){m=l.stateNode,d=l.type;var w=l.memoizedProps;switch(m[vs]=l,m[gl]=w,o=(l.mode&1)!==0,d){case"dialog":Je("cancel",m),Je("close",m);break;case"iframe":case"object":case"embed":Je("load",m);break;case"video":case"audio":for(x=0;x<fl.length;x++)Je(fl[x],m);break;case"source":Je("error",m);break;case"img":case"image":case"link":Je("error",m),Je("load",m);break;case"details":Je("toggle",m);break;case"input":yt(m,w),Je("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},Je("invalid",m);break;case"textarea":qc(m,w),Je("invalid",m)}Ya(d,w),x=null;for(var j in w)if(w.hasOwnProperty(j)){var D=w[j];j==="children"?typeof D=="string"?m.textContent!==D&&(w.suppressHydrationWarning!==!0&&yu(m.textContent,D,o),x=["children",D]):typeof D=="number"&&m.textContent!==""+D&&(w.suppressHydrationWarning!==!0&&yu(m.textContent,D,o),x=["children",""+D]):r.hasOwnProperty(j)&&D!=null&&j==="onScroll"&&Je("scroll",m)}switch(d){case"input":Ee(m),vr(m,w,!0);break;case"textarea":Ee(m),Kc(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=xu)}m=x,l.updateQueue=m,m!==null&&(l.flags|=4)}else{j=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Xc(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=j.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=j.createElement(d,{is:m.is}):(o=j.createElement(d),d==="select"&&(j=o,m.multiple?j.multiple=!0:m.size&&(j.size=m.size))):o=j.createElementNS(o,d),o[vs]=l,o[gl]=m,Kx(o,l,!1,!1),l.stateNode=o;e:{switch(j=Ka(d,m),d){case"dialog":Je("cancel",o),Je("close",o),x=m;break;case"iframe":case"object":case"embed":Je("load",o),x=m;break;case"video":case"audio":for(x=0;x<fl.length;x++)Je(fl[x],o);x=m;break;case"source":Je("error",o),x=m;break;case"img":case"image":case"link":Je("error",o),Je("load",o),x=m;break;case"details":Je("toggle",o),x=m;break;case"input":yt(o,m),x=tt(o,m),Je("invalid",o);break;case"option":x=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},x=O({},m,{value:void 0}),Je("invalid",o);break;case"textarea":qc(o,m),x=Ha(o,m),Je("invalid",o);break;default:x=m}Ya(d,x),D=x;for(w in D)if(D.hasOwnProperty(w)){var F=D[w];w==="style"?Gc(o,F):w==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Wa(o,F)):w==="children"?typeof F=="string"?(d!=="textarea"||F!=="")&&br(o,F):typeof F=="number"&&br(o,""+F):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(r.hasOwnProperty(w)?F!=null&&w==="onScroll"&&Je("scroll",o):F!=null&&P(o,w,F,j))}switch(d){case"input":Ee(o),vr(o,m,!1);break;case"textarea":Ee(o),Kc(o);break;case"option":m.value!=null&&o.setAttribute("value",""+Le(m.value));break;case"select":o.multiple=!!m.multiple,w=m.value,w!=null?Nt(o,!!m.multiple,w,!1):m.defaultValue!=null&&Nt(o,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=xu)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Wt(l),null;case 6:if(o&&l.stateNode!=null)Qx(o,l,o.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(d=Mi(wl.current),Mi(bs.current),ku(l)){if(m=l.stateNode,d=l.memoizedProps,m[vs]=l,(w=m.nodeValue!==d)&&(o=Mn,o!==null))switch(o.tag){case 3:yu(m.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&yu(m.nodeValue,d,(o.mode&1)!==0)}w&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[vs]=l,l.stateNode=m}return Wt(l),null;case 13:if(et(ot),m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(nt&&An!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Zy(),Yo(),l.flags|=98560,w=!1;else if(w=ku(l),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[vs]=l}else Yo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Wt(l),w=!1}else es!==null&&(cp(es),es=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(ot.current&1)!==0?Et===0&&(Et=3):hp())),l.updateQueue!==null&&(l.flags|=4),Wt(l),null);case 4:return Go(),Zf(o,l),o===null&&pl(l.stateNode.containerInfo),Wt(l),null;case 10:return jf(l.type._context),Wt(l),null;case 17:return fn(l.type)&&bu(),Wt(l),null;case 19:if(et(ot),w=l.memoizedState,w===null)return Wt(l),null;if(m=(l.flags&128)!==0,j=w.rendering,j===null)if(m)jl(w,!1);else{if(Et!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(j=Au(o),j!==null){for(l.flags|=128,jl(w,!1),m=j.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)w=d,o=m,w.flags&=14680066,j=w.alternate,j===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=j.childLanes,w.lanes=j.lanes,w.child=j.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=j.memoizedProps,w.memoizedState=j.memoizedState,w.updateQueue=j.updateQueue,w.type=j.type,o=j.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return Ze(ot,ot.current&1|2),l.child}o=o.sibling}w.tail!==null&&Ge()>ta&&(l.flags|=128,m=!0,jl(w,!1),l.lanes=4194304)}else{if(!m)if(o=Au(j),o!==null){if(l.flags|=128,m=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),jl(w,!0),w.tail===null&&w.tailMode==="hidden"&&!j.alternate&&!nt)return Wt(l),null}else 2*Ge()-w.renderingStartTime>ta&&d!==1073741824&&(l.flags|=128,m=!0,jl(w,!1),l.lanes=4194304);w.isBackwards?(j.sibling=l.child,l.child=j):(d=w.last,d!==null?d.sibling=j:l.child=j,w.last=j)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=Ge(),l.sibling=null,d=ot.current,Ze(ot,m?d&1|2:d&1),l):(Wt(l),null);case 22:case 23:return dp(),m=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(Rn&1073741824)!==0&&(Wt(l),l.subtreeFlags&6&&(l.flags|=8192)):Wt(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function oN(o,l){switch(bf(l),l.tag){case 1:return fn(l.type)&&bu(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Go(),et(hn),et($t),Of(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Rf(l),null;case 13:if(et(ot),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Yo()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return et(ot),null;case 4:return Go(),null;case 10:return jf(l.type._context),null;case 22:case 23:return dp(),null;case 24:return null;default:return null}}var Vu=!1,qt=!1,aN=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Jo(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){ht(o,l,m)}else d.current=null}function Jf(o,l,d){try{d()}catch(m){ht(o,l,m)}}var Gx=!1;function lN(o,l){if(df=ou,o=Ty(),nf(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var j=0,D=-1,F=-1,Y=0,te=0,se=o,J=null;t:for(;;){for(var he;se!==d||x!==0&&se.nodeType!==3||(D=j+x),se!==w||m!==0&&se.nodeType!==3||(F=j+m),se.nodeType===3&&(j+=se.nodeValue.length),(he=se.firstChild)!==null;)J=se,se=he;for(;;){if(se===o)break t;if(J===d&&++Y===x&&(D=j),J===w&&++te===m&&(F=j),(he=se.nextSibling)!==null)break;se=J,J=se.parentNode}se=he}d=D===-1||F===-1?null:{start:D,end:F}}else d=null}d=d||{start:0,end:0}}else d=null;for(hf={focusedElem:o,selectionRange:d},ou=!1,ge=l;ge!==null;)if(l=ge,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ge=o;else for(;ge!==null;){l=ge;try{var ye=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,wt=ye.memoizedState,H=l.stateNode,U=H.getSnapshotBeforeUpdate(l.elementType===l.type?ve:ts(l.type,ve),wt);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var W=l.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(re){ht(l,l.return,re)}if(o=l.sibling,o!==null){o.return=l.return,ge=o;break}ge=l.return}return ye=Gx,Gx=!1,ye}function Nl(o,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&o)===o){var w=x.destroy;x.destroy=void 0,w!==void 0&&Jf(l,d,w)}x=x.next}while(x!==m)}}function Bu(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function ep(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function Zx(o){var l=o.alternate;l!==null&&(o.alternate=null,Zx(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[vs],delete l[gl],delete l[gf],delete l[Hj],delete l[Wj])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Jx(o){return o.tag===5||o.tag===3||o.tag===4}function ev(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Jx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function tp(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=xu));else if(m!==4&&(o=o.child,o!==null))for(tp(o,l,d),o=o.sibling;o!==null;)tp(o,l,d),o=o.sibling}function np(o,l,d){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(np(o,l,d),o=o.sibling;o!==null;)np(o,l,d),o=o.sibling}var Lt=null,ns=!1;function Vr(o,l,d){for(d=d.child;d!==null;)tv(o,l,d),d=d.sibling}function tv(o,l,d){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(dn,d)}catch{}switch(d.tag){case 5:qt||Jo(d,l);case 6:var m=Lt,x=ns;Lt=null,Vr(o,l,d),Lt=m,ns=x,Lt!==null&&(ns?(o=Lt,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):Lt.removeChild(d.stateNode));break;case 18:Lt!==null&&(ns?(o=Lt,d=d.stateNode,o.nodeType===8?mf(o.parentNode,d):o.nodeType===1&&mf(o,d),il(o)):mf(Lt,d.stateNode));break;case 4:m=Lt,x=ns,Lt=d.stateNode.containerInfo,ns=!0,Vr(o,l,d),Lt=m,ns=x;break;case 0:case 11:case 14:case 15:if(!qt&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var w=x,j=w.destroy;w=w.tag,j!==void 0&&((w&2)!==0||(w&4)!==0)&&Jf(d,l,j),x=x.next}while(x!==m)}Vr(o,l,d);break;case 1:if(!qt&&(Jo(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(D){ht(d,l,D)}Vr(o,l,d);break;case 21:Vr(o,l,d);break;case 22:d.mode&1?(qt=(m=qt)||d.memoizedState!==null,Vr(o,l,d),qt=m):Vr(o,l,d);break;default:Vr(o,l,d)}}function nv(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new aN),l.forEach(function(m){var x=yN.bind(null,o,m);d.has(m)||(d.add(m),m.then(x,x))})}}function ss(o,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];try{var w=o,j=l,D=j;e:for(;D!==null;){switch(D.tag){case 5:Lt=D.stateNode,ns=!1;break e;case 3:Lt=D.stateNode.containerInfo,ns=!0;break e;case 4:Lt=D.stateNode.containerInfo,ns=!0;break e}D=D.return}if(Lt===null)throw Error(n(160));tv(w,j,x),Lt=null,ns=!1;var F=x.alternate;F!==null&&(F.return=null),x.return=null}catch(Y){ht(x,l,Y)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)sv(l,o),l=l.sibling}function sv(o,l){var d=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ss(l,o),Ss(o),m&4){try{Nl(3,o,o.return),Bu(3,o)}catch(ve){ht(o,o.return,ve)}try{Nl(5,o,o.return)}catch(ve){ht(o,o.return,ve)}}break;case 1:ss(l,o),Ss(o),m&512&&d!==null&&Jo(d,d.return);break;case 5:if(ss(l,o),Ss(o),m&512&&d!==null&&Jo(d,d.return),o.flags&32){var x=o.stateNode;try{br(x,"")}catch(ve){ht(o,o.return,ve)}}if(m&4&&(x=o.stateNode,x!=null)){var w=o.memoizedProps,j=d!==null?d.memoizedProps:w,D=o.type,F=o.updateQueue;if(o.updateQueue=null,F!==null)try{D==="input"&&w.type==="radio"&&w.name!=null&&xt(x,w),Ka(D,j);var Y=Ka(D,w);for(j=0;j<F.length;j+=2){var te=F[j],se=F[j+1];te==="style"?Gc(x,se):te==="dangerouslySetInnerHTML"?Wa(x,se):te==="children"?br(x,se):P(x,te,se,Y)}switch(D){case"input":tn(x,w);break;case"textarea":Yc(x,w);break;case"select":var J=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!w.multiple;var he=w.value;he!=null?Nt(x,!!w.multiple,he,!1):J!==!!w.multiple&&(w.defaultValue!=null?Nt(x,!!w.multiple,w.defaultValue,!0):Nt(x,!!w.multiple,w.multiple?[]:"",!1))}x[gl]=w}catch(ve){ht(o,o.return,ve)}}break;case 6:if(ss(l,o),Ss(o),m&4){if(o.stateNode===null)throw Error(n(162));x=o.stateNode,w=o.memoizedProps;try{x.nodeValue=w}catch(ve){ht(o,o.return,ve)}}break;case 3:if(ss(l,o),Ss(o),m&4&&d!==null&&d.memoizedState.isDehydrated)try{il(l.containerInfo)}catch(ve){ht(o,o.return,ve)}break;case 4:ss(l,o),Ss(o);break;case 13:ss(l,o),Ss(o),x=o.child,x.flags&8192&&(w=x.memoizedState!==null,x.stateNode.isHidden=w,!w||x.alternate!==null&&x.alternate.memoizedState!==null||(ip=Ge())),m&4&&nv(o);break;case 22:if(te=d!==null&&d.memoizedState!==null,o.mode&1?(qt=(Y=qt)||te,ss(l,o),qt=Y):ss(l,o),Ss(o),m&8192){if(Y=o.memoizedState!==null,(o.stateNode.isHidden=Y)&&!te&&(o.mode&1)!==0)for(ge=o,te=o.child;te!==null;){for(se=ge=te;ge!==null;){switch(J=ge,he=J.child,J.tag){case 0:case 11:case 14:case 15:Nl(4,J,J.return);break;case 1:Jo(J,J.return);var ye=J.stateNode;if(typeof ye.componentWillUnmount=="function"){m=J,d=J.return;try{l=m,ye.props=l.memoizedProps,ye.state=l.memoizedState,ye.componentWillUnmount()}catch(ve){ht(m,d,ve)}}break;case 5:Jo(J,J.return);break;case 22:if(J.memoizedState!==null){ov(se);continue}}he!==null?(he.return=J,ge=he):ov(se)}te=te.sibling}e:for(te=null,se=o;;){if(se.tag===5){if(te===null){te=se;try{x=se.stateNode,Y?(w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(D=se.stateNode,F=se.memoizedProps.style,j=F!=null&&F.hasOwnProperty("display")?F.display:null,D.style.display=Qc("display",j))}catch(ve){ht(o,o.return,ve)}}}else if(se.tag===6){if(te===null)try{se.stateNode.nodeValue=Y?"":se.memoizedProps}catch(ve){ht(o,o.return,ve)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===o)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===o)break e;for(;se.sibling===null;){if(se.return===null||se.return===o)break e;te===se&&(te=null),se=se.return}te===se&&(te=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:ss(l,o),Ss(o),m&4&&nv(o);break;case 21:break;default:ss(l,o),Ss(o)}}function Ss(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(Jx(d)){var m=d;break e}d=d.return}throw Error(n(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(br(x,""),m.flags&=-33);var w=ev(o);np(o,w,x);break;case 3:case 4:var j=m.stateNode.containerInfo,D=ev(o);tp(o,D,j);break;default:throw Error(n(161))}}catch(F){ht(o,o.return,F)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function cN(o,l,d){ge=o,rv(o)}function rv(o,l,d){for(var m=(o.mode&1)!==0;ge!==null;){var x=ge,w=x.child;if(x.tag===22&&m){var j=x.memoizedState!==null||Vu;if(!j){var D=x.alternate,F=D!==null&&D.memoizedState!==null||qt;D=Vu;var Y=qt;if(Vu=j,(qt=F)&&!Y)for(ge=x;ge!==null;)j=ge,F=j.child,j.tag===22&&j.memoizedState!==null?av(x):F!==null?(F.return=j,ge=F):av(x);for(;w!==null;)ge=w,rv(w),w=w.sibling;ge=x,Vu=D,qt=Y}iv(o)}else(x.subtreeFlags&8772)!==0&&w!==null?(w.return=x,ge=w):iv(o)}}function iv(o){for(;ge!==null;){var l=ge;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:qt||Bu(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!qt)if(d===null)m.componentDidMount();else{var x=l.elementType===l.type?d.memoizedProps:ts(l.type,d.memoizedProps);m.componentDidUpdate(x,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&nx(l,w,m);break;case 3:var j=l.updateQueue;if(j!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}nx(l,j,d)}break;case 5:var D=l.stateNode;if(d===null&&l.flags&4){d=D;var F=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&d.focus();break;case"img":F.src&&(d.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Y=l.alternate;if(Y!==null){var te=Y.memoizedState;if(te!==null){var se=te.dehydrated;se!==null&&il(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||l.flags&512&&ep(l)}catch(J){ht(l,l.return,J)}}if(l===o){ge=null;break}if(d=l.sibling,d!==null){d.return=l.return,ge=d;break}ge=l.return}}function ov(o){for(;ge!==null;){var l=ge;if(l===o){ge=null;break}var d=l.sibling;if(d!==null){d.return=l.return,ge=d;break}ge=l.return}}function av(o){for(;ge!==null;){var l=ge;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Bu(4,l)}catch(F){ht(l,d,F)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var x=l.return;try{m.componentDidMount()}catch(F){ht(l,x,F)}}var w=l.return;try{ep(l)}catch(F){ht(l,w,F)}break;case 5:var j=l.return;try{ep(l)}catch(F){ht(l,j,F)}}}catch(F){ht(l,l.return,F)}if(l===o){ge=null;break}var D=l.sibling;if(D!==null){D.return=l.return,ge=D;break}ge=l.return}}var uN=Math.ceil,Uu=A.ReactCurrentDispatcher,sp=A.ReactCurrentOwner,Bn=A.ReactCurrentBatchConfig,qe=0,Dt=null,kt=null,It=0,Rn=0,ea=Or(0),Et=0,Tl=null,Ri=0,$u=0,rp=0,Pl=null,mn=null,ip=0,ta=1/0,Gs=null,Hu=!1,op=null,Br=null,Wu=!1,Ur=null,qu=0,El=0,ap=null,Yu=-1,Ku=0;function sn(){return(qe&6)!==0?Ge():Yu!==-1?Yu:Yu=Ge()}function $r(o){return(o.mode&1)===0?1:(qe&2)!==0&&It!==0?It&-It:Yj.transition!==null?(Ku===0&&(Ku=Ro()),Ku):(o=E,o!==0||(o=window.event,o=o===void 0?16:ly(o.type)),o)}function rs(o,l,d,m){if(50<El)throw El=0,ap=null,Error(n(185));ki(o,d,m),((qe&2)===0||o!==Dt)&&(o===Dt&&((qe&2)===0&&($u|=d),Et===4&&Hr(o,It)),gn(o,m),d===1&&qe===0&&(l.mode&1)===0&&(ta=Ge()+500,Su&&Ir()))}function gn(o,l){var d=o.callbackNode;$h(o,l);var m=$s(o,o===Dt?It:0);if(m===0)d!==null&&Eo(d),o.callbackNode=null,o.callbackPriority=0;else if(l=m&-m,o.callbackPriority!==l){if(d!=null&&Eo(d),l===1)o.tag===0?qj(cv.bind(null,o)):Yy(cv.bind(null,o)),Uj(function(){(qe&6)===0&&Ir()}),d=null;else{switch(L(m)){case 1:d=ys;break;case 4:d=Zn;break;case 16:d=un;break;case 536870912:d=Nn;break;default:d=un}d=yv(d,lv.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function lv(o,l){if(Yu=-1,Ku=0,(qe&6)!==0)throw Error(n(327));var d=o.callbackNode;if(na()&&o.callbackNode!==d)return null;var m=$s(o,o===Dt?It:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||l)l=Xu(o,m);else{l=m;var x=qe;qe|=2;var w=dv();(Dt!==o||It!==l)&&(Gs=null,ta=Ge()+500,Oi(o,l));do try{fN();break}catch(D){uv(o,D)}while(!0);kf(),Uu.current=w,qe=x,kt!==null?l=0:(Dt=null,It=0,l=Et)}if(l!==0){if(l===2&&(x=Ao(o),x!==0&&(m=x,l=lp(o,x))),l===1)throw d=Tl,Oi(o,0),Hr(o,m),gn(o,Ge()),d;if(l===6)Hr(o,m);else{if(x=o.current.alternate,(m&30)===0&&!dN(x)&&(l=Xu(o,m),l===2&&(w=Ao(o),w!==0&&(m=w,l=lp(o,w))),l===1))throw d=Tl,Oi(o,0),Hr(o,m),gn(o,Ge()),d;switch(o.finishedWork=x,o.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:Li(o,mn,Gs);break;case 3:if(Hr(o,m),(m&130023424)===m&&(l=ip+500-Ge(),10<l)){if($s(o,0)!==0)break;if(x=o.suspendedLanes,(x&m)!==m){sn(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=pf(Li.bind(null,o,mn,Gs),l);break}Li(o,mn,Gs);break;case 4:if(Hr(o,m),(m&4194240)===m)break;for(l=o.eventTimes,x=-1;0<m;){var j=31-Ut(m);w=1<<j,j=l[j],j>x&&(x=j),m&=~w}if(m=x,m=Ge()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*uN(m/1960))-m,10<m){o.timeoutHandle=pf(Li.bind(null,o,mn,Gs),m);break}Li(o,mn,Gs);break;case 5:Li(o,mn,Gs);break;default:throw Error(n(329))}}}return gn(o,Ge()),o.callbackNode===d?lv.bind(null,o):null}function lp(o,l){var d=Pl;return o.current.memoizedState.isDehydrated&&(Oi(o,l).flags|=256),o=Xu(o,l),o!==2&&(l=mn,mn=d,l!==null&&cp(l)),o}function cp(o){mn===null?mn=o:mn.push.apply(mn,o)}function dN(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var x=d[m],w=x.getSnapshot;x=x.value;try{if(!Jn(w(),x))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Hr(o,l){for(l&=~rp,l&=~$u,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-Ut(l),m=1<<d;o[d]=-1,l&=~m}}function cv(o){if((qe&6)!==0)throw Error(n(327));na();var l=$s(o,0);if((l&1)===0)return gn(o,Ge()),null;var d=Xu(o,l);if(o.tag!==0&&d===2){var m=Ao(o);m!==0&&(l=m,d=lp(o,m))}if(d===1)throw d=Tl,Oi(o,0),Hr(o,l),gn(o,Ge()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Li(o,mn,Gs),gn(o,Ge()),null}function up(o,l){var d=qe;qe|=1;try{return o(l)}finally{qe=d,qe===0&&(ta=Ge()+500,Su&&Ir())}}function Di(o){Ur!==null&&Ur.tag===0&&(qe&6)===0&&na();var l=qe;qe|=1;var d=Bn.transition,m=E;try{if(Bn.transition=null,E=1,o)return o()}finally{E=m,Bn.transition=d,qe=l,(qe&6)===0&&Ir()}}function dp(){Rn=ea.current,et(ea)}function Oi(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,Bj(d)),kt!==null)for(d=kt.return;d!==null;){var m=d;switch(bf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&bu();break;case 3:Go(),et(hn),et($t),Of();break;case 5:Rf(m);break;case 4:Go();break;case 13:et(ot);break;case 19:et(ot);break;case 10:jf(m.type._context);break;case 22:case 23:dp()}d=d.return}if(Dt=o,kt=o=Wr(o.current,null),It=Rn=l,Et=0,Tl=null,rp=$u=Ri=0,mn=Pl=null,Ei!==null){for(l=0;l<Ei.length;l++)if(d=Ei[l],m=d.interleaved,m!==null){d.interleaved=null;var x=m.next,w=d.pending;if(w!==null){var j=w.next;w.next=x,m.next=j}d.pending=m}Ei=null}return o}function uv(o,l){do{var d=kt;try{if(kf(),Ru.current=Iu,Du){for(var m=at.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Du=!1}if(Ai=0,Rt=Pt=at=null,Sl=!1,_l=0,sp.current=null,d===null||d.return===null){Et=1,Tl=l,kt=null;break}e:{var w=o,j=d.return,D=d,F=l;if(l=It,D.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Y=F,te=D,se=te.tag;if((te.mode&1)===0&&(se===0||se===11||se===15)){var J=te.alternate;J?(te.updateQueue=J.updateQueue,te.memoizedState=J.memoizedState,te.lanes=J.lanes):(te.updateQueue=null,te.memoizedState=null)}var he=Ox(j);if(he!==null){he.flags&=-257,Lx(he,j,D,w,l),he.mode&1&&Dx(w,Y,l),l=he,F=Y;var ye=l.updateQueue;if(ye===null){var ve=new Set;ve.add(F),l.updateQueue=ve}else ye.add(F);break e}else{if((l&1)===0){Dx(w,Y,l),hp();break e}F=Error(n(426))}}else if(nt&&D.mode&1){var wt=Ox(j);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),Lx(wt,j,D,w,l),_f(Zo(F,D));break e}}w=F=Zo(F,D),Et!==4&&(Et=2),Pl===null?Pl=[w]:Pl.push(w),w=j;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var H=Ax(w,F,l);tx(w,H);break e;case 1:D=F;var U=w.type,W=w.stateNode;if((w.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Br===null||!Br.has(W)))){w.flags|=65536,l&=-l,w.lanes|=l;var re=Rx(w,D,l);tx(w,re);break e}}w=w.return}while(w!==null)}fv(d)}catch(be){l=be,kt===d&&d!==null&&(kt=d=d.return);continue}break}while(!0)}function dv(){var o=Uu.current;return Uu.current=Iu,o===null?Iu:o}function hp(){(Et===0||Et===3||Et===2)&&(Et=4),Dt===null||(Ri&268435455)===0&&($u&268435455)===0||Hr(Dt,It)}function Xu(o,l){var d=qe;qe|=2;var m=dv();(Dt!==o||It!==l)&&(Gs=null,Oi(o,l));do try{hN();break}catch(x){uv(o,x)}while(!0);if(kf(),qe=d,Uu.current=m,kt!==null)throw Error(n(261));return Dt=null,It=0,Et}function hN(){for(;kt!==null;)hv(kt)}function fN(){for(;kt!==null&&!Bh();)hv(kt)}function hv(o){var l=gv(o.alternate,o,Rn);o.memoizedProps=o.pendingProps,l===null?fv(o):kt=l,sp.current=null}function fv(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=iN(d,l,Rn),d!==null){kt=d;return}}else{if(d=oN(d,l),d!==null){d.flags&=32767,kt=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Et=6,kt=null;return}}if(l=l.sibling,l!==null){kt=l;return}kt=l=o}while(l!==null);Et===0&&(Et=5)}function Li(o,l,d){var m=E,x=Bn.transition;try{Bn.transition=null,E=1,pN(o,l,d,m)}finally{Bn.transition=x,E=m}return null}function pN(o,l,d,m){do na();while(Ur!==null);if((qe&6)!==0)throw Error(n(327));d=o.finishedWork;var x=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var w=d.lanes|d.childLanes;if(Hh(o,w),o===Dt&&(kt=Dt=null,It=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Wu||(Wu=!0,yv(un,function(){return na(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=Bn.transition,Bn.transition=null;var j=E;E=1;var D=qe;qe|=4,sp.current=null,lN(o,d),sv(d,o),Dj(hf),ou=!!df,hf=df=null,o.current=d,cN(d),Uh(),qe=D,E=j,Bn.transition=w}else o.current=d;if(Wu&&(Wu=!1,Ur=o,qu=x),w=o.pendingLanes,w===0&&(Br=null),ru(d.stateNode),gn(o,Ge()),l!==null)for(m=o.onRecoverableError,d=0;d<l.length;d++)x=l[d],m(x.value,{componentStack:x.stack,digest:x.digest});if(Hu)throw Hu=!1,o=op,op=null,o;return(qu&1)!==0&&o.tag!==0&&na(),w=o.pendingLanes,(w&1)!==0?o===ap?El++:(El=0,ap=o):El=0,Ir(),null}function na(){if(Ur!==null){var o=L(qu),l=Bn.transition,d=E;try{if(Bn.transition=null,E=16>o?16:o,Ur===null)var m=!1;else{if(o=Ur,Ur=null,qu=0,(qe&6)!==0)throw Error(n(331));var x=qe;for(qe|=4,ge=o.current;ge!==null;){var w=ge,j=w.child;if((ge.flags&16)!==0){var D=w.deletions;if(D!==null){for(var F=0;F<D.length;F++){var Y=D[F];for(ge=Y;ge!==null;){var te=ge;switch(te.tag){case 0:case 11:case 15:Nl(8,te,w)}var se=te.child;if(se!==null)se.return=te,ge=se;else for(;ge!==null;){te=ge;var J=te.sibling,he=te.return;if(Zx(te),te===Y){ge=null;break}if(J!==null){J.return=he,ge=J;break}ge=he}}}var ye=w.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var wt=ve.sibling;ve.sibling=null,ve=wt}while(ve!==null)}}ge=w}}if((w.subtreeFlags&2064)!==0&&j!==null)j.return=w,ge=j;else e:for(;ge!==null;){if(w=ge,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Nl(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,ge=H;break e}ge=w.return}}var U=o.current;for(ge=U;ge!==null;){j=ge;var W=j.child;if((j.subtreeFlags&2064)!==0&&W!==null)W.return=j,ge=W;else e:for(j=U;ge!==null;){if(D=ge,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Bu(9,D)}}catch(be){ht(D,D.return,be)}if(D===j){ge=null;break e}var re=D.sibling;if(re!==null){re.return=D.return,ge=re;break e}ge=D.return}}if(qe=x,Ir(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(dn,o)}catch{}m=!0}return m}finally{E=d,Bn.transition=l}}return!1}function pv(o,l,d){l=Zo(d,l),l=Ax(o,l,1),o=zr(o,l,1),l=sn(),o!==null&&(ki(o,1,l),gn(o,l))}function ht(o,l,d){if(o.tag===3)pv(o,o,d);else for(;l!==null;){if(l.tag===3){pv(l,o,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Br===null||!Br.has(m))){o=Zo(d,o),o=Rx(l,o,1),l=zr(l,o,1),o=sn(),l!==null&&(ki(l,1,o),gn(l,o));break}}l=l.return}}function mN(o,l,d){var m=o.pingCache;m!==null&&m.delete(l),l=sn(),o.pingedLanes|=o.suspendedLanes&d,Dt===o&&(It&d)===d&&(Et===4||Et===3&&(It&130023424)===It&&500>Ge()-ip?Oi(o,0):rp|=d),gn(o,l)}function mv(o,l){l===0&&((o.mode&1)===0?l=1:(l=Tr,Tr<<=1,(Tr&130023424)===0&&(Tr=4194304)));var d=sn();o=Ks(o,l),o!==null&&(ki(o,l,d),gn(o,d))}function gN(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),mv(o,d)}function yN(o,l){var d=0;switch(o.tag){case 13:var m=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),mv(o,d)}var gv;gv=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||hn.current)pn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return pn=!1,rN(o,l,d);pn=(o.flags&131072)!==0}else pn=!1,nt&&(l.flags&1048576)!==0&&Ky(l,Cu,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;zu(o,l),o=l.pendingProps;var x=Ho(l,$t.current);Xo(l,d),x=Ff(null,l,m,o,x,d);var w=zf();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,fn(m)?(w=!0,wu(l)):w=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Pf(l),x.updater=Eu,l.stateNode=x,x._reactInternals=l,Mf(l,m,o,d),l=Yf(null,l,m,!0,w,d)):(l.tag=0,nt&&w&&vf(l),nn(null,l,x,d),l=l.child),l;case 16:m=l.elementType;e:{switch(zu(o,l),o=l.pendingProps,x=m._init,m=x(m._payload),l.type=m,x=l.tag=vN(m),o=ts(m,o),x){case 0:l=qf(null,l,m,o,d);break e;case 1:l=Ux(null,l,m,o,d);break e;case 11:l=Ix(null,l,m,o,d);break e;case 14:l=Fx(null,l,m,ts(m.type,o),d);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:ts(m,x),qf(o,l,m,x,d);case 1:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:ts(m,x),Ux(o,l,m,x,d);case 3:e:{if($x(l),o===null)throw Error(n(387));m=l.pendingProps,w=l.memoizedState,x=w.element,ex(o,l),Pu(l,m,null,d);var j=l.memoizedState;if(m=j.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){x=Zo(Error(n(423)),l),l=Hx(o,l,m,d,x);break e}else if(m!==x){x=Zo(Error(n(424)),l),l=Hx(o,l,m,d,x);break e}else for(An=Dr(l.stateNode.containerInfo.firstChild),Mn=l,nt=!0,es=null,d=cx(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Yo(),m===x){l=Qs(o,l,d);break e}nn(o,l,m,d)}l=l.child}return l;case 5:return ux(l),o===null&&Sf(l),m=l.type,x=l.pendingProps,w=o!==null?o.memoizedProps:null,j=x.children,ff(m,x)?j=null:w!==null&&ff(m,w)&&(l.flags|=32),Bx(o,l),nn(o,l,j,d),l.child;case 6:return o===null&&Sf(l),null;case 13:return Wx(o,l,d);case 4:return Af(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Qo(l,null,m,d):nn(o,l,m,d),l.child;case 11:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:ts(m,x),Ix(o,l,m,x,d);case 7:return nn(o,l,l.pendingProps,d),l.child;case 8:return nn(o,l,l.pendingProps.children,d),l.child;case 12:return nn(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,x=l.pendingProps,w=l.memoizedProps,j=x.value,Ze(ju,m._currentValue),m._currentValue=j,w!==null)if(Jn(w.value,j)){if(w.children===x.children&&!hn.current){l=Qs(o,l,d);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var D=w.dependencies;if(D!==null){j=w.child;for(var F=D.firstContext;F!==null;){if(F.context===m){if(w.tag===1){F=Xs(-1,d&-d),F.tag=2;var Y=w.updateQueue;if(Y!==null){Y=Y.shared;var te=Y.pending;te===null?F.next=F:(F.next=te.next,te.next=F),Y.pending=F}}w.lanes|=d,F=w.alternate,F!==null&&(F.lanes|=d),Nf(w.return,d,l),D.lanes|=d;break}F=F.next}}else if(w.tag===10)j=w.type===l.type?null:w.child;else if(w.tag===18){if(j=w.return,j===null)throw Error(n(341));j.lanes|=d,D=j.alternate,D!==null&&(D.lanes|=d),Nf(j,d,l),j=w.sibling}else j=w.child;if(j!==null)j.return=w;else for(j=w;j!==null;){if(j===l){j=null;break}if(w=j.sibling,w!==null){w.return=j.return,j=w;break}j=j.return}w=j}nn(o,l,x.children,d),l=l.child}return l;case 9:return x=l.type,m=l.pendingProps.children,Xo(l,d),x=zn(x),m=m(x),l.flags|=1,nn(o,l,m,d),l.child;case 14:return m=l.type,x=ts(m,l.pendingProps),x=ts(m.type,x),Fx(o,l,m,x,d);case 15:return zx(o,l,l.type,l.pendingProps,d);case 17:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:ts(m,x),zu(o,l),l.tag=1,fn(m)?(o=!0,wu(l)):o=!1,Xo(l,d),ix(l,m,x),Mf(l,m,x,d),Yf(null,l,m,!0,o,d);case 19:return Yx(o,l,d);case 22:return Vx(o,l,d)}throw Error(n(156,l.tag))};function yv(o,l){return _i(o,l)}function xN(o,l,d,m){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(o,l,d,m){return new xN(o,l,d,m)}function fp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function vN(o){if(typeof o=="function")return fp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===ne)return 11;if(o===pe)return 14}return 2}function Wr(o,l){var d=o.alternate;return d===null?(d=Un(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function Qu(o,l,d,m,x,w){var j=2;if(m=o,typeof o=="function")fp(o)&&(j=1);else if(typeof o=="string")j=5;else e:switch(o){case z:return Ii(d.children,x,w,l);case B:j=8,x|=8;break;case V:return o=Un(12,d,l,x|2),o.elementType=V,o.lanes=w,o;case ue:return o=Un(13,d,l,x),o.elementType=ue,o.lanes=w,o;case Q:return o=Un(19,d,l,x),o.elementType=Q,o.lanes=w,o;case ae:return Gu(d,x,w,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case $:j=10;break e;case G:j=9;break e;case ne:j=11;break e;case pe:j=14;break e;case me:j=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=Un(j,d,l,x),l.elementType=o,l.type=m,l.lanes=w,l}function Ii(o,l,d,m){return o=Un(7,o,m,l),o.lanes=d,o}function Gu(o,l,d,m){return o=Un(22,o,m,l),o.elementType=ae,o.lanes=d,o.stateNode={isHidden:!1},o}function pp(o,l,d){return o=Un(6,o,null,l),o.lanes=d,o}function mp(o,l,d){return l=Un(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function bN(o,l,d,m,x){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Do(0),this.expirationTimes=Do(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Do(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function gp(o,l,d,m,x,w,j,D,F){return o=new bN(o,l,d,D,F),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Un(3,null,null,l),o.current=w,w.stateNode=o,w.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pf(w),o}function wN(o,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:m==null?null:""+m,children:o,containerInfo:l,implementation:d}}function xv(o){if(!o)return Lr;o=o._reactInternals;e:{if(gs(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(fn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(fn(d))return Wy(o,d,l)}return l}function vv(o,l,d,m,x,w,j,D,F){return o=gp(d,m,!0,o,x,w,j,D,F),o.context=xv(null),d=o.current,m=sn(),x=$r(d),w=Xs(m,x),w.callback=l??null,zr(d,w,x),o.current.lanes=x,ki(o,x,m),gn(o,m),o}function Zu(o,l,d,m){var x=l.current,w=sn(),j=$r(x);return d=xv(d),l.context===null?l.context=d:l.pendingContext=d,l=Xs(w,j),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=zr(x,l,j),o!==null&&(rs(o,x,j,w),Tu(o,x,j)),j}function Ju(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function bv(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function yp(o,l){bv(o,l),(o=o.alternate)&&bv(o,l)}function SN(){return null}var wv=typeof reportError=="function"?reportError:function(o){console.error(o)};function xp(o){this._internalRoot=o}ed.prototype.render=xp.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));Zu(o,l,null,null)},ed.prototype.unmount=xp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Di(function(){Zu(null,o,null,null)}),l[Hs]=null}};function ed(o){this._internalRoot=o}ed.prototype.unstable_scheduleHydration=function(o){if(o){var l=Fe();o={blockedOn:null,target:o,priority:l};for(var d=0;d<Mr.length&&l!==0&&l<Mr[d].priority;d++);Mr.splice(d,0,o),d===0&&oy(o)}};function vp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function td(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Sv(){}function _N(o,l,d,m,x){if(x){if(typeof m=="function"){var w=m;m=function(){var Y=Ju(j);w.call(Y)}}var j=vv(l,m,o,0,null,!1,!1,"",Sv);return o._reactRootContainer=j,o[Hs]=j.current,pl(o.nodeType===8?o.parentNode:o),Di(),j}for(;x=o.lastChild;)o.removeChild(x);if(typeof m=="function"){var D=m;m=function(){var Y=Ju(F);D.call(Y)}}var F=gp(o,0,!1,null,null,!1,!1,"",Sv);return o._reactRootContainer=F,o[Hs]=F.current,pl(o.nodeType===8?o.parentNode:o),Di(function(){Zu(l,F,d,m)}),F}function nd(o,l,d,m,x){var w=d._reactRootContainer;if(w){var j=w;if(typeof x=="function"){var D=x;x=function(){var F=Ju(j);D.call(F)}}Zu(l,j,o,x)}else j=_N(d,l,o,x,m);return Ju(j)}q=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=Us(l.pendingLanes);d!==0&&(T(l,d|1),gn(l,Ge()),(qe&6)===0&&(ta=Ge()+500,Ir()))}break;case 13:Di(function(){var m=Ks(o,1);if(m!==null){var x=sn();rs(m,o,1,x)}}),yp(o,1)}},ee=function(o){if(o.tag===13){var l=Ks(o,134217728);if(l!==null){var d=sn();rs(l,o,134217728,d)}yp(o,134217728)}},de=function(o){if(o.tag===13){var l=$r(o),d=Ks(o,l);if(d!==null){var m=sn();rs(d,o,l,m)}yp(o,l)}},Fe=function(){return E},vt=function(o,l){var d=E;try{return E=o,l()}finally{E=d}},Qa=function(o,l,d){switch(l){case"input":if(tn(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==o&&m.form===o.form){var x=vu(m);if(!x)throw Error(n(90));Te(m),tn(m,x)}}}break;case"textarea":Yc(o,d);break;case"select":l=d.value,l!=null&&Nt(o,!!d.multiple,l,!1)}},eu=up,Ga=Di;var CN={usingClientEntryPoint:!1,Events:[yl,Uo,vu,Zc,Jc,up]},Ml={findFiberByHostInstance:ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},kN={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=kr(o),o===null?null:o.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||SN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{dn=sd.inject(kN),Tn=sd}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CN,yn.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vp(l))throw Error(n(200));return wN(o,l,null,d)},yn.createRoot=function(o,l){if(!vp(o))throw Error(n(299));var d=!1,m="",x=wv;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=gp(o,1,!1,null,null,d,!1,m,x),o[Hs]=l.current,pl(o.nodeType===8?o.parentNode:o),new xp(l)},yn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=kr(l),o=o===null?null:o.stateNode,o},yn.flushSync=function(o){return Di(o)},yn.hydrate=function(o,l,d){if(!td(l))throw Error(n(200));return nd(null,o,l,!0,d)},yn.hydrateRoot=function(o,l,d){if(!vp(o))throw Error(n(405));var m=d!=null&&d.hydratedSources||null,x=!1,w="",j=wv;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(j=d.onRecoverableError)),l=vv(l,null,o,1,d??null,x,!1,w,j),o[Hs]=l.current,pl(o),m)for(o=0;o<m.length;o++)d=m[o],x=d._getVersion,x=x(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,x]:l.mutableSourceEagerHydrationData.push(d,x);return new ed(l)},yn.render=function(o,l,d){if(!td(l))throw Error(n(200));return nd(null,o,l,!1,d)},yn.unmountComponentAtNode=function(o){if(!td(o))throw Error(n(40));return o._reactRootContainer?(Di(function(){nd(null,null,o,!1,function(){o._reactRootContainer=null,o[Hs]=null})}),!0):!1},yn.unstable_batchedUpdates=up,yn.unstable_renderSubtreeIntoContainer=function(o,l,d,m){if(!td(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return nd(o,l,d,!1,m)},yn.version="18.2.0-next-9e3b772b8-20220608",yn}var Mv;function ON(){if(Mv)return _p.exports;Mv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_p.exports=DN(),_p.exports}var Av;function LN(){if(Av)return id;Av=1;var t=ON();return id.createRoot=t.createRoot,id.hydrateRoot=t.hydrateRoot,id}var IN=LN();const FN=Dg(IN);var Rl={},Rv;function zN(){if(Rv)return Rl;Rv=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parse=a,Rl.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,i=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function a(y,v){const b=new i,_=y.length;if(_<2)return b;const S=(v==null?void 0:v.decode)||p;let C=0;do{const N=y.indexOf("=",C);if(N===-1)break;const P=y.indexOf(";",C),A=P===-1?_:P;if(N>A){C=y.lastIndexOf(";",N-1)+1;continue}const M=c(y,C,N),R=u(y,N,M),z=y.slice(M,R);if(b[z]===void 0){let B=c(y,N+1,A),V=u(y,A,B);const $=S(y.slice(B,V));b[z]=$}C=A+1}while(C<_);return b}function c(y,v,b){do{const _=y.charCodeAt(v);if(_!==32&&_!==9)return v}while(++v<b);return b}function u(y,v,b){for(;v>b;){const _=y.charCodeAt(--v);if(_!==32&&_!==9)return v+1}return b}function h(y,v,b){const _=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const S=_(v);if(!e.test(S))throw new TypeError(`argument val is invalid: ${v}`);let C=y+"="+S;if(!b)return C;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);C+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);C+="; Domain="+b.domain}if(b.path){if(!s.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);C+="; Path="+b.path}if(b.expires){if(!g(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);C+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(C+="; HttpOnly"),b.secure&&(C+="; Secure"),b.partitioned&&(C+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return C}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return r.call(y)==="[object Date]"}return Rl}zN();var Dv="popstate";function VN(t={}){function e(s,r){let{pathname:i,search:a,hash:c}=s.location;return bm("",{pathname:i,search:a,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:cc(r)}return UN(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BN(){return Math.random().toString(36).substring(2,10)}function Ov(t,e){return{usr:t.state,key:t.key,idx:e}}function bm(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Aa(e):e,state:n,key:e&&e.key||s||BN()}}function cc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Aa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function UN(t,e,n,s={}){let{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,c="POP",u=null,h=p();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function p(){return(a.state||{idx:null}).idx}function g(){c="POP";let S=p(),C=S==null?null:S-h;h=S,u&&u({action:c,location:_.location,delta:C})}function y(S,C){c="PUSH";let N=bm(_.location,S,C);h=p()+1;let P=Ov(N,h),A=_.createHref(N);try{a.pushState(P,"",A)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(A)}i&&u&&u({action:c,location:_.location,delta:1})}function v(S,C){c="REPLACE";let N=bm(_.location,S,C);h=p();let P=Ov(N,h),A=_.createHref(N);a.replaceState(P,"",A),i&&u&&u({action:c,location:_.location,delta:0})}function b(S){return $N(S)}let _={get action(){return c},get location(){return t(r,a)},listen(S){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Dv,g),u=S,()=>{r.removeEventListener(Dv,g),u=null}},createHref(S){return e(r,S)},createURL:b,encodeLocation(S){let C=b(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:v,go(S){return a.go(S)}};return _}function $N(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:cc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function A2(t,e,n="/"){return HN(t,e,n,!1)}function HN(t,e,n,s){let r=typeof e=="string"?Aa(e):e,i=fr(r.pathname||"/",n);if(i==null)return null;let a=R2(t);WN(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let h=nT(i);c=eT(a[u],h,s)}return c}function R2(t,e=[],n=[],s=""){let r=(i,a,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(it(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length));let h=ur([s,u.relativePath]),p=n.concat(u);i.children&&i.children.length>0&&(it(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),R2(i.children,e,p,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:ZN(h,i.index),routesMeta:p})};return t.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))r(i,a);else for(let u of D2(i.path))r(i,a,u)}),e}function D2(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let a=D2(s.join("/")),c=[];return c.push(...a.map(u=>u===""?i:[i,u].join("/"))),r&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function WN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var qN=/^:[\w-]+$/,YN=3,KN=2,XN=1,QN=10,GN=-2,Lv=t=>t==="*";function ZN(t,e){let n=t.split("/"),s=n.length;return n.some(Lv)&&(s+=GN),e&&(s+=KN),n.filter(r=>!Lv(r)).reduce((r,i)=>r+(qN.test(i)?YN:i===""?XN:QN),s)}function JN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function eT(t,e,n=!1){let{routesMeta:s}=t,r={},i="/",a=[];for(let c=0;c<s.length;++c){let u=s[c],h=c===s.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=Kd({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),y=u.route;if(!g&&h&&n&&!s[s.length-1].route.index&&(g=Kd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:ur([i,g.pathname]),pathnameBase:oT(ur([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=ur([i,g.pathnameBase]))}return a}function Kd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=tT(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let b=c[y]||"";a=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const v=c[y];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:t}}function tT(t,e=!1,n=!0){Gn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(s.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function nT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function sT(t,e="/"){let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Aa(t):t;return{pathname:n?n.startsWith("/")?n:rT(n,e):e,search:aT(s),hash:lT(r)}}function rT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function jp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lg(t){let e=iT(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ig(t,e,n,s=!1){let r;typeof t=="string"?r=Aa(t):(r={...t},it(!r.pathname||!r.pathname.includes("?"),jp("?","pathname","search",r)),it(!r.pathname||!r.pathname.includes("#"),jp("#","pathname","hash",r)),it(!r.search||!r.search.includes("#"),jp("#","search","hash",r)));let i=t===""||r.pathname==="",a=i?"/":r.pathname,c;if(a==null)c=n;else{let g=e.length-1;if(!s&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}c=g>=0?e[g]:"/"}let u=sT(r,c),h=a&&a!=="/"&&a.endsWith("/"),p=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var ur=t=>t.join("/").replace(/\/\/+/g,"/"),oT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var O2=["POST","PUT","PATCH","DELETE"];new Set(O2);var uT=["GET",...O2];new Set(uT);var Ra=k.createContext(null);Ra.displayName="DataRouter";var mh=k.createContext(null);mh.displayName="DataRouterState";var L2=k.createContext({isTransitioning:!1});L2.displayName="ViewTransition";var dT=k.createContext(new Map);dT.displayName="Fetchers";var hT=k.createContext(null);hT.displayName="Await";var us=k.createContext(null);us.displayName="Navigation";var Ac=k.createContext(null);Ac.displayName="Location";var ds=k.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var Fg=k.createContext(null);Fg.displayName="RouteError";function fT(t,{relative:e}={}){it(Da(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(us),{hash:r,pathname:i,search:a}=Rc(t,{relative:e}),c=i;return n!=="/"&&(c=i==="/"?n:ur([n,i])),s.createHref({pathname:c,search:a,hash:r})}function Da(){return k.useContext(Ac)!=null}function yr(){return it(Da(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Ac).location}var I2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F2(t){k.useContext(us).static||k.useLayoutEffect(t)}function Is(){let{isDataRoute:t}=k.useContext(ds);return t?jT():pT()}function pT(){it(Da(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Ra),{basename:e,navigator:n}=k.useContext(us),{matches:s}=k.useContext(ds),{pathname:r}=yr(),i=JSON.stringify(Lg(s)),a=k.useRef(!1);return F2(()=>{a.current=!0}),k.useCallback((u,h={})=>{if(Gn(a.current,I2),!a.current)return;if(typeof u=="number"){n.go(u);return}let p=Ig(u,JSON.parse(i),r,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ur([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,i,r,t])}k.createContext(null);function zg(){let{matches:t}=k.useContext(ds),e=t[t.length-1];return e?e.params:{}}function Rc(t,{relative:e}={}){let{matches:n}=k.useContext(ds),{pathname:s}=yr(),r=JSON.stringify(Lg(n));return k.useMemo(()=>Ig(t,JSON.parse(r),s,e==="path"),[t,r,s,e])}function mT(t,e){return z2(t,e)}function z2(t,e,n,s){var C;it(Da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=k.useContext(us),{matches:i}=k.useContext(ds),a=i[i.length-1],c=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",p=a&&a.route;{let N=p&&p.path||"";V2(u,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=yr(),y;if(e){let N=typeof e=="string"?Aa(e):e;it(h==="/"||((C=N.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),y=N}else y=g;let v=y.pathname||"/",b=v;if(h!=="/"){let N=h.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=A2(t,{pathname:b});Gn(p||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Gn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=bT(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:ur([h,r.encodeLocation?r.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:ur([h,r.encodeLocation?r.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,s);return e&&S?k.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function gT(){let t=kT(),e=cT(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:r},n):null,a)}var yT=k.createElement(gT,null),xT=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(ds.Provider,{value:this.props.routeContext},k.createElement(Fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vT({routeContext:t,match:e,children:n}){let s=k.useContext(Ra);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ds.Provider,{value:t},n)}function bT(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,i=n==null?void 0:n.errors;if(i!=null){let u=r.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);it(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let a=!1,c=-1;if(n)for(let u=0;u<r.length;u++){let h=r[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:g}=n,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){a=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((u,h,p)=>{let g,y=!1,v=null,b=null;n&&(g=i&&h.route.id?i[h.route.id]:void 0,v=h.route.errorElement||yT,a&&(c<0&&p===0?(V2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):c===p&&(y=!0,b=h.route.hydrateFallbackElement||null)));let _=e.concat(r.slice(0,p+1)),S=()=>{let C;return g?C=v:y?C=b:h.route.Component?C=k.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=u,k.createElement(vT,{match:h,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?k.createElement(xT,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}function Vg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wT(t){let e=k.useContext(Ra);return it(e,Vg(t)),e}function ST(t){let e=k.useContext(mh);return it(e,Vg(t)),e}function _T(t){let e=k.useContext(ds);return it(e,Vg(t)),e}function Bg(t){let e=_T(t),n=e.matches[e.matches.length-1];return it(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function CT(){return Bg("useRouteId")}function kT(){var s;let t=k.useContext(Fg),e=ST("useRouteError"),n=Bg("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function jT(){let{router:t}=wT("useNavigate"),e=Bg("useNavigate"),n=k.useRef(!1);return F2(()=>{n.current=!0}),k.useCallback(async(r,i={})=>{Gn(n.current,I2),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...i}))},[t,e])}var Iv={};function V2(t,e,n){!e&&!Iv[t]&&(Iv[t]=!0,Gn(!1,n))}k.memo(NT);function NT({routes:t,future:e,state:n}){return z2(t,void 0,n,e)}function Fv({to:t,replace:e,state:n,relative:s}){it(Da(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=k.useContext(us);Gn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=k.useContext(ds),{pathname:a}=yr(),c=Is(),u=Ig(t,Lg(i),a,s==="path"),h=JSON.stringify(u);return k.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:s})},[c,h,s,e,n]),null}function Kt(t){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TT({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:r,static:i=!1}){it(!Da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:a,navigator:r,static:i,future:{}}),[a,r,i]);typeof n=="string"&&(n=Aa(n));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:y="default"}=n,v=k.useMemo(()=>{let b=fr(u,a);return b==null?null:{location:{pathname:b,search:h,hash:p,state:g,key:y},navigationType:s}},[a,u,h,p,g,y,s]);return Gn(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:k.createElement(us.Provider,{value:c},k.createElement(Ac.Provider,{children:e,value:v}))}function B2({children:t,location:e}){return mT(wm(t),e)}function wm(t,e=[]){let n=[];return k.Children.forEach(t,(s,r)=>{if(!k.isValidElement(s))return;let i=[...e,r];if(s.type===k.Fragment){n.push.apply(n,wm(s.props.children,i));return}it(s.type===Kt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=wm(s.props.children,i)),n.push(a)}),n}var Dd="get",Od="application/x-www-form-urlencoded";function gh(t){return t!=null&&typeof t.tagName=="string"}function PT(t){return gh(t)&&t.tagName.toLowerCase()==="button"}function ET(t){return gh(t)&&t.tagName.toLowerCase()==="form"}function MT(t){return gh(t)&&t.tagName.toLowerCase()==="input"}function AT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RT(t,e){return t.button===0&&(!e||e==="_self")&&!AT(t)}function Sm(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function DT(t,e){let n=Sm(t);return e&&e.forEach((s,r)=>{n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)})}),n}var od=null;function OT(){if(od===null)try{new FormData(document.createElement("form"),0),od=!1}catch{od=!0}return od}var LT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Np(t){return t!=null&&!LT.has(t)?(Gn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Od}"`),null):t}function IT(t,e){let n,s,r,i,a;if(ET(t)){let c=t.getAttribute("action");s=c?fr(c,e):null,n=t.getAttribute("method")||Dd,r=Np(t.getAttribute("enctype"))||Od,i=new FormData(t)}else if(PT(t)||MT(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(s=u?fr(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Dd,r=Np(t.getAttribute("formenctype"))||Np(c.getAttribute("enctype"))||Od,i=new FormData(c,t),!OT()){let{name:h,type:p,value:g}=t;if(p==="image"){let y=h?`${h}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else h&&i.append(h,g)}}else{if(gh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dd,s=null,r=Od,a=t}return i&&r==="text/plain"&&(a=i,i=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:i,body:a}}function Ug(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function FT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VT(t,e,n){let s=await Promise.all(t.map(async r=>{let i=e.routes[r.route.id];if(i){let a=await FT(i,n);return a.links?a.links():[]}return[]}));return HT(s.flat(1).filter(zT).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function zv(t,e,n,s,r,i){let a=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>{var p;return n[h].pathname!==u.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,h)=>a(u,h)||c(u,h)):i==="data"?e.filter((u,h)=>{var g;let p=s.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(a(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function BT(t,e,{includeHydrateFallback:n}={}){return UT(t.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function UT(t){return[...new Set(t)]}function $T(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function HT(t,e){let n=new Set;return new Set(e),t.reduce((s,r)=>{let i=JSON.stringify($T(r));return n.has(i)||(n.add(i),s.push({key:i,link:r})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WT=new Set([100,101,204,205]);function qT(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&fr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function U2(){let t=k.useContext(Ra);return Ug(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function YT(){let t=k.useContext(mh);return Ug(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $g=k.createContext(void 0);$g.displayName="FrameworkContext";function $2(){let t=k.useContext($g);return Ug(t,"You must render this element inside a <HydratedRouter> element"),t}function KT(t,e){let n=k.useContext($g),[s,r]=k.useState(!1),[i,a]=k.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,y=k.useRef(null);k.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let _=C=>{C.forEach(N=>{a(N.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),k.useEffect(()=>{if(s){let _=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(_)}}},[s]);let v=()=>{r(!0)},b=()=>{r(!1),a(!1)};return n?t!=="intent"?[i,y,{}]:[i,y,{onFocus:Dl(c,v),onBlur:Dl(u,b),onMouseEnter:Dl(h,v),onMouseLeave:Dl(p,b),onTouchStart:Dl(g,v)}]:[!1,y,{}]}function Dl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function XT({page:t,...e}){let{router:n}=U2(),s=k.useMemo(()=>A2(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?k.createElement(GT,{page:t,matches:s,...e}):null}function QT(t){let{manifest:e,routeModules:n}=$2(),[s,r]=k.useState([]);return k.useEffect(()=>{let i=!1;return VT(t,e,n).then(a=>{i||r(a)}),()=>{i=!0}},[t,e,n]),s}function GT({page:t,matches:e,...n}){let s=yr(),{manifest:r,routeModules:i}=$2(),{basename:a}=U2(),{loaderData:c,matches:u}=YT(),h=k.useMemo(()=>zv(t,e,u,r,s,"data"),[t,e,u,r,s]),p=k.useMemo(()=>zv(t,e,u,r,s,"assets"),[t,e,u,r,s]),g=k.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let b=new Set,_=!1;if(e.forEach(C=>{var P;let N=r.routes[C.route.id];!N||!N.hasLoader||(!h.some(A=>A.route.id===C.route.id)&&C.route.id in c&&((P=i[C.route.id])!=null&&P.shouldRevalidate)||N.hasClientLoader?_=!0:b.add(C.route.id))}),b.size===0)return[];let S=qT(t,a);return _&&b.size>0&&S.searchParams.set("_routes",e.filter(C=>b.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[a,c,s,r,h,e,t,i]),y=k.useMemo(()=>BT(p,r),[p,r]),v=QT(p);return k.createElement(k.Fragment,null,g.map(b=>k.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),y.map(b=>k.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),v.map(({key:b,link:_})=>k.createElement("link",{key:b,..._})))}function ZT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var H2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H2&&(window.__reactRouterVersion="7.6.2")}catch{}function JT({basename:t,children:e,window:n}){let s=k.useRef();s.current==null&&(s.current=VN({window:n,v5Compat:!0}));let r=s.current,[i,a]=k.useState({action:r.action,location:r.location}),c=k.useCallback(u=>{k.startTransition(()=>a(u))},[a]);return k.useLayoutEffect(()=>r.listen(c),[r,c]),k.createElement(TT,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:r})}var W2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cs=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:r,reloadDocument:i,replace:a,state:c,target:u,to:h,preventScrollReset:p,viewTransition:g,...y},v){let{basename:b}=k.useContext(us),_=typeof h=="string"&&W2.test(h),S,C=!1;if(typeof h=="string"&&_&&(S=h,H2))try{let V=new URL(window.location.href),$=h.startsWith("//")?new URL(V.protocol+h):new URL(h),G=fr($.pathname,b);$.origin===V.origin&&G!=null?h=G+$.search+$.hash:C=!0}catch{Gn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=fT(h,{relative:r}),[P,A,M]=KT(s,y),R=sP(h,{replace:a,state:c,target:u,preventScrollReset:p,relative:r,viewTransition:g});function z(V){e&&e(V),V.defaultPrevented||R(V)}let B=k.createElement("a",{...y,...M,href:S||N,onClick:C||i?e:z,ref:ZT(v,A),target:u,"data-discover":!_&&n==="render"?"true":void 0});return P&&!_?k.createElement(k.Fragment,null,B,k.createElement(XT,{page:N})):B});cs.displayName="Link";var eP=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:r=!1,style:i,to:a,viewTransition:c,children:u,...h},p){let g=Rc(a,{relative:h.relative}),y=yr(),v=k.useContext(mh),{navigator:b,basename:_}=k.useContext(us),S=v!=null&&lP(g)&&c===!0,C=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,N=y.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(N=N.toLowerCase(),P=P?P.toLowerCase():null,C=C.toLowerCase()),P&&_&&(P=fr(P,_)||P);const A=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let M=N===C||!r&&N.startsWith(C)&&N.charAt(A)==="/",R=P!=null&&(P===C||!r&&P.startsWith(C)&&P.charAt(C.length)==="/"),z={isActive:M,isPending:R,isTransitioning:S},B=M?e:void 0,V;typeof s=="function"?V=s(z):V=[s,M?"active":null,R?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(z):i;return k.createElement(cs,{...h,"aria-current":B,className:V,ref:p,style:$,to:a,viewTransition:c},typeof u=="function"?u(z):u)});eP.displayName="NavLink";var tP=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:r,state:i,method:a=Dd,action:c,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:g,...y},v)=>{let b=oP(),_=aP(c,{relative:h}),S=a.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&W2.test(c),N=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let A=P.nativeEvent.submitter,M=(A==null?void 0:A.getAttribute("formmethod"))||a;b(A||P.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:r,state:i,relative:h,preventScrollReset:p,viewTransition:g})};return k.createElement("form",{ref:v,method:S,action:_,onSubmit:s?u:N,...y,"data-discover":!C&&t==="render"?"true":void 0})});tP.displayName="Form";function nP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q2(t){let e=k.useContext(Ra);return it(e,nP(t)),e}function sP(t,{target:e,replace:n,state:s,preventScrollReset:r,relative:i,viewTransition:a}={}){let c=Is(),u=yr(),h=Rc(t,{relative:i});return k.useCallback(p=>{if(RT(p,e)){p.preventDefault();let g=n!==void 0?n:cc(u)===cc(h);c(t,{replace:g,state:s,preventScrollReset:r,relative:i,viewTransition:a})}},[u,c,h,n,s,e,t,r,i,a])}function Dc(t){Gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(Sm(t)),n=k.useRef(!1),s=yr(),r=k.useMemo(()=>DT(s.search,n.current?null:e.current),[s.search]),i=Is(),a=k.useCallback((c,u)=>{const h=Sm(typeof c=="function"?c(r):c);n.current=!0,i("?"+h,u)},[i,r]);return[r,a]}var rP=0,iP=()=>`__${String(++rP)}__`;function oP(){let{router:t}=q2("useSubmit"),{basename:e}=k.useContext(us),n=CT();return k.useCallback(async(s,r={})=>{let{action:i,method:a,encType:c,formData:u,body:h}=IT(s,e);if(r.navigate===!1){let p=r.fetcherKey||iP();await t.fetch(p,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:u,body:h,formMethod:r.method||a,formEncType:r.encType||c,flushSync:r.flushSync})}else await t.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:u,body:h,formMethod:r.method||a,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function aP(t,{relative:e}={}){let{basename:n}=k.useContext(us),s=k.useContext(ds);it(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),i={...Rc(t||".",{relative:e})},a=yr();if(t==null){i.search=a.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:ur([n,i.pathname])),cc(i)}function lP(t,e={}){let n=k.useContext(L2);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=q2("useViewTransitionState"),r=Rc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Kd(r.pathname,a)!=null||Kd(r.pathname,i)!=null}[...WT];function Y2(t,e){return function(){return t.apply(e,arguments)}}const{toString:cP}=Object.prototype,{getPrototypeOf:Hg}=Object,{iterator:yh,toStringTag:K2}=Symbol,xh=(t=>e=>{const n=cP.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hs=t=>(t=t.toLowerCase(),e=>xh(e)===t),vh=t=>e=>typeof e===t,{isArray:Oa}=Array,uc=vh("undefined");function uP(t){return t!==null&&!uc(t)&&t.constructor!==null&&!uc(t.constructor)&&kn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const X2=hs("ArrayBuffer");function dP(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&X2(t.buffer),e}const hP=vh("string"),kn=vh("function"),Q2=vh("number"),bh=t=>t!==null&&typeof t=="object",fP=t=>t===!0||t===!1,Ld=t=>{if(xh(t)!=="object")return!1;const e=Hg(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(K2 in t)&&!(yh in t)},pP=hs("Date"),mP=hs("File"),gP=hs("Blob"),yP=hs("FileList"),xP=t=>bh(t)&&kn(t.pipe),vP=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||kn(t.append)&&((e=xh(t))==="formdata"||e==="object"&&kn(t.toString)&&t.toString()==="[object FormData]"))},bP=hs("URLSearchParams"),[wP,SP,_P,CP]=["ReadableStream","Request","Response","Headers"].map(hs),kP=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Oc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Oa(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let c;for(s=0;s<a;s++)c=i[s],e.call(null,t[c],c,t)}}function G2(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const qi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Z2=t=>!uc(t)&&t!==qi;function _m(){const{caseless:t}=Z2(this)&&this||{},e={},n=(s,r)=>{const i=t&&G2(e,r)||r;Ld(e[i])&&Ld(s)?e[i]=_m(e[i],s):Ld(s)?e[i]=_m({},s):Oa(s)?e[i]=s.slice():e[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Oc(arguments[s],n);return e}const jP=(t,e,n,{allOwnKeys:s}={})=>(Oc(e,(r,i)=>{n&&kn(r)?t[i]=Y2(r,n):t[i]=r},{allOwnKeys:s}),t),NP=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),TP=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},PP=(t,e,n,s)=>{let r,i,a;const c={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)a=r[i],(!s||s(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&Hg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},EP=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},MP=t=>{if(!t)return null;if(Oa(t))return t;let e=t.length;if(!Q2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},AP=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Hg(Uint8Array)),RP=(t,e)=>{const s=(t&&t[yh]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},DP=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},OP=hs("HTMLFormElement"),LP=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Vv=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),IP=hs("RegExp"),J2=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Oc(n,(r,i)=>{let a;(a=e(r,i,t))!==!1&&(s[i]=a||r)}),Object.defineProperties(t,s)},FP=t=>{J2(t,(e,n)=>{if(kn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(kn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},zP=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return Oa(t)?s(t):s(String(t).split(e)),n},VP=()=>{},BP=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function UP(t){return!!(t&&kn(t.append)&&t[K2]==="FormData"&&t[yh])}const $P=t=>{const e=new Array(10),n=(s,r)=>{if(bh(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const i=Oa(s)?[]:{};return Oc(s,(a,c)=>{const u=n(a,r+1);!uc(u)&&(i[c]=u)}),e[r]=void 0,i}}return s};return n(t,0)},HP=hs("AsyncFunction"),WP=t=>t&&(bh(t)||kn(t))&&kn(t.then)&&kn(t.catch),eS=((t,e)=>t?setImmediate:e?((n,s)=>(qi.addEventListener("message",({source:r,data:i})=>{r===qi&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),qi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",kn(qi.postMessage)),qP=typeof queueMicrotask<"u"?queueMicrotask.bind(qi):typeof process<"u"&&process.nextTick||eS,YP=t=>t!=null&&kn(t[yh]),K={isArray:Oa,isArrayBuffer:X2,isBuffer:uP,isFormData:vP,isArrayBufferView:dP,isString:hP,isNumber:Q2,isBoolean:fP,isObject:bh,isPlainObject:Ld,isReadableStream:wP,isRequest:SP,isResponse:_P,isHeaders:CP,isUndefined:uc,isDate:pP,isFile:mP,isBlob:gP,isRegExp:IP,isFunction:kn,isStream:xP,isURLSearchParams:bP,isTypedArray:AP,isFileList:yP,forEach:Oc,merge:_m,extend:jP,trim:kP,stripBOM:NP,inherits:TP,toFlatObject:PP,kindOf:xh,kindOfTest:hs,endsWith:EP,toArray:MP,forEachEntry:RP,matchAll:DP,isHTMLForm:OP,hasOwnProperty:Vv,hasOwnProp:Vv,reduceDescriptors:J2,freezeMethods:FP,toObjectSet:zP,toCamelCase:LP,noop:VP,toFiniteNumber:BP,findKey:G2,global:qi,isContextDefined:Z2,isSpecCompliantForm:UP,toJSONObject:$P,isAsyncFn:HP,isThenable:WP,setImmediate:eS,asap:qP,isIterable:YP};function Oe(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}K.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const tS=Oe.prototype,nS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{nS[t]={value:t}});Object.defineProperties(Oe,nS);Object.defineProperty(tS,"isAxiosError",{value:!0});Oe.from=(t,e,n,s,r,i)=>{const a=Object.create(tS);return K.toFlatObject(t,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),Oe.call(a,t.message,e,n,s,r),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const KP=null;function Cm(t){return K.isPlainObject(t)||K.isArray(t)}function sS(t){return K.endsWith(t,"[]")?t.slice(0,-2):t}function Bv(t,e,n){return t?t.concat(e).map(function(r,i){return r=sS(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function XP(t){return K.isArray(t)&&!t.some(Cm)}const QP=K.toFlatObject(K,{},null,function(e){return/^is[A-Z]/.test(e)});function wh(t,e,n){if(!K.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,S){return!K.isUndefined(S[_])});const s=n.metaTokens,r=n.visitor||p,i=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(r))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(K.isDate(b))return b.toISOString();if(K.isBoolean(b))return b.toString();if(!u&&K.isBlob(b))throw new Oe("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(b)||K.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,_,S){let C=b;if(b&&!S&&typeof b=="object"){if(K.endsWith(_,"{}"))_=s?_:_.slice(0,-2),b=JSON.stringify(b);else if(K.isArray(b)&&XP(b)||(K.isFileList(b)||K.endsWith(_,"[]"))&&(C=K.toArray(b)))return _=sS(_),C.forEach(function(P,A){!(K.isUndefined(P)||P===null)&&e.append(a===!0?Bv([_],A,i):a===null?_:_+"[]",h(P))}),!1}return Cm(b)?!0:(e.append(Bv(S,_,i),h(b)),!1)}const g=[],y=Object.assign(QP,{defaultVisitor:p,convertValue:h,isVisitable:Cm});function v(b,_){if(!K.isUndefined(b)){if(g.indexOf(b)!==-1)throw Error("Circular reference detected in "+_.join("."));g.push(b),K.forEach(b,function(C,N){(!(K.isUndefined(C)||C===null)&&r.call(e,C,K.isString(N)?N.trim():N,_,y))===!0&&v(C,_?_.concat(N):[N])}),g.pop()}}if(!K.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Uv(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Wg(t,e){this._pairs=[],t&&wh(t,this,e)}const rS=Wg.prototype;rS.append=function(e,n){this._pairs.push([e,n])};rS.toString=function(e){const n=e?function(s){return e.call(this,s,Uv)}:Uv;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function GP(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iS(t,e,n){if(!e)return t;const s=n&&n.encode||GP;K.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(e,n):i=K.isURLSearchParams(e)?e.toString():new Wg(e,n).toString(s),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class $v{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,function(s){s!==null&&e(s)})}}const oS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZP=typeof URLSearchParams<"u"?URLSearchParams:Wg,JP=typeof FormData<"u"?FormData:null,eE=typeof Blob<"u"?Blob:null,tE={isBrowser:!0,classes:{URLSearchParams:ZP,FormData:JP,Blob:eE},protocols:["http","https","file","blob","url","data"]},qg=typeof window<"u"&&typeof document<"u",km=typeof navigator=="object"&&navigator||void 0,nE=qg&&(!km||["ReactNative","NativeScript","NS"].indexOf(km.product)<0),sE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rE=qg&&window.location.href||"http://localhost",iE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qg,hasStandardBrowserEnv:nE,hasStandardBrowserWebWorkerEnv:sE,navigator:km,origin:rE},Symbol.toStringTag,{value:"Module"})),Qt={...iE,...tE};function oE(t,e){return wh(t,new Qt.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,i){return Qt.isNode&&K.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function aE(t){return K.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function lE(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function aS(t){function e(n,s,r,i){let a=n[i++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),u=i>=n.length;return a=!a&&K.isArray(r)?r.length:a,u?(K.hasOwnProp(r,a)?r[a]=[r[a],s]:r[a]=s,!c):((!r[a]||!K.isObject(r[a]))&&(r[a]=[]),e(n,s,r[a],i)&&K.isArray(r[a])&&(r[a]=lE(r[a])),!c)}if(K.isFormData(t)&&K.isFunction(t.entries)){const n={};return K.forEachEntry(t,(s,r)=>{e(aE(s),r,n,0)}),n}return null}function cE(t,e,n){if(K.isString(t))try{return(e||JSON.parse)(t),K.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Lc={transitional:oS,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=K.isObject(e);if(i&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return r?JSON.stringify(aS(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e)||K.isReadableStream(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return oE(e,this.formSerializer).toString();if((c=K.isFileList(e))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return wh(c?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),cE(e)):e}],transformResponse:[function(e){const n=this.transitional||Lc.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(K.isResponse(e)||K.isReadableStream(e))return e;if(e&&K.isString(e)&&(s&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?Oe.from(c,Oe.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],t=>{Lc.headers[t]={}});const uE=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dE=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),s=a.substring(r+1).trim(),!(!n||e[n]&&uE[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Hv=Symbol("internals");function Ol(t){return t&&String(t).trim().toLowerCase()}function Id(t){return t===!1||t==null?t:K.isArray(t)?t.map(Id):String(t)}function hE(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const fE=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Tp(t,e,n,s,r){if(K.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!K.isString(e)){if(K.isString(s))return e.indexOf(s)!==-1;if(K.isRegExp(s))return s.test(e)}}function pE(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function mE(t,e){const n=K.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,a){return this[s].call(this,e,r,i,a)},configurable:!0})})}let jn=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(c,u,h){const p=Ol(u);if(!p)throw new Error("header name must be a non-empty string");const g=K.findKey(r,p);(!g||r[g]===void 0||h===!0||h===void 0&&r[g]!==!1)&&(r[g||u]=Id(c))}const a=(c,u)=>K.forEach(c,(h,p)=>i(h,p,u));if(K.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(K.isString(e)&&(e=e.trim())&&!fE(e))a(dE(e),n);else if(K.isObject(e)&&K.isIterable(e)){let c={},u,h;for(const p of e){if(!K.isArray(p))throw TypeError("Object iterator must return a key-value pair");c[h=p[0]]=(u=c[h])?K.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}a(c,n)}else e!=null&&i(n,e,s);return this}get(e,n){if(e=Ol(e),e){const s=K.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return hE(r);if(K.isFunction(n))return n.call(this,r,s);if(K.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ol(e),e){const s=K.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Tp(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(a){if(a=Ol(a),a){const c=K.findKey(s,a);c&&(!n||Tp(s,s[c],c,n))&&(delete s[c],r=!0)}}return K.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||Tp(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return K.forEach(this,(r,i)=>{const a=K.findKey(s,i);if(a){n[a]=Id(r),delete n[i];return}const c=e?pE(i):String(i).trim();c!==i&&delete n[i],n[c]=Id(r),s[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return K.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&K.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[Hv]=this[Hv]={accessors:{}}).accessors,r=this.prototype;function i(a){const c=Ol(a);s[c]||(mE(r,a),s[c]=!0)}return K.isArray(e)?e.forEach(i):i(e),this}};jn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(jn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});K.freezeMethods(jn);function Pp(t,e){const n=this||Lc,s=e||n,r=jn.from(s.headers);let i=s.data;return K.forEach(t,function(c){i=c.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function lS(t){return!!(t&&t.__CANCEL__)}function La(t,e,n){Oe.call(this,t??"canceled",Oe.ERR_CANCELED,e,n),this.name="CanceledError"}K.inherits(La,Oe,{__CANCEL__:!0});function cS(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Oe("Request failed with status code "+n.status,[Oe.ERR_BAD_REQUEST,Oe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function gE(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function yE(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,a;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),p=s[i];a||(a=h),n[r]=u,s[r]=h;let g=i,y=0;for(;g!==r;)y+=n[g++],g=g%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),h-a<e)return;const v=p&&h-p;return v?Math.round(y*1e3/v):void 0}}function xE(t,e){let n=0,s=1e3/e,r,i;const a=(h,p=Date.now())=>{n=p,r=null,i&&(clearTimeout(i),i=null),t.apply(null,h)};return[(...h)=>{const p=Date.now(),g=p-n;g>=s?a(h,p):(r=h,i||(i=setTimeout(()=>{i=null,a(r)},s-g)))},()=>r&&a(r)]}const Xd=(t,e,n=3)=>{let s=0;const r=yE(50,250);return xE(i=>{const a=i.loaded,c=i.lengthComputable?i.total:void 0,u=a-s,h=r(u),p=a<=c;s=a;const g={loaded:a,total:c,progress:c?a/c:void 0,bytes:u,rate:h||void 0,estimated:h&&c&&p?(c-a)/h:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(g)},n)},Wv=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},qv=t=>(...e)=>K.asap(()=>t(...e)),vE=Qt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Qt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Qt.origin),Qt.navigator&&/(msie|trident)/i.test(Qt.navigator.userAgent)):()=>!0,bE=Qt.hasStandardBrowserEnv?{write(t,e,n,s,r,i){const a=[t+"="+encodeURIComponent(e)];K.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),K.isString(s)&&a.push("path="+s),K.isString(r)&&a.push("domain="+r),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wE(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function SE(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function uS(t,e,n){let s=!wE(e);return t&&(s||n==!1)?SE(t,e):e}const Yv=t=>t instanceof jn?{...t}:t;function ho(t,e){e=e||{};const n={};function s(h,p,g,y){return K.isPlainObject(h)&&K.isPlainObject(p)?K.merge.call({caseless:y},h,p):K.isPlainObject(p)?K.merge({},p):K.isArray(p)?p.slice():p}function r(h,p,g,y){if(K.isUndefined(p)){if(!K.isUndefined(h))return s(void 0,h,g,y)}else return s(h,p,g,y)}function i(h,p){if(!K.isUndefined(p))return s(void 0,p)}function a(h,p){if(K.isUndefined(p)){if(!K.isUndefined(h))return s(void 0,h)}else return s(void 0,p)}function c(h,p,g){if(g in e)return s(h,p);if(g in t)return s(void 0,h)}const u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(h,p,g)=>r(Yv(h),Yv(p),g,!0)};return K.forEach(Object.keys(Object.assign({},t,e)),function(p){const g=u[p]||r,y=g(t[p],e[p],p);K.isUndefined(y)&&g!==c||(n[p]=y)}),n}const dS=t=>{const e=ho({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:a,auth:c}=e;e.headers=a=jn.from(a),e.url=iS(uS(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(K.isFormData(n)){if(Qt.hasStandardBrowserEnv||Qt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[h,...p]=u?u.split(";").map(g=>g.trim()).filter(Boolean):[];a.setContentType([h||"multipart/form-data",...p].join("; "))}}if(Qt.hasStandardBrowserEnv&&(s&&K.isFunction(s)&&(s=s(e)),s||s!==!1&&vE(e.url))){const h=r&&i&&bE.read(i);h&&a.set(r,h)}return e},_E=typeof XMLHttpRequest<"u",CE=_E&&function(t){return new Promise(function(n,s){const r=dS(t);let i=r.data;const a=jn.from(r.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:h}=r,p,g,y,v,b;function _(){v&&v(),b&&b(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function C(){if(!S)return;const P=jn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),M={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:P,config:t,request:S};cS(function(z){n(z),_()},function(z){s(z),_()},M),S=null}"onloadend"in S?S.onloadend=C:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(C)},S.onabort=function(){S&&(s(new Oe("Request aborted",Oe.ECONNABORTED,t,S)),S=null)},S.onerror=function(){s(new Oe("Network Error",Oe.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let A=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const M=r.transitional||oS;r.timeoutErrorMessage&&(A=r.timeoutErrorMessage),s(new Oe(A,M.clarifyTimeoutError?Oe.ETIMEDOUT:Oe.ECONNABORTED,t,S)),S=null},i===void 0&&a.setContentType(null),"setRequestHeader"in S&&K.forEach(a.toJSON(),function(A,M){S.setRequestHeader(M,A)}),K.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),c&&c!=="json"&&(S.responseType=r.responseType),h&&([y,b]=Xd(h,!0),S.addEventListener("progress",y)),u&&S.upload&&([g,v]=Xd(u),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(p=P=>{S&&(s(!P||P.type?new La(null,t,S):P),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const N=gE(r.url);if(N&&Qt.protocols.indexOf(N)===-1){s(new Oe("Unsupported protocol "+N+":",Oe.ERR_BAD_REQUEST,t));return}S.send(i||null)})},kE=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const i=function(h){if(!r){r=!0,c();const p=h instanceof Error?h:this.reason;s.abort(p instanceof Oe?p:new La(p instanceof Error?p.message:p))}};let a=e&&setTimeout(()=>{a=null,i(new Oe(`timeout ${e} of ms exceeded`,Oe.ETIMEDOUT))},e);const c=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:u}=s;return u.unsubscribe=()=>K.asap(c),u}},jE=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},NE=async function*(t,e){for await(const n of TE(t))yield*jE(n,e)},TE=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Kv=(t,e,n,s)=>{const r=NE(t,e);let i=0,a,c=u=>{a||(a=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:h,value:p}=await r.next();if(h){c(),u.close();return}let g=p.byteLength;if(n){let y=i+=g;n(y)}u.enqueue(new Uint8Array(p))}catch(h){throw c(h),h}},cancel(u){return c(u),r.return()}},{highWaterMark:2})},Sh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hS=Sh&&typeof ReadableStream=="function",PE=Sh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),fS=(t,...e)=>{try{return!!t(...e)}catch{return!1}},EE=hS&&fS(()=>{let t=!1;const e=new Request(Qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Xv=64*1024,jm=hS&&fS(()=>K.isReadableStream(new Response("").body)),Qd={stream:jm&&(t=>t.body)};Sh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Qd[e]&&(Qd[e]=K.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new Oe(`Response type '${e}' is not supported`,Oe.ERR_NOT_SUPPORT,s)})})})(new Response);const ME=async t=>{if(t==null)return 0;if(K.isBlob(t))return t.size;if(K.isSpecCompliantForm(t))return(await new Request(Qt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(K.isArrayBufferView(t)||K.isArrayBuffer(t))return t.byteLength;if(K.isURLSearchParams(t)&&(t=t+""),K.isString(t))return(await PE(t)).byteLength},AE=async(t,e)=>{const n=K.toFiniteNumber(t.getContentLength());return n??ME(e)},RE=Sh&&(async t=>{let{url:e,method:n,data:s,signal:r,cancelToken:i,timeout:a,onDownloadProgress:c,onUploadProgress:u,responseType:h,headers:p,withCredentials:g="same-origin",fetchOptions:y}=dS(t);h=h?(h+"").toLowerCase():"text";let v=kE([r,i&&i.toAbortSignal()],a),b;const _=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let S;try{if(u&&EE&&n!=="get"&&n!=="head"&&(S=await AE(p,s))!==0){let M=new Request(e,{method:"POST",body:s,duplex:"half"}),R;if(K.isFormData(s)&&(R=M.headers.get("content-type"))&&p.setContentType(R),M.body){const[z,B]=Wv(S,Xd(qv(u)));s=Kv(M.body,Xv,z,B)}}K.isString(g)||(g=g?"include":"omit");const C="credentials"in Request.prototype;b=new Request(e,{...y,signal:v,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:s,duplex:"half",credentials:C?g:void 0});let N=await fetch(b,y);const P=jm&&(h==="stream"||h==="response");if(jm&&(c||P&&_)){const M={};["status","statusText","headers"].forEach(V=>{M[V]=N[V]});const R=K.toFiniteNumber(N.headers.get("content-length")),[z,B]=c&&Wv(R,Xd(qv(c),!0))||[];N=new Response(Kv(N.body,Xv,z,()=>{B&&B(),_&&_()}),M)}h=h||"text";let A=await Qd[K.findKey(Qd,h)||"text"](N,t);return!P&&_&&_(),await new Promise((M,R)=>{cS(M,R,{data:A,headers:jn.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:b})})}catch(C){throw _&&_(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Oe("Network Error",Oe.ERR_NETWORK,t,b),{cause:C.cause||C}):Oe.from(C,C&&C.code,t,b)}}),Nm={http:KP,xhr:CE,fetch:RE};K.forEach(Nm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Qv=t=>`- ${t}`,DE=t=>K.isFunction(t)||t===null||t===!1,pS={getAdapter:t=>{t=K.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let i=0;i<e;i++){n=t[i];let a;if(s=n,!DE(n)&&(s=Nm[(a=String(n)).toLowerCase()],s===void 0))throw new Oe(`Unknown adapter '${a}'`);if(s)break;r[a||"#"+i]=s}if(!s){const i=Object.entries(r).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(Qv).join(`
`):" "+Qv(i[0]):"as no adapter specified";throw new Oe("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:Nm};function Ep(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new La(null,t)}function Gv(t){return Ep(t),t.headers=jn.from(t.headers),t.data=Pp.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),pS.getAdapter(t.adapter||Lc.adapter)(t).then(function(s){return Ep(t),s.data=Pp.call(t,t.transformResponse,s),s.headers=jn.from(s.headers),s},function(s){return lS(s)||(Ep(t),s&&s.response&&(s.response.data=Pp.call(t,t.transformResponse,s.response),s.response.headers=jn.from(s.response.headers))),Promise.reject(s)})}const mS="1.10.0",_h={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{_h[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Zv={};_h.transitional=function(e,n,s){function r(i,a){return"[Axios v"+mS+"] Transitional option '"+i+"'"+a+(s?". "+s:"")}return(i,a,c)=>{if(e===!1)throw new Oe(r(a," has been removed"+(n?" in "+n:"")),Oe.ERR_DEPRECATED);return n&&!Zv[a]&&(Zv[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,c):!0}};_h.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function OE(t,e,n){if(typeof t!="object")throw new Oe("options must be an object",Oe.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],a=e[i];if(a){const c=t[i],u=c===void 0||a(c,i,t);if(u!==!0)throw new Oe("option "+i+" must be "+u,Oe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Oe("Unknown option "+i,Oe.ERR_BAD_OPTION)}}const Fd={assertOptions:OE,validators:_h},_s=Fd.validators;let io=class{constructor(e){this.defaults=e||{},this.interceptors={request:new $v,response:new $v}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ho(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&Fd.assertOptions(s,{silentJSONParsing:_s.transitional(_s.boolean),forcedJSONParsing:_s.transitional(_s.boolean),clarifyTimeoutError:_s.transitional(_s.boolean)},!1),r!=null&&(K.isFunction(r)?n.paramsSerializer={serialize:r}:Fd.assertOptions(r,{encode:_s.function,serialize:_s.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Fd.assertOptions(n,{baseUrl:_s.spelling("baseURL"),withXsrfToken:_s.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&K.merge(i.common,i[n.method]);i&&K.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=jn.concat(a,i);const c=[];let u=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(u=u&&_.synchronous,c.unshift(_.fulfilled,_.rejected))});const h=[];this.interceptors.response.forEach(function(_){h.push(_.fulfilled,_.rejected)});let p,g=0,y;if(!u){const b=[Gv.bind(this),void 0];for(b.unshift.apply(b,c),b.push.apply(b,h),y=b.length,p=Promise.resolve(n);g<y;)p=p.then(b[g++],b[g++]);return p}y=c.length;let v=n;for(g=0;g<y;){const b=c[g++],_=c[g++];try{v=b(v)}catch(S){_.call(this,S);break}}try{p=Gv.call(this,v)}catch(b){return Promise.reject(b)}for(g=0,y=h.length;g<y;)p=p.then(h[g++],h[g++]);return p}getUri(e){e=ho(this.defaults,e);const n=uS(e.baseURL,e.url,e.allowAbsoluteUrls);return iS(n,e.params,e.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(e){io.prototype[e]=function(n,s){return this.request(ho(s||{},{method:e,url:n,data:(s||{}).data}))}});K.forEach(["post","put","patch"],function(e){function n(s){return function(i,a,c){return this.request(ho(c||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}io.prototype[e]=n(),io.prototype[e+"Form"]=n(!0)});let LE=class gS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const a=new Promise(c=>{s.subscribe(c),i=c}).then(r);return a.cancel=function(){s.unsubscribe(i)},a},e(function(i,a,c){s.reason||(s.reason=new La(i,a,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new gS(function(r){e=r}),cancel:e}}};function IE(t){return function(n){return t.apply(null,n)}}function FE(t){return K.isObject(t)&&t.isAxiosError===!0}const Tm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tm).forEach(([t,e])=>{Tm[e]=t});function yS(t){const e=new io(t),n=Y2(io.prototype.request,e);return K.extend(n,io.prototype,e,{allOwnKeys:!0}),K.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return yS(ho(t,r))},n}const gt=yS(Lc);gt.Axios=io;gt.CanceledError=La;gt.CancelToken=LE;gt.isCancel=lS;gt.VERSION=mS;gt.toFormData=wh;gt.AxiosError=Oe;gt.Cancel=gt.CanceledError;gt.all=function(e){return Promise.all(e)};gt.spread=IE;gt.isAxiosError=FE;gt.mergeConfig=ho;gt.AxiosHeaders=jn;gt.formToJSON=t=>aS(K.isHTMLForm(t)?new FormData(t):t);gt.getAdapter=pS.getAdapter;gt.HttpStatusCode=Tm;gt.default=gt;const{Axios:VV,AxiosError:BV,CanceledError:UV,isCancel:$V,CancelToken:HV,VERSION:WV,all:qV,Cancel:YV,isAxiosError:KV,spread:XV,toFormData:QV,AxiosHeaders:GV,HttpStatusCode:ZV,formToJSON:JV,getAdapter:eB,mergeConfig:tB}=gt;let xS="",Pm=null;const Em=t=>{xS=t},zE=()=>xS,VE=t=>{Pm=t},BE=async()=>{if(Pm)return await Pm();try{const t=await gt.post("/api/auth/refresh",{},{withCredentials:!0}),{accessToken:e}=t.data;return Em(e),e}catch(t){throw Em(""),t}},ce=gt.create({baseURL:"/api",withCredentials:!0});ce.interceptors.request.use(t=>{const e=zE();return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));let Mp=!1,Mm=[];const Jv=(t,e=null)=>{Mm.forEach(n=>{t?n.reject(t):n.resolve(e)}),Mm=[]};ce.interceptors.response.use(t=>t,async t=>{var n;const e=t.config;if(((n=t.response)==null?void 0:n.status)===401&&!e._retry&&!e.url.includes("/auth/refresh")){if(e._retry=!0,Mp)return new Promise((s,r)=>{Mm.push({resolve:i=>{e.headers.Authorization=`Bearer ${i}`,s(ce(e))},reject:i=>r(i)})});Mp=!0;try{const s=await BE();return Jv(null,s),e.headers.Authorization=`Bearer ${s}`,ce(e)}catch(s){return Jv(s,null),Promise.reject(s)}finally{Mp=!1}}return Promise.reject(t)});const vS=k.createContext(null),UE=({children:t})=>{const[e,n]=k.useState(null),[s,r]=k.useState(""),[i,a]=k.useState(!0);k.useEffect(()=>{Em(s)},[s]),k.useEffect(()=>{VE(c)},[]),k.useEffect(()=>{(async()=>{try{const y=await ce.post("/auth/refresh",{},{withCredentials:!0}),{user:v,accessToken:b}=y.data;n(v),r(b)}catch{n(null),r("")}finally{a(!1)}})()},[]);const c=async()=>{const g=await ce.post("/auth/refresh",{},{withCredentials:!0});return r(g.data.accessToken),n(g.data.user),g.data.accessToken},u=async(g,y)=>{const v=await ce.post("/auth/login",{email:g,password:y},{withCredentials:!0});n(v.data.user),r(v.data.accessToken)},h=async g=>{const y=await ce.post("/auth/register",g,{withCredentials:!0});n(y.data.user),r(y.data.accessToken)},p=async()=>{try{await ce.post("/auth/logout",{},{withCredentials:!0})}catch{}finally{n(null),r("")}};return i?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:f.jsx("span",{className:"text-sm text-gray-400",children:"Checking session..."})}):f.jsx(vS.Provider,{value:{user:e,accessToken:s,login:u,register:h,logout:p,loading:i,isAuthenticated:!!e},children:t})},Fs=()=>{const t=k.useContext(vS);if(!t)throw new Error("useAuth must be used inside <AuthProvider>");return t},$E=({email:t,setEmail:e,setStep:n})=>{const[s,r]=k.useState(""),[i,a]=k.useState(!1),c=async u=>{var h,p;u.preventDefault(),r(""),a(!0);try{(await ce.get(`/auth/check-email?email=${encodeURIComponent(t)}`)).data.exists?n("login"):n("register")}catch(g){r(((p=(h=g.response)==null?void 0:h.data)==null?void 0:p.message)||"Something went wrong checking the email.")}finally{a(!1)}};return f.jsxs("form",{onSubmit:c,className:"w-full bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg space-y-4",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Enter your email"}),f.jsx("input",{type:"email",value:t,required:!0,onChange:u=>e(u.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition",placeholder:"you@example.com"}),s&&f.jsx("p",{className:"text-red-500 text-sm",children:s}),f.jsx("button",{type:"submit",disabled:i,className:`w-full py-2 rounded-md font-medium transition ${i?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:i?"Checking...":"Continue"})]})},HE=({email:t,onSuccess:e,onSwitchToRegister:n,onForgotPassword:s})=>{const{login:r}=Fs(),[i,a]=k.useState(""),[c,u]=k.useState(""),[h,p]=k.useState(!1),g=async y=>{var v,b;y.preventDefault(),u(""),p(!0);try{await r(t,i),e==null||e()}catch(_){u(((b=(v=_.response)==null?void 0:v.data)==null?void 0:b.message)||"Login failed")}finally{p(!1)}};return f.jsxs("form",{onSubmit:g,className:"space-y-4 bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Welcome back"}),f.jsx("p",{className:"text-sm text-gray-400 mb-2",children:t}),f.jsx("input",{type:"password",placeholder:"Enter your password",value:i,onChange:y=>a(y.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),c&&f.jsx("p",{className:"text-sm text-red-500",children:c}),f.jsx("button",{type:"submit",disabled:h,className:`w-full py-2 rounded-md font-medium transition ${h?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:h?"Logging in...":"Login"}),f.jsxs("div",{className:"flex flex-col gap-2 text-sm mt-2",children:[f.jsx("button",{type:"button",onClick:n,className:"text-blue-400 hover:text-blue-300 underline",children:"Not your account? Create a new one"}),f.jsx("button",{type:"button",onClick:s,className:"text-blue-400 hover:text-blue-300 underline",children:"Forgot your password?"})]})]})},WE=({email:t,onSuccess:e,onSwitchToLogin:n})=>{const[s,r]=k.useState({username:"",email:t||"",password:""}),[i,a]=k.useState(""),[c,u]=k.useState(""),[h,p]=k.useState(!1),g=v=>{r({...s,[v.target.name]:v.target.value})},y=async v=>{var b,_;v.preventDefault(),a(""),u(""),p(!0);try{const S=await ce.post("/auth/register",s);u(S.data.message),e==null||e()}catch(S){a(((_=(b=S.response)==null?void 0:b.data)==null?void 0:_.message)||"Registration failed")}finally{p(!1)}};return f.jsxs("form",{onSubmit:y,className:"space-y-3",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"Create an account"}),f.jsx("p",{className:"text-sm text-gray-600",children:s.email}),f.jsx("input",{type:"text",name:"username",placeholder:"Username",value:s.username,onChange:g,className:"w-full p-2 border rounded",required:!0}),f.jsx("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:g,className:"w-full p-2 border rounded",required:!0}),f.jsx("input",{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:g,className:"w-full p-2 border rounded",required:!0}),c&&f.jsx("p",{className:"text-green-600 text-sm",children:c}),i&&f.jsx("p",{className:"text-red-500 text-sm",children:i}),f.jsx("button",{type:"submit",disabled:h,className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700",children:h?"Creating...":"Create Account"}),f.jsx("button",{type:"button",onClick:n,className:"text-sm text-blue-600 underline mt-2",children:"Already have an account? Login"})]})},qE=({onClose:t})=>{const e=Is(),[n]=Dc(),s=n.get("token"),[r,i]=k.useState(""),[a,c]=k.useState(""),[u,h]=k.useState(""),[p,g]=k.useState(!1),[y,v]=k.useState(""),[b,_]=k.useState(""),S=async N=>{var P,A;N.preventDefault(),v(""),_(""),g(!0);try{await ce.post("/auth/reset-password",{email:r}),v("If this email exists, a reset link has been sent.")}catch(M){_(((A=(P=M.response)==null?void 0:P.data)==null?void 0:A.message)||"Failed to request reset.")}finally{g(!1)}},C=async N=>{var P,A;if(N.preventDefault(),v(""),_(""),a!==u)return _("Passwords do not match");g(!0);try{const M=await ce.post("/auth/reset",{token:s,newPassword:a});v(M.data.message),setTimeout(()=>{t(),e("/login")},2500)}catch(M){_(((A=(P=M.response)==null?void 0:P.data)==null?void 0:A.message)||"Reset failed")}finally{g(!1)}};return f.jsxs("form",{onSubmit:s?C:S,className:"space-y-4 bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg",children:[f.jsx("h2",{className:"text-xl font-bold mb-2",children:s?"Reset Password":"Forgot your password?"}),s?f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"password",placeholder:"New Password",value:a,onChange:N=>c(N.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700",required:!0}),f.jsx("input",{type:"password",placeholder:"Confirm Password",value:u,onChange:N=>h(N.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700",required:!0})]}):f.jsx("input",{type:"email",placeholder:"Enter your email",value:r,onChange:N=>i(N.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),y&&f.jsx("p",{className:"text-green-500 text-sm",children:y}),b&&f.jsx("p",{className:"text-red-500 text-sm",children:b}),f.jsx("button",{type:"submit",disabled:p,className:`w-full py-2 rounded-md font-medium text-white transition ${p?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:p?s?"Resetting...":"Sending...":s?"Reset Password":"Send Reset Link"})]})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),eb=t=>{const e=KE(t);return e.charAt(0).toUpperCase()+e.slice(1)},bS=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),XE=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...c},u)=>k.createElement("svg",{ref:u,...QE,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:bS("lucide",r),...!i&&!XE(c)&&{"aria-hidden":"true"},...c},[...a.map(([h,p])=>k.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=(t,e)=>{const n=k.forwardRef(({className:s,...r},i)=>k.createElement(GE,{ref:i,iconNode:e,className:bS(`lucide-${YE(eb(t))}`,`lucide-${t}`,s),...r}));return n.displayName=eb(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],JE=Bt("chart-no-axes-column-increasing",ZE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],t6=Bt("chevron-left",e6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],s6=Bt("chevron-right",n6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ap=Bt("circle-alert",r6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],o6=Bt("file-text",i6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Rp=Bt("heart",a6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],c6=Bt("layout-dashboard",l6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],d6=Bt("menu",u6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],tb=Bt("package",h6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],wS=Bt("pencil",f6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],SS=Bt("plus",p6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],g6=Bt("save",m6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],x6=Bt("shield-check",y6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Dp=Bt("shopping-cart",v6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Op=Bt("user",b6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],S6=Bt("users",w6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yg=Bt("x",_6),C6=({onClose:t})=>{const[e,n]=k.useState("check-email"),[s,r]=k.useState(""),i=Is(),a=()=>{t(),i("/")};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:f.jsxs("div",{className:"relative bg-neutral-900 text-white rounded-xl shadow-2xl w-full max-w-md px-6 py-8 animate-fade-in",children:[f.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-white transition","aria-label":"Close",children:f.jsx(Yg,{size:20})}),e==="check-email"&&f.jsx($E,{setStep:n,email:s,setEmail:r}),e==="login"&&f.jsx(HE,{email:s,onSuccess:a,onSwitchToRegister:()=>n("register"),onForgotPassword:()=>n("reset-password")}),e==="register"&&f.jsx(WE,{email:s,onSuccess:a,onSwitchToLogin:()=>n("login")}),e==="reset-password"&&f.jsx(qE,{onClose:t})]})})},nb=()=>{const{logout:t}=Fs(),e=Is(),n=async()=>{try{await t(),e("/")}catch(s){console.error("Logout failed",s)}};return f.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors shadow-sm font-medium",children:"Logout"})},Ic=()=>{const{user:t,loading:e}=Fs(),[n,s]=k.useState(!1),[r,i]=k.useState(!1),a=[{label:"Home",path:"/"},{label:"Shop",path:"/shop"},{label:"Blog",path:"/blog"},{label:"Contact",path:"/contact"}],c=()=>{if(!t)return"/";switch(t.role){case"admin":return"/dashboard/admin";case"moderator":return"/dashboard/moderator";default:return"/dashboard/user"}};return e?null:f.jsxs("header",{className:"bg-[#0b1222] text-white shadow-md border-b border-[#1f2937]",children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[f.jsx(cs,{to:"/",className:"text-2xl font-bold tracking-tight text-white",children:"MyApp"}),f.jsx("div",{className:"hidden md:flex justify-center flex-1 relative",children:f.jsx("nav",{className:"absolute left-1/2 -translate-x-1/2 flex items-center space-x-6",children:a.map(u=>f.jsx(cs,{to:u.path,className:"text-sm font-medium text-gray-300 hover:text-pink-400 transition-colors",children:u.label},u.path))})}),f.jsx("div",{className:"hidden md:flex items-center space-x-4",children:t?f.jsxs(f.Fragment,{children:[f.jsx(cs,{to:c(),className:"bg-[#1c2433] hover:bg-[#2d3a50] text-sm px-4 py-2 rounded-full transition-colors",children:"Dashboard"}),f.jsx(nb,{})]}):f.jsx("button",{onClick:()=>s(!0),className:"bg-pink-600 hover:bg-pink-700 px-4 py-2 text-sm rounded-full text-white transition-colors",children:"Sign In"})}),f.jsx("button",{onClick:()=>i(!r),className:"md:hidden text-white",children:r?f.jsx(Yg,{size:24}):f.jsx(d6,{size:24})})]}),r&&f.jsxs("div",{className:"md:hidden bg-[#0b1222] border-t border-[#1f2937] px-4 pb-4 space-y-2",children:[a.map(u=>f.jsx(cs,{to:u.path,onClick:()=>i(!1),className:"block py-2 text-gray-300 hover:text-pink-400",children:u.label},u.path)),t?f.jsxs(f.Fragment,{children:[f.jsx(cs,{to:c(),onClick:()=>i(!1),className:"block py-2 text-gray-300 hover:text-pink-400",children:"Dashboard"}),f.jsx(nb,{})]}):f.jsx("button",{onClick:()=>{s(!0),i(!1)},className:"mt-2 w-full bg-pink-600 hover:bg-pink-700 px-4 py-2 rounded-full text-white transition-colors",children:"Sign In"})]}),n&&f.jsx(C6,{onClose:()=>s(!1)})]})},k6=()=>f.jsxs("div",{className:"min-h-screen bg-neutral-950 text-gray-100",children:[f.jsx(Ic,{}),f.jsxs("main",{className:"max-w-md mx-auto py-12 px-6 text-center",children:[f.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:"Welcome to Umbrella Auth"}),f.jsx("p",{className:"text-gray-400 mb-6",children:"Use the links below to test the password reset flow."}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx(cs,{to:"/reset-password",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition",children:" Request Password Reset"}),f.jsx(cs,{to:"/reset-password/confirm?token=EXAMPLE",className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition",children:" Reset Password (with Token)"})]}),f.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"You can replace the token in the URL with a real one from your email."})]})]}),j6=()=>{const[t]=Dc(),e=Is(),n=t.get("token"),[s,r]=k.useState(""),[i,a]=k.useState(""),[c,u]=k.useState(""),[h,p]=k.useState(""),[g,y]=k.useState(!1),v=async b=>{var _,S;if(b.preventDefault(),u(""),p(""),s!==i)return u("Passwords do not match");y(!0);try{const C=await ce.post("/auth/reset",{token:n,newPassword:s});p(C.data.message||"Password reset successful!"),setTimeout(()=>e("/login"),2500)}catch(C){console.error(" Reset error:",C.response||C.message),u(((S=(_=C.response)==null?void 0:_.data)==null?void 0:S.message)||"Something went wrong")}finally{y(!1)}};return f.jsx("div",{className:"flex justify-center items-center min-h-screen bg-neutral-950 px-4",children:f.jsxs("form",{onSubmit:v,className:"w-full max-w-md bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg space-y-4",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Reset Your Password"}),f.jsx("p",{className:"text-sm text-gray-400",children:"Enter your new password below to complete the reset."}),f.jsx("input",{type:"password",placeholder:"New Password",value:s,onChange:b=>r(b.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),f.jsx("input",{type:"password",placeholder:"Confirm New Password",value:i,onChange:b=>a(b.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),c&&f.jsx("p",{className:"text-sm text-red-500",children:c}),h&&f.jsx("p",{className:"text-sm text-green-500",children:h}),f.jsx("button",{type:"submit",disabled:g,className:`w-full py-2 rounded-md font-medium transition ${g?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:g?"Resetting...":"Reset Password"})]})})},N6=()=>{const{token:t}=zg(),e=Is(),[n,s]=k.useState("Verifying email..."),[r,i]=k.useState(null);return k.useEffect(()=>{(async()=>{var c,u;try{const h=await ce.get(`/auth/verify-email/${t}`);s(h.data.message||"Email verified successfully."),setTimeout(()=>e("/"),2500)}catch(h){const p=((u=(c=h.response)==null?void 0:c.data)==null?void 0:u.message)||h.message||"Verification failed.";i(p),s("Email verification failed.")}})()},[t,e]),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white font-sans px-4",children:f.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-semibold mb-4 text-teal-400",children:n}),r?f.jsx("p",{className:"text-red-400",children:r}):f.jsx("p",{className:"text-zinc-300",children:"You will be redirected to the login page shortly..."})]})})},T6=()=>{var y,v,b;const{slug:t}=zg(),[e,n]=k.useState(null),[s,r]=k.useState(null),[i,a]=k.useState(""),[c,u]=k.useState(!0),[h,p]=k.useState("");if(k.useEffect(()=>{(async()=>{var S,C,N,P;try{const M=(await ce.get(`/products/slug/${t}`)).data,R=((S=M.variants)==null?void 0:S.filter(B=>B==null?void 0:B.variantId))||[];n(M),r(R[0]||null);const z=M.thumbnail||((C=M.images)==null?void 0:C[0])||"";a(z)}catch(A){p(((P=(N=A.response)==null?void 0:N.data)==null?void 0:P.message)||"Product not found")}finally{u(!1)}})()},[t]),c)return f.jsx("div",{className:"p-10 text-center text-gray-500 text-lg",children:"Loading..."});if(h)return f.jsx("div",{className:"p-10 text-center text-red-600 font-semibold",children:h});if(!e)return null;const g=_=>{const S=e.variants.find(C=>C.variantId===_);r(S),S!=null&&S.preview&&a(S.preview)};return f.jsxs(f.Fragment,{children:[f.jsx(Ic,{}),f.jsx("div",{className:"max-w-5xl mx-auto px-4 py-10",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-10",children:[f.jsxs("div",{className:"w-full md:w-1/2",children:[f.jsx("div",{className:"border rounded-lg bg-white p-2 shadow-sm",children:f.jsx("img",{src:i||"/placeholder.jpg",alt:e.title,className:"w-full h-[400px] object-contain rounded"})}),((y=e.images)==null?void 0:y.length)>1&&f.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto",children:e.images.map((_,S)=>f.jsx("img",{src:_,onClick:()=>a(_),className:`w-16 h-16 object-cover rounded cursor-pointer border-2 ${_===i?"border-blue-500":"border-transparent"}`,alt:`thumbnail-${S}`},S))})]}),f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-between space-y-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:e.title}),f.jsxs("p",{className:"text-xl text-blue-600 font-semibold",children:["$",(s==null?void 0:s.retail_price)||((v=e.price)==null?void 0:v.toFixed(2))]}),f.jsx("p",{className:"mt-4 text-gray-600 text-sm leading-relaxed",children:e.description}),((b=e.variants)==null?void 0:b.length)>0&&f.jsxs("div",{className:"mt-6",children:[f.jsx("label",{htmlFor:"variant-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Choose Variant"}),f.jsx("select",{id:"variant-select",className:"w-full border rounded-md p-2 text-sm focus:ring focus:ring-blue-200",value:(s==null?void 0:s.variantId)||"",onChange:_=>g(_.target.value),children:e.variants.filter(_=>_.variantId&&_.size&&_.color).map(_=>{var S;return f.jsxs("option",{value:_.variantId,children:[_.size,"  ",_.color,"  $",(S=_.retail_price)==null?void 0:S.toFixed(2)]},_.variantId)})})]})]}),f.jsx("div",{className:"mt-6",children:f.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg text-lg font-medium hover:bg-blue-700 transition",disabled:!s,children:"Add to Cart (coming soon)"})})]})]})})]})},P6=()=>f.jsxs("div",{className:"text-center p-10",children:[f.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),f.jsx("p",{children:"You do not have permission to access this page."})]}),Kg=({children:t,activeTab:e,setActiveTab:n})=>{const{user:s}=Fs(),[r,i]=k.useState(!1),c={admin:[{key:"profile",label:"My Profile",icon:f.jsx(Op,{size:18})},{key:"orders",label:"My Orders",icon:f.jsx(Dp,{size:18})},{key:"wishlist",label:"Wishlist",icon:f.jsx(Rp,{size:18})},{key:"overview",label:"Overview",icon:f.jsx(JE,{size:18})},{key:"products",label:"Products",icon:f.jsx(tb,{size:18})},{key:"products-management",label:"Products Management",icon:f.jsx(tb,{size:18})},{key:"users",label:"Manage Users",icon:f.jsx(S6,{size:18})},{key:"blog",label:"Blog Management",icon:f.jsx(wS,{size:18})},{key:"invoices",label:"Invoices",icon:f.jsx(o6,{size:18})},{key:"complaints",label:"Complaints",icon:f.jsx(Ap,{size:18})}],moderator:[{key:"profile",label:"My Profile",icon:f.jsx(Op,{size:18})},{key:"orders",label:"My Orders",icon:f.jsx(Dp,{size:18})},{key:"wishlist",label:"Wishlist",icon:f.jsx(Rp,{size:18})},{key:"panel",label:"Moderation Panel",icon:f.jsx(x6,{size:18})},{key:"complaints",label:"Complaints",icon:f.jsx(Ap,{size:18})}],user:[{key:"profile",label:"My Profile",icon:f.jsx(Op,{size:18})},{key:"orders",label:"My Orders",icon:f.jsx(Dp,{size:18})},{key:"wishlist",label:"Wishlist",icon:f.jsx(Rp,{size:18})},{key:"raise-complaint",label:"Raise Complaint",icon:f.jsx(Ap,{size:18})}]}[s==null?void 0:s.role]||[];return f.jsxs("div",{className:"flex flex-1 min-h-0 bg-[#0f172a] text-white",children:[f.jsxs("aside",{className:`relative flex flex-col transition-all duration-300 ease-in-out ${r?"w-[80px]":"w-64"} bg-[#0f172a] border-r border-gray-800`,children:[f.jsx("div",{className:"absolute top-5 right-[-12px] z-30",children:f.jsx("button",{onClick:()=>i(!r),className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-full ring-1 ring-slate-600 hover:ring-blue-400",children:r?f.jsx(s6,{size:18}):f.jsx(t6,{size:18})})}),f.jsxs("div",{className:"px-4 py-5 border-b border-slate-700 flex items-center",children:[f.jsx(c6,{size:20,className:"text-slate-300"}),f.jsx("h2",{className:`ml-2 text-xl font-bold transition-all origin-left ${r?"opacity-0 scale-90 w-0":"opacity-100 scale-100"}`,children:"Dashboard"})]}),f.jsx("nav",{className:"mt-4 space-y-1 px-2 flex-1",children:c.map(u=>f.jsxs("button",{onClick:()=>n(u.key),className:`flex items-center w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors ${e===u.key?"bg-slate-800 text-white font-semibold":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[f.jsx("span",{className:"mr-3",children:u.icon}),f.jsx("span",{className:`transition-all origin-left duration-300 ${r?"opacity-0 scale-90 w-0":"opacity-100 scale-100"}`,children:u.label})]},u.key))})]}),f.jsx("main",{className:"flex-1 flex flex-col    overflow-hidden bg-[#0f172a]",children:f.jsx("div",{className:"flex-1 flex flex-col  overflow-y-auto",children:t})})]})},Xg=({user:t,refreshUser:e})=>{const[n,s]=k.useState({}),[r,i]=k.useState(""),[a,c]=k.useState(!1);k.useEffect(()=>{t&&s({...t})},[t]);const u=g=>{const{name:y,value:v}=g.target;s(b=>({...b,[y]:v}))},h=async g=>{var y,v;g.preventDefault(),i(""),c(!0);try{const{data:b}=await ce.put("/users/me",n);i(" Profile updated successfully!"),e==null||e()}catch(b){const _=((v=(y=b.response)==null?void 0:y.data)==null?void 0:v.message)||" Failed to update profile.";i(_)}finally{c(!1)}},p=g=>f.jsx("input",{...g,className:"w-full px-4 py-2 rounded-md bg-[#1e2633] text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"});return f.jsx("div",{className:"flex justify-center items-start px-2 py-6 bg-[#131a25]",children:f.jsxs("form",{onSubmit:h,className:"w-full max-w-5xl bg-[#1b2431] p-6 rounded-2xl shadow-xl border border-gray-700 text-white",style:{minHeight:0,maxHeight:"calc(100vh - 5rem)",overflowY:"auto"},children:[f.jsxs("div",{className:"flex items-center gap-5 mb-8",children:[f.jsx("img",{src:n.profileImage||"https://example.com/default-avatar.png",alt:"Profile Avatar",className:"w-16 h-16 rounded-full border-2 border-blue-500 shadow"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Edit Your Profile"}),f.jsxs("p",{className:"text-xs text-gray-300 font-medium",children:["Level: ",n.level||1]}),n.badge&&f.jsxs("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-blue-600 text-white rounded-full shadow-sm",children:["Badge: ",n.badge]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"flex flex-col gap-8",children:[f.jsxs("fieldset",{className:"border border-gray-600 p-4 rounded-lg flex-1 min-h-[232px]",children:[f.jsx("legend",{className:"font-semibold text-base px-2",children:"Identity Info"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[p({name:"username",value:n.username||"",onChange:u,placeholder:"Username"}),p({name:"firstName",value:n.firstName||"",onChange:u,placeholder:"First Name"}),p({name:"middleName",value:n.middleName||"",onChange:u,placeholder:"Middle Name"}),p({name:"lastName",value:n.lastName||"",onChange:u,placeholder:"Last Name"}),f.jsx("div",{}),f.jsx("div",{}),f.jsx("textarea",{name:"bio",value:n.bio||"",onChange:u,placeholder:"Bio",rows:2,className:"col-span-3 w-full px-3 py-1.5 rounded-md bg-[#1e2633] text-white border border-gray-600 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),f.jsxs("fieldset",{className:"border border-gray-600 p-4 rounded-lg flex-1 min-h-[232px]",children:[f.jsx("legend",{className:"font-semibold text-base px-2",children:"Permanent Address"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[p({name:"continent",value:n.continent||"",onChange:u,placeholder:"Continent"}),p({name:"country",value:n.country||"",onChange:u,placeholder:"Country"}),p({name:"region",value:n.region||"",onChange:u,placeholder:"Region"}),p({name:"city",value:n.city||"",onChange:u,placeholder:"City"}),p({name:"postalCode",value:n.postalCode||"",onChange:u,placeholder:"Postal Code"}),p({name:"streetAddress",value:n.streetAddress||"",onChange:u,placeholder:"Street Address"}),p({name:"apartment",value:n.apartment||"",onChange:u,placeholder:"Apartment/Suite",className:"col-span-3"})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-8",children:[f.jsxs("fieldset",{className:"border border-gray-600 p-4 rounded-lg flex-1 min-h-[232px]",children:[f.jsx("legend",{className:"font-semibold text-base px-2",children:"Contact Info"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[p({name:"email",value:n.email||"",onChange:u,placeholder:"Email"}),p({name:"secondaryEmail",value:n.secondaryEmail||"",onChange:u,placeholder:"Secondary Email"}),p({name:"phone",value:n.phone||"",onChange:u,placeholder:"Phone"}),p({name:"secondaryPhone",value:n.secondaryPhone||"",onChange:u,placeholder:"Secondary Phone"}),f.jsx("div",{}),f.jsx("div",{})]})]}),f.jsxs("fieldset",{className:"border border-gray-600 p-4 rounded-lg flex-1 min-h-[232px]",children:[f.jsx("legend",{className:"font-semibold text-base px-2",children:"Delivery Address"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[p({name:"deliveryFirstName",value:n.deliveryFirstName||"",onChange:u,placeholder:"First Name"}),p({name:"deliveryMiddleName",value:n.deliveryMiddleName||"",onChange:u,placeholder:"Middle Name"}),p({name:"deliveryLastName",value:n.deliveryLastName||"",onChange:u,placeholder:"Last Name"}),p({name:"deliveryPhone",value:n.deliveryPhone||"",onChange:u,placeholder:"Phone"}),p({name:"deliveryEmail",value:n.deliveryEmail||"",onChange:u,placeholder:"Email"}),p({name:"deliveryAddressLine1",value:n.deliveryAddressLine1||"",onChange:u,placeholder:"Address Line 1"}),p({name:"deliveryAddressLine2",value:n.deliveryAddressLine2||"",onChange:u,placeholder:"Address Line 2"}),p({name:"deliveryCity",value:n.deliveryCity||"",onChange:u,placeholder:"City"}),p({name:"deliveryState",value:n.deliveryState||"",onChange:u,placeholder:"State"}),p({name:"deliveryPostalCode",value:n.deliveryPostalCode||"",onChange:u,placeholder:"Postal Code"}),p({name:"deliveryCountryCode",value:n.deliveryCountryCode||"",onChange:u,placeholder:"Country Code",className:"col-span-3"})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-4 mt-8",children:[f.jsx("button",{type:"submit",disabled:a,className:`px-5 py-2 font-semibold rounded-md text-white transition duration-200 ${a?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:a?"Saving...":"Save Changes"}),r&&f.jsx("span",{className:`text-sm font-medium ${r.startsWith("")?"text-green-500":"text-red-500"}`,children:r})]})]})})},E6=()=>{const[t,e]=k.useState([]),[n,s]=k.useState(!0),[r,i]=k.useState(""),[a,c]=k.useState(null),[u,h]=k.useState({}),[p,g]=k.useState(!1);k.useEffect(()=>{y()},[]);const y=async()=>{var S,C;try{const N=await ce.get("/admin/users");e(N.data)}catch(N){i("Failed to load users",((C=(S=N.response)==null?void 0:S.data)==null?void 0:C.message)||"Unknown error")}finally{s(!1)}},v=S=>{c(S),h({...S})},b=S=>{const{name:C,value:N}=S.target;h(P=>({...P,[C]:N}))},_=async()=>{var S,C;g(!0);try{const N=await ce.put(`/admin/users/${a._id}`,u);e(P=>P.map(A=>A._id===a._id?N.data.user:A)),c(null)}catch(N){alert(" Failed to update user",((C=(S=N.response)==null?void 0:S.data)==null?void 0:C.message)||"Unknown error")}finally{g(!1)}};return f.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-8 border border-gray-700 text-white",children:[f.jsx("h2",{className:"text-2xl font-bold flex items-center gap-2",children:" User Management"}),n?f.jsx("p",{className:"text-gray-300",children:"Loading users..."}):r?f.jsx("p",{className:"text-red-500",children:r}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full text-sm bg-[#1b2431] rounded-md",children:[f.jsx("thead",{className:"bg-[#2a3444] text-gray-300",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left",children:"Username"}),f.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),f.jsx("th",{className:"px-4 py-3 text-left",children:"Role"}),f.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),f.jsx("tbody",{children:t.map(S=>f.jsxs("tr",{className:"border-t border-gray-600",children:[f.jsx("td",{className:"px-4 py-2",children:S.username}),f.jsx("td",{className:"px-4 py-2",children:S.email}),f.jsx("td",{className:"px-4 py-2 capitalize",children:S.role}),f.jsx("td",{className:"px-4 py-2",children:f.jsxs("button",{className:"inline-flex items-center gap-1 px-3 py-1 rounded bg-blue-600 hover:bg-blue-700 text-white text-sm",onClick:()=>v(S),children:[f.jsx(wS,{size:16})," Edit"]})})]},S._id))})]})}),a&&f.jsxs("div",{className:"bg-[#1b2431] p-6 border border-gray-600 rounded-lg shadow-md",children:[f.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Edit: ",a.username]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("input",{name:"username",value:u.username||"",onChange:b,placeholder:"Username",className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none"}),f.jsx("input",{name:"email",value:u.email||"",onChange:b,placeholder:"Email",className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none"}),f.jsxs("select",{name:"role",value:u.role||"user",onChange:b,className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none",children:[f.jsx("option",{value:"user",children:"User"}),f.jsx("option",{value:"moderator",children:"Moderator"}),f.jsx("option",{value:"admin",children:"Admin"})]}),f.jsxs("select",{name:"badge",value:u.badge||"None",onChange:b,className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none",children:[f.jsx("option",{children:"None"}),f.jsx("option",{children:"Bronze"}),f.jsx("option",{children:"Silver"}),f.jsx("option",{children:"Gold"}),f.jsx("option",{children:"VIP"}),f.jsx("option",{children:"Loyalist"}),f.jsx("option",{children:"Supporter"}),f.jsx("option",{children:"Beta Tester"}),f.jsx("option",{children:"Top Reviewer"})]})]}),f.jsxs("div",{className:"mt-6 flex gap-4",children:[f.jsxs("button",{onClick:_,disabled:p,className:"inline-flex items-center gap-1 px-4 py-2 rounded-md bg-green-600 hover:bg-green-700 text-white disabled:opacity-50",children:[f.jsx(g6,{size:16})," ",p?"Saving...":"Save Changes"]}),f.jsxs("button",{onClick:()=>c(null),className:"inline-flex items-center gap-1 px-4 py-2 rounded-md bg-gray-600 hover:bg-gray-500 text-white",children:[f.jsx(Yg,{size:16})," Cancel"]})]})]})]})},M6=({product:t,onDelete:e})=>{const{_id:n,title:s,finalPrice:r,imageUrl:i,variants:a,slug:c,source:u,isPublished:h,isFeatured:p,category:g,brand:y,stock:v,discountPercentage:b}=t;return f.jsxs("div",{className:"rounded-xl overflow-hidden border bg-white shadow-sm hover:shadow-md transition duration-200",children:[f.jsx(cs,{to:`/product/${c}`,className:"block",children:f.jsx("img",{src:i||"/placeholder.jpg",alt:s,className:"w-full h-48 object-contain bg-gray-50",loading:"lazy"})}),f.jsxs("div",{className:"p-4 space-y-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 truncate",children:s}),f.jsxs("p",{className:"text-sm text-gray-700",children:["",r==null?void 0:r.toFixed(2)," ",b>0&&f.jsxs("span",{className:"text-xs text-red-500",children:["(",b,"% OFF)"]})]}),f.jsxs("p",{className:"text-xs text-gray-500",children:[(g==null?void 0:g.name)||"No Category"," | ",(y==null?void 0:y.name)||"No Brand"]}),f.jsxs("div",{className:"flex gap-2 mt-1 text-xs",children:[h&&f.jsx("span",{className:"px-2 py-0.5 rounded bg-green-600 text-white",children:"Published"}),p&&f.jsx("span",{className:"px-2 py-0.5 rounded bg-yellow-400 text-black",children:"Featured"}),!h&&!p&&f.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-400 text-white",children:"Draft"})]}),f.jsxs("p",{className:"text-xs text-gray-400",children:[(a==null?void 0:a.length)||0," variant",(a==null?void 0:a.length)!==1?"s":""," |"," ",v??0," in stock"]}),f.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[f.jsx(cs,{to:`/product/${c}`,className:"flex-1 text-center bg-blue-600 text-white px-3 py-1 text-sm rounded hover:bg-blue-700 transition",children:"View"}),f.jsx("button",{className:"flex-1 text-center bg-yellow-400 text-white px-3 py-1 text-sm rounded hover:bg-yellow-500 transition",disabled:!0,children:"Edit"}),f.jsx("button",{onClick:()=>e&&e(n),className:`flex-1 text-center text-white px-3 py-1 text-sm rounded transition ${u==="printful"?"bg-gray-300 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,disabled:u==="printful",children:"Delete"})]})]})]})},A6=({isOpen:t,onClose:e,onSuccess:n,editProduct:s})=>{var N;const[r,i]=k.useState({title:"",slug:"",category:"",description:"",price:"",images:[],thumbnail:"",variants:[],quantity:0,published:!1,lowStockThreshold:3}),[a,c]=k.useState({size:"",color:"",retail_price:"",quantity:0,previewFile:null,previewUrl:""}),[u,h]=k.useState(!1),[p,g]=k.useState(!1),[y,v]=k.useState("");if(k.useEffect(()=>{s&&i({...s,price:s.price||"",quantity:s.quantity||0,lowStockThreshold:s.lowStockThreshold||3})},[s]),!t)return null;const b=async P=>{const A=P.target.files[0];if(A){g(!0);try{const M=new FormData;M.append("file",A);const z=(await ce.post("/upload/cloudinary",M)).data.secure_url;i(B=>({...B,images:[...B.images,z],thumbnail:B.images.length===0?z:B.thumbnail}))}catch(M){console.error("Image upload failed",M),v("Image upload failed")}finally{g(!1)}}},_=async P=>{const A=new FormData;return A.append("file",P),(await ce.post("/upload/cloudinary",A)).data.secure_url},S=async()=>{if(!(!a.size||!a.color||!a.retail_price)){g(!0);try{let P=a.previewUrl;a.previewFile&&(P=await _(a.previewFile)),i(A=>{const M=P&&!A.images.includes(P)?[...A.images,P]:[...A.images];return{...A,variants:[...A.variants,{size:a.size,color:a.color,retail_price:a.retail_price,quantity:parseInt(a.quantity)||0,preview:P,variantId:crypto.randomUUID()}],images:M}}),c({size:"",color:"",retail_price:"",quantity:0,previewFile:null,previewUrl:""})}catch(P){console.error("Failed to upload variant image",P),v("Failed to upload variant image")}finally{g(!1)}}},C=async P=>{var A,M;P.preventDefault(),h(!0),v("");try{const R={...r,price:parseFloat(r.price),quantity:parseInt(r.quantity),lowStockThreshold:parseInt(r.lowStockThreshold),variants:r.variants.map(z=>({...z,retail_price:parseFloat(z.retail_price),quantity:parseInt(z.quantity)||0})),imageUrl:r.thumbnail,source:"manual"};s?await ce.put(`/products/${s._id}`,R):await ce.post("/products",R),n(),e()}catch(R){v(((M=(A=R.response)==null?void 0:A.data)==null?void 0:M.message)||"Failed to save product.")}finally{h(!1)}};return f.jsx("div",{className:"fixed inset-0 backdrop-blur-md bg-black/60 z-50 flex items-center justify-center",children:f.jsxs("div",{className:"bg-[#1a1a1a] text-white p-6 w-full max-w-3xl rounded-xl shadow-lg space-y-6 relative",children:[f.jsx("button",{onClick:e,className:"absolute top-3 right-4 text-2xl font-bold text-gray-400 hover:text-red-500",children:""}),f.jsx("h2",{className:"text-2xl font-semibold",children:" Upload Manual Product"}),y&&f.jsx("p",{className:"text-red-400 text-sm",children:y}),f.jsxs("form",{onSubmit:C,className:"space-y-5",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Title",value:r.title,onChange:P=>i({...r,title:P.target.value,slug:P.target.value.toLowerCase().replace(/\s+/g,"-")})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Category",value:r.category,onChange:P=>i({...r,category:P.target.value})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Base Price",type:"number",value:r.price,onChange:P=>i({...r,price:P.target.value})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Quantity",type:"number",min:0,value:r.quantity,onChange:P=>i({...r,quantity:P.target.value})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Low Stock Threshold",type:"number",min:1,value:r.lowStockThreshold,onChange:P=>i({...r,lowStockThreshold:P.target.value})})]}),f.jsx("textarea",{className:"w-full bg-black border border-gray-600 p-2 rounded",placeholder:"Description",rows:3,value:r.description,onChange:P=>i({...r,description:P.target.value})}),f.jsxs("label",{className:"inline-flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:r.published,onChange:P=>i({...r,published:P.target.checked})}),f.jsx("span",{className:"text-sm",children:"Publish immediately"})]}),f.jsxs("div",{className:"bg-[#2a2a2a] p-4 rounded space-y-3",children:[f.jsx("h3",{className:"font-semibold",children:" Product Images"}),f.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"block w-full text-sm text-white file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700",disabled:p}),p&&f.jsx("p",{className:"text-sm text-blue-400",children:"Uploading..."}),r.images.length>0&&f.jsx("div",{className:"flex flex-wrap gap-3",children:r.images.map((P,A)=>f.jsxs("label",{className:"flex flex-col items-center gap-1",children:[f.jsx("input",{type:"radio",name:"thumbnail",checked:r.thumbnail===P,onChange:()=>i({...r,thumbnail:P})}),f.jsx("img",{src:P,alt:`thumb-${A}`,className:"w-14 h-14 rounded object-cover border border-gray-500"})]},A))})]}),f.jsxs("div",{className:"bg-[#2a2a2a] p-4 rounded space-y-3",children:[f.jsx("h3",{className:"font-semibold",children:" Add Variant"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Size",value:a.size,onChange:P=>c({...a,size:P.target.value})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Color",value:a.color,onChange:P=>c({...a,color:P.target.value})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Retail Price",type:"number",value:a.retail_price,onChange:P=>c({...a,retail_price:P.target.value})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Quantity",type:"number",value:a.quantity,onChange:P=>c({...a,quantity:P.target.value})}),f.jsx("input",{type:"file",accept:"image/*",onChange:P=>c({...a,previewFile:P.target.files[0]}),className:"text-white text-sm"}),f.jsx("div",{className:"text-xs text-gray-400 self-center truncate",children:((N=a.previewFile)==null?void 0:N.name)||"No file chosen"})]}),f.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 mt-2 bg-blue-700 hover:bg-blue-800 text-white rounded",disabled:p,children:"Add Variant"})]}),f.jsx("button",{type:"submit",className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg",disabled:u,children:u?"Saving...":s?"Update Product":"Create Product"})]})]})})},R6=()=>{const[t,e]=k.useState([]),[n,s]=k.useState(!0),[r,i]=k.useState(!1),[a,c]=k.useState(""),[u,h]=k.useState(""),[p,g]=k.useState(1),[y,v]=k.useState(1),[b,_]=k.useState(!1),S=8,C=async()=>{var P,A;s(!0);try{const M=await ce.get("/products",{params:{page:p,limit:S,search:u,showAll:!0,isPublished:!0}});e(M.data.products||[]),v(M.data.pages||1)}catch(M){c(((A=(P=M.response)==null?void 0:P.data)==null?void 0:A.message)||" Failed to fetch products")}finally{s(!1)}},N=async()=>{var P,A;if(confirm("Syncing will pull all products from Printful. Proceed?")){i(!0);try{await ce.post("/admin/products/sync"),await C(),alert(" Synced Printful products successfully")}catch(M){alert(" Sync failed: "+(((A=(P=M.response)==null?void 0:P.data)==null?void 0:A.message)||M.message))}finally{i(!1)}}};return k.useEffect(()=>{C()},[p,u]),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[f.jsx("h2",{className:"text-3xl font-bold text-black",children:"Product Management"}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:N,disabled:r,className:`px-4 py-2 rounded text-white font-medium ${r?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:r?"Syncing...":"Sync from Printful"}),f.jsx("button",{onClick:()=>_(!0),className:"px-4 py-2 rounded text-white bg-gray-600 hover:bg-gray-700",children:"Upload Manual Product"})]})]}),f.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[f.jsx("input",{type:"text",placeholder:"Search products...",value:u,onChange:P=>{h(P.target.value),g(1)},className:"w-full md:w-1/3 px-3 py-2 border border-gray-300 rounded"}),u&&f.jsx("button",{onClick:()=>h(""),className:"text-sm text-blue-600 hover:underline",children:"Reset"})]}),n?f.jsx("p",{children:"Loading products..."}):a?f.jsx("p",{className:"text-red-500",children:a}):f.jsxs(f.Fragment,{children:[t.length===0?f.jsx("p",{children:"No products found."}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(P=>f.jsx(M6,{product:P},P._id))}),y>1&&f.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:Array.from({length:y}).map((P,A)=>f.jsx("button",{onClick:()=>g(A+1),className:`px-3 py-1 rounded border text-sm ${p===A+1?"bg-blue-600 text-white":"bg-white hover:bg-gray-100"}`,children:A+1},A))})]}),b&&f.jsx(A6,{isOpen:b,onClose:()=>_(!1),onSuccess:()=>{C(),_(!1)}})]})};function D6(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}D6(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Qg=t=>typeof t=="number"&&!isNaN(t),dc=t=>typeof t=="string",_S=t=>typeof t=="function",O6=t=>dc(t)||Qg(t),L6=t=>k.isValidElement(t)||dc(t)||_S(t)||Qg(t),I6=1,CS=()=>`${I6++}`,As=new Map,Am=[],sb=new Set,kS=()=>As.size>0,F6=(t,{containerId:e})=>{var n;return(n=As.get(e||1))==null?void 0:n.toasts.get(t)};function z6(t,e){var n;if(e)return!!((n=As.get(e))!=null&&n.isToastActive(t));let s=!1;return As.forEach(r=>{r.isToastActive(t)&&(s=!0)}),s}function V6(t){if(!kS()){Am=Am.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||O6(t))As.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=As.get(t.containerId);e?e.removeToast(t.id):As.forEach(n=>{n.removeToast(t.id)})}}var B6=(t={})=>{As.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function U6(t,e){L6(t)&&(kS()||Am.push({content:t,options:e}),As.forEach(n=>{n.buildToast(t,e)}))}function jS(t,e){As.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function $6(t){return sb.add(t),()=>{sb.delete(t)}}function H6(t){return t&&(dc(t.toastId)||Qg(t.toastId))?t.toastId:CS()}function Fc(t,e){return U6(t,e),e.toastId}function Ch(t,e){return{...e,type:e&&e.type||t,toastId:H6(e)}}function kh(t){return(e,n)=>Fc(e,Ch(t,n))}function Ke(t,e){return Fc(t,Ch("default",e))}Ke.loading=(t,e)=>Fc(t,Ch("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function W6(t,{pending:e,error:n,success:s},r){let i;e&&(i=dc(e)?Ke.loading(e,r):Ke.loading(e.render,{...r,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(h,p,g)=>{if(p==null){Ke.dismiss(i);return}let y={type:h,...a,...r,data:g},v=dc(p)?{render:p}:p;return i?Ke.update(i,{...y,...v}):Ke(v.render,{...y,...v}),g},u=_S(t)?t():t;return u.then(h=>c("success",s,h)).catch(h=>c("error",n,h)),u}Ke.promise=W6;Ke.success=kh("success");Ke.info=kh("info");Ke.error=kh("error");Ke.warning=kh("warning");Ke.warn=Ke.warning;Ke.dark=(t,e)=>Fc(t,Ch("default",{theme:"dark",...e}));function q6(t){V6(t)}Ke.dismiss=q6;Ke.clearWaitingQueue=B6;Ke.isActive=z6;Ke.update=(t,e={})=>{let n=F6(t,e);if(n){let{props:s,content:r}=n,i={delay:100,...s,...e,toastId:e.toastId||t,updateId:CS()};i.toastId!==t&&(i.staleId=t);let a=i.render||r;delete i.render,Fc(a,i)}};Ke.done=t=>{Ke.update(t,{progress:1})};Ke.onChange=$6;Ke.play=t=>jS(!0,t);Ke.pause=t=>jS(!1,t);const Ll=({label:t,name:e,value:n,onChange:s,placeholder:r,type:i="text",error:a})=>{const c=`w-full px-3 py-2 text-sm rounded-md bg-[#1e2633] text-white border ${a?"border-red-500":"border-gray-600"} focus:outline-none focus:ring-2 focus:ring-blue-500`;return f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{htmlFor:e,className:"text-sm text-gray-300 font-medium",children:t}),f.jsx("input",{id:e,type:i,name:e,value:n,onChange:s,placeholder:r,className:`${c} [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none`,inputMode:i==="number"?"decimal":void 0}),a&&f.jsx("p",{className:"text-xs text-red-500 mt-1",children:a})]})},ad=({label:t,name:e,options:n,value:s,onChange:r,error:i,defaultOption:a="Select an option"})=>{const[c,u]=k.useState(!1),h=k.useRef(null),p=n.find(y=>y._id===s);k.useEffect(()=>{const y=v=>{h.current&&!h.current.contains(v.target)&&u(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const g=y=>{r({target:{name:e,value:y._id}}),u(!1)};return f.jsxs("div",{className:"mb-4 relative",ref:h,children:[f.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:t}),f.jsxs("button",{type:"button",onClick:()=>u(!c),className:`w-full text-left px-4 py-2.5 pr-10 rounded-md text-sm
        bg-[#2a3142] text-white border relative
        ${i?"border-red-500":"border-gray-600"}
        focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[p?p.name:a,f.jsx("span",{className:"absolute right-3 top-3 pointer-events-none",children:f.jsx("svg",{className:`w-4 h-4 transform transition-transform duration-300 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]}),f.jsx("ul",{className:`absolute z-10 mt-1 w-full bg-[#2a3142] text-white border border-gray-600 rounded-md shadow-lg max-h-60 overflow-hidden
        transition-all duration-395 origin-top
        ${c?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}`,children:n.map((y,v)=>f.jsx("li",{onClick:()=>g(y),className:`px-4 py-2 cursor-pointer hover:bg-blue-600 text-white
  transform transition-all duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)]
  ${c?"opacity-100 rotate-0 translate-y-0":"opacity-0 rotate-6 translate-y-6"}`,style:{transitionDelay:c?`${v*60}ms`:"0ms"},children:y.name},y._id))}),i&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:i})]})},Lp={title:"",description:"",basePrice:"",salePrice:"",discountPercentage:"",stock:"",category:"",subcategory:"",brand:"",images:[],thumbnail:"",variants:[{variantCategory:"",value:""}],isPublished:!1,isFeatured:!1,editReason:""},NS=({onSuccess:t,initialData:e=null})=>{var z,B;const[n,s]=k.useState(Lp),[r,i]=k.useState({}),[a,c]=k.useState([]),[u,h]=k.useState([]),[p,g]=k.useState([]);k.useEffect(()=>{var V,$,G,ne;s(e?{...Lp,...e,editReason:"",category:((V=e.category)==null?void 0:V._id)||e.category,brand:(($=e.brand)==null?void 0:$._id)||e.brand,subcategory:((G=e.subcategory)==null?void 0:G.slug)||"",variants:(ne=e.variants)!=null&&ne.length?e.variants.map(ue=>{var Q;return{variantCategory:((Q=ue.variantCategory)==null?void 0:Q._id)||ue.variantCategory||"",value:ue.value||"",preview:ue.previewImage||""}}):[{variantCategory:"",value:""}]}:Lp),i({})},[e]),k.useEffect(()=>{(async()=>{var $,G;try{const[ne,ue,Q]=await Promise.all([ce.get("/admin/categories"),ce.get("/admin/brands"),ce.get("/admin/variant-categories")]);c(ne.data.categories||[]),h(ue.data.brands||[]),g(Q.data.categories||[])}catch(ne){Ke.error(((G=($=ne.response)==null?void 0:$.data)==null?void 0:G.message)||"Failed to load form data.")}})()},[]);const y=V=>{const{name:$,value:G,type:ne,checked:ue}=V.target;if(ne==="checkbox"){if($==="isPublished"||$==="isFeatured"){const Q=$==="isPublished"?"isFeatured":"isPublished";s(pe=>({...pe,[$]:ue,[Q]:ue?!1:pe[Q]}));return}s(Q=>({...Q,[$]:ue}))}else s(Q=>({...Q,[$]:G}))},v=(V,$,G)=>{const ne=[...n.variants];ne[V][$]=G,s(ue=>({...ue,variants:ne}))},b=()=>{s(V=>({...V,variants:[...V.variants,{variantCategory:"",value:""}]}))},_=V=>{s($=>({...$,thumbnail:V}))},S=async V=>{var G,ne,ue;if(!V.length)return;const $=[];try{for(const Q of V){const pe=new FormData;pe.append("images",Q);const me=await ce.post("/upload/product-images",pe);if((ne=(G=me.data)==null?void 0:G.uploaded)!=null&&ne[0])$.push(me.data.uploaded[0]);else throw new Error("No URL returned.")}s(Q=>({...Q,images:[...Q.images,...$],thumbnail:Q.thumbnail||$[0]}))}catch(Q){Ke.error("Image upload failed."),console.error(((ue=Q.response)==null?void 0:ue.data)||Q.message)}},C=V=>{V.preventDefault(),S(Array.from(V.dataTransfer.files))},N=V=>{S(Array.from(V.target.files))},P=async(V,$)=>{try{const G=new FormData;G.append("image",$);const ue=(await ce.post("/upload/variant-preview",G)).data.uploaded;s(Q=>{const pe=[...Q.variants];return pe[V].preview=ue,{...Q,variants:pe}})}catch(G){Ke.error("Variant image upload failed."),console.error(G)}},[A,M]=k.useState(!1),R=async V=>{var G,ne,ue,Q,pe,me,ae;if(V.preventDefault(),A)return;M(!0),i({});const $=!!(e!=null&&e._id);try{const Z=a.find(ie=>ie._id===n.category),oe=(G=Z==null?void 0:Z.subcategories)==null?void 0:G.find(ie=>ie.slug===n.subcategory);if($&&!((ne=n.editReason)!=null&&ne.trim())){i(ie=>({...ie,editReason:"Edit reason is required."})),Ke.error("Please provide a reason for this edit."),M(!1);return}const O={...n,editReason:$?n.editReason.trim():void 0,subcategory:oe?{name:oe.name,slug:oe.slug}:{name:n.subcategory,slug:n.subcategory},basePrice:Number(n.basePrice),salePrice:n.salePrice?Number(n.salePrice):null,discountPercentage:n.discountPercentage?Number(n.discountPercentage):0,stock:n.stock?Number(n.stock):0,isPublished:!!n.isPublished,isFeatured:!!n.isFeatured,variants:[...n.variants].map(ie=>{var Se,we;return{variantCategory:String(ie.variantCategory).trim(),value:String(ie.value).trim(),previewImage:((we=(Se=ie.preview)==null?void 0:Se.trim)==null?void 0:we.call(Se))||""}}).sort((ie,Se)=>ie.variantCategory.localeCompare(Se.variantCategory)||ie.value.localeCompare(Se.value))};console.log(" Submitting payload:",O);const X=$?await ce.put(`/admin/products/${e._id}`,O):await ce.post("/admin/products",O);Ke.success($?" Product updated!":" Product created!"),t==null||t(X.data.product),s(ie=>({...ie,editReason:""}))}catch(Z){console.log(" Full error response:",(ue=Z.response)==null?void 0:ue.data);const oe=(pe=(Q=Z.response)==null?void 0:Q.data)==null?void 0:pe.errors;if(oe){const O={};Object.keys(oe).forEach(X=>{if(X.startsWith("variants.")){const[,ie,Se]=X.split("."),we=parseInt(ie);O.variantsFields||(O.variantsFields={}),O.variantsFields[we]||(O.variantsFields[we]={}),O.variantsFields[we][Se]=oe[X]}else X==="publishOrFeature"?O.publishOrFeature=oe[X]:O[X]=oe[X]}),i(O),Ke.error("Please fix validation errors.")}else Ke.error(((ae=(me=Z.response)==null?void 0:me.data)==null?void 0:ae.message)||"Failed to save product.")}finally{M(!1)}};return f.jsxs("form",{onSubmit:R,className:"space-y-8 bg-[#1a1f2b] text-white p-8 rounded-2xl shadow-2xl border border-gray-700",children:[f.jsx("section",{children:f.jsx(Ll,{label:"Product Title",name:"title",value:n.title,onChange:y,error:r.title,placeholder:"Product title"})}),f.jsxs("section",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),f.jsx("textarea",{name:"description",rows:4,value:n.description,onChange:y,placeholder:"Enter detailed product description",className:"w-full bg-[#2a3142] border border-gray-600 rounded-lg px-4 py-3"}),r.description&&f.jsx("p",{className:"text-red-500 text-xs mt-2",children:r.description})]}),f.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx(ad,{label:"Select Category",name:"category",value:n.category,onChange:y,options:a,error:r.category,defaultOption:"-- Choose Category --"}),n.category&&f.jsx(ad,{label:"Select Subcategory",name:"subcategory",value:n.subcategory,onChange:y,options:((B=(z=a.find(V=>V._id===n.category))==null?void 0:z.subcategories)==null?void 0:B.map(V=>({_id:V.slug,name:V.name})))||[],error:r.subcategory,defaultOption:"-- Choose Subcategory --"}),f.jsx(ad,{label:"Select Brand",name:"brand",value:n.brand,onChange:y,options:u,error:r.brand,defaultOption:"-- Choose Brand --"})]}),f.jsxs("section",{children:[f.jsxs("div",{onDrop:C,onDragOver:V=>V.preventDefault(),className:"border-2 border-dashed border-gray-600 p-6 rounded-lg text-center bg-[#1f2634]",children:[f.jsx("p",{className:"mb-3 text-sm",children:"Drag and drop images here or"}),f.jsx("label",{htmlFor:"fileInput",className:"inline-block px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-sm cursor-pointer",children:"Upload Images"}),f.jsx("input",{id:"fileInput",type:"file",multiple:!0,accept:"image/*",onChange:N,className:"hidden"}),r.images&&f.jsx("p",{className:"text-red-500 text-xs mt-2",children:r.images})]}),n.images.length>0&&f.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3 mt-4",children:n.images.map(V=>f.jsxs("div",{onClick:()=>_(V),className:`rounded-lg overflow-hidden cursor-pointer border-2 ${n.thumbnail===V?"border-blue-500 ring-2 ring-blue-400":"border-gray-700"}`,children:[f.jsx("img",{src:V,alt:"Uploaded",className:"w-full h-24 object-cover"}),n.thumbnail===V&&f.jsx("p",{className:"text-xs text-center text-blue-300 py-1 bg-gray-800",children:"Thumbnail"})]},V))})]}),f.jsxs("section",{className:"space-y-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:" Variant Options"}),n.variants.map((V,$)=>{var G,ne,ue,Q,pe,me;return f.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-6 bg-[#1a1f2b] border border-gray-700 rounded-xl p-5 shadow-sm",children:[f.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[f.jsx(ad,{label:"Variant Category",name:`variantCategory-${$}`,value:V.variantCategory,onChange:ae=>v($,"variantCategory",ae.target.value),options:p,error:(ne=(G=r.variantsFields)==null?void 0:G[$])==null?void 0:ne.variantCategory,defaultOption:"Select Category"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Variant Value"}),f.jsx("input",{type:"text",value:V.value,placeholder:"e.g. Black, XL, 128GB",onChange:ae=>v($,"value",ae.target.value),className:`w-full bg-[#111827] border px-4 py-2.5 rounded-md text-white text-sm
              transition-all duration-200 ease-in-out
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
              ${(Q=(ue=r.variantsFields)==null?void 0:ue[$])!=null&&Q.value?"border-red-500":"border-gray-600"}`}),((me=(pe=r.variantsFields)==null?void 0:pe[$])==null?void 0:me.value)&&f.jsx("p",{className:"text-xs text-red-500 mt-1",children:r.variantsFields[$].value})]})]}),f.jsxs("div",{className:"flex flex-col items-center gap-3 min-w-[100px]",children:[f.jsxs("label",{htmlFor:`variant-file-${$}`,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm cursor-pointer transition",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v16h16M4 4l16 16"})}),"Upload"]}),f.jsx("input",{id:`variant-file-${$}`,type:"file",accept:"image/*",onChange:ae=>P($,ae.target.files[0]),className:"hidden"}),V.preview?f.jsx("img",{src:V.preview,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border border-gray-500"}):f.jsx("div",{className:"w-20 h-20 bg-[#111827] border border-gray-600 rounded-lg flex items-center justify-center text-gray-500 text-xs",children:"No Image"})]})]},$)}),r.variants&&f.jsx("p",{className:"text-sm text-red-500",children:r.variants}),f.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 rounded-md text-white bg-green-600 hover:bg-green-700 transition text-sm",children:"+ Add Variant"})]}),f.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx(Ll,{label:"Base Price ()",name:"basePrice",type:"number",value:n.basePrice,onChange:y,error:r.basePrice,placeholder:"Enter base price"}),f.jsx(Ll,{label:"Sale Price ()",name:"salePrice",type:"number",value:n.salePrice,onChange:y,error:r.salePrice,placeholder:"Optional sale price"}),f.jsx(Ll,{label:"Discount Percentage (%)",name:"discountPercentage",type:"number",value:n.discountPercentage,onChange:y,error:r.discountPercentage,placeholder:"Optional discount (e.g. 10)"}),f.jsx(Ll,{label:"Stock Quantity",name:"stock",type:"number",value:n.stock,onChange:y,error:r.stock,placeholder:"Number of items in stock"})]}),f.jsxs("section",{className:"pt-4",children:[f.jsx("label",{className:"block text-sm text-white font-medium mb-1",children:"Choose product visibility"}),f.jsxs("p",{className:"text-gray-400 text-xs mb-2",children:[f.jsx("strong",{children:"Published"}),": visible in the store. ",f.jsx("br",{}),f.jsx("strong",{children:"Featured"}),": highlighted or promoted on the home page."]}),f.jsxs("div",{className:"flex items-center gap-6 mb-1",children:[f.jsxs("label",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",name:"isPublished",checked:n.isPublished,onChange:y}),f.jsx("span",{className:"text-sm",children:"Published"})]}),f.jsxs("label",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",name:"isFeatured",checked:n.isFeatured,onChange:y}),f.jsx("span",{className:"text-sm",children:"Featured"})]})]}),r.publishOrFeature&&f.jsx("p",{className:"text-red-500 text-xs",children:r.publishOrFeature})]}),(e==null?void 0:e._id)&&f.jsxs("div",{className:"mt-4",children:[f.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-200",children:["Reason for Edit ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("textarea",{name:"editReason",rows:3,value:n.editReason,onChange:y,placeholder:"Explain what was changed and why",className:`w-full bg-[#2a3142] border ${r.editReason?"border-red-500":"border-gray-600"} rounded-md px-4 py-2 text-sm`}),r.editReason&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.editReason})]}),f.jsx("div",{className:"pt-6 text-right",children:f.jsx("button",{type:"submit",disabled:A,className:`bg-emerald-600 hover:bg-emerald-700 px-6 py-2 rounded text-white shadow ${A?"opacity-50 cursor-not-allowed":""}`,children:A?e!=null&&e._id?"Updating...":"Creating...":e!=null&&e._id?"Update Product":"Create Product"})})]})};function Y6({title:t,titleId:e,...n},s){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const K6=k.forwardRef(Y6),X6=({viewingProduct:t,setViewingProduct:e,isEditing:n,setIsEditing:s,fetchProducts:r})=>{const[i,a]=k.useState([]),[c,u]=k.useState(!1),[h,p]=k.useState("history"),[g,y]=k.useState({}),[v,b]=k.useState({}),[_,S]=k.useState({}),[C,N]=k.useState({}),[P,A]=k.useState(null);if(k.useEffect(()=>{(async()=>{var Ee,Te;try{const Ie=await ce.get("/admin/brands"),tt={};(Te=(Ee=Ie.data)==null?void 0:Ee.brands)==null||Te.forEach(yt=>{tt[yt._id]=yt.name}),N(tt)}catch(Ie){console.error(" Failed to fetch brands",Ie)}})()},[]),k.useEffect(()=>{(async()=>{var Ee,Te;try{const Ie=await ce.get("/admin/categories"),tt={},yt={};(Te=(Ee=Ie.data)==null?void 0:Ee.categories)==null||Te.forEach(xt=>{var tn;tt[xt._id]=xt.name,(tn=xt.subcategories)==null||tn.forEach(vr=>{yt[vr.slug]=vr.name})}),b(tt),S(yt)}catch(Ie){console.error(" Failed to fetch categories",Ie)}})()},[]),k.useEffect(()=>{(async()=>{var Ee;try{const Ie=(Ee=(await ce.get("/admin/variant-categories")).data)==null?void 0:Ee.categories;if(console.log(" Variant categories:",Ie),!Array.isArray(Ie))throw new TypeError("Expected categories to be an array");const tt={};Ie.forEach(yt=>{tt[yt._id]=yt.name}),y(tt)}catch(Te){console.error(" Failed to fetch variant categories",Te)}})()},[]),k.useEffect(()=>{(async()=>{var Ee;if(t!=null&&t._id){u(!0);try{const Te=await ce.get(`/admin/products/${t._id}/history`),Ie=((Ee=Te.data)==null?void 0:Ee.history)||[];console.log(" Raw edit history response:",Te.data),console.log(" Parsed editHistory:",Ie),a(Array.isArray(Ie)?Ie:[])}catch(Te){console.error(" Failed to fetch edit history",Te),a([])}finally{u(!1)}}})()},[t==null?void 0:t._id]),k.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),k.useEffect(()=>{if(P){const le=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${le}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.overflow="hidden",document.body.style.width="100%",()=>{const Ee=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.overflow="",document.body.style.width="",window.scrollTo(0,parseInt(Ee||"0")*-1)}}},[P]),!t)return null;const{title:M,description:R,brand:z,category:B,subcategory:V,images:$,thumbnail:G,variants:ne,basePrice:ue,salePrice:Q,discountPercentage:pe,stock:me,lowStockAlert:ae,averageRating:Z,ratingCount:oe,isPublished:O,isFeatured:X,source:ie,createdAt:Se,updatedAt:we,currentPrice:$e,margin:De}=t,Ae=(le,Ee)=>{if(!le)return"";try{if(Ee==="subcategory"){const Te=typeof le=="string"?JSON.parse(le):le;return _[Te==null?void 0:Te.slug]||(Te==null?void 0:Te.name)||""}if(Ee==="category"){const Te=typeof le=="string"?le:le==null?void 0:le._id;return v[Te]||Te}if(Ee==="brand"){const Te=typeof le=="string"?le:le==null?void 0:le._id;return C[Te]||Te}return typeof le=="object"?JSON.stringify(le,null,2):typeof le=="string"&&(le.startsWith("{")||le.startsWith("["))?JSON.stringify(JSON.parse(le),null,2):le}catch(Te){return String(le,Te)}},Le=le=>{try{const Ee=typeof le=="string"?JSON.parse(le):le;return Array.isArray(Ee)?Ee.map(Te=>{const Ie=typeof Te.variantCategory=="object"?Te.variantCategory.$oid:Te.variantCategory;return`${g[Ie]||Ie}: ${Te.value}`}).join(", "):""}catch(Ee){return String(le,Ee)}},Ce=({label:le,value:Ee})=>f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"text-[11px] text-gray-400 uppercase tracking-wide mb-1 leading-tight",children:le}),f.jsx("div",{className:"text-[17px] text-gray-100 font-semibold break-words",children:Ee||""})]});return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-50 backdrop-blur-md bg-black/70 flex justify-center items-start p-10 overflow-y-auto",children:f.jsxs("div",{className:"bg-[#1e293b] w-full max-w-7xl p-6 rounded-2xl shadow-2xl relative text-white border border-gray-700",children:[f.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[f.jsx("button",{onClick:()=>s(!n),className:`px-4 py-1.5 rounded-md font-semibold text-sm transition duration-200 ${n?"bg-gray-600 hover:bg-gray-500":"bg-blue-600 hover:bg-blue-700"}`,children:n?"Cancel Edit":" Edit Product"}),f.jsx("button",{onClick:()=>{e(null),s(!1)},className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-red-600 text-white text-lg font-bold flex items-center justify-center transition-all duration-200 shadow-md",title:"Close","aria-label":"Close modal",children:""})]}),f.jsx("h2",{className:"text-3xl font-bold mb-6",children:n?"Edit Product":" Product Overview"}),n?f.jsx(NS,{initialData:t,onSuccess:()=>{s(!1),e(null),r()}}):f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl border border-gray-700 shadow-md text-gray-200",children:[f.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-700 mb-6",children:f.jsx("img",{src:G,alt:M,className:"w-full h-74 object-cover transition duration-300 hover:scale-[1.01]"})}),f.jsxs("div",{className:"text-center pb-4 border-b border-gray-700",children:[f.jsx("h2",{className:"text-4xl font-bold text-white tracking-tight",children:M}),f.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Detailed product information"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-5 text-sm mt-6",children:[f.jsx(Ce,{label:"Brand",value:(z==null?void 0:z.name)||z}),f.jsx(Ce,{label:"Category",value:(B==null?void 0:B.name)||B}),f.jsx(Ce,{label:"Subcategory",value:(V==null?void 0:V.name)||V}),f.jsx(Ce,{label:"Stock",value:me}),f.jsx(Ce,{label:"Low Stock Alert",value:ae?" Yes":"No"}),f.jsx(Ce,{label:"Base Price",value:`${ue}`}),f.jsx(Ce,{label:"Sale Price",value:Q?`${Q}`:""}),f.jsx(Ce,{label:"Discount %",value:`${pe||0}%`}),f.jsx(Ce,{label:"Current Price",value:`${$e}`}),f.jsx(Ce,{label:"Margin",value:`${De}`}),f.jsx(Ce,{label:"Avg Rating",value:`${Z} (${oe})`}),f.jsx(Ce,{label:"Published",value:O?" Yes":" No"}),f.jsx(Ce,{label:"Featured",value:X?" Yes":""}),f.jsx(Ce,{label:"Source",value:ie}),f.jsx(Ce,{label:"Created",value:new Date(Se).toLocaleString()}),f.jsx(Ce,{label:"Updated",value:new Date(we).toLocaleString()})]})]}),f.jsxs("div",{className:"bg-gray-800 p-5 rounded-xl border border-gray-700 shadow-sm",children:[f.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[" ",f.jsx("span",{children:"Description"})]}),f.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-line",children:R})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"rounded-xl border border-gray-700 bg-gray-800 p-4 shadow-sm space-y-4",children:[f.jsx("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:" Images"}),f.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-5 gap-3",children:$==null?void 0:$.map((le,Ee)=>f.jsxs("div",{className:"relative group rounded-md overflow-hidden border border-gray-600 hover:border-gray-400 transition cursor-pointer",onClick:()=>A(le),title:"Click to enlarge",children:[f.jsx("img",{src:le,alt:`Image ${Ee+1}`,className:"w-full h-24 object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 flex items-center justify-center text-xs text-gray-200 font-medium transition",children:"Preview"})]},Ee))})]}),f.jsxs("div",{className:"rounded-xl border border-gray-700 bg-gray-800 p-4 shadow-sm space-y-4",children:[f.jsx("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:" Variants"}),f.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:ne==null?void 0:ne.map((le,Ee)=>f.jsxs("li",{className:"flex items-center gap-3 p-2 rounded-md border border-gray-700 hover:border-gray-500 transition",children:[f.jsx("img",{src:le.previewImage,alt:le.value,className:"w-16 h-16 object-cover rounded border border-gray-600"}),f.jsxs("div",{className:"text-[11px] text-gray-300 leading-snug space-y-0.5",children:[f.jsxs("div",{className:"flex gap-1",children:[f.jsx("span",{className:"uppercase text-gray-500 tracking-wide",children:"Category:"}),f.jsx("span",{className:"font-medium text-white",children:g[le.variantCategory]||le.variantCategory})]}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("span",{className:"uppercase text-gray-500 tracking-wide",children:"Value:"}),f.jsx("span",{className:"font-medium text-white",children:le.value})]})]})]},le._id||Ee))})]}),f.jsxs("div",{className:"border border-gray-700 rounded-xl bg-gray-900",children:[f.jsxs("div",{className:"grid grid-cols-2 border-b border-gray-700 bg-gray-800 rounded-t-xl overflow-hidden",children:[f.jsx("button",{onClick:()=>p("history"),className:`p-4 font-semibold text-left transition-colors duration-200 ${h==="history"?"text-white border-b-2 border-emerald-400 bg-gray-900":"text-gray-400 hover:text-white"}`,children:" Edit History"}),f.jsx("button",{onClick:()=>p("notes"),className:`p-4 font-semibold text-left transition-colors duration-200 ${h==="notes"?"text-white border-b-2 border-emerald-400 bg-gray-900":"text-gray-400 hover:text-white"}`,children:" Notes"})]}),f.jsx("div",{className:"p-6 text-[15px] space-y-6 max-h-[150vh] overflow-y-auto",children:h==="history"?c?f.jsx("p",{className:"text-gray-400",children:"Loading history..."}):i.length===0?f.jsx("p",{className:"text-gray-400",children:"No edits made yet."}):[...i].sort((le,Ee)=>new Date(Ee.editedAt)-new Date(le.editedAt)).map((le,Ee)=>{var Te;return!le||!le.editedBy?null:f.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700 shadow-md space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("p",{className:"text-white font-semibold tracking-wide",children:[le.editedBy.firstName||"Unknown"," ",le.editedBy.lastName||""," ",f.jsxs("span",{className:"text-sm text-gray-400 font-normal",children:[" ",le.editedBy.role]})]}),f.jsx("span",{className:"text-xs italic text-gray-400",children:new Date(le.editedAt).toLocaleString()})]}),f.jsx("div",{className:"divide-y divide-gray-700",children:(Te=le.changes)==null?void 0:Te.map((Ie,tt)=>{const yt=Ie.from,xt=Ie.to;return JSON.stringify(yt)===JSON.stringify(xt)?null:f.jsxs("div",{className:"py-3",children:[f.jsx("div",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wider mb-2",children:Ie.field}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 block text-[11px] uppercase tracking-wide mb-1",children:"From"}),f.jsx("div",{className:"bg-slate-900 p-2 rounded-md text-rose-300 border border-rose-500 whitespace-pre-wrap break-words",children:Ie.field==="variants"?Le(yt):Ae(yt,Ie.field)})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 block text-[11px] uppercase tracking-wide mb-1",children:"To"}),f.jsx("div",{className:"bg-slate-900 p-2 rounded-md text-emerald-300 border border-emerald-500 whitespace-pre-wrap break-words",children:Ie.field==="variants"?Le(xt):Ae(xt,Ie.field)})]})]})]},tt)})})]},Ee)}):i.length===0?f.jsx("p",{className:"text-gray-400",children:"No notes yet."}):[...i].sort((le,Ee)=>new Date(Ee.editedAt)-new Date(le.editedAt)).map((le,Ee)=>{var Te,Ie,tt;return f.jsxs("div",{className:"bg-gray-800 rounded-xl p-5 border border-gray-700 shadow-sm transition duration-200",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[f.jsxs("p",{className:"text-white font-semibold text-sm",children:[((Te=le.editedBy.firstName)==null?void 0:Te.trim())||"Admin"," ",((Ie=le.editedBy.lastName)==null?void 0:Ie.trim())||"",le.editedBy.role&&f.jsxs("span",{className:"text-gray-400 font-normal",children:[" ","(",le.editedBy.role,")"]})]}),f.jsx("span",{className:"text-xs italic text-gray-400",children:new Date(le.editedAt).toLocaleString()})]}),f.jsx("p",{className:"italic text-emerald-300 text-sm mt-2 leading-snug",children:((tt=le.reason)==null?void 0:tt.trim())||"No reason provided."})]},Ee)})})]})]})]})]})}),P&&f.jsxs("div",{className:"fixed inset-0 z-[999] bg-black/80 flex items-center justify-center overflow-hidden",children:[f.jsx("div",{className:"fixed inset-0 bg-black/80 z-[-1]"}),f.jsxs("div",{className:"relative bg-gray-900 border border-gray-700 rounded-lg p-4 max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[f.jsx("button",{onClick:()=>A(null),className:"absolute top-3 right-3 bg-red-600 hover:bg-red-700 w-8 h-8 rounded-full flex items-center justify-center","aria-label":"Close preview",title:"Close",children:f.jsx(K6,{className:"h-4 w-4 text-white"})}),f.jsx("img",{src:P,alt:"Full Preview",className:"w-full max-h-[80vh] object-contain rounded"})]})]})]})},Q6=()=>{const[t,e]=k.useState([]),[n,s]=k.useState(null),[r,i]=k.useState(!1),[a,c]=k.useState(null),[u,h]=k.useState(!1),p=async()=>{var b;try{const _=await ce.get("/admin/products");e(_.data.products||[])}catch(_){console.error(" Failed to fetch products:",(b=_.response)==null?void 0:b.data)}},g=()=>{s(null),i(!0)},y=async b=>{var _;if(window.confirm("Are you sure you want to delete this product?"))try{await ce.delete(`/admin/products/${b}`),p()}catch(S){console.error(" Delete failed:",(_=S.response)==null?void 0:_.data)}},v=b=>{c(b),h(!1)};return k.useEffect(()=>{p()},[]),f.jsxs("div",{className:"bg-[#131a25] text-white p-6 rounded-xl shadow-md border border-gray-700",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold",children:" All Products"}),f.jsx("button",{onClick:g,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition",children:"+ New Product"})]}),r&&f.jsx("div",{className:"mb-10",children:f.jsx(NS,{initialData:n,onSuccess:()=>{i(!1),s(null),p()}})}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"w-full border border-gray-700 text-white text-sm",children:[f.jsx("thead",{className:"bg-[#1e293b] text-left",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Image"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Title"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Category"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Subcategory"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Brand"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Current Price"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Base Price"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Sale Price"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Discount %"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Stock"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Published"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Featured"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Actions"})]})}),f.jsx("tbody",{children:t.length>0?t.map(b=>{var _,S,C,N,P;return f.jsxs(k.Fragment,{children:[f.jsxs("tr",{className:"hover:bg-[#1f2a3b] transition",children:[f.jsx("td",{className:"px-4 py-3",children:b.thumbnail?f.jsx("img",{src:b.thumbnail,alt:b.title,className:"w-12 h-12 object-cover rounded-md border border-gray-600"}):f.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-md flex items-center justify-center text-sm",children:"N/A"})}),f.jsx("td",{className:"px-4 py-3",children:b.title}),f.jsx("td",{className:"px-4 py-3",children:((_=b.category)==null?void 0:_.name)||""}),f.jsx("td",{className:"px-4 py-3",children:typeof b.subcategory=="string"?b.subcategory.charAt(0).toUpperCase()+b.subcategory.slice(1):((S=b.subcategory)==null?void 0:S.name)||""}),f.jsx("td",{className:"px-4 py-3",children:((C=b.brand)==null?void 0:C.name)||""}),f.jsxs("td",{className:"px-4 py-3 text-green-400 font-bold",children:["",(N=b.currentPrice)==null?void 0:N.toFixed(2)]}),f.jsxs("td",{className:"px-4 py-3 text-gray-400 text-sm",children:["",(P=b.basePrice)==null?void 0:P.toFixed(2)]}),f.jsx("td",{className:"px-4 py-3 text-blue-400 text-sm",children:b.salePrice?`${b.salePrice.toFixed(2)}`:""}),f.jsx("td",{className:"px-4 py-3 text-yellow-400 text-sm",children:b.discountPercentage>0?`${b.discountPercentage}%`:""}),f.jsx("td",{className:`px-4 py-3 ${b.stock===0?"text-red-500 font-bold":""}`,children:b.stock}),f.jsx("td",{className:"px-4 py-3",children:b.isPublished?"":""}),f.jsx("td",{className:"px-4 py-3",children:b.isFeatured?"":""}),f.jsx("td",{className:"px-4 py-3",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>v(b),className:"border border-gray-500 text-gray-400 hover:bg-gray-700 hover:text-white px-3 py-1 rounded-md",children:"View"}),f.jsx("button",{onClick:()=>y(b._id),className:"border border-red-500 text-red-400 hover:bg-red-500 hover:text-white px-3 py-1 rounded-md",children:"Delete"})]})})]}),f.jsx("tr",{style:{height:"8px"}})]},b._id)}):f.jsx("tr",{children:f.jsx("td",{colSpan:"12",className:"text-center py-6 text-gray-400 italic",children:"No products found."})})})]}),f.jsx(X6,{viewingProduct:a,setViewingProduct:c,isEditing:u,setIsEditing:h,fetchProducts:p})]})]})},Ip=t=>t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),zd=({label:t,icon:e,onClick:n,color:s="gray",disabled:r})=>f.jsxs("button",{onClick:n,disabled:r,className:`flex items-center gap-2 text-sm px-3 py-1 rounded-md
      ${s==="red"?"bg-red-600 hover:bg-red-700":""}
      ${s==="blue"?"bg-blue-600 hover:bg-blue-700":""}
      ${s==="gray"?"bg-gray-700 hover:bg-gray-600":""}
      ${r?"opacity-50 cursor-not-allowed":""}
      text-white transition`,children:[e," ",t]}),G6=()=>{const[t,e]=k.useState([]),[n,s]=k.useState(""),[r,i]=k.useState(null),[a,c]=k.useState(!1),[u,h]=k.useState("");k.useEffect(()=>{p()},[]);const p=async()=>{try{const S=await ce.get("/admin/categories");e(S.data.categories||[])}catch(S){console.error("Failed to fetch categories",S)}},g=async()=>{var C,N;if(!n.trim())return;const S=Ip(n);c(!0),h("");try{await ce.post("/admin/categories",{name:n,slug:S}),s(""),await p()}catch(P){h(((N=(C=P==null?void 0:P.response)==null?void 0:C.data)==null?void 0:N.message)||"Failed to create category.")}finally{c(!1)}},y=async(S,C)=>{if(!C.trim())return;const N=Ip(C);try{await ce.put(`/admin/categories/${S}`,{name:C,slug:N}),i(null),await p()}catch(P){console.error("Failed to edit category",P)}},v=async S=>{if(window.confirm("Are you sure you want to delete this category?"))try{await ce.delete(`/admin/categories/${S}`),await p()}catch(N){console.error("Failed to delete category",N)}},b=async(S,C)=>{if(!C.trim())return;const N=Ip(C);try{await ce.post(`/admin/categories/${S}/subcategories`,{name:C,slug:N}),await p()}catch(P){console.error("Failed to add subcategory",P)}},_=async(S,C)=>{try{await ce.delete(`/admin/categories/${S}/subcategories/${C}`),await p()}catch(N){console.error("Failed to delete subcategory",N)}};return f.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-6 border border-gray-700",children:[f.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:" Manage Categories"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{value:n,onChange:S=>s(S.target.value),placeholder:"New category name",className:"w-full px-4 py-2 rounded-md bg-[#1e2633] text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsx(zd,{label:a?"Adding...":"Add",icon:f.jsx("span",{className:"text-lg",children:""}),onClick:g,color:"blue",disabled:a})]}),u&&f.jsx("p",{className:"text-sm text-red-400",children:u}),t.map(S=>f.jsxs("div",{className:"bg-[#1b2431] rounded-lg p-4 text-white space-y-2",children:[f.jsx("div",{className:"flex justify-between items-center",children:r===S._id?f.jsxs("div",{className:"flex gap-2 w-full",children:[f.jsx("input",{defaultValue:S.name,onKeyDown:C=>{C.key==="Enter"&&y(S._id,C.target.value)},className:"w-full p-2 rounded-md bg-[#2a3444] text-white border border-gray-600 focus:outline-none"}),f.jsx("button",{onClick:()=>i(null),className:"text-sm text-gray-400 hover:text-red-400",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"font-medium",children:S.name}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(zd,{label:"Edit",icon:f.jsx("span",{className:"text-sm",children:""}),onClick:()=>i(S._id)}),f.jsx(zd,{label:"Delete",icon:f.jsx("span",{className:"text-sm",children:""}),onClick:()=>v(S._id),color:"red"})]})]})}),f.jsxs("div",{className:"pl-4 mt-2 border-l border-dashed border-gray-500",children:[S.subcategories.map(C=>f.jsxs("div",{className:"flex justify-between items-center py-1",children:[f.jsx("span",{className:"text-sm text-gray-200",children:C.name}),f.jsx("button",{onClick:()=>_(S._id,C.slug),className:"text-xs text-red-500 hover:text-red-300",title:"Delete subcategory",children:""})]},C._id)),f.jsx(Z6,{onAdd:C=>b(S._id,C)})]})]},S._id))]})},Z6=({onAdd:t})=>{const[e,n]=k.useState(""),s=()=>{e.trim()&&(t(e.trim()),n(""))};return f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsx("input",{type:"text",value:e,placeholder:"Add subcategory",onChange:r=>n(r.target.value),onKeyDown:r=>r.key==="Enter"&&s(),className:"w-full px-3 py-2 rounded-md bg-[#2a3444] text-white border border-gray-600 focus:outline-none"}),f.jsx(zd,{label:"Add",icon:f.jsx("span",{className:"text-sm",children:""}),onClick:s})]})},J6=()=>{const[t,e]=k.useState([]),[n,s]=k.useState(""),[r,i]=k.useState(null),[a,c]=k.useState(""),[u,h]=k.useState(!1),[p,g]=k.useState("");k.useEffect(()=>{y()},[]);const y=async()=>{try{const S=await ce.get("/admin/brands");e(S.data.brands||[])}catch(S){console.error("Fetch error:",S),g("Failed to load brands.")}},v=async()=>{var S,C;if(n.trim()){h(!0),g("");try{await ce.post("/admin/brands",{name:n.trim()}),s(""),y()}catch(N){console.error("Create error:",N),g(((C=(S=N==null?void 0:N.response)==null?void 0:S.data)==null?void 0:C.message)||"Create failed")}finally{h(!1)}}},b=async()=>{if(a.trim())try{await ce.put(`/admin/brands/${r}`,{name:a.trim()}),i(null),c(""),y()}catch(S){console.error("Update error:",S),g("Update failed")}},_=async S=>{if(confirm("Delete this brand?"))try{await ce.delete(`/admin/brands/${S}`),y()}catch(C){console.error("Delete error:",C),g("Delete failed")}};return f.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-6 border border-gray-700",children:[f.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:" Manage Brands"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{value:n,onChange:S=>s(S.target.value),placeholder:"New brand name",disabled:u,className:"w-full p-2 rounded-md bg-[#1e2633] text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsxs("button",{onClick:v,disabled:u,className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition disabled:opacity-50",children:[f.jsx(SS,{size:16})," Add"]})]}),p&&f.jsx("p",{className:"text-sm text-red-400",children:p}),t.map(S=>f.jsxs("div",{className:"bg-[#1b2431] rounded-lg p-4 text-white flex justify-between items-center shadow-sm",children:[r===S._id?f.jsx("input",{value:a,onChange:C=>c(C.target.value),onKeyDown:C=>{C.key==="Enter"&&b()},className:"w-full px-4 py-2 rounded-md bg-[#2a3444] text-white border border-gray-600 focus:outline-none mr-4"}):f.jsx("span",{className:"font-medium text-lg",children:S.name}),f.jsx("div",{className:"flex gap-3 ml-4",children:r===S._id?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:b,className:"px-3 py-1 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition",children:"Save"}),f.jsx("button",{onClick:()=>{i(null),c("")},className:"px-3 py-1 rounded-md bg-gray-600 text-white hover:bg-gray-500 transition",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>{i(S._id),c(S.name)},className:"px-3 py-1 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition",children:"Edit"}),f.jsx("button",{onClick:()=>_(S._id),className:"px-3 py-1 rounded-md bg-red-600 text-white hover:bg-red-700 transition",children:"Delete"})]})})]},S._id))]})},eM=()=>{const[t,e]=k.useState([]),[n,s]=k.useState(""),[r,i]=k.useState(null),[a,c]=k.useState(!1),[u,h]=k.useState(""),[p,g]=k.useState("");k.useEffect(()=>{y()},[]);const y=async()=>{var C;try{const N=await ce.get("/admin/variant-categories");console.log("Fetched variant categories:",N.data);const P=Array.isArray((C=N.data)==null?void 0:C.categories)?N.data.categories:[];e(P)}catch(N){console.error("Failed to load variant categories:",N),h("Failed to load variant categories."),e([])}},v=C=>C.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-_]/g,""),b=async()=>{var C,N;if(n.trim()){c(!0),h(""),g("");try{const P=v(n);await ce.post("/admin/variant-categories",{name:n,slug:P}),s(""),await y()}catch(P){const A=(C=P==null?void 0:P.response)==null?void 0:C.data;h((A==null?void 0:A.error)||"Add failed"),g(((N=A==null?void 0:A.details)==null?void 0:N.name)||""),console.error("Failed to add variant category:",A)}finally{c(!1)}}},_=async(C,N)=>{var P,A;if(N.trim()){c(!0),h(""),g("");try{await ce.put(`/admin/variant-categories/${C}`,{name:N.trim(),slug:v(N)}),i(null),await y()}catch(M){const R=(P=M==null?void 0:M.response)==null?void 0:P.data;h((R==null?void 0:R.error)||"Update failed"),g(((A=R==null?void 0:R.details)==null?void 0:A.name)||""),console.error("Update failed:",R)}finally{c(!1)}}},S=async C=>{if(window.confirm("Delete this variant category?"))try{await ce.delete(`/admin/variant-categories/${C}`),await y()}catch(N){console.error("Delete failed:",N),h("Delete failed")}};return f.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-6 border border-gray-700",children:[f.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:" Variant Categories"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{value:n,onChange:C=>s(C.target.value),placeholder:"e.g. Size, Color",className:`w-full px-4 py-2 rounded-md bg-[#1e2633] text-white border focus:outline-none focus:ring-2 focus:ring-blue-500 ${p?"border-red-500":"border-gray-600"}`}),f.jsxs("button",{onClick:b,disabled:a,className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition disabled:opacity-50",children:[f.jsx(SS,{size:16})," Add"]})]}),u&&f.jsx("p",{className:"text-sm text-red-500 mt-1",children:u}),p&&f.jsx("p",{className:"text-sm text-red-400 mt-1",children:p}),Array.isArray(t)&&t.length>0?t.map(C=>f.jsxs("div",{className:"bg-[#1b2431] rounded-lg p-4 text-white flex justify-between items-center shadow-sm",children:[r===C._id?f.jsx("input",{defaultValue:C.name,onKeyDown:N=>{N.key==="Enter"&&_(C._id,N.target.value)},className:`w-full px-4 py-2 rounded-md bg-[#2a3444] text-white border focus:outline-none mr-4 ${p?"border-red-500":"border-gray-600"}`}):f.jsx("span",{className:"font-medium text-lg",children:C.name}),f.jsxs("div",{className:"flex gap-3 ml-4",children:[r===C._id?f.jsx("button",{onClick:()=>i(null),className:"px-3 py-1 rounded-md bg-gray-600 text-white hover:bg-gray-500 transition",children:"Cancel"}):f.jsx("button",{onClick:()=>i(C._id),className:"px-3 py-1 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition",children:"Edit"}),f.jsx("button",{onClick:()=>S(C._id),className:"px-3 py-1 rounded-md bg-red-600 text-white hover:bg-red-700 transition",children:"Delete"})]})]},C._id)):f.jsx("p",{className:"text-sm text-gray-400 italic",children:"No variant categories found."})]})},tM=()=>{const[t,e]=k.useState("products"),n=[{key:"products",label:" Products"},{key:"categories",label:" Categories"},{key:"brands",label:" Brands"},{key:"variants",label:" Variants"}],s={products:"All Products",categories:"Manage Categories",brands:"Manage Brands",variants:"Manage Variants"};return f.jsxs("section",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-700 dark:text-white mb-6",children:s[t]}),f.jsx("nav",{className:"flex flex-wrap gap-2 mb-4",role:"tablist","aria-label":"Product Management Tabs",children:n.map(r=>f.jsx("button",{onClick:()=>e(r.key),className:`px-4 py-2 rounded-md font-medium transition-all
              ${t===r.key?"bg-blue-600 text-white shadow":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600"}`,role:"tab","aria-selected":t===r.key,children:r.label},r.key))}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow border dark:border-gray-700",children:[t==="products"&&f.jsx(Q6,{}),t==="categories"&&f.jsx(G6,{}),t==="brands"&&f.jsx(J6,{}),t==="variants"&&f.jsx(eM,{})]})]})},nM=()=>{const t=Is();return f.jsxs("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-md",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 flex items-center gap-2",children:" Blog Posts"}),f.jsx("button",{onClick:()=>t("/dashboard/admin?tab=blog-editor"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:" New Post"})]}),f.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-gray-300 rounded bg-gray-50 text-gray-500",children:[" No blog posts yet. ",f.jsx("br",{}),f.jsx("span",{className:"text-sm",children:"Click New Post to create your first article."})]})]})},sM=()=>f.jsx("div",{className:"bg-white p-4 rounded shadow",children:f.jsx(nM,{})}),vo=(t,e=null)=>{document.execCommand(t,!1,e)},rM=()=>vo("bold"),iM=()=>vo("italic"),oM=()=>vo("underline"),aM=()=>vo("strikeThrough"),lM=()=>vo("hiliteColor","yellow"),cM=()=>vo("superscript"),uM=()=>vo("subscript"),TS=(t="span",e="")=>{const n=window.getSelection();if(!n||n.rangeCount===0)return;const s=n.getRangeAt(0);if(s.collapsed||!s.toString().trim())return;const i=e.trim().split(/\s+/),a=["text-left","text-center","text-right"],c=s.commonAncestorContainer,u=c.nodeType===3?c.parentElement:c;if(u&&u.tagName.toLowerCase()===t.toLowerCase()){const y=new Set(u.className.trim().split(/\s+/));a.forEach(v=>y.delete(v)),i.forEach(v=>{y.has(v)?y.delete(v):y.add(v)}),u.className=Array.from(y).join(" ");return}const h=document.createElement(t);h.classList.add(...i);const p=s.extractContents();h.appendChild(p),s.insertNode(h);const g=document.createRange();g.setStartAfter(h),g.collapse(!0),n.removeAllRanges(),n.addRange(g)},dM=()=>TS("span","text-xs text-gray-600"),PS=(t=null,e=null)=>{const n=window.getSelection();if(!n||n.rangeCount===0)return;const s=n.getRangeAt(0);if(s.collapsed)return;t==="*"&&(t=null,e=null);const r=s.cloneContents(),i=c=>{if(c.nodeType===1){const u=(!t||c.nodeName.toLowerCase()===t.toLowerCase())&&(!e||c.classList.contains(e)),h=document.createElement("span");if(h.textContent=c.textContent,u)return h;const p=document.createElement(c.nodeName.toLowerCase());return Array.from(c.attributes).forEach(g=>p.setAttribute(g.name,g.value)),c.childNodes.forEach(g=>{p.appendChild(i(g))}),p}return c.cloneNode(!0)},a=document.createDocumentFragment();r.childNodes.forEach(c=>a.appendChild(i(c))),s.deleteContents(),s.insertNode(a)},ES=(t,e="")=>{const n=window.getSelection();if(!n||n.rangeCount===0)return!1;let s=n.focusNode;for(;s;){if(s.nodeType===1&&s.nodeName.toLowerCase()===t.toLowerCase()&&(!e||s.classList.contains(e)))return!0;s=s.parentNode}return!1},bo=(t,e="")=>{let n="";typeof e=="string"?n=e:e&&typeof e=="object"&&"class"in e&&(n=e.class),ES(t)?PS():TS(t,n)},hM=()=>bo("code","font-mono bg-gray-200 px-1 rounded text-sm"),fM=(t=1)=>{const e={1:"text-3xl font-bold",2:"text-2xl font-semibold",3:"text-xl font-medium",4:"text-lg font-medium",5:"text-base font-semibold",6:"text-sm font-semibold text-gray-600"};bo("h"+t,{class:e[t]||"text-lg"})},pM=()=>{bo("p","text-base leading-relaxed mb-3")},mM=()=>{bo("blockquote","border-l-4 border-gray-400 pl-4 italic text-gray-700")},gM=()=>{bo("pre","bg-gray-100 p-2 rounded text-sm font-mono whitespace-pre-wrap")},MS=t=>{const e=window.getSelection();if(!e||e.rangeCount===0)return;const s=e.getRangeAt(0).commonAncestorContainer;let r=s.nodeType===3?s.parentNode:s;for(;r&&r.nodeName.toLowerCase()!==t.toLowerCase();)r=r.parentNode;if(r&&r.nodeName.toLowerCase()===t.toLowerCase()){const i=document.createDocumentFragment(),a=Array.from(r.childNodes);a.forEach(u=>i.appendChild(u));const c=document.createRange();c.setStartBefore(a[0]),c.setEndAfter(a[a.length-1]),r.replaceWith(i),e.removeAllRanges(),e.addRange(c)}},rb=(t="ul")=>{const e=t==="ol"?"ol":"ul";ES(e)?MS(e):bo(e,e==="ul"?"list-disc pl-6":"list-decimal pl-6")},Fp=(t="left")=>{bo("div",{class:{left:"text-left",center:"text-center",right:"text-right"}[t]})},yM=()=>{const t=window.getSelection();if(!t||t.rangeCount===0)return;const e=t.focusNode,n=[];let s=e;for(;s&&s!==document.body;)s.nodeType===1&&n.unshift(`${s.nodeName.toLowerCase()}.${[...s.classList].join(".")}`),s=s.parentNode;console.log(" Selection Path:",n.join(" > "))},xM=()=>MS("a"),vM=()=>{const t=[];let e=-1;return{save:(i,a)=>{t.splice(e+1),t.push({content:i,selection:a}),e=t.length-1},undo:()=>e>0?(e--,t[e]):null,redo:()=>e<t.length-1?(e++,t[e]):null}},bM=t=>{const e=window.getSelection();if(!e.rangeCount)return null;const n=e.getRangeAt(0);return t.contains(n.startContainer)?{startOffset:n.startOffset,endOffset:n.endOffset,startContainerPath:ob(t,n.startContainer),endContainerPath:ob(t,n.endContainer)}:null},ib=(t,{content:e,selection:n})=>{if(t.innerHTML=e,n){const s=document.createRange(),r=ab(t,n.startContainerPath),i=ab(t,n.endContainerPath);if(r&&i){s.setStart(r,n.startOffset),s.setEnd(i,n.endOffset);const a=window.getSelection();a.removeAllRanges(),a.addRange(s)}}},ob=(t,e)=>{const n=[];for(;e!==t&&e!=null;){const s=e.parentNode;if(!s)break;const r=Array.from(s.childNodes).indexOf(e);n.unshift(r),e=s}return n},ab=(t,e)=>{let n=t;for(let s of e){if(!n||!n.childNodes[s])return null;n=n.childNodes[s]}return n},wM=t=>{t.querySelectorAll("span").forEach(n=>{if(!n.getAttribute("class")&&!n.getAttribute("style")){const s=document.createDocumentFragment();for(;n.firstChild;)s.appendChild(n.firstChild);n.replaceWith(s)}})},SM=t=>{t!=null&&t.current&&wM(t.current)};var AS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lb=Ms.createContext&&Ms.createContext(AS),_M=["attr","size","title"];function CM(t,e){if(t==null)return{};var n=kM(t,e),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function kM(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Gd.apply(this,arguments)}function cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function Zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(n),!0).forEach(function(s){jM(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function jM(t,e,n){return e=NM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NM(t){var e=TM(t,"string");return typeof e=="symbol"?e:e+""}function TM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RS(t){return t&&t.map((e,n)=>Ms.createElement(e.tag,Zd({key:n},e.attr),RS(e.child)))}function en(t){return e=>Ms.createElement(PM,Gd({attr:Zd({},t.attr)},e),RS(t.child))}function PM(t){var e=n=>{var{attr:s,size:r,title:i}=t,a=CM(t,_M),c=r||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Ms.createElement("svg",Gd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,a,{className:u,style:Zd(Zd({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&Ms.createElement("title",null,i),t.children)};return lb!==void 0?Ms.createElement(lb.Consumer,null,n=>e(n)):e(AS)}function EM(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM108.1 96h231.81A12.09 12.09 0 0 0 352 83.9V44.09A12.09 12.09 0 0 0 339.91 32H108.1A12.09 12.09 0 0 0 96 44.09V83.9A12.1 12.1 0 0 0 108.1 96zm231.81 256A12.09 12.09 0 0 0 352 339.9v-39.81A12.09 12.09 0 0 0 339.91 288H108.1A12.09 12.09 0 0 0 96 300.09v39.81a12.1 12.1 0 0 0 12.1 12.1z"},child:[]}]})(t)}function MM(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function AM(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 224h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm416 192H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm3.17-384H172.83A12.82 12.82 0 0 0 160 44.83v38.34A12.82 12.82 0 0 0 172.83 96h262.34A12.82 12.82 0 0 0 448 83.17V44.83A12.82 12.82 0 0 0 435.17 32zm0 256H172.83A12.82 12.82 0 0 0 160 300.83v38.34A12.82 12.82 0 0 0 172.83 352h262.34A12.82 12.82 0 0 0 448 339.17v-38.34A12.82 12.82 0 0 0 435.17 288z"},child:[]}]})(t)}function RM(t){return en({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"},child:[]}]})(t)}function ub(t){return en({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(t)}function DM(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 96v320h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H320a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V288H160v128h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V96H32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-32v128h192V96h-32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16z"},child:[]}]})(t)}function OM(t){return en({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"},child:[]}]})(t)}function LM(t){return en({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"},child:[]}]})(t)}function IM(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"},child:[]}]})(t)}function FM(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function zM(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 48v32a16 16 0 0 1-16 16h-48v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V96h-32v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V352h-32a160 160 0 0 1 0-320h240a16 16 0 0 1 16 16z"},child:[]}]})(t)}function VM(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function BM(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 224H293.9l-87.17-26.83A43.55 43.55 0 0 1 219.55 112h66.79A49.89 49.89 0 0 1 331 139.58a16 16 0 0 0 21.46 7.15l42.94-21.47a16 16 0 0 0 7.16-21.46l-.53-1A128 128 0 0 0 287.51 32h-68a123.68 123.68 0 0 0-123 135.64c2 20.89 10.1 39.83 21.78 56.36H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-180.24 96A43 43 0 0 1 336 356.45 43.59 43.59 0 0 1 292.45 400h-66.79A49.89 49.89 0 0 1 181 372.42a16 16 0 0 0-21.46-7.15l-42.94 21.47a16 16 0 0 0-7.16 21.46l.53 1A128 128 0 0 0 224.49 480h68a123.68 123.68 0 0 0 123-135.64 114.25 114.25 0 0 0-5.34-24.36z"},child:[]}]})(t)}function UM(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 448h-16V304a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 400 352h16v96h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM336 64h-67a16 16 0 0 0-13.14 6.87l-79.9 115-79.9-115A16 16 0 0 0 83 64H16A16 16 0 0 0 0 80v48a16 16 0 0 0 16 16h33.48l77.81 112-77.81 112H16a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h67a16 16 0 0 0 13.14-6.87l79.9-115 79.9 115A16 16 0 0 0 269 448h67a16 16 0 0 0 16-16v-48a16 16 0 0 0-16-16h-33.48l-77.81-112 77.81-112H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16z"},child:[]}]})(t)}function $M(t){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 160h-16V16a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 400 64h16v96h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM336 64h-67a16 16 0 0 0-13.14 6.87l-79.9 115-79.9-115A16 16 0 0 0 83 64H16A16 16 0 0 0 0 80v48a16 16 0 0 0 16 16h33.48l77.81 112-77.81 112H16a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h67a16 16 0 0 0 13.14-6.87l79.9-115 79.9 115A16 16 0 0 0 269 448h67a16 16 0 0 0 16-16v-48a16 16 0 0 0-16-16h-33.48l-77.81-112 77.81-112H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16z"},child:[]}]})(t)}function HM(t){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}const WM=({editorRef:t,onUndo:e,onRedo:n})=>{const s=r=>()=>{r(),t!=null&&t.current&&SM(t)};return f.jsxs("div",{className:"flex flex-wrap gap-2 p-2 bg-slate-100 border rounded",children:[f.jsx(lt,{icon:f.jsx(RM,{}),onClick:s(rM),title:"Bold"}),f.jsx(lt,{icon:f.jsx(LM,{}),onClick:s(iM),title:"Italic"}),f.jsx(lt,{icon:f.jsx(HM,{}),onClick:s(oM),title:"Underline"}),f.jsx(lt,{icon:f.jsx(BM,{}),onClick:s(aM),title:"Strikethrough"}),f.jsx(lt,{icon:f.jsx(OM,{}),onClick:s(lM),title:"Highlight"}),f.jsx(lt,{icon:f.jsx($M,{}),onClick:s(cM),title:"Superscript"}),f.jsx(lt,{icon:f.jsx(UM,{}),onClick:s(uM),title:"Subscript"}),f.jsx(lt,{icon:f.jsx("span",{className:"text-xs",children:"aA"}),onClick:s(dM),title:"Small Text"}),f.jsx(lt,{icon:f.jsx(ub,{}),onClick:s(hM),title:"Inline Code"}),[1,2,3].map(r=>f.jsx(lt,{icon:f.jsx(DM,{}),onClick:s(()=>fM(r)),title:`H${r}`},r)),f.jsx(lt,{icon:f.jsx(zM,{}),onClick:s(pM),title:"Paragraph"}),f.jsx(lt,{icon:f.jsx(VM,{}),onClick:s(mM),title:"Blockquote"}),f.jsx(lt,{icon:f.jsx(ub,{}),onClick:s(gM),title:"Code Block"}),f.jsx(lt,{icon:f.jsx(FM,{}),onClick:s(()=>rb("ul")),title:"Bullet List"}),f.jsx(lt,{icon:f.jsx(IM,{}),onClick:s(()=>rb("ol")),title:"Numbered List"}),f.jsx(lt,{icon:f.jsx(MM,{}),onClick:s(()=>Fp("left")),title:"Align Left"}),f.jsx(lt,{icon:f.jsx(EM,{}),onClick:s(()=>Fp("center")),title:"Align Center"}),f.jsx(lt,{icon:f.jsx(AM,{}),onClick:s(()=>Fp("right")),title:"Align Right"}),f.jsx(lt,{icon:f.jsx("span",{children:""}),onClick:s(yM),title:"Inspect Selection"}),f.jsx(lt,{icon:f.jsx("span",{children:""}),onClick:s(xM),title:"Remove Link"}),f.jsx(lt,{icon:f.jsx("span",{children:""}),onClick:s(()=>PS("*")),title:"Clear All Formatting"}),f.jsx(lt,{icon:f.jsx("span",{children:""}),onClick:e,title:"Undo"}),f.jsx(lt,{icon:f.jsx("span",{children:""}),onClick:n,title:"Redo"})]})},lt=({icon:t,onClick:e,title:n})=>f.jsx("button",{type:"button",title:n,onClick:s=>{s.preventDefault(),e()},className:"flex items-center justify-center w-10 h-10 rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100 active:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150",children:t}),zp=vM(),qM=()=>{const t=k.useRef(null),[,e]=k.useState(0),n=()=>{if(!t.current)return;const i=bM(t.current);zp.save(t.current.innerHTML,i)},s=()=>{const i=zp.undo();i&&t.current&&(ib(t.current,i),e(a=>a+1))},r=()=>{const i=zp.redo();i&&t.current&&(ib(t.current,i),e(a=>a+1))};return k.useEffect(()=>{const i=t.current;if(!i)return;const a=new MutationObserver(()=>{n()});return a.observe(i,{childList:!0,subtree:!0,characterData:!0}),n(),()=>a.disconnect()},[]),f.jsxs("div",{className:"space-y-4",children:[f.jsx(WM,{editorRef:t,onUndo:s,onRedo:r}),f.jsx("div",{ref:t,contentEditable:!0,className:"min-h-[300px] border p-4 bg-white text-slate-800 rounded shadow-sm prose focus:outline-none"})]})},hc=t=>new Date(t).toLocaleDateString("en-GB"),YM=[{code:"USD",name:"US Dollar"},{code:"EUR",name:"Euro"}],db=()=>({description:"",quantity:1,price:0,taxRate:0}),Jd=({invoice:t,onClose:e,onSaved:n})=>{var P,A,M;const[s,r]=k.useState({invoiceNumber:(t==null?void 0:t.invoiceNumber)||"",type:(t==null?void 0:t.type)||"",clientCompany:typeof(t==null?void 0:t.clientCompany)=="object"?((P=t==null?void 0:t.clientCompany)==null?void 0:P._id)||"":(t==null?void 0:t.clientCompany)||"",supplierCompany:typeof(t==null?void 0:t.supplierCompany)=="object"?((A=t==null?void 0:t.supplierCompany)==null?void 0:A._id)||"":(t==null?void 0:t.supplierCompany)||"",client:(t==null?void 0:t.client)||"",supplier:(t==null?void 0:t.supplier)||"",currency:(t==null?void 0:t.currency)||"USD",dateIssued:t!=null&&t.dateIssued?t.dateIssued.slice(0,10):"",dueDate:t!=null&&t.dueDate?t.dueDate.slice(0,10):"",status:(t==null?void 0:t.status)||"unpaid",imageFile:null,category:(t==null?void 0:t.category)||"",tags:t!=null&&t.tags?t.tags.join(", "):"",notes:(t==null?void 0:t.notes)||"",items:t!=null&&t.items&&t.items.length>0?t.items.map(R=>({...R,price:R.price||0,quantity:R.quantity||1,taxRate:R.taxRate||0})):[db()]}),[i,a]=k.useState(null);k.useEffect(()=>{if(t!=null&&t.lastEditedBy){const R=typeof t.lastEditedBy=="object"?t.lastEditedBy._id:t.lastEditedBy;R?ce.get(`/users/${R}`).then(z=>a(z.data)).catch(()=>a(null)):a(null)}else a(null)},[t]);const[c,u]=k.useState([]);k.useEffect(()=>{ce.get("/companies").then(R=>u(Array.isArray(R.data)?R.data:R.data.companies||[])).catch(()=>u([]))},[]);const h=()=>r(R=>({...R,items:[...R.items,db()]})),p=R=>r(z=>({...z,items:z.items.length>1?z.items.filter((B,V)=>V!==R):z.items})),g=(R,z,B)=>r(V=>({...V,items:V.items.map(($,G)=>G===R?{...$,[z]:B}:$)})),y=R=>{const{name:z,value:B,type:V}=R.target;r($=>({...$,[z]:V==="number"?parseFloat(B):B}))},v=(R,z)=>{r(B=>({...B,[R]:z,[R==="clientCompany"?"client":"supplier"]:""}))},b=R=>{r(z=>({...z,imageFile:R.target.files[0]}))},_=s.items.reduce((R,z)=>R+parseFloat(z.price||0)*parseFloat(z.quantity||1),0),S=s.items.reduce((R,z)=>R+parseFloat(z.price||0)*parseFloat(z.quantity||1)*(parseFloat(z.taxRate||0)/100),0),C=_+S,N=async R=>{var G;R.preventDefault();const z=s.tags?s.tags.split(",").map(ne=>ne.trim()).filter(Boolean):[],B={invoiceNumber:s.invoiceNumber,type:s.type,clientCompany:typeof s.clientCompany=="object"?s.clientCompany._id:s.clientCompany||void 0,supplierCompany:typeof s.supplierCompany=="object"?s.supplierCompany._id:s.supplierCompany||void 0,client:s.client,supplier:s.supplier,currency:s.currency,dateIssued:s.dateIssued,dueDate:s.dueDate||void 0,status:s.status,category:s.category,tags:z,notes:s.notes,subtotal:_,totalTax:S,totalAmount:C,items:s.items};let V,$;s.imageFile?(V=new FormData,Object.entries(B).forEach(([ne,ue])=>{ne==="items"||ne==="tags"?V.append(ne,JSON.stringify(ue)):ue!==void 0&&V.append(ne,ue)}),V.append("file",s.imageFile),$=void 0):(V=B,$=void 0);try{t!=null&&t._id?await ce.put(`/invoices/${t._id}`,V,$?{headers:$}:void 0):await ce.post("/invoices",V,$?{headers:$}:void 0),n()}catch(ne){console.error("Error saving invoice:",((G=ne==null?void 0:ne.response)==null?void 0:G.data)||ne.message)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:f.jsxs("form",{onSubmit:N,className:"w-full max-w-md max-h-[90vh] overflow-y-auto bg-[#1c1e2b] text-white p-4 md:p-6 rounded-lg shadow-2xl space-y-3 text-sm",encType:s.imageFile?"multipart/form-data":"application/json",children:[t&&f.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Last Edited:"," ",t.updatedAt?new Date(t.updatedAt).toLocaleString():""]}),i&&f.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Edited by: ",(i==null?void 0:i.name)||(i==null?void 0:i.email)||(t==null?void 0:t.lastEditedBy)]}),f.jsxs("div",{children:[f.jsx("input",{name:"invoiceNumber",value:s.invoiceNumber,onChange:y,placeholder:"Invoice Number",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 mb-2",required:!0}),f.jsxs("select",{name:"type",value:s.type,onChange:y,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2",required:!0,children:[f.jsx("option",{value:"",children:"Select Type"}),f.jsx("option",{value:"income",children:"Income (You will receive money)"}),f.jsx("option",{value:"outcome",children:"Expense (You will pay money)"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Client"}),f.jsxs("select",{name:"clientCompany",value:s.clientCompany||"",onChange:R=>v("clientCompany",R.target.value),className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 mb-1",children:[f.jsx("option",{value:"",children:" Company "}),c.map(R=>f.jsx("option",{value:R._id,children:R.name},R._id))]}),!s.clientCompany&&f.jsx("input",{name:"client",value:s.client,onChange:y,placeholder:"Or enter client name",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Supplier"}),f.jsxs("select",{name:"supplierCompany",value:s.supplierCompany||"",onChange:R=>v("supplierCompany",R.target.value),className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 mb-1",children:[f.jsx("option",{value:"",children:" Company "}),c.map(R=>f.jsx("option",{value:R._id,children:R.name},R._id))]}),!s.supplierCompany&&f.jsx("input",{name:"supplier",value:s.supplier,onChange:y,placeholder:"Or enter supplier name",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Date Issued"}),f.jsx("input",{name:"dateIssued",type:"date",value:s.dateIssued,onChange:y,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Due Date"}),f.jsx("input",{name:"dueDate",type:"date",value:s.dueDate,onChange:y,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("input",{name:"category",value:s.category,onChange:y,placeholder:"Category",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"}),f.jsx("input",{name:"tags",value:s.tags,onChange:y,placeholder:"Tags",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("select",{name:"currency",value:s.currency,onChange:y,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:YM.map(({code:R,name:z})=>f.jsxs("option",{value:R,children:[R,"  ",z]},R))}),f.jsxs("select",{name:"status",value:s.status,onChange:y,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2",children:[f.jsx("option",{value:"unpaid",children:"Unpaid"}),f.jsx("option",{value:"paid",children:"Paid"}),f.jsx("option",{value:"draft",children:"Draft"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Products or Services"}),s.items.map((R,z)=>f.jsxs("div",{className:"flex gap-1 mb-2",children:[f.jsx("input",{type:"text",placeholder:"Product/Service",value:R.description,onChange:B=>g(z,"description",B.target.value),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-2/5",required:!0}),f.jsx("input",{type:"number",placeholder:"Qty",min:1,value:R.quantity,onChange:B=>g(z,"quantity",parseFloat(B.target.value)),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-1/6",required:!0}),f.jsx("input",{type:"number",placeholder:"Unit Price",min:0,step:"0.01",value:R.price,onChange:B=>g(z,"price",parseFloat(B.target.value)),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-1/5",required:!0}),f.jsx("input",{type:"number",placeholder:"Tax %",min:0,step:"0.01",value:R.taxRate,onChange:B=>g(z,"taxRate",parseFloat(B.target.value)),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-1/6"}),f.jsx("button",{type:"button",onClick:()=>p(z),className:"text-red-400 hover:text-red-600 ml-1",title:"Remove",disabled:s.items.length===1,children:""})]},z)),f.jsx("button",{type:"button",onClick:h,className:"w-full py-1 bg-blue-700 hover:bg-blue-800 rounded text-xs",children:"+ Add Product/Service"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-400",children:"Subtotal"}),f.jsx("input",{type:"number",value:_.toFixed(2),readOnly:!0,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-2 py-1 opacity-70",tabIndex:-1})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-400",children:"Total Tax"}),f.jsx("input",{type:"number",value:S.toFixed(2),readOnly:!0,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-2 py-1 opacity-70",tabIndex:-1})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"text-xs text-gray-400",children:"Total Amount"}),f.jsx("input",{type:"number",value:C.toFixed(2),readOnly:!0,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-2 py-1 opacity-70",tabIndex:-1})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Notes"}),f.jsx("textarea",{name:"notes",value:s.notes,onChange:y,placeholder:"Add any notes or comments",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 min-h-[48px]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Invoice Image"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{htmlFor:"invoiceImage",className:"cursor-pointer px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",children:s.imageFile?"Change Image":"Upload Image"}),f.jsx("input",{id:"invoiceImage",type:"file",accept:"image/*",onChange:b,className:"hidden"}),f.jsx("span",{className:"text-xs text-gray-400 truncate max-w-xs",children:((M=s.imageFile)==null?void 0:M.name)||(t==null?void 0:t.imageUrl)&&"Existing image"})]}),(s.imageFile||(t==null?void 0:t.imageUrl))&&f.jsx("img",{src:s.imageFile?URL.createObjectURL(s.imageFile):t.imageUrl,alt:"Invoice preview",className:"mt-2 max-h-24 border border-gray-600 rounded"})]}),f.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[f.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-500 text-gray-300 rounded hover:bg-gray-700",children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Save"})]})]})})},KM={name:"",vatNumber:"",address:"",email:"",phone:"",country:"",website:"",notes:""},XM=({onClose:t,onSaved:e})=>{const[n,s]=k.useState(KM),[r,i]=k.useState(!1),[a,c]=k.useState(""),u=p=>{const{name:g,value:y}=p.target;s(v=>({...v,[g]:y}))},h=async p=>{var g,y,v;p.preventDefault(),i(!0),c("");try{await ce.post("/companies",n),e()}catch(b){c(((y=(g=b==null?void 0:b.response)==null?void 0:g.data)==null?void 0:y.message)||((v=b==null?void 0:b.response)==null?void 0:v.data)||b.message||"Failed to create company")}finally{i(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:f.jsxs("form",{onSubmit:h,className:"w-full max-w-md bg-[#23263a] text-white p-6 rounded-lg shadow-xl space-y-4",children:[f.jsx("h2",{className:"text-xl font-bold mb-2",children:"+ New Company"}),a&&f.jsx("div",{className:"text-red-400 mb-2 text-sm",children:a}),f.jsx("input",{name:"name",value:n.name,onChange:u,placeholder:"Company Name *",required:!0,className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("input",{name:"vatNumber",value:n.vatNumber,onChange:u,placeholder:"VAT Number",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("input",{name:"address",value:n.address,onChange:u,placeholder:"Address",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("input",{name:"email",value:n.email,onChange:u,placeholder:"Email",type:"email",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("input",{name:"phone",value:n.phone,onChange:u,placeholder:"Phone",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("input",{name:"country",value:n.country,onChange:u,placeholder:"Country",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("input",{name:"website",value:n.website,onChange:u,placeholder:"Website",type:"url",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("textarea",{name:"notes",value:n.notes,onChange:u,placeholder:"Notes",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full min-h-[50px]"}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-500 text-gray-300 rounded hover:bg-gray-700",disabled:r,children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",disabled:r,children:r?"Saving...":"Save"})]})]})})},QM=["jpg","jpeg","png","webp","gif","bmp"],GM=["pdf"];function DS(t="",e="pdf"){var s;const n=(s=t.split(".").pop().split("?")[0])==null?void 0:s.toLowerCase();return!n||n.length>5?e:n}function ZM(t=""){const e=DS(t);return QM.includes(e)?"image":GM.includes(e)?"pdf":"other"}function JM(t,e){const n=DS(e);return`${(t==null?void 0:t.invoiceNumber)||(t==null?void 0:t.systemInvoiceNumber)||"invoice-file"}.${n}`}const Rm=({invoice:t,onClose:e})=>{const{invoiceNumber:n,systemInvoiceNumber:s,type:r,clientCompany:i,supplierCompany:a,client:c,supplier:u,currency:h,dateIssued:p,dueDate:g,status:y,category:v,tags:b,notes:_,items:S=[],subtotal:C,totalTax:N,totalAmount:P,imageUrl:A}=t,[M,R]=k.useState(!1),z=ZM(A),B=JM(t,A),V=A?`/api/download?url=${encodeURIComponent(A)}&name=${encodeURIComponent(B)}`:"";return f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[M&&z==="image"&&f.jsx("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/80",onClick:()=>R(!1),children:f.jsx("img",{src:A,alt:"Invoice Preview",className:"max-w-4xl max-h-[90vh] rounded-lg border-2 border-white shadow-xl",onClick:$=>$.stopPropagation()})}),f.jsxs("div",{className:`\r
        bg-[#23263a] text-white rounded-2xl shadow-2xl\r
        flex flex-col md:flex-row relative min-h-[600px] overflow-hidden\r
        w-[90vw] max-w-[1400px] min-w-[900px]\r
        p-0\r
      `,children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-6 text-gray-400 hover:text-gray-200 text-2xl font-bold z-10",children:""}),f.jsxs("div",{className:"basis-1/2 min-w-0 p-8 flex flex-col overflow-y-auto max-h-[80vh]",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Invoice Details"}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Invoice #:"})," ",n||s]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Type:"})," ",r]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Status:"})," ",y]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Date Issued:"})," ",hc(p)]}),g&&f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Due Date:"})," ",hc(g)]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Currency:"})," ",h]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Category:"})," ",v||""]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Tags:"})," ",(b==null?void 0:b.length)>0?b.join(", "):""]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("span",{className:"font-semibold",children:"Notes:"})," ",_||""]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("span",{className:"font-semibold",children:"Client:"})," ",i?f.jsxs(f.Fragment,{children:[i.name,i.vatNumber?` (VAT: ${i.vatNumber})`:""]}):f.jsx("span",{children:c||""})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("span",{className:"font-semibold",children:"Supplier:"})," ",a?f.jsxs(f.Fragment,{children:[a.name,a.vatNumber?` (VAT: ${a.vatNumber})`:""]}):f.jsx("span",{children:u||""})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("div",{className:"font-semibold mb-2",children:"Products:"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm border border-gray-700 rounded",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-[#252a3a]",children:[f.jsx("th",{className:"p-2 text-left",children:"Description"}),f.jsx("th",{className:"p-2 text-right",children:"Qty"}),f.jsx("th",{className:"p-2 text-right",children:"Unit Price"}),f.jsx("th",{className:"p-2 text-right",children:"Tax %"}),f.jsx("th",{className:"p-2 text-right",children:"Total"})]})}),f.jsx("tbody",{children:S.map(($,G)=>f.jsxs("tr",{className:"border-t border-gray-700",children:[f.jsx("td",{className:"p-2 text-left",children:$.description}),f.jsx("td",{className:"p-2 text-right",children:$.quantity}),f.jsx("td",{className:"p-2 text-right",children:$.price}),f.jsx("td",{className:"p-2 text-right",children:$.taxRate}),f.jsx("td",{className:"p-2 text-right",children:(Number($.price||0)*Number($.quantity||1)*(1+Number($.taxRate||0)/100)).toFixed(2)})]},G))})]})})]}),f.jsxs("div",{className:"flex flex-col gap-2 border-t border-gray-700 pt-2 mt-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Subtotal:"})," ",Number(C).toFixed(2)," ",h]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Total Tax:"})," ",Number(N).toFixed(2)," ",h]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Total Amount:"})," ",Number(P).toFixed(2)," ",h]})]})]}),f.jsxs("div",{className:"basis-1/2 min-w-0 p-8 flex flex-col items-center justify-start gap-4",children:[f.jsx("div",{className:"font-semibold mb-2 mt-1 md:mt-0 text-lg w-full text-center",children:"Invoice File:"}),A&&(z==="image"?f.jsxs(f.Fragment,{children:[f.jsx("img",{src:A,alt:"Invoice",className:"w-full max-w-[540px] max-h-[600px] border border-gray-600 rounded-lg cursor-zoom-in hover:shadow-lg transition",title:"Click to preview",onClick:()=>R(!0),style:{objectFit:"contain"}}),f.jsx("a",{href:V,className:"bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded transition text-sm mt-2",children:"Download Image"})]}):z==="pdf"?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"border border-gray-700 rounded-lg bg-white w-full flex justify-center items-center",style:{minHeight:540,height:540,maxWidth:"100%"},children:f.jsx("iframe",{src:`/api/download?url=${encodeURIComponent(A)}&inline=true`,title:"PDF Preview",className:"w-full h-full rounded-lg",style:{minHeight:530,height:530},frameBorder:0,allowFullScreen:!0})}),f.jsx("div",{className:"flex gap-2 mt-2",children:f.jsx("a",{href:V,className:"bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded transition text-sm",children:"Download PDF"})})]}):f.jsx("a",{href:V,className:"bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded transition text-sm",children:"Download File"}))]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function zc(t){return t+.5|0}const ai=(t,e,n)=>Math.max(Math.min(t,n),e);function Hl(t){return ai(zc(t*2.55),0,255)}function ui(t){return ai(zc(t*255),0,255)}function sr(t){return ai(zc(t/2.55)/100,0,1)}function hb(t){return ai(zc(t*100),0,100)}const $n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Dm=[..."0123456789ABCDEF"],eA=t=>Dm[t&15],tA=t=>Dm[(t&240)>>4]+Dm[t&15],ld=t=>(t&240)>>4===(t&15),nA=t=>ld(t.r)&&ld(t.g)&&ld(t.b)&&ld(t.a);function sA(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&$n[t[1]]*17,g:255&$n[t[2]]*17,b:255&$n[t[3]]*17,a:e===5?$n[t[4]]*17:255}:(e===7||e===9)&&(n={r:$n[t[1]]<<4|$n[t[2]],g:$n[t[3]]<<4|$n[t[4]],b:$n[t[5]]<<4|$n[t[6]],a:e===9?$n[t[7]]<<4|$n[t[8]]:255})),n}const rA=(t,e)=>t<255?e(t):"";function iA(t){var e=nA(t)?eA:tA;return t?"#"+e(t.r)+e(t.g)+e(t.b)+rA(t.a,e):void 0}const oA=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function OS(t,e,n){const s=e*Math.min(n,1-n),r=(i,a=(i+t/30)%12)=>n-s*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function aA(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function lA(t,e,n){const s=OS(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function cA(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function Gg(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),a=Math.min(n,s,r),c=(i+a)/2;let u,h,p;return i!==a&&(p=i-a,h=c>.5?p/(2-i-a):p/(i+a),u=cA(n,s,r,p,i),u=u*60+.5),[u|0,h||0,c]}function Zg(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(ui)}function Jg(t,e,n){return Zg(OS,t,e,n)}function uA(t,e,n){return Zg(lA,t,e,n)}function dA(t,e,n){return Zg(aA,t,e,n)}function LS(t){return(t%360+360)%360}function hA(t){const e=oA.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Hl(+e[5]):ui(+e[5]));const r=LS(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?s=uA(r,i,a):e[1]==="hsv"?s=dA(r,i,a):s=Jg(r,i,a),{r:s[0],g:s[1],b:s[2],a:n}}function fA(t,e){var n=Gg(t);n[0]=LS(n[0]+e),n=Jg(n),t.r=n[0],t.g=n[1],t.b=n[2]}function pA(t){if(!t)return;const e=Gg(t),n=e[0],s=hb(e[1]),r=hb(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${sr(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const fb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mA(){const t={},e=Object.keys(pb),n=Object.keys(fb);let s,r,i,a,c;for(s=0;s<e.length;s++){for(a=c=e[s],r=0;r<n.length;r++)i=n[r],c=c.replace(i,fb[i]);i=parseInt(pb[a],16),t[c]=[i>>16&255,i>>8&255,i&255]}return t}let cd;function gA(t){cd||(cd=mA(),cd.transparent=[0,0,0,0]);const e=cd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const yA=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function xA(t){const e=yA.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const a=+e[7];n=e[8]?Hl(a):ai(a*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?Hl(s):ai(s,0,255)),r=255&(e[4]?Hl(r):ai(r,0,255)),i=255&(e[6]?Hl(i):ai(i,0,255)),{r:s,g:r,b:i,a:n}}}function vA(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${sr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Vp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,sa=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function bA(t,e,n){const s=sa(sr(t.r)),r=sa(sr(t.g)),i=sa(sr(t.b));return{r:ui(Vp(s+n*(sa(sr(e.r))-s))),g:ui(Vp(r+n*(sa(sr(e.g))-r))),b:ui(Vp(i+n*(sa(sr(e.b))-i))),a:t.a+n*(e.a-t.a)}}function ud(t,e,n){if(t){let s=Gg(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Jg(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function IS(t,e){return t&&Object.assign(e||{},t)}function mb(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ui(t[3]))):(e=IS(t,{r:0,g:0,b:0,a:1}),e.a=ui(e.a)),e}function wA(t){return t.charAt(0)==="r"?xA(t):hA(t)}class fc{constructor(e){if(e instanceof fc)return e;const n=typeof e;let s;n==="object"?s=mb(e):n==="string"&&(s=sA(e)||gA(e)||wA(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=IS(this._rgb);return e&&(e.a=sr(e.a)),e}set rgb(e){this._rgb=mb(e)}rgbString(){return this._valid?vA(this._rgb):void 0}hexString(){return this._valid?iA(this._rgb):void 0}hslString(){return this._valid?pA(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const a=n===i?.5:n,c=2*a-1,u=s.a-r.a,h=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;i=1-h,s.r=255&h*s.r+i*r.r+.5,s.g=255&h*s.g+i*r.g+.5,s.b=255&h*s.b+i*r.b+.5,s.a=a*s.a+(1-a)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=bA(this._rgb,e._rgb,n)),this}clone(){return new fc(this.rgb)}alpha(e){return this._rgb.a=ui(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=zc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ud(this._rgb,2,e),this}darken(e){return ud(this._rgb,2,-e),this}saturate(e){return ud(this._rgb,1,e),this}desaturate(e){return ud(this._rgb,1,-e),this}rotate(e){return fA(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Zs(){}const SA=(()=>{let t=0;return()=>t++})();function We(t){return t==null}function _t(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ue(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Jt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Cs(t,e){return Jt(t)?t:e}function Re(t,e){return typeof t>"u"?e:t}const _A=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,FS=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ne(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ve(t,e,n,s){let r,i,a;if(_t(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(Ue(t))for(a=Object.keys(t),i=a.length,r=0;r<i;r++)e.call(n,t[a[r]],a[r])}function eh(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function th(t){if(_t(t))return t.map(th);if(Ue(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=th(t[n[r]]);return e}return t}function zS(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function CA(t,e,n,s){if(!zS(t))return;const r=e[t],i=n[t];Ue(r)&&Ue(i)?Ls(r,i,s):e[t]=th(i)}function Ls(t,e,n){const s=_t(e)?e:[e],r=s.length;if(!Ue(t))return t;n=n||{};const i=n.merger||CA;let a;for(let c=0;c<r;++c){if(a=s[c],!Ue(a))continue;const u=Object.keys(a);for(let h=0,p=u.length;h<p;++h)i(u[h],t,a,n)}return t}function Xl(t,e){return Ls(t,e,{merger:kA})}function kA(t,e,n){if(!zS(t))return;const s=e[t],r=n[t];Ue(s)&&Ue(r)?Xl(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=th(r))}const gb={"":t=>t,x:t=>t.x,y:t=>t.y};function jA(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function NA(t){const e=jA(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function fo(t,e){return(gb[e]||(gb[e]=NA(e)))(t)}function e0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const pc=t=>typeof t<"u",hi=t=>typeof t=="function",yb=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function TA(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Qe=Math.PI,ut=2*Qe,PA=ut+Qe,nh=Number.POSITIVE_INFINITY,EA=Qe/180,At=Qe/2,Fi=Qe/4,xb=Qe*2/3,VS=Math.log10,Xn=Math.sign;function oo(t,e,n){return Math.abs(t-e)<n}function vb(t){const e=Math.round(t);t=oo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(VS(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function MA(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function AA(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function mc(t){return!AA(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function RA(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function DA(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function or(t){return t*(Qe/180)}function OA(t){return t*(180/Qe)}function bb(t){if(!Jt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function BS(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*Qe&&(i+=ut),{angle:i,distance:r}}function Om(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function LA(t,e){return(t-e+PA)%ut-Qe}function Dn(t){return(t%ut+ut)%ut}function gc(t,e,n,s){const r=Dn(t),i=Dn(e),a=Dn(n),c=Dn(i-r),u=Dn(a-r),h=Dn(r-i),p=Dn(r-a);return r===i||r===a||s&&i===a||c>u&&h<p}function Gt(t,e,n){return Math.max(e,Math.min(n,t))}function IA(t){return Gt(t,-32768,32767)}function ar(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function t0(t,e,n){n=n||(a=>t[a]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const Yi=(t,e,n,s)=>t0(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),FA=(t,e,n)=>t0(t,n,s=>t[s][e]>=n);function zA(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const US=["push","pop","shift","splice","unshift"];function VA(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),US.forEach(n=>{const s="_onData"+e0(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=r.apply(this,i);return t._chartjs.listeners.forEach(c=>{typeof c[s]=="function"&&c[s](...i)}),a}})})}function wb(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(US.forEach(i=>{delete t[i]}),delete t._chartjs)}function $S(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const HS=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function WS(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,HS.call(window,()=>{s=!1,t.apply(e,n)}))}}function BA(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const n0=t=>t==="start"?"left":t==="end"?"right":"center",Xt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,UA=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function $A(t,e,n){const s=e.length;let r=0,i=s;if(t._sorted){const{iScale:a,vScale:c,_parsed:u}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=a.axis,{min:g,max:y,minDefined:v,maxDefined:b}=a.getUserBounds();if(v){if(r=Math.min(Yi(u,p,g).lo,n?s:Yi(e,p,a.getPixelForValue(g)).lo),h){const _=u.slice(0,r+1).reverse().findIndex(S=>!We(S[c.axis]));r-=Math.max(0,_)}r=Gt(r,0,s-1)}if(b){let _=Math.max(Yi(u,a.axis,y,!0).hi+1,n?0:Yi(e,p,a.getPixelForValue(y),!0).hi+1);if(h){const S=u.slice(_-1).findIndex(C=>!We(C[c.axis]));_+=Math.max(0,S)}i=Gt(_,r,s)-r}else i=s-r}return{start:r,count:i}}function HA(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const dd=t=>t===0||t===1,Sb=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ut/n)),_b=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ut/n)+1,Ql={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*At)+1,easeOutSine:t=>Math.sin(t*At),easeInOutSine:t=>-.5*(Math.cos(Qe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>dd(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>dd(t)?t:Sb(t,.075,.3),easeOutElastic:t=>dd(t)?t:_b(t,.075,.3),easeInOutElastic(t){return dd(t)?t:t<.5?.5*Sb(t*2,.1125,.45):.5+.5*_b(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ql.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ql.easeInBounce(t*2)*.5:Ql.easeOutBounce(t*2-1)*.5+.5};function s0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Cb(t){return s0(t)?t:new fc(t)}function Bp(t){return s0(t)?t:new fc(t).saturate(.5).darken(.1).hexString()}const WA=["x","y","borderWidth","radius","tension"],qA=["color","borderColor","backgroundColor"];function YA(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:qA},numbers:{type:"number",properties:WA}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function KA(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const kb=new Map;function XA(t,e){e=e||{};const n=t+JSON.stringify(e);let s=kb.get(n);return s||(s=new Intl.NumberFormat(t,e),kb.set(n,s)),s}function r0(t,e,n){return XA(e,n).format(t)}const QA={values(t){return _t(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),i=GA(t,n)}const a=VS(Math.abs(i)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),r0(t,s,u)}};function GA(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var qS={formatters:QA};function ZA(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:qS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const po=Object.create(null),Lm=Object.create(null);function Gl(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function Up(t,e,n){return typeof e=="string"?Ls(Gl(t,e),n):Ls(Gl(t,""),e)}class JA{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>Bp(r.backgroundColor),this.hoverBorderColor=(s,r)=>Bp(r.borderColor),this.hoverColor=(s,r)=>Bp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Up(this,e,n)}get(e){return Gl(this,e)}describe(e,n){return Up(Lm,e,n)}override(e,n){return Up(po,e,n)}route(e,n,s,r){const i=Gl(this,e),a=Gl(this,s),c="_"+n;Object.defineProperties(i,{[c]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],h=a[r];return Ue(u)?Object.assign({},h,u):Re(u,h)},set(u){this[c]=u}}})}apply(e){e.forEach(n=>n(this))}}var mt=new JA({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[YA,KA,ZA]);function e4(t){return!t||We(t.size)||We(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function jb(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function zi(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function Nb(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Im(t,e,n,s){YS(t,e,n,s,null)}function YS(t,e,n,s,r){let i,a,c,u,h,p,g,y;const v=e.pointStyle,b=e.rotation,_=e.radius;let S=(b||0)*EA;if(v&&typeof v=="object"&&(i=v.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(S),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),v){default:r?t.ellipse(n,s,r/2,_,0,0,ut):t.arc(n,s,_,0,ut),t.closePath();break;case"triangle":p=r?r/2:_,t.moveTo(n+Math.sin(S)*p,s-Math.cos(S)*_),S+=xb,t.lineTo(n+Math.sin(S)*p,s-Math.cos(S)*_),S+=xb,t.lineTo(n+Math.sin(S)*p,s-Math.cos(S)*_),t.closePath();break;case"rectRounded":h=_*.516,u=_-h,a=Math.cos(S+Fi)*u,g=Math.cos(S+Fi)*(r?r/2-h:u),c=Math.sin(S+Fi)*u,y=Math.sin(S+Fi)*(r?r/2-h:u),t.arc(n-g,s-c,h,S-Qe,S-At),t.arc(n+y,s-a,h,S-At,S),t.arc(n+g,s+c,h,S,S+At),t.arc(n-y,s+a,h,S+At,S+Qe),t.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*_,p=r?r/2:u,t.rect(n-p,s-u,2*p,2*u);break}S+=Fi;case"rectRot":g=Math.cos(S)*(r?r/2:_),a=Math.cos(S)*_,c=Math.sin(S)*_,y=Math.sin(S)*(r?r/2:_),t.moveTo(n-g,s-c),t.lineTo(n+y,s-a),t.lineTo(n+g,s+c),t.lineTo(n-y,s+a),t.closePath();break;case"crossRot":S+=Fi;case"cross":g=Math.cos(S)*(r?r/2:_),a=Math.cos(S)*_,c=Math.sin(S)*_,y=Math.sin(S)*(r?r/2:_),t.moveTo(n-g,s-c),t.lineTo(n+g,s+c),t.moveTo(n+y,s-a),t.lineTo(n-y,s+a);break;case"star":g=Math.cos(S)*(r?r/2:_),a=Math.cos(S)*_,c=Math.sin(S)*_,y=Math.sin(S)*(r?r/2:_),t.moveTo(n-g,s-c),t.lineTo(n+g,s+c),t.moveTo(n+y,s-a),t.lineTo(n-y,s+a),S+=Fi,g=Math.cos(S)*(r?r/2:_),a=Math.cos(S)*_,c=Math.sin(S)*_,y=Math.sin(S)*(r?r/2:_),t.moveTo(n-g,s-c),t.lineTo(n+g,s+c),t.moveTo(n+y,s-a),t.lineTo(n-y,s+a);break;case"line":a=r?r/2:Math.cos(S)*_,c=Math.sin(S)*_,t.moveTo(n-a,s-c),t.lineTo(n+a,s+c);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(S)*(r?r/2:_),s+Math.sin(S)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Na(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function jh(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Nh(t){t.restore()}function t4(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function n4(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function s4(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),We(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function r4(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),a=e-i.actualBoundingBoxLeft,c=e+i.actualBoundingBoxRight,u=n-i.actualBoundingBoxAscent,h=n+i.actualBoundingBoxDescent,p=r.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,p),t.lineTo(c,p),t.stroke()}}function i4(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function yc(t,e,n,s,r,i={}){const a=_t(e)?e:[e],c=i.strokeWidth>0&&i.strokeColor!=="";let u,h;for(t.save(),t.font=r.string,s4(t,i),u=0;u<a.length;++u)h=a[u],i.backdrop&&i4(t,i.backdrop),c&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),We(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(h,n,s,i.maxWidth)),t.fillText(h,n,s,i.maxWidth),r4(t,n,s,h,i),s+=Number(r.lineHeight);t.restore()}function sh(t,e){const{x:n,y:s,w:r,h:i,radius:a}=e;t.arc(n+a.topLeft,s+a.topLeft,a.topLeft,1.5*Qe,Qe,!0),t.lineTo(n,s+i-a.bottomLeft),t.arc(n+a.bottomLeft,s+i-a.bottomLeft,a.bottomLeft,Qe,At,!0),t.lineTo(n+r-a.bottomRight,s+i),t.arc(n+r-a.bottomRight,s+i-a.bottomRight,a.bottomRight,At,0,!0),t.lineTo(n+r,s+a.topRight),t.arc(n+r-a.topRight,s+a.topRight,a.topRight,0,-At,!0),t.lineTo(n+a.topLeft,s)}const o4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,a4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function l4(t,e){const n=(""+t).match(o4);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const c4=t=>+t||0;function i0(t,e){const n={},s=Ue(e),r=s?Object.keys(e):e,i=Ue(t)?s?a=>Re(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=c4(i(a));return n}function KS(t){return i0(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ha(t){return i0(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ln(t){const e=KS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Vt(t,e){t=t||{},e=e||mt.font;let n=Re(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Re(t.style,e.style);s&&!(""+s).match(a4)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Re(t.family,e.family),lineHeight:l4(Re(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Re(t.weight,e.weight),string:""};return r.string=e4(r),r}function st(t,e,n,s){let r,i,a;for(r=0,i=t.length;r<i;++r)if(a=t[r],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e)),n!==void 0&&_t(a)&&(a=a[n%a.length]),a!==void 0))return a}function u4(t,e,n){const{min:s,max:r}=t,i=FS(e,(r-s)/2),a=(c,u)=>n&&c===0?0:c+u;return{min:a(s,-Math.abs(i)),max:a(r,i)}}function wo(t,e){return Object.assign(Object.create(t),e)}function o0(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=ZS("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:c=>o0([c,...t],e,i,s)};return new Proxy(a,{deleteProperty(c,u){return delete c[u],delete c._keys,delete t[0][u],!0},get(c,u){return QS(c,u,()=>x4(u,e,t,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,u){return Pb(c).includes(u)},ownKeys(c){return Pb(c)},set(c,u,h){const p=c._storage||(c._storage=r());return c[u]=p[u]=h,delete c._keys,!0}})}function Ta(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:XS(t,s),setContext:i=>Ta(t,i,n,s),override:i=>Ta(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,c){return QS(i,a,()=>h4(i,a,c))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,c){return t[a]=c,delete i[a],!0}})}function XS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:hi(n)?n:()=>n,isIndexable:hi(s)?s:()=>s}}const d4=(t,e)=>t?t+e0(e):e,a0=(t,e)=>Ue(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function QS(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function h4(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:a}=t;let c=s[e];return hi(c)&&a.isScriptable(e)&&(c=f4(e,c,t,n)),_t(c)&&c.length&&(c=p4(e,c,t,a.isIndexable)),a0(e,c)&&(c=Ta(c,r,i&&i[e],a)),c}function f4(t,e,n,s){const{_proxy:r,_context:i,_subProxy:a,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=e(i,a||s);return c.delete(t),a0(t,u)&&(u=l0(r._scopes,r,t,u)),u}function p4(t,e,n,s){const{_proxy:r,_context:i,_subProxy:a,_descriptors:c}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(Ue(e[0])){const u=e,h=r._scopes.filter(p=>p!==u);e=[];for(const p of u){const g=l0(h,r,t,p);e.push(Ta(g,i,a&&a[t],c))}}return e}function GS(t,e,n){return hi(t)?t(e,n):t}const m4=(t,e)=>t===!0?e:typeof t=="string"?fo(e,t):void 0;function g4(t,e,n,s,r){for(const i of e){const a=m4(n,i);if(a){t.add(a);const c=GS(a._fallback,n,r);if(typeof c<"u"&&c!==n&&c!==s)return c}else if(a===!1&&typeof s<"u"&&n!==s)return null}return!1}function l0(t,e,n,s){const r=e._rootScopes,i=GS(e._fallback,n,s),a=[...t,...r],c=new Set;c.add(s);let u=Tb(c,a,n,i||n,s);return u===null||typeof i<"u"&&i!==n&&(u=Tb(c,a,i,u,s),u===null)?!1:o0(Array.from(c),[""],r,i,()=>y4(e,n,s))}function Tb(t,e,n,s,r){for(;n;)n=g4(t,e,n,s,r);return n}function y4(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return _t(r)&&Ue(n)?n:r||{}}function x4(t,e,n,s){let r;for(const i of e)if(r=ZS(d4(i,t),n),typeof r<"u")return a0(t,r)?l0(n,s,t,r):r}function ZS(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Pb(t){let e=t._keys;return e||(e=t._keys=v4(t._scopes)),e}function v4(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const b4=Number.EPSILON||1e-14,Pa=(t,e)=>e<t.length&&!t[e].skip&&t[e],JS=t=>t==="x"?"y":"x";function w4(t,e,n,s){const r=t.skip?e:t,i=e,a=n.skip?e:n,c=Om(i,r),u=Om(a,i);let h=c/(c+u),p=u/(c+u);h=isNaN(h)?0:h,p=isNaN(p)?0:p;const g=s*h,y=s*p;return{previous:{x:i.x-g*(a.x-r.x),y:i.y-g*(a.y-r.y)},next:{x:i.x+y*(a.x-r.x),y:i.y+y*(a.y-r.y)}}}function S4(t,e,n){const s=t.length;let r,i,a,c,u,h=Pa(t,0);for(let p=0;p<s-1;++p)if(u=h,h=Pa(t,p+1),!(!u||!h)){if(oo(e[p],0,b4)){n[p]=n[p+1]=0;continue}r=n[p]/e[p],i=n[p+1]/e[p],c=Math.pow(r,2)+Math.pow(i,2),!(c<=9)&&(a=3/Math.sqrt(c),n[p]=r*a*e[p],n[p+1]=i*a*e[p])}}function _4(t,e,n="x"){const s=JS(n),r=t.length;let i,a,c,u=Pa(t,0);for(let h=0;h<r;++h){if(a=c,c=u,u=Pa(t,h+1),!c)continue;const p=c[n],g=c[s];a&&(i=(p-a[n])/3,c[`cp1${n}`]=p-i,c[`cp1${s}`]=g-i*e[h]),u&&(i=(u[n]-p)/3,c[`cp2${n}`]=p+i,c[`cp2${s}`]=g+i*e[h])}}function C4(t,e="x"){const n=JS(e),s=t.length,r=Array(s).fill(0),i=Array(s);let a,c,u,h=Pa(t,0);for(a=0;a<s;++a)if(c=u,u=h,h=Pa(t,a+1),!!u){if(h){const p=h[e]-u[e];r[a]=p!==0?(h[n]-u[n])/p:0}i[a]=c?h?Xn(r[a-1])!==Xn(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}S4(t,r,i),_4(t,i,e)}function hd(t,e,n){return Math.max(Math.min(t,n),e)}function k4(t,e){let n,s,r,i,a,c=Na(t[0],e);for(n=0,s=t.length;n<s;++n)a=i,i=c,c=n<s-1&&Na(t[n+1],e),i&&(r=t[n],a&&(r.cp1x=hd(r.cp1x,e.left,e.right),r.cp1y=hd(r.cp1y,e.top,e.bottom)),c&&(r.cp2x=hd(r.cp2x,e.left,e.right),r.cp2y=hd(r.cp2y,e.top,e.bottom)))}function j4(t,e,n,s,r){let i,a,c,u;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")C4(t,r);else{let h=s?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)c=t[i],u=w4(h,c,t[Math.min(i+1,a-(s?0:1))%a],e.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,h=c}e.capBezierPoints&&k4(t,n)}function c0(){return typeof window<"u"&&typeof document<"u"}function u0(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function rh(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Th=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function N4(t,e){return Th(t).getPropertyValue(e)}const T4=["top","right","bottom","left"];function ao(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=T4[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const P4=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function E4(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let a=!1,c,u;if(P4(r,i,t.target))c=r,u=i;else{const h=e.getBoundingClientRect();c=s.clientX-h.left,u=s.clientY-h.top,a=!0}return{x:c,y:u,box:a}}function Es(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=Th(n),i=r.boxSizing==="border-box",a=ao(r,"padding"),c=ao(r,"border","width"),{x:u,y:h,box:p}=E4(t,n),g=a.left+(p&&c.left),y=a.top+(p&&c.top);let{width:v,height:b}=e;return i&&(v-=a.width+c.width,b-=a.height+c.height),{x:Math.round((u-g)/v*n.width/s),y:Math.round((h-y)/b*n.height/s)}}function M4(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&u0(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),c=Th(i),u=ao(c,"border","width"),h=ao(c,"padding");e=a.width-h.width-u.width,n=a.height-h.height-u.height,s=rh(c.maxWidth,i,"clientWidth"),r=rh(c.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||nh,maxHeight:r||nh}}const fd=t=>Math.round(t*10)/10;function A4(t,e,n,s){const r=Th(t),i=ao(r,"margin"),a=rh(r.maxWidth,t,"clientWidth")||nh,c=rh(r.maxHeight,t,"clientHeight")||nh,u=M4(t,e,n);let{width:h,height:p}=u;if(r.boxSizing==="content-box"){const y=ao(r,"border","width"),v=ao(r,"padding");h-=v.width+y.width,p-=v.height+y.height}return h=Math.max(0,h-i.width),p=Math.max(0,s?h/s:p-i.height),h=fd(Math.min(h,a,u.maxWidth)),p=fd(Math.min(p,c,u.maxHeight)),h&&!p&&(p=fd(h/2)),(e!==void 0||n!==void 0)&&s&&u.height&&p>u.height&&(p=u.height,h=fd(Math.floor(p*s))),{width:h,height:p}}function Eb(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||a.height!==r||a.width!==i?(t.currentDevicePixelRatio=s,a.height=r,a.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const R4=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};c0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Mb(t,e){const n=N4(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Hi(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function D4(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function O4(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=Hi(t,r,n),c=Hi(r,i,n),u=Hi(i,e,n),h=Hi(a,c,n),p=Hi(c,u,n);return Hi(h,p,n)}const L4=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},I4=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function fa(t,e,n){return t?L4(e,n):I4()}function e_(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function t_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function n_(t){return t==="angle"?{between:gc,compare:LA,normalize:Dn}:{between:ar,compare:(e,n)=>e-n,normalize:e=>e}}function Ab({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function F4(t,e,n){const{property:s,start:r,end:i}=n,{between:a,normalize:c}=n_(s),u=e.length;let{start:h,end:p,loop:g}=t,y,v;if(g){for(h+=u,p+=u,y=0,v=u;y<v&&a(c(e[h%u][s]),r,i);++y)h--,p--;h%=u,p%=u}return p<h&&(p+=u),{start:h,end:p,loop:g,style:t.style}}function s_(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,a=e.length,{compare:c,between:u,normalize:h}=n_(s),{start:p,end:g,loop:y,style:v}=F4(t,e,n),b=[];let _=!1,S=null,C,N,P;const A=()=>u(r,P,C)&&c(r,P)!==0,M=()=>c(i,C)===0||u(i,P,C),R=()=>_||A(),z=()=>!_||M();for(let B=p,V=p;B<=g;++B)N=e[B%a],!N.skip&&(C=h(N[s]),C!==P&&(_=u(C,r,i),S===null&&R()&&(S=c(C,r)===0?B:V),S!==null&&z()&&(b.push(Ab({start:S,end:B,loop:y,count:a,style:v})),S=null),V=B,P=C));return S!==null&&b.push(Ab({start:S,end:g,loop:y,count:a,style:v})),b}function r_(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=s_(s[r],t.points,e);i.length&&n.push(...i)}return n}function z4(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function V4(t,e,n,s){const r=t.length,i=[];let a=e,c=t[e],u;for(u=e+1;u<=n;++u){const h=t[u%r];h.skip||h.stop?c.skip||(s=!1,i.push({start:e%r,end:(u-1)%r,loop:s}),e=a=h.stop?u:null):(a=u,c.skip&&(e=u)),c=h}return a!==null&&i.push({start:e%r,end:a%r,loop:s}),i}function B4(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:a,end:c}=z4(n,r,i,s);if(s===!0)return Rb(t,[{start:a,end:c,loop:i}],n,e);const u=c<a?c+r:c,h=!!t._fullLoop&&a===0&&c===r-1;return Rb(t,V4(n,a,u,h),n,e)}function Rb(t,e,n,s){return!s||!s.setContext||!n?e:U4(t,e,n,s)}function U4(t,e,n,s){const r=t._chart.getContext(),i=Db(t.options),{_datasetIndex:a,options:{spanGaps:c}}=t,u=n.length,h=[];let p=i,g=e[0].start,y=g;function v(b,_,S,C){const N=c?-1:1;if(b!==_){for(b+=u;n[b%u].skip;)b-=N;for(;n[_%u].skip;)_+=N;b%u!==_%u&&(h.push({start:b%u,end:_%u,loop:S,style:C}),p=C,g=_%u)}}for(const b of e){g=c?g:b.start;let _=n[g%u],S;for(y=g+1;y<=b.end;y++){const C=n[y%u];S=Db(s.setContext(wo(r,{type:"segment",p0:_,p1:C,p0DataIndex:(y-1)%u,p1DataIndex:y%u,datasetIndex:a}))),$4(S,p)&&v(g,y-1,b.loop,p),_=C,p=S}g<y-1&&v(g,y-1,b.loop,p)}return h}function Db(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function $4(t,e){if(!e)return!1;const n=[],s=function(r,i){return s0(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function pd(t,e,n){return t.options.clip?t[n]:e[n]}function H4(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:pd(n,e,"left"),right:pd(n,e,"right"),top:pd(s,e,"top"),bottom:pd(s,e,"bottom")}:e}function i_(t,e){const n=e._clip;if(n.disabled)return!1;const s=H4(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class W4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],a=n.duration;i.forEach(c=>c({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(s-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=HS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let a=i.length-1,c=!1,u;for(;a>=0;--a)u=i[a],u._active?(u._total>s.duration&&(s.duration=u._total),u.tick(e),c=!0):(i[a]=i[i.length-1],i.pop());c&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var er=new W4;const Ob="transparent",q4={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Cb(t||Ob),r=s.valid&&Cb(e||Ob);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Y4{constructor(e,n,s,r){const i=n[s];r=st([e.to,r,i,e.from]);const a=st([e.from,i,r]);this._active=!0,this._fn=e.fn||q4[e.type||typeof a],this._easing=Ql[e.easing]||Ql.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,a=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=st([e.to,n,r,e.from]),this._from=st([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,a=this._loop,c=this._to;let u;if(this._active=i!==c&&(a||n<s),!this._active){this._target[r]=c,this._notify(!0);return}if(n<0){this._target[r]=i;return}u=n/s%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(i,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class o_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ue(e))return;const n=Object.keys(mt.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!Ue(i))return;const a={};for(const c of n)a[c]=i[c];(_t(i.properties)&&i.properties||[r]).forEach(c=>{(c===r||!s.has(c))&&s.set(c,a)})})}_animateOptions(e,n){const s=n.options,r=X4(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&K4(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),c=Date.now();let u;for(u=a.length-1;u>=0;--u){const h=a[u];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(e,n));continue}const p=n[h];let g=i[h];const y=s.get(h);if(g)if(y&&g.active()){g.update(y,p,c);continue}else g.cancel();if(!y||!y.duration){e[h]=p;continue}i[h]=g=new Y4(y,e,h,p),r.push(g)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return er.add(this._chart,s),!0}}function K4(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function X4(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Lb(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function Q4(t,e,n){if(n===!1)return!1;const s=Lb(t,n),r=Lb(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function G4(t){let e,n,s,r;return Ue(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function a_(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function Ib(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let a,c,u,h;if(e===null)return;let p=!1;for(a=0,c=r.length;a<c;++a){if(u=+r[a],u===n){if(p=!0,s.all)continue;break}h=t.values[u],Jt(h)&&(i||e===0||Xn(e)===Xn(h))&&(e+=h)}return!p&&!s.all?0:e}function Z4(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",a=Object.keys(t),c=new Array(a.length);let u,h,p;for(u=0,h=a.length;u<h;++u)p=a[u],c[u]={[r]:p,[i]:t[p]};return c}function $p(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function J4(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function eR(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function tR(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Fb(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function zb(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:c}=s,u=i.axis,h=a.axis,p=J4(i,a,s),g=e.length;let y;for(let v=0;v<g;++v){const b=e[v],{[u]:_,[h]:S}=b,C=b._stacks||(b._stacks={});y=C[h]=tR(r,p,_),y[c]=S,y._top=Fb(y,a,!0,s.type),y._bottom=Fb(y,a,!1,s.type);const N=y._visualValues||(y._visualValues={});N[c]=S}}function Hp(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function nR(t,e){return wo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function sR(t,e,n){return wo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Il(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const Wp=t=>t==="reset"||t==="none",Vb=(t,e)=>e?t:Object.assign({},t),rR=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:a_(n,!0),values:null};class lo{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$p(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Il(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(g,y,v,b)=>g==="x"?y:g==="r"?b:v,i=n.xAxisID=Re(s.xAxisID,Hp(e,"x")),a=n.yAxisID=Re(s.yAxisID,Hp(e,"y")),c=n.rAxisID=Re(s.rAxisID,Hp(e,"r")),u=n.indexAxis,h=n.iAxisID=r(u,i,a,c),p=n.vAxisID=r(u,a,i,c);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&wb(this._data,this),e._stacked&&Il(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Ue(n)){const r=this._cachedMeta;this._data=Z4(n,r)}else if(s!==n){if(s){wb(s,this);const r=this._cachedMeta;Il(r),r._parsed=[]}n&&Object.isExtensible(n)&&VA(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=$p(n.vScale,n),n.stack!==s.stack&&(r=!0,Il(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(zb(this,n._parsed),n._stacked=$p(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:a}=s,c=i.axis;let u=e===0&&n===r.length?!0:s._sorted,h=e>0&&s._parsed[e-1],p,g,y;if(this._parsing===!1)s._parsed=r,s._sorted=!0,y=r;else{_t(r[e])?y=this.parseArrayData(s,r,e,n):Ue(r[e])?y=this.parseObjectData(s,r,e,n):y=this.parsePrimitiveData(s,r,e,n);const v=()=>g[c]===null||h&&g[c]<h[c];for(p=0;p<n;++p)s._parsed[p+e]=g=y[p],u&&(v()&&(u=!1),h=g);s._sorted=u}a&&zb(this,y)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:a}=e,c=i.axis,u=a.axis,h=i.getLabels(),p=i===a,g=new Array(r);let y,v,b;for(y=0,v=r;y<v;++y)b=y+s,g[y]={[c]:p||i.parse(h[b],b),[u]:a.parse(n[b],b)};return g}parseArrayData(e,n,s,r){const{xScale:i,yScale:a}=e,c=new Array(r);let u,h,p,g;for(u=0,h=r;u<h;++u)p=u+s,g=n[p],c[u]={x:i.parse(g[0],p),y:a.parse(g[1],p)};return c}parseObjectData(e,n,s,r){const{xScale:i,yScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=new Array(r);let p,g,y,v;for(p=0,g=r;p<g;++p)y=p+s,v=n[y],h[p]={x:i.parse(fo(v,c),y),y:a.parse(fo(v,u),y)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,a=n[e.axis],c={keys:a_(r,!0),values:n._stacks[e.axis]._visualValues};return Ib(c,a,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let a=i===null?NaN:i;const c=r&&s._stacks[n.axis];r&&c&&(r.values=c,a=Ib(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,a=r.length,c=this._getOtherScale(e),u=rR(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=eR(c);let y,v;function b(){v=r[y];const _=v[c.axis];return!Jt(v[e.axis])||p>_||g<_}for(y=0;y<a&&!(!b()&&(this.updateRangeFromParsed(h,e,v,u),i));++y);if(i){for(y=a-1;y>=0;--y)if(!b()){this.updateRangeFromParsed(h,e,v,u);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,a;for(r=0,i=n.length;r<i;++r)a=n[r][e.axis],Jt(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=G4(Re(this.options.clip,Q4(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||r.length-c,h=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(e,i,c,u),p=c;p<c+u;++p){const g=r[p];g.hidden||(g.active&&h?a.push(g):g.draw(e,i))}for(p=0;p<a.length;++p)a[p].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=sR(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=nR(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,a=e+"-"+n,c=i[a],u=this.enableOptionSharing&&pc(s);if(c)return Vb(c,u);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,e),g=r?[`${e}Hover`,"hover",e,""]:[e,""],y=h.getOptionScopes(this.getDataset(),p),v=Object.keys(mt.elements[e]),b=()=>this.getContext(s,r,n),_=h.resolveNamedOptions(y,v,b,g);return _.$shared&&(_.$shared=u,i[a]=Object.freeze(Vb(_,u))),_}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,c=i[a];if(c)return c;let u;if(r.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),y=p.getOptionScopes(this.getDataset(),g);u=p.createResolver(y,this.getContext(e,s,n))}const h=new o_(r,u&&u.animations);return u&&u._cacheable&&(i[a]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Wp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),a=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:a}}updateElement(e,n,s,r){Wp(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!Wp(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[c,u,h]of this._syncList)this[c](u,h);this._syncList=[];const r=s.length,i=n.length,a=Math.min(i,r);a&&this.parse(0,a),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,a=e+n;let c;const u=h=>{for(h.length+=n,c=h.length-1;c>=a;c--)h[c]=h[c-n]};for(u(i),c=e;c<a;++c)i[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&Il(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}xe(lo,"defaults",{}),xe(lo,"datasetElementType",null),xe(lo,"dataElementType",null);function iR(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=$S(s.sort((r,i)=>r-i))}return t._cache.$bar}function oR(t){const e=t.iScale,n=iR(e,t.type);let s=e._length,r,i,a,c;const u=()=>{a===32767||a===-32768||(pc(c)&&(s=Math.min(s,Math.abs(a-c)||s)),c=a)};for(r=0,i=n.length;r<i;++r)a=e.getPixelForValue(n[r]),u();for(c=void 0,r=0,i=e.ticks.length;r<i;++r)a=e.getPixelForTick(r),u();return s}function aR(t,e,n,s){const r=n.barThickness;let i,a;return We(r)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=r*s,a=1),{chunk:i/s,ratio:a,start:e.pixels[t]-i/2}}function lR(t,e,n,s){const r=e.pixels,i=r[t];let a=t>0?r[t-1]:null,c=t<r.length-1?r[t+1]:null;const u=n.categoryPercentage;a===null&&(a=i-(c===null?e.end-e.start:c-i)),c===null&&(c=i+i-a);const h=i-(i-Math.min(a,c))/2*u;return{chunk:Math.abs(c-a)/2*u/s,ratio:n.barPercentage,start:h}}function cR(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),a=Math.min(r,i),c=Math.max(r,i);let u=a,h=c;Math.abs(a)>Math.abs(c)&&(u=c,h=a),e[n.axis]=h,e._custom={barStart:u,barEnd:h,start:r,end:i,min:a,max:c}}function l_(t,e,n,s){return _t(t)?cR(t,e,n,s):e[n.axis]=n.parse(t,s),e}function Bb(t,e,n,s){const r=t.iScale,i=t.vScale,a=r.getLabels(),c=r===i,u=[];let h,p,g,y;for(h=n,p=n+s;h<p;++h)y=e[h],g={},g[r.axis]=c||r.parse(a[h],h),u.push(l_(y,g,i,h));return u}function qp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function uR(t,e,n){return t!==0?Xn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function dR(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function hR(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:c,reverse:u,top:h,bottom:p}=dR(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=h:(n._bottom||0)===s?r=p:(i[Ub(p,a,c,u)]=!0,r=h)),i[Ub(r,a,c,u)]=!0,t.borderSkipped=i}function Ub(t,e,n,s){return s?(t=fR(t,e,n),t=$b(t,n,e)):t=$b(t,e,n),t}function fR(t,e,n){return t===e?n:t===n?e:t}function $b(t,e,n){return t==="start"?e:t==="end"?n:t}function pR(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Zl extends lo{parsePrimitiveData(e,n,s,r){return Bb(e,n,s,r)}parseArrayData(e,n,s,r){return Bb(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=i.axis==="x"?c:u,p=a.axis==="x"?c:u,g=[];let y,v,b,_;for(y=s,v=s+r;y<v;++y)_=n[y],b={},b[i.axis]=i.parse(fo(_,h),y),g.push(l_(fo(_,p),b,a,y));return g}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),a=i._custom,c=qp(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:a,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),h=c.isHorizontal(),p=this._getRuler(),{sharedOptions:g,includeOptions:y}=this._getSharedOptions(n,r);for(let v=n;v<n+s;v++){const b=this.getParsed(v),_=i||We(b[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),S=this._calculateBarIndexPixels(v,p),C=(b._stacks||{})[c.axis],N={horizontal:h,base:_.base,enableBorderRadius:!C||qp(b._custom)||a===C._top||a===C._bottom,x:h?_.head:S.center,y:h?S.center:_.head,height:h?S.size:Math.abs(_.size),width:h?Math.abs(_.size):S.size};y&&(N.options=g||this.resolveDataElementOptions(v,e[v].active?"active":r));const P=N.options||e[v].options;hR(N,P,C,a),pR(N,P,p.ratio),this.updateElement(e[v],v,N,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),i=s.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(n),u=c&&c[s.axis],h=p=>{const g=p._parsed.find(v=>v[s.axis]===u),y=g&&g[p.vScale.axis];if(We(y)||isNaN(y))return!0};for(const p of r)if(!(n!==void 0&&h(p))&&((i===!1||a.indexOf(p.stack)===-1||i===void 0&&p.stack===void 0)&&a.push(p.stack),p.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Re(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,a;for(i=0,a=n.data.length;i<a;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const c=e.barThickness;return{min:c||oR(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:a}}=this,c=i||0,u=this.getParsed(e),h=u._custom,p=qp(h);let g=u[n.axis],y=0,v=s?this.applyStack(n,u,s):g,b,_;v!==g&&(y=v-g,v=g),p&&(g=h.barStart,v=h.barEnd-h.barStart,g!==0&&Xn(g)!==Xn(h.barEnd)&&(y=0),y+=g);const S=!We(i)&&!p?i:y;let C=n.getPixelForValue(S);if(this.chart.getDataVisibility(e)?b=n.getPixelForValue(y+v):b=C,_=b-C,Math.abs(_)<a){_=uR(_,n,c)*a,g===c&&(C-=_/2);const N=n.getPixelForDecimal(0),P=n.getPixelForDecimal(1),A=Math.min(N,P),M=Math.max(N,P);C=Math.max(Math.min(C,M),A),b=C+_,s&&!p&&(u._stacks[n.axis]._visualValues[r]=n.getValueForPixel(b)-n.getValueForPixel(C))}if(C===n.getPixelForValue(c)){const N=Xn(_)*n.getLineWidthForValue(c)/2;C+=N,_-=N}return{size:_,base:C,head:b,center:b+_/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,a=Re(r.maxBarThickness,1/0);let c,u;const h=this._getAxisCount();if(n.grouped){const p=i?this._getStackCount(e):n.stackCount,g=r.barThickness==="flex"?lR(e,n,r,p*h):aR(e,n,r,p*h),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Re(y,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+v;c=g.start+g.chunk*b+g.chunk/2,u=Math.min(a,g.chunk*g.ratio)}else c=s.getPixelForValue(this.getParsed(e)[s.axis],e),u=Math.min(a,n.min*n.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}xe(Zl,"id","bar"),xe(Zl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),xe(Zl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function mR(t,e,n){let s=1,r=1,i=0,a=0;if(e<ut){const c=t,u=c+e,h=Math.cos(c),p=Math.sin(c),g=Math.cos(u),y=Math.sin(u),v=(P,A,M)=>gc(P,c,u,!0)?1:Math.max(A,A*n,M,M*n),b=(P,A,M)=>gc(P,c,u,!0)?-1:Math.min(A,A*n,M,M*n),_=v(0,h,g),S=v(At,p,y),C=b(Qe,h,g),N=b(Qe+At,p,y);s=(_-C)/2,r=(S-N)/2,i=-(_+C)/2,a=-(S+N)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:a}}class oa extends lo{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=u=>+s[u];if(Ue(s[e])){const{key:u="value"}=this._parsing;i=h=>+fo(s[h],u)}let a,c;for(a=e,c=e+n;a<c;++a)r._parsed[a]=i(a)}}_getRotation(){return or(this.options.rotation-90)}_getCircumference(){return or(this.options.circumference)}_getRotationExtents(){let e=ut,n=-ut;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,c=Math.max((Math.min(s.width,s.height)-a)/2,0),u=Math.min(_A(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:p,rotation:g}=this._getRotationExtents(),{ratioX:y,ratioY:v,offsetX:b,offsetY:_}=mR(g,p,u),S=(s.width-a)/y,C=(s.height-a)/v,N=Math.max(Math.min(S,C)/2,0),P=FS(this.options.radius,N),A=Math.max(P*u,0),M=(P-A)/this._getVisibleDatasetWeightTotal();this.offsetX=b*P,this.offsetY=_*P,r.total=this.calculateTotal(),this.outerRadius=P-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*h,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/ut)}updateElements(e,n,s,r){const i=r==="reset",a=this.chart,c=a.chartArea,h=a.options.animation,p=(c.left+c.right)/2,g=(c.top+c.bottom)/2,y=i&&h.animateScale,v=y?0:this.innerRadius,b=y?0:this.outerRadius,{sharedOptions:_,includeOptions:S}=this._getSharedOptions(n,r);let C=this._getRotation(),N;for(N=0;N<n;++N)C+=this._circumference(N,i);for(N=n;N<n+s;++N){const P=this._circumference(N,i),A=e[N],M={x:p+this.offsetX,y:g+this.offsetY,startAngle:C,endAngle:C+P,circumference:P,outerRadius:b,innerRadius:v};S&&(M.options=_||this.resolveDataElementOptions(N,A.active?"active":r)),C+=P,this.updateElement(A,N,M,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,r;for(r=0;r<n.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ut*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=r0(n._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const s=this.chart;let r,i,a,c,u;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){a=s.getDatasetMeta(r),e=a.data,c=a.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Re(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}xe(oa,"id","doughnut"),xe(oa,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),xe(oa,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),xe(oa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=e.legend.options;return n.labels.map((i,a)=>{const u=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class Vd extends lo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:c,count:u}=$A(n,r,a);this._drawStart=c,this._drawCount=u,HA(n)&&(c=0,u=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:h},e),this.updateElements(r,c,u,e)}updateElements(e,n,s,r){const i=r==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,r),y=a.axis,v=c.axis,{spanGaps:b,segment:_}=this.options,S=mc(b)?b:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||i||r==="none",N=n+s,P=e.length;let A=n>0&&this.getParsed(n-1);for(let M=0;M<P;++M){const R=e[M],z=C?R:{};if(M<n||M>=N){z.skip=!0;continue}const B=this.getParsed(M),V=We(B[v]),$=z[y]=a.getPixelForValue(B[y],M),G=z[v]=i||V?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,B,u):B[v],M);z.skip=isNaN($)||isNaN(G)||V,z.stop=M>0&&Math.abs(B[y]-A[y])>S,_&&(z.parsed=B,z.raw=h.data[M]),g&&(z.options=p||this.resolveDataElementOptions(M,R.active?"active":r)),C||this.updateElement(R,M,z,r),A=B}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}xe(Vd,"id","line"),xe(Vd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),xe(Vd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Fm extends oa{}xe(Fm,"id","pie"),xe(Fm,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Vi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class d0{constructor(e){xe(this,"options");this.options=e||{}}static override(e){Object.assign(d0.prototype,e)}init(){}formats(){return Vi()}parse(){return Vi()}format(){return Vi()}add(){return Vi()}diff(){return Vi()}startOf(){return Vi()}endOf(){return Vi()}}var gR={_date:d0};function yR(t,e,n,s){const{controller:r,data:i,_sorted:a}=t,c=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&a&&i.length){const h=c._reversePixels?FA:Yi;if(s){if(r._sharedOptions){const p=i[0],g=typeof p.getRange=="function"&&p.getRange(e);if(g){const y=h(i,e,n-g),v=h(i,e,n+g);return{lo:y.lo,hi:v.hi}}}}else{const p=h(i,e,n);if(u){const{vScale:g}=r._cachedMeta,{_parsed:y}=t,v=y.slice(0,p.lo+1).reverse().findIndex(_=>!We(_[g.axis]));p.lo-=Math.max(0,v);const b=y.slice(p.hi).findIndex(_=>!We(_[g.axis]));p.hi+=Math.max(0,b)}return p}}return{lo:0,hi:i.length-1}}function Ph(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let c=0,u=i.length;c<u;++c){const{index:h,data:p}=i[c],{lo:g,hi:y}=yR(i[c],e,a,r);for(let v=g;v<=y;++v){const b=p[v];b.skip||s(b,h,v)}}}function xR(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,a=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Yp(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||Ph(t,n,e,function(c,u,h){!r&&!Na(c,t.chartArea,0)||c.inRange(e.x,e.y,s)&&i.push({element:c,datasetIndex:u,index:h})},!0),i}function vR(t,e,n,s){let r=[];function i(a,c,u){const{startAngle:h,endAngle:p}=a.getProps(["startAngle","endAngle"],s),{angle:g}=BS(a,{x:e.x,y:e.y});gc(g,h,p)&&r.push({element:a,datasetIndex:c,index:u})}return Ph(t,n,e,i),r}function bR(t,e,n,s,r,i){let a=[];const c=xR(n);let u=Number.POSITIVE_INFINITY;function h(p,g,y){const v=p.inRange(e.x,e.y,r);if(s&&!v)return;const b=p.getCenterPoint(r);if(!(!!i||t.isPointInArea(b))&&!v)return;const S=c(e,b);S<u?(a=[{element:p,datasetIndex:g,index:y}],u=S):S===u&&a.push({element:p,datasetIndex:g,index:y})}return Ph(t,n,e,h),a}function Kp(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?vR(t,e,n,r):bR(t,e,n,s,r,i)}function Hb(t,e,n,s,r){const i=[],a=n==="x"?"inXRange":"inYRange";let c=!1;return Ph(t,n,e,(u,h,p)=>{u[a]&&u[a](e[n],r)&&(i.push({element:u,datasetIndex:h,index:p}),c=c||u.inRange(e.x,e.y,r))}),s&&!c?[]:i}var wR={modes:{index(t,e,n,s){const r=Es(e,t),i=n.axis||"x",a=n.includeInvisible||!1,c=n.intersect?Yp(t,r,i,s,a):Kp(t,r,i,!1,s,a),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const p=c[0].index,g=h.data[p];g&&!g.skip&&u.push({element:g,datasetIndex:h.index,index:p})}),u):[]},dataset(t,e,n,s){const r=Es(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let c=n.intersect?Yp(t,r,i,s,a):Kp(t,r,i,!1,s,a);if(c.length>0){const u=c[0].datasetIndex,h=t.getDatasetMeta(u).data;c=[];for(let p=0;p<h.length;++p)c.push({element:h[p],datasetIndex:u,index:p})}return c},point(t,e,n,s){const r=Es(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Yp(t,r,i,s,a)},nearest(t,e,n,s){const r=Es(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Kp(t,r,i,n.intersect,s,a)},x(t,e,n,s){const r=Es(e,t);return Hb(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=Es(e,t);return Hb(t,r,"y",n.intersect,s)}}};const c_=["left","top","right","bottom"];function Fl(t,e){return t.filter(n=>n.pos===e)}function Wb(t,e){return t.filter(n=>c_.indexOf(n.pos)===-1&&n.box.axis===e)}function zl(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function SR(t){const e=[];let n,s,r,i,a,c;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:a,stackWeight:c=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&i+a,stackWeight:c});return e}function _R(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!c_.includes(r))continue;const a=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function CR(t,e){const n=_R(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,a,c;for(i=0,a=t.length;i<a;++i){c=t[i];const{fullSize:u}=c.box,h=n[c.stack],p=h&&c.stackWeight/h.weight;c.horizontal?(c.width=p?p*s:u&&e.availableWidth,c.height=r):(c.width=s,c.height=p?p*r:u&&e.availableHeight)}return n}function kR(t){const e=SR(t),n=zl(e.filter(h=>h.box.fullSize),!0),s=zl(Fl(e,"left"),!0),r=zl(Fl(e,"right")),i=zl(Fl(e,"top"),!0),a=zl(Fl(e,"bottom")),c=Wb(e,"x"),u=Wb(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(u).concat(a).concat(c),chartArea:Fl(e,"chartArea"),vertical:s.concat(r).concat(u),horizontal:i.concat(a).concat(c)}}function qb(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function u_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function jR(t,e,n,s){const{pos:r,box:i}=n,a=t.maxPadding;if(!Ue(r)){n.size&&(t[r]-=n.size);const g=s[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?i.height:i.width),n.size=g.size/g.count,t[r]+=n.size}i.getPadding&&u_(a,i.getPadding());const c=Math.max(0,e.outerWidth-qb(a,t,"left","right")),u=Math.max(0,e.outerHeight-qb(a,t,"top","bottom")),h=c!==t.w,p=u!==t.h;return t.w=c,t.h=u,n.horizontal?{same:h,other:p}:{same:p,other:h}}function NR(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function TR(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return s(t?["left","right"]:["top","bottom"])}function Wl(t,e,n,s){const r=[];let i,a,c,u,h,p;for(i=0,a=t.length,h=0;i<a;++i){c=t[i],u=c.box,u.update(c.width||e.w,c.height||e.h,TR(c.horizontal,e));const{same:g,other:y}=jR(e,n,c,s);h|=g&&r.length,p=p||y,u.fullSize||r.push(c)}return h&&Wl(r,e,n,s)||p}function md(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function Yb(t,e,n,s){const r=n.padding;let{x:i,y:a}=e;for(const c of t){const u=c.box,h=s[c.stack]||{placed:0,weight:1},p=c.stackWeight/h.weight||1;if(c.horizontal){const g=e.w*p,y=h.size||u.height;pc(h.start)&&(a=h.start),u.fullSize?md(u,r.left,a,n.outerWidth-r.right-r.left,y):md(u,e.left+h.placed,a,g,y),h.start=a,h.placed+=g,a=u.bottom}else{const g=e.h*p,y=h.size||u.width;pc(h.start)&&(i=h.start),u.fullSize?md(u,i,r.top,y,n.outerHeight-r.bottom-r.top):md(u,i,e.top+h.placed,y,g),h.start=i,h.placed+=g,i=u.right}}e.x=i,e.y=a}var Kn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=Ln(t.options.layout.padding),i=Math.max(e-r.width,0),a=Math.max(n-r.height,0),c=kR(t.boxes),u=c.vertical,h=c.horizontal;Ve(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const p=u.reduce((_,S)=>S.box.options&&S.box.options.display===!1?_:_+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/p,hBoxMaxHeight:a/2}),y=Object.assign({},r);u_(y,Ln(s));const v=Object.assign({maxPadding:y,w:i,h:a,x:r.left,y:r.top},r),b=CR(u.concat(h),g);Wl(c.fullSize,v,g,b),Wl(u,v,g,b),Wl(h,v,g,b)&&Wl(u,v,g,b),NR(v),Yb(c.leftAndTop,v,g,b),v.x+=v.w,v.y+=v.h,Yb(c.rightAndBottom,v,g,b),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Ve(c.chartArea,_=>{const S=_.box;Object.assign(S,t.chartArea),S.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class d_{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class PR extends d_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Bd="$chartjs",ER={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kb=t=>t===null||t==="";function MR(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[Bd]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Kb(r)){const i=Mb(t,"width");i!==void 0&&(t.width=i)}if(Kb(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Mb(t,"height");i!==void 0&&(t.height=i)}return t}const h_=R4?{passive:!0}:!1;function AR(t,e,n){t&&t.addEventListener(e,n,h_)}function RR(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,h_)}function DR(t,e){const n=ER[t.type]||t.type,{x:s,y:r}=Es(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function ih(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function OR(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let a=!1;for(const c of i)a=a||ih(c.addedNodes,s),a=a&&!ih(c.removedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function LR(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let a=!1;for(const c of i)a=a||ih(c.removedNodes,s),a=a&&!ih(c.addedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const xc=new Map;let Xb=0;function f_(){const t=window.devicePixelRatio;t!==Xb&&(Xb=t,xc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function IR(t,e){xc.size||window.addEventListener("resize",f_),xc.set(t,e)}function FR(t){xc.delete(t),xc.size||window.removeEventListener("resize",f_)}function zR(t,e,n){const s=t.canvas,r=s&&u0(s);if(!r)return;const i=WS((c,u)=>{const h=r.clientWidth;n(c,u),h<r.clientWidth&&n()},window),a=new ResizeObserver(c=>{const u=c[0],h=u.contentRect.width,p=u.contentRect.height;h===0&&p===0||i(h,p)});return a.observe(r),IR(t,i),a}function Xp(t,e,n){n&&n.disconnect(),e==="resize"&&FR(t)}function VR(t,e,n){const s=t.canvas,r=WS(i=>{t.ctx!==null&&n(DR(i,t))},t);return AR(s,e,r),r}class BR extends d_{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(MR(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Bd])return!1;const s=n[Bd].initial;["height","width"].forEach(i=>{const a=s[i];We(a)?n.removeAttribute(i):n.setAttribute(i,a)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Bd],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:OR,detach:LR,resize:zR}[n]||VR;r[n]=a(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:Xp,detach:Xp,resize:Xp}[n]||RR)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return A4(e,n,s,r)}isAttached(e){const n=e&&u0(e);return!!(n&&n.isConnected)}}function UR(t){return!c0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?PR:BR}var Rd;let xr=(Rd=class{constructor(){xe(this,"x");xe(this,"y");xe(this,"active",!1);xe(this,"options");xe(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return mc(this.x)&&mc(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}},xe(Rd,"defaults",{}),xe(Rd,"defaultRoutes"),Rd);function $R(t,e){const n=t.options.ticks,s=HR(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?qR(e):[],a=i.length,c=i[0],u=i[a-1],h=[];if(a>r)return YR(e,h,i,a/r),h;const p=WR(i,e,r);if(a>0){let g,y;const v=a>1?Math.round((u-c)/(a-1)):null;for(gd(e,h,p,We(v)?0:c-v,c),g=0,y=a-1;g<y;g++)gd(e,h,p,i[g],i[g+1]);return gd(e,h,p,u,We(v)?e.length:u+v),h}return gd(e,h,p),h}function HR(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function WR(t,e,n){const s=KR(t),r=e.length/n;if(!s)return Math.max(r,1);const i=MA(s);for(let a=0,c=i.length-1;a<c;a++){const u=i[a];if(u>r)return u}return Math.max(r,1)}function qR(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function YR(t,e,n,s){let r=0,i=n[0],a;for(s=Math.ceil(s),a=0;a<t.length;a++)a===i&&(e.push(t[a]),r++,i=n[r*s])}function gd(t,e,n,s,r){const i=Re(s,0),a=Math.min(Re(r,t.length),t.length);let c=0,u,h,p;for(n=Math.ceil(n),r&&(u=r-s,n=u/Math.floor(u/n)),p=i;p<0;)c++,p=Math.round(i+c*n);for(h=Math.max(i,0);h<a;h++)h===p&&(e.push(t[h]),c++,p=Math.round(i+c*n))}function KR(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const XR=t=>t==="left"?"right":t==="right"?"left":t,Qb=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Gb=(t,e)=>Math.min(e||t,t);function Zb(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function QR(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,a=t._endPixel,c=1e-6;let u=t.getPixelForTick(r),h;if(!(n&&(s===1?h=Math.max(u-i,a-u):e===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(r-1))/2,u+=r<e?h:-h,u<i-c||u>a+c)))return u}function GR(t,e){Ve(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function Vl(t){return t.drawTicks?t.tickLength:0}function Jb(t,e){if(!t.display)return 0;const n=Vt(t.font,e),s=Ln(t.padding);return(_t(t.text)?t.text.length:1)*n.lineHeight+s.height}function ZR(t,e){return wo(t,{scale:e,type:"scale"})}function JR(t,e,n){return wo(t,{tick:n,index:e,type:"tick"})}function e3(t,e,n){let s=n0(t);return(n&&e!=="right"||!n&&e==="right")&&(s=XR(s)),s}function t3(t,e,n,s){const{top:r,left:i,bottom:a,right:c,chart:u}=t,{chartArea:h,scales:p}=u;let g=0,y,v,b;const _=a-r,S=c-i;if(t.isHorizontal()){if(v=Xt(s,i,c),Ue(n)){const C=Object.keys(n)[0],N=n[C];b=p[C].getPixelForValue(N)+_-e}else n==="center"?b=(h.bottom+h.top)/2+_-e:b=Qb(t,n,e);y=c-i}else{if(Ue(n)){const C=Object.keys(n)[0],N=n[C];v=p[C].getPixelForValue(N)-S+e}else n==="center"?v=(h.left+h.right)/2-S+e:v=Qb(t,n,e);b=Xt(s,a,r),g=n==="left"?-At:At}return{titleX:v,titleY:b,maxWidth:y,rotation:g}}class Ia extends xr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=Cs(e,Number.POSITIVE_INFINITY),n=Cs(n,Number.NEGATIVE_INFINITY),s=Cs(s,Number.POSITIVE_INFINITY),r=Cs(r,Number.NEGATIVE_INFINITY),{min:Cs(e,s),max:Cs(n,r),minDefined:Jt(e),maxDefined:Jt(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),a;if(r&&i)return{min:n,max:s};const c=this.getMatchingVisibleMetas();for(let u=0,h=c.length;u<h;++u)a=c[u].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),i||(s=Math.max(s,a.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:Cs(n,Cs(s,n)),max:Cs(s,Cs(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ne(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=u4(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?Zb(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=$R(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ne(this.options.afterUpdate,[this])}beforeSetDimensions(){Ne(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ne(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ne(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ne(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=Ne(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){Ne(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ne(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Gb(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let a=r,c,u,h;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),g=p.widest.width,y=p.highest.height,v=Gt(this.chart.width-g,0,this.maxWidth);c=e.offset?this.maxWidth/s:v/(s-1),g+6>c&&(c=v/(s-(e.offset?.5:1)),u=this.maxHeight-Vl(e.grid)-n.padding-Jb(e.title,this.chart.options.font),h=Math.sqrt(g*g+y*y),a=OA(Math.min(Math.asin(Gt((p.highest.height+6)/c,-1,1)),Math.asin(Gt(u/h,-1,1))-Math.asin(Gt(y/h,-1,1)))),a=Math.max(r,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ne(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ne(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const u=Jb(r,n.options.font);if(c?(e.width=this.maxWidth,e.height=Vl(i)+u):(e.height=this.maxHeight,e.width=Vl(i)+u),s.display&&this.ticks.length){const{first:h,last:p,widest:g,highest:y}=this._getLabelSizes(),v=s.padding*2,b=or(this.labelRotation),_=Math.cos(b),S=Math.sin(b);if(c){const C=s.mirror?0:S*g.width+_*y.height;e.height=Math.min(this.maxHeight,e.height+C+v)}else{const C=s.mirror?0:_*g.width+S*y.height;e.width=Math.min(this.maxWidth,e.width+C+v)}this._calculatePadding(h,p,S,_)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:a},position:c}=this.options,u=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;u?h?(y=r*e.width,v=s*n.height):(y=s*e.height,v=r*n.width):i==="start"?v=n.width:i==="end"?y=e.width:i!=="inner"&&(y=e.width/2,v=n.width/2),this.paddingLeft=Math.max((y-p+a)*this.width/(this.width-p),0),this.paddingRight=Math.max((v-g+a)*this.width/(this.width-g),0)}else{let p=n.height/2,g=e.height/2;i==="start"?(p=0,g=e.height):i==="end"&&(p=n.height,g=0),this.paddingTop=p+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ne(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)We(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Zb(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,a=[],c=[],u=Math.floor(n/Gb(n,s));let h=0,p=0,g,y,v,b,_,S,C,N,P,A,M;for(g=0;g<n;g+=u){if(b=e[g].label,_=this._resolveTickFontOptions(g),r.font=S=_.string,C=i[S]=i[S]||{data:{},gc:[]},N=_.lineHeight,P=A=0,!We(b)&&!_t(b))P=jb(r,C.data,C.gc,P,b),A=N;else if(_t(b))for(y=0,v=b.length;y<v;++y)M=b[y],!We(M)&&!_t(M)&&(P=jb(r,C.data,C.gc,P,M),A+=N);a.push(P),c.push(A),h=Math.max(P,h),p=Math.max(A,p)}GR(i,n);const R=a.indexOf(h),z=c.indexOf(p),B=V=>({width:a[V]||0,height:c[V]||0});return{first:B(0),last:B(n-1),widest:B(R),highest:B(z),widths:a,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return IA(this._alignToPixels?zi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=JR(this.getContext(),e,s))}return this.$context||(this.$context=ZR(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=or(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,c=i?i.widest.width+a:0,u=i?i.highest.height+a:0;return this.isHorizontal()?u*s>c*r?c/s:u/r:u*r<c*s?u/s:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:a,border:c}=r,u=i.offset,h=this.isHorizontal(),g=this.ticks.length+(u?1:0),y=Vl(i),v=[],b=c.setContext(this.getContext()),_=b.display?b.width:0,S=_/2,C=function(me){return zi(s,me,_)};let N,P,A,M,R,z,B,V,$,G,ne,ue;if(a==="top")N=C(this.bottom),z=this.bottom-y,V=N-S,G=C(e.top)+S,ue=e.bottom;else if(a==="bottom")N=C(this.top),G=e.top,ue=C(e.bottom)-S,z=N+S,V=this.top+y;else if(a==="left")N=C(this.right),R=this.right-y,B=N-S,$=C(e.left)+S,ne=e.right;else if(a==="right")N=C(this.left),$=e.left,ne=C(e.right)-S,R=N+S,B=this.left+y;else if(n==="x"){if(a==="center")N=C((e.top+e.bottom)/2+.5);else if(Ue(a)){const me=Object.keys(a)[0],ae=a[me];N=C(this.chart.scales[me].getPixelForValue(ae))}G=e.top,ue=e.bottom,z=N+S,V=z+y}else if(n==="y"){if(a==="center")N=C((e.left+e.right)/2);else if(Ue(a)){const me=Object.keys(a)[0],ae=a[me];N=C(this.chart.scales[me].getPixelForValue(ae))}R=N-S,B=R-y,$=e.left,ne=e.right}const Q=Re(r.ticks.maxTicksLimit,g),pe=Math.max(1,Math.ceil(g/Q));for(P=0;P<g;P+=pe){const me=this.getContext(P),ae=i.setContext(me),Z=c.setContext(me),oe=ae.lineWidth,O=ae.color,X=Z.dash||[],ie=Z.dashOffset,Se=ae.tickWidth,we=ae.tickColor,$e=ae.tickBorderDash||[],De=ae.tickBorderDashOffset;A=QR(this,P,u),A!==void 0&&(M=zi(s,A,oe),h?R=B=$=ne=M:z=V=G=ue=M,v.push({tx1:R,ty1:z,tx2:B,ty2:V,x1:$,y1:G,x2:ne,y2:ue,width:oe,color:O,borderDash:X,borderDashOffset:ie,tickWidth:Se,tickColor:we,tickBorderDash:$e,tickBorderDashOffset:De}))}return this._ticksLength=g,this._borderValue=N,v}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,a=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:h,padding:p,mirror:g}=i,y=Vl(s.grid),v=y+p,b=g?-p:v,_=-or(this.labelRotation),S=[];let C,N,P,A,M,R,z,B,V,$,G,ne,ue="middle";if(r==="top")R=this.bottom-b,z=this._getXAxisLabelAlignment();else if(r==="bottom")R=this.top+b,z=this._getXAxisLabelAlignment();else if(r==="left"){const pe=this._getYAxisLabelAlignment(y);z=pe.textAlign,M=pe.x}else if(r==="right"){const pe=this._getYAxisLabelAlignment(y);z=pe.textAlign,M=pe.x}else if(n==="x"){if(r==="center")R=(e.top+e.bottom)/2+v;else if(Ue(r)){const pe=Object.keys(r)[0],me=r[pe];R=this.chart.scales[pe].getPixelForValue(me)+v}z=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")M=(e.left+e.right)/2-v;else if(Ue(r)){const pe=Object.keys(r)[0],me=r[pe];M=this.chart.scales[pe].getPixelForValue(me)}z=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(u==="start"?ue="top":u==="end"&&(ue="bottom"));const Q=this._getLabelSizes();for(C=0,N=c.length;C<N;++C){P=c[C],A=P.label;const pe=i.setContext(this.getContext(C));B=this.getPixelForTick(C)+i.labelOffset,V=this._resolveTickFontOptions(C),$=V.lineHeight,G=_t(A)?A.length:1;const me=G/2,ae=pe.color,Z=pe.textStrokeColor,oe=pe.textStrokeWidth;let O=z;a?(M=B,z==="inner"&&(C===N-1?O=this.options.reverse?"left":"right":C===0?O=this.options.reverse?"right":"left":O="center"),r==="top"?h==="near"||_!==0?ne=-G*$+$/2:h==="center"?ne=-Q.highest.height/2-me*$+$:ne=-Q.highest.height+$/2:h==="near"||_!==0?ne=$/2:h==="center"?ne=Q.highest.height/2-me*$:ne=Q.highest.height-G*$,g&&(ne*=-1),_!==0&&!pe.showLabelBackdrop&&(M+=$/2*Math.sin(_))):(R=B,ne=(1-G)*$/2);let X;if(pe.showLabelBackdrop){const ie=Ln(pe.backdropPadding),Se=Q.heights[C],we=Q.widths[C];let $e=ne-ie.top,De=0-ie.left;switch(ue){case"middle":$e-=Se/2;break;case"bottom":$e-=Se;break}switch(z){case"center":De-=we/2;break;case"right":De-=we;break;case"inner":C===N-1?De-=we:C>0&&(De-=we/2);break}X={left:De,top:$e,width:we+ie.width,height:Se+ie.height,color:pe.backdropColor}}S.push({label:A,font:V,textOffset:ne,options:{rotation:_,color:ae,strokeColor:Z,strokeWidth:oe,textAlign:O,textBaseline:ue,translation:[M,R],backdrop:X}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-or(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,a=this._getLabelSizes(),c=e+i,u=a.widest.width;let h,p;return n==="left"?r?(p=this.right+i,s==="near"?h="left":s==="center"?(h="center",p+=u/2):(h="right",p+=u)):(p=this.right-c,s==="near"?h="right":s==="center"?(h="center",p-=u/2):(h="left",p=this.left)):n==="right"?r?(p=this.left+i,s==="near"?h="right":s==="center"?(h="center",p-=u/2):(h="left",p-=u)):(p=this.left+c,s==="near"?h="left":s==="center"?(h="center",p+=u/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const c=(u,h,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(u.x,u.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(i=0,a=r.length;i<a;++i){const u=r[i];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),a=s.display?i.width:0;if(!a)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,p,g,y;this.isHorizontal()?(h=zi(e,this.left,a)-a/2,p=zi(e,this.right,c)+c/2,g=y=u):(g=zi(e,this.top,a)-a/2,y=zi(e,this.bottom,c)+c/2,h=p=u),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(h,g),n.lineTo(p,y),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&jh(s,r);const i=this.getLabelItems(e);for(const a of i){const c=a.options,u=a.font,h=a.label,p=a.textOffset;yc(s,h,0,p,u,c)}r&&Nh(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=Vt(s.font),a=Ln(s.padding),c=s.align;let u=i.lineHeight/2;n==="bottom"||n==="center"||Ue(n)?(u+=a.bottom,_t(s.text)&&(u+=i.lineHeight*(s.text.length-1))):u+=a.top;const{titleX:h,titleY:p,maxWidth:g,rotation:y}=t3(this,u,n,c);yc(e,s.text,0,0,i,{color:s.color,maxWidth:g,rotation:y,textAlign:e3(c,n,r),textBaseline:"middle",translation:[h,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Re(e.grid&&e.grid.z,-1),r=Re(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ia.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,a;for(i=0,a=n.length;i<a;++i){const c=n[i];c[s]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Vt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class yd{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;r3(n)&&(s=this.register(n));const r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,n3(e,a,s),this.override&&mt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in mt[r]&&(delete mt[r][s],this.override&&delete po[s])}}function n3(t,e,n){const s=Ls(Object.create(null),[n?mt.get(n):{},mt.get(e),t.defaults]);mt.set(e,s),t.defaultRoutes&&s3(e,t.defaultRoutes),t.descriptors&&mt.describe(e,t.descriptors)}function s3(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),a=e[n].split("."),c=a.pop(),u=a.join(".");mt.route(i,r,u,c)})}function r3(t){return"id"in t&&"defaults"in t}class i3{constructor(){this.controllers=new yd(lo,"datasets",!0),this.elements=new yd(xr,"elements"),this.plugins=new yd(Object,"plugins"),this.scales=new yd(Ia,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):Ve(r,a=>{const c=s||this._getRegistryForType(a);this._exec(e,c,a)})})}_exec(e,n,s){const r=e0(e);Ne(s["before"+r],[],s),n[e](s),Ne(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var js=new i3;class o3{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,s,r){r=r||{};for(const i of e){const a=i.plugin,c=a[s],u=[n,r,i.options];if(Ne(c,u,a)===!1&&r.cancelable)return!1}return!0}invalidate(){We(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=Re(s.options&&s.options.plugins,{}),i=a3(s);return r===!1&&!n?[]:c3(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,a)=>i.filter(c=>!a.some(u=>c.plugin.id===u.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function a3(t){const e={},n=[],s=Object.keys(js.plugins.items);for(let i=0;i<s.length;i++)n.push(js.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const a=r[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function l3(t,e){return!e&&t===!1?null:t===!0?{}:t}function c3(t,{plugins:e,localIds:n},s,r){const i=[],a=t.getContext();for(const c of e){const u=c.id,h=l3(s[u],r);h!==null&&i.push({plugin:c,options:u3(t.config,{plugin:c,local:n[u]},h,a)})}return i}function u3(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(s,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function zm(t,e){const n=mt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function d3(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function h3(t,e){return t===e?"_index_":"_value_"}function e1(t){if(t==="x"||t==="y"||t==="r")return t}function f3(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Vm(t,...e){if(e1(t))return t;for(const n of e){const s=n.axis||f3(n.position)||t.length>1&&e1(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function t1(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function p3(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return t1(t,"x",n[0])||t1(t,"y",n[0])}return{}}function m3(t,e){const n=po[t.type]||{scales:{}},s=e.scales||{},r=zm(t.type,e),i=Object.create(null);return Object.keys(s).forEach(a=>{const c=s[a];if(!Ue(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=Vm(a,c,p3(a,t),mt.scales[c.type]),h=h3(u,r),p=n.scales||{};i[a]=Xl(Object.create(null),[{axis:u},c,p[u],p[h]])}),t.data.datasets.forEach(a=>{const c=a.type||t.type,u=a.indexAxis||zm(c,e),p=(po[c]||{}).scales||{};Object.keys(p).forEach(g=>{const y=d3(g,u),v=a[y+"AxisID"]||y;i[v]=i[v]||Object.create(null),Xl(i[v],[{axis:y},s[v],p[g]])})}),Object.keys(i).forEach(a=>{const c=i[a];Xl(c,[mt.scales[c.type],mt.scale])}),i}function p_(t){const e=t.options||(t.options={});e.plugins=Re(e.plugins,{}),e.scales=m3(t,e)}function m_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function g3(t){return t=t||{},t.data=m_(t.data),p_(t),t}const n1=new Map,g_=new Set;function xd(t,e){let n=n1.get(t);return n||(n=e(),n1.set(t,n),g_.add(n)),n}const Bl=(t,e,n)=>{const s=fo(e,n);s!==void 0&&t.add(s)};class y3{constructor(e){this._config=g3(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=m_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),p_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return xd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return xd(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return xd(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return xd(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,a=this._cachedScopes(e,s),c=a.get(n);if(c)return c;const u=new Set;n.forEach(p=>{e&&(u.add(e),p.forEach(g=>Bl(u,e,g))),p.forEach(g=>Bl(u,r,g)),p.forEach(g=>Bl(u,po[i]||{},g)),p.forEach(g=>Bl(u,mt,g)),p.forEach(g=>Bl(u,Lm,g))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),g_.has(n)&&a.set(n,h),h}chartOptionScopes(){const{options:e,type:n}=this;return[e,po[n]||{},mt.datasets[n]||{},{type:n},mt,Lm]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:a,subPrefixes:c}=s1(this._resolverCache,e,r);let u=a;if(v3(a,n)){i.$shared=!1,s=hi(s)?s():s;const h=this.createResolver(e,s,c);u=Ta(a,s,h)}for(const h of n)i[h]=u[h];return i}createResolver(e,n,s=[""],r){const{resolver:i}=s1(this._resolverCache,e,s);return Ue(n)?Ta(i,n,void 0,r):i}}function s1(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:o0(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},s.set(r,i)),i}const x3=t=>Ue(t)&&Object.getOwnPropertyNames(t).some(e=>hi(t[e]));function v3(t,e){const{isScriptable:n,isIndexable:s}=XS(t);for(const r of e){const i=n(r),a=s(r),c=(a||i)&&t[r];if(i&&(hi(c)||x3(c))||a&&_t(c))return!0}return!1}var b3="4.5.0";const w3=["top","bottom","left","right","chartArea"];function r1(t,e){return t==="top"||t==="bottom"||w3.indexOf(t)===-1&&e==="x"}function i1(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function o1(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ne(n&&n.onComplete,[t],e)}function S3(t){const e=t.chart,n=e.options.animation;Ne(n&&n.onProgress,[t],e)}function y_(t){return c0()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ud={},a1=t=>{const e=y_(t);return Object.values(Ud).filter(n=>n.canvas===e).pop()};function _3(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const a=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=a)}}}function C3(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Yr;let fs=(Yr=class{static register(...e){js.add(...e),l1()}static unregister(...e){js.remove(...e),l1()}constructor(e,n){const s=this.config=new y3(n),r=y_(e),i=a1(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||UR(r)),this.platform.updateConfig(s);const c=this.platform.acquireContext(r,a.aspectRatio),u=c&&c.canvas,h=u&&u.height,p=u&&u.width;if(this.id=SA(),this.ctx=c,this.canvas=u,this.width=p,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new o3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=BA(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],Ud[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}er.listen(this,"complete",o1),er.listen(this,"progress",S3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return We(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return js}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Eb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Nb(this.canvas,this.ctx),this}stop(){return er.stop(this),this}resize(e,n){er.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,i),c=s.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Eb(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Ne(s.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ve(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((a,c)=>(a[c]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const c=n[a],u=Vm(a,c),h=u==="r",p=u==="x";return{options:c,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),Ve(i,a=>{const c=a.options,u=c.id,h=Vm(u,c),p=Re(c.type,a.dtype);(c.position===void 0||r1(c.position,h)!==r1(a.dposition))&&(c.position=a.dposition),r[u]=!0;let g=null;if(u in s&&s[u].type===p)g=s[u];else{const y=js.getScale(p);g=new y({id:u,type:p,ctx:this.ctx,chart:this}),s[g.id]=g}g.init(c,e)}),Ve(r,(a,c)=>{a||delete s[c]}),Ve(s,a=>{Kn.configure(this,a,a.options),Kn.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(i1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let a=this.getDatasetMeta(s);const c=i.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=c,a.indexAxis=i.indexAxis||zm(c,this.options),a.order=i.order||0,a.index=s,a.label=""+i.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const u=js.getController(c),{datasetElementType:h,dataElementType:p}=mt.datasets[c];Object.assign(u,{dataElementType:js.getElement(p),datasetElementType:h&&js.getElement(h)}),a.controller=new u(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ve(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:g}=this.getDatasetMeta(h),y=!r&&i.indexOf(g)===-1;g.buildOrUpdateElements(y),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),r||Ve(i,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(i1("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ve(this.scales,e=>{Kn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!yb(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const a=s==="_removeElements"?-i:i;_3(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(a=>a[0]===i).map((a,c)=>c+","+a.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!yb(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Kn.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Ve(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,hi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(er.has(this)?this.attached&&!er.running(this)&&er.start(this):(this.draw(),o1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const a=n[r];(!e||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=i_(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&jh(n,r),e.controller.draw(),r&&Nh(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Na(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=wR.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=wo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);pc(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),a.update(i,{visible:s}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),er.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Nb(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ud[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},r=(i,a,c)=>{i.offsetX=a,i.offsetY=c,this._eventHandler(i)};Ve(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(u,h)=>{n.addEventListener(this,u,h),e[u]=h},r=(u,h)=>{e[u]&&(n.removeEventListener(this,u,h),delete e[u])},i=(u,h)=>{this.canvas&&this.resize(u,h)};let a;const c=()=>{r("attach",c),this.attached=!0,this.resize(),s("resize",i),s("detach",a)};a=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){Ve(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ve(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,a,c,u;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){a=e[c];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:a})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[a],index:a}});!eh(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(u,h)=>u.filter(p=>!h.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),a=i(n,e),c=s?e:i(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,a=n,c=this._getActiveElements(e,r,s,a),u=TA(e),h=C3(e,this._lastEvent,s,u);s&&(this._lastEvent=null,Ne(i.onHover,[e,c,this],this),u&&Ne(i.onClick,[e,c,this],this));const p=!eh(c,r);return(p||n)&&(this._active=c,this._updateHoverStyles(c,r,n)),this._lastEvent=h,p}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},xe(Yr,"defaults",mt),xe(Yr,"instances",Ud),xe(Yr,"overrides",po),xe(Yr,"registry",js),xe(Yr,"version",b3),xe(Yr,"getChart",a1),Yr);function l1(){return Ve(fs.instances,t=>t._plugins.invalidate())}function k3(t,e,n){const{startAngle:s,x:r,y:i,outerRadius:a,innerRadius:c,options:u}=e,{borderWidth:h,borderJoinStyle:p}=u,g=Math.min(h/a,Dn(s-n));if(t.beginPath(),t.arc(r,i,a-h/2,s+g/2,n-g/2),c>0){const y=Math.min(h/c,Dn(s-n));t.arc(r,i,c+h/2,n-y/2,s+y/2,!0)}else{const y=Math.min(h/2,a*Dn(s-n));if(p==="round")t.arc(r,i,y,n-Qe/2,s+Qe/2,!0);else if(p==="bevel"){const v=2*y*y,b=-v*Math.cos(n+Qe/2)+r,_=-v*Math.sin(n+Qe/2)+i,S=v*Math.cos(s+Qe/2)+r,C=v*Math.sin(s+Qe/2)+i;t.lineTo(b,_),t.lineTo(S,C)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function j3(t,e,n){const{startAngle:s,pixelMargin:r,x:i,y:a,outerRadius:c,innerRadius:u}=e;let h=r/c;t.beginPath(),t.arc(i,a,c,s-h,n+h),u>r?(h=r/u,t.arc(i,a,u,n+h,s-h,!0)):t.arc(i,a,r,n+At,s-At),t.closePath(),t.clip()}function N3(t){return i0(t,["outerStart","outerEnd","innerStart","innerEnd"])}function T3(t,e,n,s){const r=N3(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,s*e/2),c=u=>{const h=(n-Math.min(i,u))*s/2;return Gt(u,0,Math.min(i,h))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:Gt(r.innerStart,0,a),innerEnd:Gt(r.innerEnd,0,a)}}function ra(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function oh(t,e,n,s,r,i){const{x:a,y:c,startAngle:u,pixelMargin:h,innerRadius:p}=e,g=Math.max(e.outerRadius+s+n-h,0),y=p>0?p+s+n+h:0;let v=0;const b=r-u;if(s){const pe=p>0?p-s:0,me=g>0?g-s:0,ae=(pe+me)/2,Z=ae!==0?b*ae/(ae+s):b;v=(b-Z)/2}const _=Math.max(.001,b*g-n/Qe)/g,S=(b-_)/2,C=u+S+v,N=r-S-v,{outerStart:P,outerEnd:A,innerStart:M,innerEnd:R}=T3(e,y,g,N-C),z=g-P,B=g-A,V=C+P/z,$=N-A/B,G=y+M,ne=y+R,ue=C+M/G,Q=N-R/ne;if(t.beginPath(),i){const pe=(V+$)/2;if(t.arc(a,c,g,V,pe),t.arc(a,c,g,pe,$),A>0){const oe=ra(B,$,a,c);t.arc(oe.x,oe.y,A,$,N+At)}const me=ra(ne,N,a,c);if(t.lineTo(me.x,me.y),R>0){const oe=ra(ne,Q,a,c);t.arc(oe.x,oe.y,R,N+At,Q+Math.PI)}const ae=(N-R/y+(C+M/y))/2;if(t.arc(a,c,y,N-R/y,ae,!0),t.arc(a,c,y,ae,C+M/y,!0),M>0){const oe=ra(G,ue,a,c);t.arc(oe.x,oe.y,M,ue+Math.PI,C-At)}const Z=ra(z,C,a,c);if(t.lineTo(Z.x,Z.y),P>0){const oe=ra(z,V,a,c);t.arc(oe.x,oe.y,P,C-At,V)}}else{t.moveTo(a,c);const pe=Math.cos(V)*g+a,me=Math.sin(V)*g+c;t.lineTo(pe,me);const ae=Math.cos($)*g+a,Z=Math.sin($)*g+c;t.lineTo(ae,Z)}t.closePath()}function P3(t,e,n,s,r){const{fullCircles:i,startAngle:a,circumference:c}=e;let u=e.endAngle;if(i){oh(t,e,n,s,u,r);for(let h=0;h<i;++h)t.fill();isNaN(c)||(u=a+(c%ut||ut))}return oh(t,e,n,s,u,r),t.fill(),u}function E3(t,e,n,s,r){const{fullCircles:i,startAngle:a,circumference:c,options:u}=e,{borderWidth:h,borderJoinStyle:p,borderDash:g,borderDashOffset:y,borderRadius:v}=u,b=u.borderAlign==="inner";if(!h)return;t.setLineDash(g||[]),t.lineDashOffset=y,b?(t.lineWidth=h*2,t.lineJoin=p||"round"):(t.lineWidth=h,t.lineJoin=p||"bevel");let _=e.endAngle;if(i){oh(t,e,n,s,_,r);for(let S=0;S<i;++S)t.stroke();isNaN(c)||(_=a+(c%ut||ut))}b&&j3(t,e,_),u.selfJoin&&_-a>=Qe&&v===0&&p!=="miter"&&k3(t,e,_),i||(oh(t,e,n,s,_,r),t.stroke())}class li extends xr{constructor(n){super();xe(this,"circumference");xe(this,"endAngle");xe(this,"fullCircles");xe(this,"innerRadius");xe(this,"outerRadius");xe(this,"pixelMargin");xe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:a,distance:c}=BS(i,{x:n,y:s}),{startAngle:u,endAngle:h,innerRadius:p,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),v=(this.options.spacing+this.options.borderWidth)/2,b=Re(y,h-u),_=gc(a,u,h)&&u!==h,S=b>=ut||_,C=ar(c,p+v,g+v);return S&&C}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:a,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:p}=this.options,g=(i+a)/2,y=(c+u+p+h)/2;return{x:s+Math.cos(g)*y,y:r+Math.sin(g)*y}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,a=(s.spacing||0)/2,c=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>ut?Math.floor(r/ut):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const u=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(u)*i,Math.sin(u)*i);const h=1-Math.sin(Math.min(Qe,r||0)),p=i*h;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,P3(n,this,p,a,c),E3(n,this,p,a,c),n.restore()}}xe(li,"id","arc"),xe(li,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),xe(li,"defaultRoutes",{backgroundColor:"backgroundColor"}),xe(li,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function x_(t,e,n=e){t.lineCap=Re(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Re(n.borderDash,e.borderDash)),t.lineDashOffset=Re(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Re(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Re(n.borderWidth,e.borderWidth),t.strokeStyle=Re(n.borderColor,e.borderColor)}function M3(t,e,n){t.lineTo(n.x,n.y)}function A3(t){return t.stepped?t4:t.tension||t.cubicInterpolationMode==="monotone"?n4:M3}function v_(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:a,end:c}=e,u=Math.max(r,a),h=Math.min(i,c),p=r<a&&i<a||r>c&&i>c;return{count:s,start:u,loop:e.loop,ilen:h<u&&!p?s+h-u:h-u}}function R3(t,e,n,s){const{points:r,options:i}=e,{count:a,start:c,loop:u,ilen:h}=v_(r,n,s),p=A3(i);let{move:g=!0,reverse:y}=s||{},v,b,_;for(v=0;v<=h;++v)b=r[(c+(y?h-v:v))%a],!b.skip&&(g?(t.moveTo(b.x,b.y),g=!1):p(t,_,b,y,i.stepped),_=b);return u&&(b=r[(c+(y?h:0))%a],p(t,_,b,y,i.stepped)),!!u}function D3(t,e,n,s){const r=e.points,{count:i,start:a,ilen:c}=v_(r,n,s),{move:u=!0,reverse:h}=s||{};let p=0,g=0,y,v,b,_,S,C;const N=A=>(a+(h?c-A:A))%i,P=()=>{_!==S&&(t.lineTo(p,S),t.lineTo(p,_),t.lineTo(p,C))};for(u&&(v=r[N(0)],t.moveTo(v.x,v.y)),y=0;y<=c;++y){if(v=r[N(y)],v.skip)continue;const A=v.x,M=v.y,R=A|0;R===b?(M<_?_=M:M>S&&(S=M),p=(g*p+A)/++g):(P(),t.lineTo(A,M),b=R,g=0,_=S=M),C=M}P()}function Bm(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?D3:R3}function O3(t){return t.stepped?D4:t.tension||t.cubicInterpolationMode==="monotone"?O4:Hi}function L3(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),x_(t,e.options),t.stroke(r)}function I3(t,e,n,s){const{segments:r,options:i}=e,a=Bm(e);for(const c of r)x_(t,i,c.style),t.beginPath(),a(t,e,c,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const F3=typeof Path2D=="function";function z3(t,e,n,s){F3&&!e.options.segment?L3(t,e,n,s):I3(t,e,n,s)}class lr extends xr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;j4(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=B4(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,a=r_(this,{property:n,start:r,end:r});if(!a.length)return;const c=[],u=O3(s);let h,p;for(h=0,p=a.length;h<p;++h){const{start:g,end:y}=a[h],v=i[g],b=i[y];if(v===b){c.push(v);continue}const _=Math.abs((r-v[n])/(b[n]-v[n])),S=u(v,b,_,s.stepped);S[n]=e[n],c.push(S)}return c.length===1?c[0]:c}pathSegment(e,n,s){return Bm(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=Bm(this);let a=this._loop;n=n||0,s=s||this.points.length-n;for(const c of r)a&=i(e,this,c,{start:n,end:n+s-1});return!!a}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),z3(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}xe(lr,"id","line"),xe(lr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),xe(lr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),xe(lr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function c1(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class pa extends xr{constructor(n){super();xe(this,"parsed");xe(this,"skip");xe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:a,y:c}=this.getProps(["x","y"],r);return Math.pow(n-a,2)+Math.pow(s-c,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return c1(this,n,"x",s)}inYRange(n,s){return c1(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!Na(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Im(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}xe(pa,"id","point"),xe(pa,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),xe(pa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function b_(t,e){const{x:n,y:s,base:r,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let c,u,h,p,g;return t.horizontal?(g=a/2,c=Math.min(n,r),u=Math.max(n,r),h=s-g,p=s+g):(g=i/2,c=n-g,u=n+g,h=Math.min(s,r),p=Math.max(s,r)),{left:c,top:h,right:u,bottom:p}}function ci(t,e,n,s){return t?0:Gt(e,n,s)}function V3(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=KS(s);return{t:ci(r.top,i.top,0,n),r:ci(r.right,i.right,0,e),b:ci(r.bottom,i.bottom,0,n),l:ci(r.left,i.left,0,e)}}function B3(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=ha(r),a=Math.min(e,n),c=t.borderSkipped,u=s||Ue(r);return{topLeft:ci(!u||c.top||c.left,i.topLeft,0,a),topRight:ci(!u||c.top||c.right,i.topRight,0,a),bottomLeft:ci(!u||c.bottom||c.left,i.bottomLeft,0,a),bottomRight:ci(!u||c.bottom||c.right,i.bottomRight,0,a)}}function U3(t){const e=b_(t),n=e.right-e.left,s=e.bottom-e.top,r=V3(t,n/2,s/2),i=B3(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function Qp(t,e,n,s){const r=e===null,i=n===null,c=t&&!(r&&i)&&b_(t,s);return c&&(r||ar(e,c.left,c.right))&&(i||ar(n,c.top,c.bottom))}function $3(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function H3(t,e){t.rect(e.x,e.y,e.w,e.h)}function Gp(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,a=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+a,radius:t.radius}}class dr extends xr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:a}=U3(this),c=$3(a.radius)?sh:H3;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),c(e,Gp(a,n,i)),e.clip(),c(e,Gp(i,-n,a)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),c(e,Gp(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return Qp(this,e,n,s)}inXRange(e,n){return Qp(this,e,null,n)}inYRange(e,n){return Qp(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}xe(dr,"id","bar"),xe(dr,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),xe(dr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function W3(t,e,n){const s=t.segments,r=t.points,i=e.points,a=[];for(const c of s){let{start:u,end:h}=c;h=Eh(u,h,r);const p=Um(n,r[u],r[h],c.loop);if(!e.segments){a.push({source:c,target:p,start:r[u],end:r[h]});continue}const g=r_(e,p);for(const y of g){const v=Um(n,i[y.start],i[y.end],y.loop),b=s_(c,r,v);for(const _ of b)a.push({source:_,target:y,start:{[n]:u1(p,v,"start",Math.max)},end:{[n]:u1(p,v,"end",Math.min)}})}}return a}function Um(t,e,n,s){if(s)return;let r=e[t],i=n[t];return t==="angle"&&(r=Dn(r),i=Dn(i)),{property:t,start:r,end:i}}function q3(t,e){const{x:n=null,y:s=null}=t||{},r=e.points,i=[];return e.segments.forEach(({start:a,end:c})=>{c=Eh(a,c,r);const u=r[a],h=r[c];s!==null?(i.push({x:u.x,y:s}),i.push({x:h.x,y:s})):n!==null&&(i.push({x:n,y:u.y}),i.push({x:n,y:h.y}))}),i}function Eh(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function u1(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function w_(t,e){let n=[],s=!1;return _t(t)?(s=!0,n=t):n=q3(t,e),n.length?new lr({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function d1(t){return t&&t.fill!==!1}function Y3(t,e,n){let r=t[e].fill;const i=[e];let a;if(!n)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!Jt(r))return r;if(a=t[r],!a)return!1;if(a.visible)return r;i.push(r),r=a.fill}return!1}function K3(t,e,n){const s=Z3(t);if(Ue(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return Jt(r)&&Math.floor(r)===r?X3(s[0],e,r,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function X3(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function Q3(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ue(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function G3(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:Ue(t)?s=t.value:s=e.getBaseValue(),s}function Z3(t){const e=t.options,n=e.fill;let s=Re(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function J3(t){const{scale:e,index:n,line:s}=t,r=[],i=s.segments,a=s.points,c=eD(e,n);c.push(w_({x:null,y:e.bottom},s));for(let u=0;u<i.length;u++){const h=i[u];for(let p=h.start;p<=h.end;p++)tD(r,a[p],c)}return new lr({points:r,options:{}})}function eD(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const i=s[r];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function tD(t,e,n){const s=[];for(let r=0;r<n.length;r++){const i=n[r],{first:a,last:c,point:u}=nD(i,e,"x");if(!(!u||a&&c)){if(a)s.unshift(u);else if(t.push(u),!c)break}}t.push(...s)}function nD(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const r=s[n],i=t.segments,a=t.points;let c=!1,u=!1;for(let h=0;h<i.length;h++){const p=i[h],g=a[p.start][n],y=a[p.end][n];if(ar(r,g,y)){c=r===g,u=r===y;break}}return{first:c,last:u,point:s}}class S_{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:r,y:i,radius:a}=this;return n=n||{start:0,end:ut},e.arc(r,i,a,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:r}=this,i=e.angle;return{x:n+Math.cos(i)*r,y:s+Math.sin(i)*r,angle:i}}}function sD(t){const{chart:e,fill:n,line:s}=t;if(Jt(n))return rD(e,n);if(n==="stack")return J3(t);if(n==="shape")return!0;const r=iD(t);return r instanceof S_?r:w_(r,s)}function rD(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function iD(t){return(t.scale||{}).getPointPositionForValue?aD(t):oD(t)}function oD(t){const{scale:e={},fill:n}=t,s=Q3(n,e);if(Jt(s)){const r=e.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function aD(t){const{scale:e,fill:n}=t,s=e.options,r=e.getLabels().length,i=s.reverse?e.max:e.min,a=G3(n,e,i),c=[];if(s.grid.circular){const u=e.getPointPositionForValue(0,i);return new S_({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(a)})}for(let u=0;u<r;++u)c.push(e.getPointPositionForValue(u,a));return c}function Zp(t,e,n){const s=sD(e),{chart:r,index:i,line:a,scale:c,axis:u}=e,h=a.options,p=h.fill,g=h.backgroundColor,{above:y=g,below:v=g}=p||{},b=r.getDatasetMeta(i),_=i_(r,b);s&&a.points.length&&(jh(t,n),lD(t,{line:a,target:s,above:y,below:v,area:n,scale:c,axis:u,clip:_}),Nh(t))}function lD(t,e){const{line:n,target:s,above:r,below:i,area:a,scale:c,clip:u}=e,h=n._loop?"angle":e.axis;t.save();let p=i;i!==r&&(h==="x"?(h1(t,s,a.top),Jp(t,{line:n,target:s,color:r,scale:c,property:h,clip:u}),t.restore(),t.save(),h1(t,s,a.bottom)):h==="y"&&(f1(t,s,a.left),Jp(t,{line:n,target:s,color:i,scale:c,property:h,clip:u}),t.restore(),t.save(),f1(t,s,a.right),p=r)),Jp(t,{line:n,target:s,color:p,scale:c,property:h,clip:u}),t.restore()}function h1(t,e,n){const{segments:s,points:r}=e;let i=!0,a=!1;t.beginPath();for(const c of s){const{start:u,end:h}=c,p=r[u],g=r[Eh(u,h,r)];i?(t.moveTo(p.x,p.y),i=!1):(t.lineTo(p.x,n),t.lineTo(p.x,p.y)),a=!!e.pathSegment(t,c,{move:a}),a?t.closePath():t.lineTo(g.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function f1(t,e,n){const{segments:s,points:r}=e;let i=!0,a=!1;t.beginPath();for(const c of s){const{start:u,end:h}=c,p=r[u],g=r[Eh(u,h,r)];i?(t.moveTo(p.x,p.y),i=!1):(t.lineTo(n,p.y),t.lineTo(p.x,p.y)),a=!!e.pathSegment(t,c,{move:a}),a?t.closePath():t.lineTo(n,g.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Jp(t,e){const{line:n,target:s,property:r,color:i,scale:a,clip:c}=e,u=W3(n,s,r);for(const{source:h,target:p,start:g,end:y}of u){const{style:{backgroundColor:v=i}={}}=h,b=s!==!0;t.save(),t.fillStyle=v,cD(t,a,c,b&&Um(r,g,y)),t.beginPath();const _=!!n.pathSegment(t,h);let S;if(b){_?t.closePath():p1(t,s,y,r);const C=!!s.pathSegment(t,p,{move:_,reverse:!0});S=_&&C,S||p1(t,s,g,r)}t.closePath(),t.fill(S?"evenodd":"nonzero"),t.restore()}}function cD(t,e,n,s){const r=e.chart.chartArea,{property:i,start:a,end:c}=s||{};if(i==="x"||i==="y"){let u,h,p,g;i==="x"?(u=a,h=r.top,p=c,g=r.bottom):(u=r.left,h=a,p=r.right,g=c),t.beginPath(),n&&(u=Math.max(u,n.left),p=Math.min(p,n.right),h=Math.max(h,n.top),g=Math.min(g,n.bottom)),t.rect(u,h,p-u,g-h),t.clip()}}function p1(t,e,n,s){const r=e.interpolate(n,s);r&&t.lineTo(r.x,r.y)}var __={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,r=[];let i,a,c,u;for(a=0;a<s;++a)i=t.getDatasetMeta(a),c=i.dataset,u=null,c&&c.options&&c instanceof lr&&(u={visible:t.isDatasetVisible(a),index:a,fill:K3(c,a,s),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:c}),i.$filler=u,r.push(u);for(a=0;a<s;++a)u=r[a],!(!u||u.fill===!1)&&(u.fill=Y3(r,a,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let a=r.length-1;a>=0;--a){const c=r[a].$filler;c&&(c.line.updateControlPoints(i,c.axis),s&&c.fill&&Zp(t.ctx,c,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const i=s[r].$filler;d1(i)&&Zp(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!d1(s)||n.drawTime!=="beforeDatasetDraw"||Zp(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const m1=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},uD=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class g1 extends xr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ne(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=Vt(s.font),i=r.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=m1(s,i);let h,p;n.font=r.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(a,i,c,u)+10):(p=this.maxHeight,h=this._fitCols(a,r,c,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],p=r+c;let g=e;i.textAlign="left",i.textBaseline="middle";let y=-1,v=-p;return this.legendItems.forEach((b,_)=>{const S=s+n/2+i.measureText(b.text).width;(_===0||h[h.length-1]+S+2*c>a)&&(g+=p,h[h.length-(_>0?0:1)]=0,v+=p,y++),u[_]={left:0,top:v,row:y,width:S,height:r},h[h.length-1]+=S+c}),g}_fitCols(e,n,s,r){const{ctx:i,maxHeight:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],p=a-e;let g=c,y=0,v=0,b=0,_=0;return this.legendItems.forEach((S,C)=>{const{itemWidth:N,itemHeight:P}=dD(s,n,i,S,r);C>0&&v+P+2*c>p&&(g+=y+c,h.push({width:y,height:v}),b+=y+c,_++,y=v=0),u[C]={left:b,top:v,col:_,width:N,height:P},y=Math.max(y,N),v+=P+c}),g+=y,h.push({width:y,height:v}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,a=fa(i,this.left,this.width);if(this.isHorizontal()){let c=0,u=Xt(s,this.left+r,this.right-this.lineWidths[c]);for(const h of n)c!==h.row&&(c=h.row,u=Xt(s,this.left+r,this.right-this.lineWidths[c])),h.top+=this.top+e+r,h.left=a.leftForLtr(a.x(u),h.width),u+=h.width+r}else{let c=0,u=Xt(s,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const h of n)h.col!==c&&(c=h.col,u=Xt(s,this.top+e+r,this.bottom-this.columnSizes[c].height)),h.top=u,h.left+=this.left+r,h.left=a.leftForLtr(a.x(h.left),h.width),u+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;jh(e,this),this._draw(),Nh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:a}=e,c=mt.color,u=fa(e.rtl,this.left,this.width),h=Vt(a.font),{padding:p}=a,g=h.size,y=g/2;let v;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:b,boxHeight:_,itemHeight:S}=m1(a,g),C=function(R,z,B){if(isNaN(b)||b<=0||isNaN(_)||_<0)return;r.save();const V=Re(B.lineWidth,1);if(r.fillStyle=Re(B.fillStyle,c),r.lineCap=Re(B.lineCap,"butt"),r.lineDashOffset=Re(B.lineDashOffset,0),r.lineJoin=Re(B.lineJoin,"miter"),r.lineWidth=V,r.strokeStyle=Re(B.strokeStyle,c),r.setLineDash(Re(B.lineDash,[])),a.usePointStyle){const $={radius:_*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:V},G=u.xPlus(R,b/2),ne=z+y;YS(r,$,G,ne,a.pointStyleWidth&&b)}else{const $=z+Math.max((g-_)/2,0),G=u.leftForLtr(R,b),ne=ha(B.borderRadius);r.beginPath(),Object.values(ne).some(ue=>ue!==0)?sh(r,{x:G,y:$,w:b,h:_,radius:ne}):r.rect(G,$,b,_),r.fill(),V!==0&&r.stroke()}r.restore()},N=function(R,z,B){yc(r,B.text,R,z+S/2,h,{strikethrough:B.hidden,textAlign:u.textAlign(B.textAlign)})},P=this.isHorizontal(),A=this._computeTitleHeight();P?v={x:Xt(i,this.left+p,this.right-s[0]),y:this.top+p+A,line:0}:v={x:this.left+p,y:Xt(i,this.top+A+p,this.bottom-n[0].height),line:0},e_(this.ctx,e.textDirection);const M=S+p;this.legendItems.forEach((R,z)=>{r.strokeStyle=R.fontColor,r.fillStyle=R.fontColor;const B=r.measureText(R.text).width,V=u.textAlign(R.textAlign||(R.textAlign=a.textAlign)),$=b+y+B;let G=v.x,ne=v.y;u.setWidth(this.width),P?z>0&&G+$+p>this.right&&(ne=v.y+=M,v.line++,G=v.x=Xt(i,this.left+p,this.right-s[v.line])):z>0&&ne+M>this.bottom&&(G=v.x=G+n[v.line].width+p,v.line++,ne=v.y=Xt(i,this.top+A+p,this.bottom-n[v.line].height));const ue=u.x(G);if(C(ue,ne,R),G=UA(V,G+b+y,P?G+$:this.right,e.rtl),N(u.x(G),ne,R),P)v.x+=$+p;else if(typeof R.text!="string"){const Q=h.lineHeight;v.y+=C_(R,Q)+p}else v.y+=M}),t_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Vt(n.font),r=Ln(n.padding);if(!n.display)return;const i=fa(e.rtl,this.left,this.width),a=this.ctx,c=n.position,u=s.size/2,h=r.top+u;let p,g=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),p=this.top+h,g=Xt(e.align,g,this.right-y);else{const b=this.columnSizes.reduce((_,S)=>Math.max(_,S.height),0);p=h+Xt(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const v=Xt(c,g,g+y);a.textAlign=i.textAlign(n0(c)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=s.string,yc(a,n.text,v,p,s)}_computeTitleHeight(){const e=this.options.title,n=Vt(e.font),s=Ln(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(ar(e,this.left,this.right)&&ar(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],ar(e,r.left,r.left+r.width)&&ar(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!pD(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=uD(r,s);r&&!i&&Ne(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&Ne(n.onHover,[e,s,this],this)}else s&&Ne(n.onClick,[e,s,this],this)}}function dD(t,e,n,s,r){const i=hD(s,t,e,n),a=fD(r,s,e.lineHeight);return{itemWidth:i,itemHeight:a}}function hD(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+s.measureText(r).width}function fD(t,e,n){let s=t;return typeof e.text!="string"&&(s=C_(e,n)),s}function C_(t,e){const n=t.text?t.text.length:0;return e*n}function pD(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var gi={id:"legend",_element:g1,start(t,e,n){const s=t.legend=new g1({ctx:t.ctx,options:n,chart:t});Kn.configure(t,s,n),Kn.addBox(t,s)},stop(t){Kn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;Kn.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:a,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(n?0:void 0),p=Ln(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:a&&(c||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class k_ extends xr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=_t(s.text)?s.text.length:1;this._padding=Ln(s.padding);const i=r*Vt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:a}=this,c=a.align;let u=0,h,p,g;return this.isHorizontal()?(p=Xt(c,s,i),g=n+e,h=i-s):(a.position==="left"?(p=s+e,g=Xt(c,r,n),u=Qe*-.5):(p=i-e,g=Xt(c,n,r),u=Qe*.5),h=r-n),{titleX:p,titleY:g,maxWidth:h,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Vt(n.font),i=s.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:u,rotation:h}=this._drawArgs(i);yc(e,n.text,0,0,s,{color:n.color,maxWidth:u,rotation:h,textAlign:n0(n.align),textBaseline:"middle",translation:[a,c]})}}function mD(t,e){const n=new k_({ctx:t.ctx,options:e,chart:t});Kn.configure(t,n,e),Kn.addBox(t,n),t.titleBlock=n}var gD={id:"title",_element:k_,start(t,e,n){mD(t,n)},stop(t){const e=t.titleBlock;Kn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;Kn.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ql={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();s.add(u.x),r+=u.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((c,u)=>c+u)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,a,c;for(i=0,a=t.length;i<a;++i){const u=t[i].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),p=Om(e,h);p<r&&(r=p,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,s=u.y}return{x:n,y:s}}};function ks(t,e){return e&&(_t(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function tr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function yD(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:a,value:c}=i.getLabelAndValue(r);return{chart:t,label:a,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:c,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function y1(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:a,boxHeight:c}=e,u=Vt(e.bodyFont),h=Vt(e.titleFont),p=Vt(e.footerFont),g=i.length,y=r.length,v=s.length,b=Ln(e.padding);let _=b.height,S=0,C=s.reduce((A,M)=>A+M.before.length+M.lines.length+M.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,g&&(_+=g*h.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),C){const A=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;_+=v*A+(C-v)*u.lineHeight+(C-1)*e.bodySpacing}y&&(_+=e.footerMarginTop+y*p.lineHeight+(y-1)*e.footerSpacing);let N=0;const P=function(A){S=Math.max(S,n.measureText(A).width+N)};return n.save(),n.font=h.string,Ve(t.title,P),n.font=u.string,Ve(t.beforeBody.concat(t.afterBody),P),N=e.displayColors?a+2+e.boxPadding:0,Ve(s,A=>{Ve(A.before,P),Ve(A.lines,P),Ve(A.after,P)}),N=0,n.font=p.string,Ve(t.footer,P),n.restore(),S+=b.width,{width:S,height:_}}function xD(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function vD(t,e,n,s){const{x:r,width:i}=s,a=n.caretSize+n.caretPadding;if(t==="left"&&r+i+a>e.width||t==="right"&&r-i-a<0)return!0}function bD(t,e,n,s){const{x:r,width:i}=n,{width:a,chartArea:{left:c,right:u}}=t;let h="center";return s==="center"?h=r<=(c+u)/2?"left":"right":r<=i/2?h="left":r>=a-i/2&&(h="right"),vD(h,t,e,n)&&(h="center"),h}function x1(t,e,n){const s=n.yAlign||e.yAlign||xD(t,n);return{xAlign:n.xAlign||e.xAlign||bD(t,e,n,s),yAlign:s}}function wD(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function SD(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function v1(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:a}=t,{xAlign:c,yAlign:u}=n,h=r+i,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:v}=ha(a);let b=wD(e,c);const _=SD(e,u,h);return u==="center"?c==="left"?b+=h:c==="right"&&(b-=h):c==="left"?b-=Math.max(p,y)+r:c==="right"&&(b+=Math.max(g,v)+r),{x:Gt(b,0,s.width-e.width),y:Gt(_,0,s.height-e.height)}}function vd(t,e,n){const s=Ln(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function b1(t){return ks([],tr(t))}function _D(t,e,n){return wo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function w1(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const j_={beforeTitle:Zs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Zs,beforeBody:Zs,beforeLabel:Zs,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return We(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Zs,afterBody:Zs,beforeFooter:Zs,footer:Zs,afterFooter:Zs};function xn(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?j_[e].call(n,s):r}class $m extends xr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new o_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=_D(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=xn(s,"beforeTitle",this,e),i=xn(s,"title",this,e),a=xn(s,"afterTitle",this,e);let c=[];return c=ks(c,tr(r)),c=ks(c,tr(i)),c=ks(c,tr(a)),c}getBeforeBody(e,n){return b1(xn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return Ve(e,i=>{const a={before:[],lines:[],after:[]},c=w1(s,i);ks(a.before,tr(xn(c,"beforeLabel",this,i))),ks(a.lines,xn(c,"label",this,i)),ks(a.after,tr(xn(c,"afterLabel",this,i))),r.push(a)}),r}getAfterBody(e,n){return b1(xn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=xn(s,"beforeFooter",this,e),i=xn(s,"footer",this,e),a=xn(s,"afterFooter",this,e);let c=[];return c=ks(c,tr(r)),c=ks(c,tr(i)),c=ks(c,tr(a)),c}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],a=[];let c=[],u,h;for(u=0,h=n.length;u<h;++u)c.push(yD(this.chart,n[u]));return e.filter&&(c=c.filter((p,g,y)=>e.filter(p,g,y,s))),e.itemSort&&(c=c.sort((p,g)=>e.itemSort(p,g,s))),Ve(c,p=>{const g=w1(e.callbacks,p);r.push(xn(g,"labelColor",this,p)),i.push(xn(g,"labelPointStyle",this,p)),a.push(xn(g,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=c,c}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,a=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const c=ql[s.position].call(this,r,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const u=this._size=y1(this,s),h=Object.assign({},c,u),p=x1(this.chart,s,h),g=v1(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,i={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:a,cornerRadius:c}=s,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:g}=ha(c),{x:y,y:v}=e,{width:b,height:_}=n;let S,C,N,P,A,M;return i==="center"?(A=v+_/2,r==="left"?(S=y,C=S-a,P=A+a,M=A-a):(S=y+b,C=S+a,P=A-a,M=A+a),N=S):(r==="left"?C=y+Math.max(u,p)+a:r==="right"?C=y+b-Math.max(h,g)-a:C=this.caretX,i==="top"?(P=v,A=P-a,S=C-a,N=C+a):(P=v+_,A=P+a,S=C+a,N=C-a),M=P),{x1:S,x2:C,x3:N,y1:P,y2:A,y3:M}}drawTitle(e,n,s){const r=this.title,i=r.length;let a,c,u;if(i){const h=fa(s.rtl,this.x,this.width);for(e.x=vd(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",a=Vt(s.titleFont),c=s.titleSpacing,n.fillStyle=s.titleColor,n.font=a.string,u=0;u<i;++u)n.fillText(r[u],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,u+1===i&&(e.y+=s.titleMarginBottom-c)}}_drawColorBox(e,n,s,r,i){const a=this.labelColors[s],c=this.labelPointStyles[s],{boxHeight:u,boxWidth:h}=i,p=Vt(i.bodyFont),g=vd(this,"left",i),y=r.x(g),v=u<p.lineHeight?(p.lineHeight-u)/2:0,b=n.y+v;if(i.usePointStyle){const _={radius:Math.min(h,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=r.leftForLtr(y,h)+h/2,C=b+u/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Im(e,_,S,C),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Im(e,_,S,C)}else{e.lineWidth=Ue(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const _=r.leftForLtr(y,h),S=r.leftForLtr(r.xPlus(y,1),h-2),C=ha(a.borderRadius);Object.values(C).some(N=>N!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,sh(e,{x:_,y:b,w:h,h:u,radius:C}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),sh(e,{x:S,y:b+1,w:h-2,h:u-2,radius:C}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(_,b,h,u),e.strokeRect(_,b,h,u),e.fillStyle=a.backgroundColor,e.fillRect(S,b+1,h-2,u-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:h,boxPadding:p}=s,g=Vt(s.bodyFont);let y=g.lineHeight,v=0;const b=fa(s.rtl,this.x,this.width),_=function(B){n.fillText(B,b.x(e.x+v),e.y+y/2),e.y+=y+i},S=b.textAlign(a);let C,N,P,A,M,R,z;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,e.x=vd(this,S,s),n.fillStyle=s.bodyColor,Ve(this.beforeBody,_),v=c&&S!=="right"?a==="center"?h/2+p:h+2+p:0,A=0,R=r.length;A<R;++A){for(C=r[A],N=this.labelTextColors[A],n.fillStyle=N,Ve(C.before,_),P=C.lines,c&&P.length&&(this._drawColorBox(n,e,A,b,s),y=Math.max(g.lineHeight,u)),M=0,z=P.length;M<z;++M)_(P[M]),y=g.lineHeight;Ve(C.after,_)}v=0,y=g.lineHeight,Ve(this.afterBody,_),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let a,c;if(i){const u=fa(s.rtl,this.x,this.width);for(e.x=vd(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=u.textAlign(s.footerAlign),n.textBaseline="middle",a=Vt(s.footerFont),n.fillStyle=s.footerColor,n.font=a.string,c=0;c<i;++c)n.fillText(r[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:a}=this,{x:c,y:u}=e,{width:h,height:p}=s,{topLeft:g,topRight:y,bottomLeft:v,bottomRight:b}=ha(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(c+g,u),a==="top"&&this.drawCaret(e,n,s,r),n.lineTo(c+h-y,u),n.quadraticCurveTo(c+h,u,c+h,u+y),a==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(c+h,u+p-b),n.quadraticCurveTo(c+h,u+p,c+h-b,u+p),a==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(c+v,u+p),n.quadraticCurveTo(c,u+p,c,u+p-v),a==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(c,u+g),n.quadraticCurveTo(c,u,c+g,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const a=ql[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=y1(this,e),u=Object.assign({},a,this._size),h=x1(n,e,u),p=v1(e,u,h,n);(r._to!==p.x||i._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=Ln(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),e_(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),t_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:c,index:u})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[u],index:u}}),i=!eh(s,r),a=this._positionChanged(r,n);(i||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,s),c=this._positionChanged(a,e),u=n||!eh(a,i)||c;return u&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,a=ql[i.position].call(this,e,n);return a!==!1&&(s!==a.x||r!==a.y)}}xe($m,"positioners",ql);var yi={id:"tooltip",_element:$m,positioners:ql,afterInit(t,e,n){n&&(t.tooltip=new $m({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:j_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const CD=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function kD(t,e,n,s){const r=t.indexOf(e);if(r===-1)return CD(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const jD=(t,e)=>t===null?null:Gt(Math.round(t),0,e);function S1(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class mo extends Ia{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(We(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:kD(s,e,Re(n,e),this._addedLabels),jD(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return S1.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}xe(mo,"id","category"),xe(mo,"defaults",{ticks:{callback:S1}});function ND(t,e){const n=[],{bounds:r,step:i,min:a,max:c,precision:u,count:h,maxTicks:p,maxDigits:g,includeBounds:y}=t,v=i||1,b=p-1,{min:_,max:S}=e,C=!We(a),N=!We(c),P=!We(h),A=(S-_)/(g+1);let M=vb((S-_)/b/v)*v,R,z,B,V;if(M<1e-14&&!C&&!N)return[{value:_},{value:S}];V=Math.ceil(S/M)-Math.floor(_/M),V>b&&(M=vb(V*M/b/v)*v),We(u)||(R=Math.pow(10,u),M=Math.ceil(M*R)/R),r==="ticks"?(z=Math.floor(_/M)*M,B=Math.ceil(S/M)*M):(z=_,B=S),C&&N&&i&&RA((c-a)/i,M/1e3)?(V=Math.round(Math.min((c-a)/M,p)),M=(c-a)/V,z=a,B=c):P?(z=C?a:z,B=N?c:B,V=h-1,M=(B-z)/V):(V=(B-z)/M,oo(V,Math.round(V),M/1e3)?V=Math.round(V):V=Math.ceil(V));const $=Math.max(bb(M),bb(z));R=Math.pow(10,We(u)?$:u),z=Math.round(z*R)/R,B=Math.round(B*R)/R;let G=0;for(C&&(y&&z!==a?(n.push({value:a}),z<a&&G++,oo(Math.round((z+G*M)*R)/R,a,_1(a,A,t))&&G++):z<a&&G++);G<V;++G){const ne=Math.round((z+G*M)*R)/R;if(N&&ne>c)break;n.push({value:ne})}return N&&y&&B!==c?n.length&&oo(n[n.length-1].value,c,_1(c,A,t))?n[n.length-1].value=c:n.push({value:c}):(!N||B===c)&&n.push({value:B}),n}function _1(t,e,{horizontal:n,minRotation:s}){const r=or(s),i=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class TD extends Ia{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return We(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const a=u=>r=n?r:u,c=u=>i=s?i:u;if(e){const u=Xn(r),h=Xn(i);u<0&&h<0?c(0):u>0&&h>0&&a(0)}if(r===i){let u=i===0?1:Math.abs(i*.05);c(i+u),e||a(r-u)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=ND(r,i);return e.bounds==="ticks"&&DA(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return r0(e,this.chart.options.locale,this.options.ticks.format)}}class go extends TD{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Jt(e)?e:0,this.max=Jt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=or(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}xe(go,"id","linear"),xe(go,"defaults",{ticks:{callback:qS.formatters.numeric}});const Mh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_n=Object.keys(Mh);function C1(t,e){return t-e}function k1(t,e){if(We(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let a=e;return typeof s=="function"&&(a=s(a)),Jt(a)||(a=typeof s=="string"?n.parse(a,s):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(mc(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,r)),+a)}function j1(t,e,n,s){const r=_n.length;for(let i=_n.indexOf(t);i<r-1;++i){const a=Mh[_n[i]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(c*a.size))<=s)return _n[i]}return _n[r-1]}function PD(t,e,n,s,r){for(let i=_n.length-1;i>=_n.indexOf(n);i--){const a=_n[i];if(Mh[a].common&&t._adapter.diff(r,s,a)>=e-1)return a}return _n[n?_n.indexOf(n):0]}function ED(t){for(let e=_n.indexOf(t)+1,n=_n.length;e<n;++e)if(Mh[_n[e]].common)return _n[e]}function N1(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=t0(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function MD(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),a=e[e.length-1].value;let c,u;for(c=i;c<=a;c=+r.add(c,1,s))u=n[c],u>=0&&(e[u].major=!0);return e}function T1(t,e,n){const s=[],r={},i=e.length;let a,c;for(a=0;a<i;++a)c=e[a],r[c]=a,s.push({value:c,major:!1});return i===0||!n?s:MD(t,s,r,n)}class ah extends Ia{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new gR._date(e.adapters.date);r.init(n),Xl(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:k1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:a,maxDefined:c}=this.getUserBounds();function u(h){!a&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!c&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!a||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Jt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=Jt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,a=this.max,c=zA(r,i,a);return this._unit=n.unit||(s.autoSkip?j1(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):PD(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:ED(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),T1(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Gt(n,0,a),s=Gt(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,a=i.unit||j1(i.minUnit,n,s,this._getLabelCapacity(n)),c=Re(r.ticks.stepSize,1),u=a==="week"?i.isoWeekday:!1,h=mc(u)||u===!0,p={};let g=n,y,v;if(h&&(g=+e.startOf(g,"isoWeek",u)),g=+e.startOf(g,h?"day":a),e.diff(s,n,a)>1e5*c)throw new Error(n+" and "+s+" are too far apart with stepSize of "+c+" "+a);const b=r.ticks.source==="data"&&this.getDataTimestamps();for(y=g,v=0;y<s;y=+e.add(y,c,a),v++)N1(p,y,b);return(y===s||r.bounds==="ticks"||v===1)&&N1(p,y,b),Object.keys(p).sort(C1).map(_=>+_)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,a=n||r[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,s,r){const i=this.options,a=i.ticks.callback;if(a)return Ne(a,[e,n,s],this);const c=i.time.displayFormats,u=this._unit,h=this._majorUnit,p=u&&c[u],g=h&&c[h],y=s[n],v=h&&g&&y&&y.major;return this._adapter.format(e,r||(v?g:p))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=or(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),a=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:s*i+c*a,h:s*a+c*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,T1(this,[e],this._majorUnit),r),a=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(k1(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $S(e.sort(C1))}}xe(ah,"id","time"),xe(ah,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function bd(t,e,n){let s=0,r=t.length-1,i,a,c,u;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=Yi(t,"pos",e)),{pos:i,time:c}=t[s],{pos:a,time:u}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=Yi(t,"time",e)),{time:i,pos:c}=t[s],{time:a,pos:u}=t[r]);const h=a-i;return h?c+(u-c)*(e-i)/h:c}class P1 extends ah{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=bd(n,this.min),this._tableRange=bd(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let a,c,u,h,p;for(a=0,c=e.length;a<c;++a)h=e[a],h>=n&&h<=s&&r.push(h);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(a=0,c=r.length;a<c;++a)p=r[a+1],u=r[a-1],h=r[a],Math.round((p+u)/2)!==h&&i.push({time:h,pos:a/(c-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(bd(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return bd(this._table,s*this._tableRange+this._minPos,!0)}}xe(P1,"id","timeseries"),xe(P1,"defaults",ah.defaults);const N_="label";function E1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function AD(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function T_(t,e){t.labels=e}function P_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N_;const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(a=>a[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function RD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N_;const n={labels:[],datasets:[]};return T_(n,t.labels),P_(n,t.datasets,e),n}function DD(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:a,data:c,options:u,plugins:h=[],fallbackContent:p,updateMode:g,...y}=t,v=k.useRef(null),b=k.useRef(null),_=()=>{v.current&&(b.current=new fs(v.current,{type:a,data:RD(c,i),options:u&&{...u},plugins:h}),E1(e,b.current))},S=()=>{E1(e,null),b.current&&(b.current.destroy(),b.current=null)};return k.useEffect(()=>{!r&&b.current&&u&&AD(b.current,u)},[r,u]),k.useEffect(()=>{!r&&b.current&&T_(b.current.config.data,c.labels)},[r,c.labels]),k.useEffect(()=>{!r&&b.current&&c.datasets&&P_(b.current.config.data,c.datasets,i)},[r,c.datasets]),k.useEffect(()=>{b.current&&(r?(S(),setTimeout(_)):b.current.update(g))},[r,u,c.labels,c.datasets,g]),k.useEffect(()=>{b.current&&(S(),setTimeout(_))},[a]),k.useEffect(()=>(_(),()=>S()),[]),Ms.createElement("canvas",{ref:v,role:"img",height:n,width:s,...y},p)}const OD=k.forwardRef(DD);function h0(t,e){return fs.register(e),k.forwardRef((n,s)=>Ms.createElement(OD,{...n,ref:s,type:t}))}const Vc=h0("bar",Zl),LD=h0("doughnut",oa),E_=h0("pie",Fm);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var M1=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),Jl={toTextLines:function(t){var e=[],n;for(t=[].concat(t);t.length;)n=t.pop(),typeof n=="string"?e.unshift.apply(e,n.split(`
`)):Array.isArray(n)?t.push.apply(t,n):We(t)||e.unshift(""+n);return e},textSize:function(t,e,n){var s=[].concat(e),r=s.length,i=t.font,a=0,c;for(t.font=n.string,c=0;c<r;++c)a=Math.max(t.measureText(s[c]).width,a);return t.font=i,{height:r*n.lineHeight,width:a}},bound:function(t,e,n){return Math.max(t,Math.min(e,n))},arrayDiff:function(t,e){var n=t.slice(),s=[],r,i,a,c;for(r=0,a=e.length;r<a;++r)c=e[r],i=n.indexOf(c),i===-1?s.push([c,1]):n.splice(i,1);for(r=0,a=n.length;r<a;++r)s.push([n[r],-1]);return s},rasterize:function(t){return Math.round(t*M1)/M1}};function em(t,e){var n=e.x,s=e.y;if(n===null)return{x:0,y:-1};if(s===null)return{x:1,y:0};var r=t.x-n,i=t.y-s,a=Math.sqrt(r*r+i*i);return{x:a?r/a:0,y:a?i/a:-1}}function ID(t,e,n,s,r){switch(r){case"center":n=s=0;break;case"bottom":n=0,s=1;break;case"right":n=1,s=0;break;case"left":n=-1,s=0;break;case"top":n=0,s=-1;break;case"start":n=-n,s=-s;break;case"end":break;default:r*=Math.PI/180,n=Math.cos(r),s=Math.sin(r);break}return{x:t,y:e,vx:n,vy:s}}var FD=0,M_=1,A_=2,R_=4,D_=8;function wd(t,e,n){var s=FD;return t<n.left?s|=M_:t>n.right&&(s|=A_),e<n.top?s|=D_:e>n.bottom&&(s|=R_),s}function zD(t,e){for(var n=t.x0,s=t.y0,r=t.x1,i=t.y1,a=wd(n,s,e),c=wd(r,i,e),u,h,p;!(!(a|c)||a&c);)u=a||c,u&D_?(h=n+(r-n)*(e.top-s)/(i-s),p=e.top):u&R_?(h=n+(r-n)*(e.bottom-s)/(i-s),p=e.bottom):u&A_?(p=s+(i-s)*(e.right-n)/(r-n),h=e.right):u&M_&&(p=s+(i-s)*(e.left-n)/(r-n),h=e.left),u===a?(n=h,s=p,a=wd(n,s,e)):(r=h,i=p,c=wd(r,i,e));return{x0:n,x1:r,y0:s,y1:i}}function Sd(t,e){var n=e.anchor,s=t,r,i;return e.clamp&&(s=zD(s,e.area)),n==="start"?(r=s.x0,i=s.y0):n==="end"?(r=s.x1,i=s.y1):(r=(s.x0+s.x1)/2,i=(s.y0+s.y1)/2),ID(r,i,t.vx,t.vy,e.align)}var _d={arc:function(t,e){var n=(t.startAngle+t.endAngle)/2,s=Math.cos(n),r=Math.sin(n),i=t.innerRadius,a=t.outerRadius;return Sd({x0:t.x+s*i,y0:t.y+r*i,x1:t.x+s*a,y1:t.y+r*a,vx:s,vy:r},e)},point:function(t,e){var n=em(t,e.origin),s=n.x*t.options.radius,r=n.y*t.options.radius;return Sd({x0:t.x-s,y0:t.y-r,x1:t.x+s,y1:t.y+r,vx:n.x,vy:n.y},e)},bar:function(t,e){var n=em(t,e.origin),s=t.x,r=t.y,i=0,a=0;return t.horizontal?(s=Math.min(t.x,t.base),i=Math.abs(t.base-t.x)):(r=Math.min(t.y,t.base),a=Math.abs(t.base-t.y)),Sd({x0:s,y0:r+a,x1:s+i,y1:r,vx:n.x,vy:n.y},e)},fallback:function(t,e){var n=em(t,e.origin);return Sd({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:n.x,vy:n.y},e)}},cr=Jl.rasterize;function VD(t){var e=t.borderWidth||0,n=t.padding,s=t.size.height,r=t.size.width,i=-r/2,a=-s/2;return{frame:{x:i-n.left-e,y:a-n.top-e,w:r+n.width+e*2,h:s+n.height+e*2},text:{x:i,y:a,w:r,h:s}}}function BD(t,e){var n=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var s=n.getBasePixel();return t.horizontal?{x:s,y:null}:{x:null,y:s}}function UD(t){return t instanceof li?_d.arc:t instanceof pa?_d.point:t instanceof dr?_d.bar:_d.fallback}function $D(t,e,n,s,r,i){var a=Math.PI/2;if(i){var c=Math.min(i,r/2,s/2),u=e+c,h=n+c,p=e+s-c,g=n+r-c;t.moveTo(e,h),u<p&&h<g?(t.arc(u,h,c,-Math.PI,-a),t.arc(p,h,c,-a,0),t.arc(p,g,c,0,a),t.arc(u,g,c,a,Math.PI)):u<p?(t.moveTo(u,n),t.arc(p,h,c,-a,a),t.arc(u,h,c,a,Math.PI+a)):h<g?(t.arc(u,h,c,-Math.PI,0),t.arc(u,g,c,0,Math.PI)):t.arc(u,h,c,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,s,r)}function HD(t,e,n){var s=n.backgroundColor,r=n.borderColor,i=n.borderWidth;!s&&(!r||!i)||(t.beginPath(),$D(t,cr(e.x)+i/2,cr(e.y)+i/2,cr(e.w)-i,cr(e.h)-i,n.borderRadius),t.closePath(),s&&(t.fillStyle=s,t.fill()),r&&i&&(t.strokeStyle=r,t.lineWidth=i,t.lineJoin="miter",t.stroke()))}function WD(t,e,n){var s=n.lineHeight,r=t.w,i=t.x,a=t.y+s/2;return e==="center"?i+=r/2:(e==="end"||e==="right")&&(i+=r),{h:s,w:r,x:i,y:a}}function qD(t,e,n){var s=t.shadowBlur,r=n.stroked,i=cr(n.x),a=cr(n.y),c=cr(n.w);r&&t.strokeText(e,i,a,c),n.filled&&(s&&r&&(t.shadowBlur=0),t.fillText(e,i,a,c),s&&r&&(t.shadowBlur=s))}function YD(t,e,n,s){var r=s.textAlign,i=s.color,a=!!i,c=s.font,u=e.length,h=s.textStrokeColor,p=s.textStrokeWidth,g=h&&p,y;if(!(!u||!a&&!g))for(n=WD(n,r,c),t.font=c.string,t.textAlign=r,t.textBaseline="middle",t.shadowBlur=s.textShadowBlur,t.shadowColor=s.textShadowColor,a&&(t.fillStyle=i),g&&(t.lineJoin="round",t.lineWidth=p,t.strokeStyle=h),y=0,u=e.length;y<u;++y)qD(t,e[y],{stroked:g,filled:a,w:n.w,x:n.x,y:n.y+n.h*y})}var O_=function(t,e,n,s){var r=this;r._config=t,r._index=s,r._model=null,r._rects=null,r._ctx=e,r._el=n};Ls(O_.prototype,{_modelize:function(t,e,n,s){var r=this,i=r._index,a=Vt(st([n.font,{}],s,i)),c=st([n.color,mt.color],s,i);return{align:st([n.align,"center"],s,i),anchor:st([n.anchor,"center"],s,i),area:s.chart.chartArea,backgroundColor:st([n.backgroundColor,null],s,i),borderColor:st([n.borderColor,null],s,i),borderRadius:st([n.borderRadius,0],s,i),borderWidth:st([n.borderWidth,0],s,i),clamp:st([n.clamp,!1],s,i),clip:st([n.clip,!1],s,i),color:c,display:t,font:a,lines:e,offset:st([n.offset,4],s,i),opacity:st([n.opacity,1],s,i),origin:BD(r._el,s),padding:Ln(st([n.padding,4],s,i)),positioner:UD(r._el),rotation:st([n.rotation,0],s,i)*(Math.PI/180),size:Jl.textSize(r._ctx,e,a),textAlign:st([n.textAlign,"start"],s,i),textShadowBlur:st([n.textShadowBlur,0],s,i),textShadowColor:st([n.textShadowColor,c],s,i),textStrokeColor:st([n.textStrokeColor,c],s,i),textStrokeWidth:st([n.textStrokeWidth,0],s,i)}},update:function(t){var e=this,n=null,s=null,r=e._index,i=e._config,a,c,u,h=st([i.display,!0],t,r);h&&(a=t.dataset.data[r],c=Re(Ne(i.formatter,[a,t]),a),u=We(c)?[]:Jl.toTextLines(c),u.length&&(n=e._modelize(h,u,i,t),s=VD(n))),e._model=n,e._rects=s},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var n=this,s=t.ctx,r=n._model,i=n._rects,a;this.visible()&&(s.save(),r.clip&&(a=r.area,s.beginPath(),s.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),s.clip()),s.globalAlpha=Jl.bound(0,r.opacity,1),s.translate(cr(e.x),cr(e.y)),s.rotate(r.rotation),HD(s,i.frame,r),YD(s,r.lines,i.text,r),s.restore())}});var KD=Number.MIN_SAFE_INTEGER||-9007199254740991,XD=Number.MAX_SAFE_INTEGER||9007199254740991;function Ul(t,e,n){var s=Math.cos(n),r=Math.sin(n),i=e.x,a=e.y;return{x:i+s*(t.x-i)-r*(t.y-a),y:a+r*(t.x-i)+s*(t.y-a)}}function A1(t,e){var n=XD,s=KD,r=e.origin,i,a,c,u,h;for(i=0;i<t.length;++i)a=t[i],c=a.x-r.x,u=a.y-r.y,h=e.vx*c+e.vy*u,n=Math.min(n,h),s=Math.max(s,h);return{min:n,max:s}}function Cd(t,e){var n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);return{vx:(e.x-t.x)/r,vy:(e.y-t.y)/r,origin:t,ln:r}}var L_=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Ls(L_.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,n){this._rotation=n,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,n=1,s=e._rect;return t=Ul(t,e.center(),-e._rotation),!(t.x<s.x-n||t.y<s.y-n||t.x>s.x+s.w+n*2||t.y>s.y+s.h+n*2)},intersects:function(t){var e=this._points(),n=t._points(),s=[Cd(e[0],e[1]),Cd(e[0],e[3])],r,i,a;for(this._rotation!==t._rotation&&s.push(Cd(n[0],n[1]),Cd(n[0],n[3])),r=0;r<s.length;++r)if(i=A1(e,s[r]),a=A1(n,s[r]),i.max<a.min||a.max<i.min)return!1;return!0},_points:function(){var t=this,e=t._rect,n=t._rotation,s=t.center();return[Ul({x:e.x,y:e.y},s,n),Ul({x:e.x+e.w,y:e.y},s,n),Ul({x:e.x+e.w,y:e.y+e.h},s,n),Ul({x:e.x,y:e.y+e.h},s,n)]}});function I_(t,e,n){var s=e.positioner(t,e),r=s.vx,i=s.vy;if(!r&&!i)return{x:s.x,y:s.y};var a=n.w,c=n.h,u=e.rotation,h=Math.abs(a/2*Math.cos(u))+Math.abs(c/2*Math.sin(u)),p=Math.abs(a/2*Math.sin(u))+Math.abs(c/2*Math.cos(u)),g=1/Math.max(Math.abs(r),Math.abs(i));return h*=r*g,p*=i*g,h+=e.offset*r,p+=e.offset*i,{x:s.x+h,y:s.y+p}}function QD(t,e){var n,s,r,i;for(n=t.length-1;n>=0;--n)for(r=t[n].$layout,s=n-1;s>=0&&r._visible;--s)i=t[s].$layout,i._visible&&r._box.intersects(i._box)&&e(r,i);return t}function GD(t){var e,n,s,r,i,a,c;for(e=0,n=t.length;e<n;++e)s=t[e],r=s.$layout,r._visible&&(c=new Proxy(s._el,{get:(u,h)=>u.getProps([h],!0)[h]}),i=s.geometry(),a=I_(c,s.model(),i),r._box.update(a,i,s.rotation()));return QD(t,function(u,h){var p=u._hidable,g=h._hidable;p&&g||g?h._visible=!1:p&&(u._visible=!1)})}var ec={prepare:function(t){var e=[],n,s,r,i,a;for(n=0,r=t.length;n<r;++n)for(s=0,i=t[n].length;s<i;++s)a=t[n][s],e.push(a),a.$layout={_box:new L_,_hidable:!1,_visible:!0,_set:n,_idx:a._index};return e.sort(function(c,u){var h=c.$layout,p=u.$layout;return h._idx===p._idx?p._set-h._set:p._idx-h._idx}),this.update(e),e},update:function(t){var e=!1,n,s,r,i,a;for(n=0,s=t.length;n<s;++n)r=t[n],i=r.model(),a=r.$layout,a._hidable=i&&i.display==="auto",a._visible=r.visible(),e|=a._hidable;e&&GD(t)},lookup:function(t,e){var n,s;for(n=t.length-1;n>=0;--n)if(s=t[n].$layout,s&&s._visible&&s._box.contains(e))return t[n];return null},draw:function(t,e){var n,s,r,i,a,c;for(n=0,s=e.length;n<s;++n)r=e[n],i=r.$layout,i._visible&&(a=r.geometry(),c=I_(r._el,r.model(),a),i._box.update(c,a,r.rotation()),r.draw(t,c))}},ZD=function(t){if(We(t))return null;var e=t,n,s,r;if(Ue(t))if(!We(t.label))e=t.label;else if(!We(t.r))e=t.r;else for(e="",n=Object.keys(t),r=0,s=n.length;r<s;++r)e+=(r!==0?", ":"")+n[r]+": "+t[n[r]];return""+e},JD={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:ZD,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},vn="$datalabels",F_="$default";function eO(t,e){var n=t.datalabels,s={},r=[],i,a;return n===!1?null:(n===!0&&(n={}),e=Ls({},[e,n]),i=e.labels||{},a=Object.keys(i),delete e.labels,a.length?a.forEach(function(c){i[c]&&r.push(Ls({},[e,i[c],{_key:c}]))}):r.push(e),s=r.reduce(function(c,u){return Ve(u.listeners||{},function(h,p){c[p]=c[p]||{},c[p][u._key||F_]=h}),delete u.listeners,c},{}),{labels:r,listeners:s})}function Hm(t,e,n,s){if(e){var r=n.$context,i=n.$groups,a;e[i._set]&&(a=e[i._set][i._key],a&&Ne(a,[r,s])===!0&&(t[vn]._dirty=!0,n.update(r)))}}function tO(t,e,n,s,r){var i,a;!n&&!s||(n?s?n!==s&&(a=i=!0):a=!0:i=!0,a&&Hm(t,e.leave,n,r),i&&Hm(t,e.enter,s,r))}function nO(t,e){var n=t[vn],s=n._listeners,r,i;if(!(!s.enter&&!s.leave)){if(e.type==="mousemove")i=ec.lookup(n._labels,e);else if(e.type!=="mouseout")return;r=n._hovered,n._hovered=i,tO(t,s,r,i,e)}}function sO(t,e){var n=t[vn],s=n._listeners.click,r=s&&ec.lookup(n._labels,e);r&&Hm(t,s,r,e)}var So={id:"datalabels",defaults:JD,beforeInit:function(t){t[vn]={_actives:[]}},beforeUpdate:function(t){var e=t[vn];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(t,e,n){var s=e.index,r=t[vn],i=r._datasets[s]=[],a=t.isDatasetVisible(s),c=t.data.datasets[s],u=eO(c,n),h=e.meta.data||[],p=t.ctx,g,y,v,b,_,S,C,N;for(p.save(),g=0,v=h.length;g<v;++g)if(C=h[g],C[vn]=[],a&&C&&t.getDataVisibility(g)&&!C.skip)for(y=0,b=u.labels.length;y<b;++y)_=u.labels[y],S=_._key,N=new O_(_,p,C,g),N.$groups={_set:s,_key:S||F_},N.$context={active:!1,chart:t,dataIndex:g,dataset:c,datasetIndex:s},N.update(N.$context),C[vn].push(N),i.push(N);p.restore(),Ls(r._listeners,u.listeners,{merger:function(P,A,M){A[P]=A[P]||{},A[P][e.index]=M[P],r._listened=!0}})},afterUpdate:function(t){t[vn]._labels=ec.prepare(t[vn]._datasets)},afterDatasetsDraw:function(t){ec.draw(t,t[vn]._labels)},beforeEvent:function(t,e){if(t[vn]._listened){var n=e.event;switch(n.type){case"mousemove":case"mouseout":nO(t,n);break;case"click":sO(t,n);break}}},afterEvent:function(t){var e=t[vn],n=e._actives,s=e._actives=t.getActiveElements(),r=Jl.arrayDiff(n,s),i,a,c,u,h,p,g;for(i=0,a=r.length;i<a;++i)if(h=r[i],h[1])for(g=h[0].element[vn]||[],c=0,u=g.length;c<u;++c)p=g[c],p.$context.active=h[1]===1,p.update(p.$context);(e._dirty||r.length)&&(ec.update(e._labels),t.render()),delete e._dirty}},tm={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var R1;function rO(){return R1||(R1=1,function(t){(function(e,n,s,r){var i=["","webkit","Moz","MS","ms","o"],a=n.createElement("div"),c="function",u=Math.round,h=Math.abs,p=Date.now;function g(T,E,L){return setTimeout(P(T,L),E)}function y(T,E,L){return Array.isArray(T)?(v(T,L[E],L),!0):!1}function v(T,E,L){var q;if(T)if(T.forEach)T.forEach(E,L);else if(T.length!==r)for(q=0;q<T.length;)E.call(L,T[q],q,T),q++;else for(q in T)T.hasOwnProperty(q)&&E.call(L,T[q],q,T)}function b(T,E,L){var q="DEPRECATED METHOD: "+E+`
`+L+` AT 
`;return function(){var ee=new Error("get-stack-trace"),de=ee&&ee.stack?ee.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Fe=e.console&&(e.console.warn||e.console.log);return Fe&&Fe.call(e.console,q,de),T.apply(this,arguments)}}var _;typeof Object.assign!="function"?_=function(E){if(E===r||E===null)throw new TypeError("Cannot convert undefined or null to object");for(var L=Object(E),q=1;q<arguments.length;q++){var ee=arguments[q];if(ee!==r&&ee!==null)for(var de in ee)ee.hasOwnProperty(de)&&(L[de]=ee[de])}return L}:_=Object.assign;var S=b(function(E,L,q){for(var ee=Object.keys(L),de=0;de<ee.length;)(!q||q&&E[ee[de]]===r)&&(E[ee[de]]=L[ee[de]]),de++;return E},"extend","Use `assign`."),C=b(function(E,L){return S(E,L,!0)},"merge","Use `assign`.");function N(T,E,L){var q=E.prototype,ee;ee=T.prototype=Object.create(q),ee.constructor=T,ee._super=q,L&&_(ee,L)}function P(T,E){return function(){return T.apply(E,arguments)}}function A(T,E){return typeof T==c?T.apply(E&&E[0]||r,E):T}function M(T,E){return T===r?E:T}function R(T,E,L){v($(E),function(q){T.addEventListener(q,L,!1)})}function z(T,E,L){v($(E),function(q){T.removeEventListener(q,L,!1)})}function B(T,E){for(;T;){if(T==E)return!0;T=T.parentNode}return!1}function V(T,E){return T.indexOf(E)>-1}function $(T){return T.trim().split(/\s+/g)}function G(T,E,L){if(T.indexOf&&!L)return T.indexOf(E);for(var q=0;q<T.length;){if(L&&T[q][L]==E||!L&&T[q]===E)return q;q++}return-1}function ne(T){return Array.prototype.slice.call(T,0)}function ue(T,E,L){for(var q=[],ee=[],de=0;de<T.length;){var Fe=T[de][E];G(ee,Fe)<0&&q.push(T[de]),ee[de]=Fe,de++}return q=q.sort(function(bt,Ct){return bt[E]>Ct[E]}),q}function Q(T,E){for(var L,q,ee=E[0].toUpperCase()+E.slice(1),de=0;de<i.length;){if(L=i[de],q=L?L+ee:E,q in T)return q;de++}return r}var pe=1;function me(){return pe++}function ae(T){var E=T.ownerDocument||T;return E.defaultView||E.parentWindow||e}var Z=/mobile|tablet|ip(ad|hone|od)|android/i,oe="ontouchstart"in e,O=Q(e,"PointerEvent")!==r,X=oe&&Z.test(navigator.userAgent),ie="touch",Se="pen",we="mouse",$e="kinect",De=25,Ae=1,Le=2,Ce=4,le=8,Ee=1,Te=2,Ie=4,tt=8,yt=16,xt=Te|Ie,tn=tt|yt,vr=xt|tn,Co=["x","y"],ps=["clientX","clientY"];function Nt(T,E){var L=this;this.manager=T,this.callback=E,this.element=T.element,this.target=T.options.inputTarget,this.domHandler=function(q){A(T.options.enable,[T])&&L.handler(q)},this.init()}Nt.prototype={handler:function(){},init:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(ae(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&z(this.element,this.evEl,this.domHandler),this.evTarget&&z(this.target,this.evTarget,this.domHandler),this.evWin&&z(ae(this.element),this.evWin,this.domHandler)}};function Ha(T){var E,L=T.options.inputClass;return L?E=L:O?E=jo:X?E=Sr:oe?E=Cr:E=wr,new E(T,qc)}function qc(T,E,L){var q=L.pointers.length,ee=L.changedPointers.length,de=E&Ae&&q-ee===0,Fe=E&(Ce|le)&&q-ee===0;L.isFirst=!!de,L.isFinal=!!Fe,de&&(T.session={}),L.eventType=E,Yc(T,L),T.emit("hammer.input",L),T.recognize(L),T.session.prevInput=L}function Yc(T,E){var L=T.session,q=E.pointers,ee=q.length;L.firstInput||(L.firstInput=ko(E)),ee>1&&!L.firstMultiple?L.firstMultiple=ko(E):ee===1&&(L.firstMultiple=!1);var de=L.firstInput,Fe=L.firstMultiple,vt=Fe?Fe.center:de.center,bt=E.center=bi(q);E.timeStamp=p(),E.deltaTime=E.timeStamp-de.timeStamp,E.angle=qa(vt,bt),E.distance=ms(vt,bt),Kc(L,E),E.offsetDirection=br(E.deltaX,E.deltaY);var Ct=Wa(E.deltaTime,E.deltaX,E.deltaY);E.overallVelocityX=Ct.x,E.overallVelocityY=Ct.y,E.overallVelocity=h(Ct.x)>h(Ct.y)?Ct.x:Ct.y,E.scale=Fe?Gc(Fe.pointers,q):1,E.rotation=Fe?Qc(Fe.pointers,q):0,E.maxPointers=L.prevInput?E.pointers.length>L.prevInput.maxPointers?E.pointers.length:L.prevInput.maxPointers:E.pointers.length,Xc(L,E);var Tt=T.element;B(E.srcEvent.target,Tt)&&(Tt=E.srcEvent.target),E.target=Tt}function Kc(T,E){var L=E.center,q=T.offsetDelta||{},ee=T.prevDelta||{},de=T.prevInput||{};(E.eventType===Ae||de.eventType===Ce)&&(ee=T.prevDelta={x:de.deltaX||0,y:de.deltaY||0},q=T.offsetDelta={x:L.x,y:L.y}),E.deltaX=ee.x+(L.x-q.x),E.deltaY=ee.y+(L.y-q.y)}function Xc(T,E){var L=T.lastInterval||E,q=E.timeStamp-L.timeStamp,ee,de,Fe,vt;if(E.eventType!=le&&(q>De||L.velocity===r)){var bt=E.deltaX-L.deltaX,Ct=E.deltaY-L.deltaY,Tt=Wa(q,bt,Ct);de=Tt.x,Fe=Tt.y,ee=h(Tt.x)>h(Tt.y)?Tt.x:Tt.y,vt=br(bt,Ct),T.lastInterval=E}else ee=L.velocity,de=L.velocityX,Fe=L.velocityY,vt=L.direction;E.velocity=ee,E.velocityX=de,E.velocityY=Fe,E.direction=vt}function ko(T){for(var E=[],L=0;L<T.pointers.length;)E[L]={clientX:u(T.pointers[L].clientX),clientY:u(T.pointers[L].clientY)},L++;return{timeStamp:p(),pointers:E,center:bi(E),deltaX:T.deltaX,deltaY:T.deltaY}}function bi(T){var E=T.length;if(E===1)return{x:u(T[0].clientX),y:u(T[0].clientY)};for(var L=0,q=0,ee=0;ee<E;)L+=T[ee].clientX,q+=T[ee].clientY,ee++;return{x:u(L/E),y:u(q/E)}}function Wa(T,E,L){return{x:E/T||0,y:L/T||0}}function br(T,E){return T===E?Ee:h(T)>=h(E)?T<0?Te:Ie:E<0?tt:yt}function ms(T,E,L){L||(L=Co);var q=E[L[0]]-T[L[0]],ee=E[L[1]]-T[L[1]];return Math.sqrt(q*q+ee*ee)}function qa(T,E,L){L||(L=Co);var q=E[L[0]]-T[L[0]],ee=E[L[1]]-T[L[1]];return Math.atan2(ee,q)*180/Math.PI}function Qc(T,E){return qa(E[1],E[0],ps)+qa(T[1],T[0],ps)}function Gc(T,E){return ms(E[0],E[1],ps)/ms(T[0],T[1],ps)}var Fh={mousedown:Ae,mousemove:Le,mouseup:Ce},Ya="mousedown",Ka="mousemove mouseup";function wr(){this.evEl=Ya,this.evWin=Ka,this.pressed=!1,Nt.apply(this,arguments)}N(wr,Nt,{handler:function(E){var L=Fh[E.type];L&Ae&&E.button===0&&(this.pressed=!0),L&Le&&E.which!==1&&(L=Ce),this.pressed&&(L&Ce&&(this.pressed=!1),this.callback(this.manager,L,{pointers:[E],changedPointers:[E],pointerType:we,srcEvent:E}))}});var Xa={pointerdown:Ae,pointermove:Le,pointerup:Ce,pointercancel:le,pointerout:le},Qa={2:ie,3:Se,4:we,5:$e},zs="pointerdown",Vs="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(zs="MSPointerDown",Vs="MSPointerMove MSPointerUp MSPointerCancel");function jo(){this.evEl=zs,this.evWin=Vs,Nt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}N(jo,Nt,{handler:function(E){var L=this.store,q=!1,ee=E.type.toLowerCase().replace("ms",""),de=Xa[ee],Fe=Qa[E.pointerType]||E.pointerType,vt=Fe==ie,bt=G(L,E.pointerId,"pointerId");de&Ae&&(E.button===0||vt)?bt<0&&(L.push(E),bt=L.length-1):de&(Ce|le)&&(q=!0),!(bt<0)&&(L[bt]=E,this.callback(this.manager,de,{pointers:L,changedPointers:[E],pointerType:Fe,srcEvent:E}),q&&L.splice(bt,1))}});var Zc={touchstart:Ae,touchmove:Le,touchend:Ce,touchcancel:le},Jc="touchstart",eu="touchstart touchmove touchend touchcancel";function Ga(){this.evTarget=Jc,this.evWin=eu,this.started=!1,Nt.apply(this,arguments)}N(Ga,Nt,{handler:function(E){var L=Zc[E.type];if(L===Ae&&(this.started=!0),!!this.started){var q=Za.call(this,E,L);L&(Ce|le)&&q[0].length-q[1].length===0&&(this.started=!1),this.callback(this.manager,L,{pointers:q[0],changedPointers:q[1],pointerType:ie,srcEvent:E})}}});function Za(T,E){var L=ne(T.touches),q=ne(T.changedTouches);return E&(Ce|le)&&(L=ue(L.concat(q),"identifier")),[L,q]}var tu={touchstart:Ae,touchmove:Le,touchend:Ce,touchcancel:le},wi="touchstart touchmove touchend touchcancel";function Sr(){this.evTarget=wi,this.targetIds={},Nt.apply(this,arguments)}N(Sr,Nt,{handler:function(E){var L=tu[E.type],q=Si.call(this,E,L);q&&this.callback(this.manager,L,{pointers:q[0],changedPointers:q[1],pointerType:ie,srcEvent:E})}});function Si(T,E){var L=ne(T.touches),q=this.targetIds;if(E&(Ae|Le)&&L.length===1)return q[L[0].identifier]=!0,[L,L];var ee,de,Fe=ne(T.changedTouches),vt=[],bt=this.target;if(de=L.filter(function(Ct){return B(Ct.target,bt)}),E===Ae)for(ee=0;ee<de.length;)q[de[ee].identifier]=!0,ee++;for(ee=0;ee<Fe.length;)q[Fe[ee].identifier]&&vt.push(Fe[ee]),E&(Ce|le)&&delete q[Fe[ee].identifier],ee++;if(vt.length)return[ue(de.concat(vt),"identifier"),vt]}var zh=2500,_r=25;function Cr(){Nt.apply(this,arguments);var T=P(this.handler,this);this.touch=new Sr(this.manager,T),this.mouse=new wr(this.manager,T),this.primaryTouch=null,this.lastTouches=[]}N(Cr,Nt,{handler:function(E,L,q){var ee=q.pointerType==ie,de=q.pointerType==we;if(!(de&&q.sourceCapabilities&&q.sourceCapabilities.firesTouchEvents)){if(ee)No.call(this,L,q);else if(de&&Vh.call(this,q))return;this.callback(E,L,q)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function No(T,E){T&Ae?(this.primaryTouch=E.changedPointers[0].identifier,To.call(this,E)):T&(Ce|le)&&To.call(this,E)}function To(T){var E=T.changedPointers[0];if(E.identifier===this.primaryTouch){var L={x:E.clientX,y:E.clientY};this.lastTouches.push(L);var q=this.lastTouches,ee=function(){var de=q.indexOf(L);de>-1&&q.splice(de,1)};setTimeout(ee,zh)}}function Vh(T){for(var E=T.srcEvent.clientX,L=T.srcEvent.clientY,q=0;q<this.lastTouches.length;q++){var ee=this.lastTouches[q],de=Math.abs(E-ee.x),Fe=Math.abs(L-ee.y);if(de<=_r&&Fe<=_r)return!0}return!1}var nu=Q(a.style,"touchAction"),su=nu!==r,gs="compute",Ja="auto",Po="manipulation",Bs="none",kr="pan-x",jr="pan-y",_i=Uh();function Eo(T,E){this.manager=T,this.set(E)}Eo.prototype={set:function(T){T==gs&&(T=this.compute()),su&&this.manager.element.style&&_i[T]&&(this.manager.element.style[nu]=T),this.actions=T.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var T=[];return v(this.manager.recognizers,function(E){A(E.options.enable,[E])&&(T=T.concat(E.getTouchAction()))}),Bh(T.join(" "))},preventDefaults:function(T){var E=T.srcEvent,L=T.offsetDirection;if(this.manager.session.prevented){E.preventDefault();return}var q=this.actions,ee=V(q,Bs)&&!_i[Bs],de=V(q,jr)&&!_i[jr],Fe=V(q,kr)&&!_i[kr];if(ee){var vt=T.pointers.length===1,bt=T.distance<2,Ct=T.deltaTime<250;if(vt&&bt&&Ct)return}if(!(Fe&&de)&&(ee||de&&L&xt||Fe&&L&tn))return this.preventSrc(E)},preventSrc:function(T){this.manager.session.prevented=!0,T.preventDefault()}};function Bh(T){if(V(T,Bs))return Bs;var E=V(T,kr),L=V(T,jr);return E&&L?Bs:E||L?E?kr:jr:V(T,Po)?Po:Ja}function Uh(){if(!su)return!1;var T={},E=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(L){T[L]=E?e.CSS.supports("touch-action",L):!0}),T}var Ge=1,cn=2,ys=4,Zn=8,un=Zn,Ci=16,Nn=32;function dn(T){this.options=_({},this.defaults,T||{}),this.id=me(),this.manager=null,this.options.enable=M(this.options.enable,!0),this.state=Ge,this.simultaneous={},this.requireFail=[]}dn.prototype={defaults:{},set:function(T){return _(this.options,T),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(T){if(y(T,"recognizeWith",this))return this;var E=this.simultaneous;return T=Ut(T,this),E[T.id]||(E[T.id]=T,T.recognizeWith(this)),this},dropRecognizeWith:function(T){return y(T,"dropRecognizeWith",this)?this:(T=Ut(T,this),delete this.simultaneous[T.id],this)},requireFailure:function(T){if(y(T,"requireFailure",this))return this;var E=this.requireFail;return T=Ut(T,this),G(E,T)===-1&&(E.push(T),T.requireFailure(this)),this},dropRequireFailure:function(T){if(y(T,"dropRequireFailure",this))return this;T=Ut(T,this);var E=G(this.requireFail,T);return E>-1&&this.requireFail.splice(E,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(T){return!!this.simultaneous[T.id]},emit:function(T){var E=this,L=this.state;function q(ee){E.manager.emit(ee,T)}L<Zn&&q(E.options.event+Tn(L)),q(E.options.event),T.additionalEvent&&q(T.additionalEvent),L>=Zn&&q(E.options.event+Tn(L))},tryEmit:function(T){if(this.canEmit())return this.emit(T);this.state=Nn},canEmit:function(){for(var T=0;T<this.requireFail.length;){if(!(this.requireFail[T].state&(Nn|Ge)))return!1;T++}return!0},recognize:function(T){var E=_({},T);if(!A(this.options.enable,[this,E])){this.reset(),this.state=Nn;return}this.state&(un|Ci|Nn)&&(this.state=Ge),this.state=this.process(E),this.state&(cn|ys|Zn|Ci)&&this.tryEmit(E)},process:function(T){},getTouchAction:function(){},reset:function(){}};function Tn(T){return T&Ci?"cancel":T&Zn?"end":T&ys?"move":T&cn?"start":""}function ru(T){return T==yt?"down":T==tt?"up":T==Te?"left":T==Ie?"right":""}function Ut(T,E){var L=E.manager;return L?L.get(T):T}function Pn(){dn.apply(this,arguments)}N(Pn,dn,{defaults:{pointers:1},attrTest:function(T){var E=this.options.pointers;return E===0||T.pointers.length===E},process:function(T){var E=this.state,L=T.eventType,q=E&(cn|ys),ee=this.attrTest(T);return q&&(L&le||!ee)?E|Ci:q||ee?L&Ce?E|Zn:E&cn?E|ys:cn:Nn}});function Mo(){Pn.apply(this,arguments),this.pX=null,this.pY=null}N(Mo,Pn,{defaults:{event:"pan",threshold:10,pointers:1,direction:vr},getTouchAction:function(){var T=this.options.direction,E=[];return T&xt&&E.push(jr),T&tn&&E.push(kr),E},directionTest:function(T){var E=this.options,L=!0,q=T.distance,ee=T.direction,de=T.deltaX,Fe=T.deltaY;return ee&E.direction||(E.direction&xt?(ee=de===0?Ee:de<0?Te:Ie,L=de!=this.pX,q=Math.abs(T.deltaX)):(ee=Fe===0?Ee:Fe<0?tt:yt,L=Fe!=this.pY,q=Math.abs(T.deltaY))),T.direction=ee,L&&q>E.threshold&&ee&E.direction},attrTest:function(T){return Pn.prototype.attrTest.call(this,T)&&(this.state&cn||!(this.state&cn)&&this.directionTest(T))},emit:function(T){this.pX=T.deltaX,this.pY=T.deltaY;var E=ru(T.direction);E&&(T.additionalEvent=this.options.event+E),this._super.emit.call(this,T)}});function el(){Pn.apply(this,arguments)}N(el,Pn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Bs]},attrTest:function(T){return this._super.attrTest.call(this,T)&&(Math.abs(T.scale-1)>this.options.threshold||this.state&cn)},emit:function(T){if(T.scale!==1){var E=T.scale<1?"in":"out";T.additionalEvent=this.options.event+E}this._super.emit.call(this,T)}});function Nr(){dn.apply(this,arguments),this._timer=null,this._input=null}N(Nr,dn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ja]},process:function(T){var E=this.options,L=T.pointers.length===E.pointers,q=T.distance<E.threshold,ee=T.deltaTime>E.time;if(this._input=T,!q||!L||T.eventType&(Ce|le)&&!ee)this.reset();else if(T.eventType&Ae)this.reset(),this._timer=g(function(){this.state=un,this.tryEmit()},E.time,this);else if(T.eventType&Ce)return un;return Nn},reset:function(){clearTimeout(this._timer)},emit:function(T){this.state===un&&(T&&T.eventType&Ce?this.manager.emit(this.options.event+"up",T):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}});function Tr(){Pn.apply(this,arguments)}N(Tr,Pn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Bs]},attrTest:function(T){return this._super.attrTest.call(this,T)&&(Math.abs(T.rotation)>this.options.threshold||this.state&cn)}});function Us(){Pn.apply(this,arguments)}N(Us,Pn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:xt|tn,pointers:1},getTouchAction:function(){return Mo.prototype.getTouchAction.call(this)},attrTest:function(T){var E=this.options.direction,L;return E&(xt|tn)?L=T.overallVelocity:E&xt?L=T.overallVelocityX:E&tn&&(L=T.overallVelocityY),this._super.attrTest.call(this,T)&&E&T.offsetDirection&&T.distance>this.options.threshold&&T.maxPointers==this.options.pointers&&h(L)>this.options.velocity&&T.eventType&Ce},emit:function(T){var E=ru(T.offsetDirection);E&&this.manager.emit(this.options.event+E,T),this.manager.emit(this.options.event,T)}});function $s(){dn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}N($s,dn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Po]},process:function(T){var E=this.options,L=T.pointers.length===E.pointers,q=T.distance<E.threshold,ee=T.deltaTime<E.time;if(this.reset(),T.eventType&Ae&&this.count===0)return this.failTimeout();if(q&&ee&&L){if(T.eventType!=Ce)return this.failTimeout();var de=this.pTime?T.timeStamp-this.pTime<E.interval:!0,Fe=!this.pCenter||ms(this.pCenter,T.center)<E.posThreshold;this.pTime=T.timeStamp,this.pCenter=T.center,!Fe||!de?this.count=1:this.count+=1,this._input=T;var vt=this.count%E.taps;if(vt===0)return this.hasRequireFailures()?(this._timer=g(function(){this.state=un,this.tryEmit()},E.interval,this),cn):un}return Nn},failTimeout:function(){return this._timer=g(function(){this.state=Nn},this.options.interval,this),Nn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==un&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function xs(T,E){return E=E||{},E.recognizers=M(E.recognizers,xs.defaults.preset),new Ro(T,E)}xs.VERSION="2.0.7",xs.defaults={domEvents:!1,touchAction:gs,enable:!0,inputTarget:null,inputClass:null,preset:[[Tr,{enable:!1}],[el,{enable:!1},["rotate"]],[Us,{direction:xt}],[Mo,{direction:xt},["swipe"]],[$s],[$s,{event:"doubletap",taps:2},["tap"]],[Nr]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var $h=1,Ao=2;function Ro(T,E){this.options=_({},xs.defaults,E||{}),this.options.inputTarget=this.options.inputTarget||T,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=T,this.input=Ha(this),this.touchAction=new Eo(this,this.options.touchAction),Do(this,!0),v(this.options.recognizers,function(L){var q=this.add(new L[0](L[1]));L[2]&&q.recognizeWith(L[2]),L[3]&&q.requireFailure(L[3])},this)}Ro.prototype={set:function(T){return _(this.options,T),T.touchAction&&this.touchAction.update(),T.inputTarget&&(this.input.destroy(),this.input.target=T.inputTarget,this.input.init()),this},stop:function(T){this.session.stopped=T?Ao:$h},recognize:function(T){var E=this.session;if(!E.stopped){this.touchAction.preventDefaults(T);var L,q=this.recognizers,ee=E.curRecognizer;(!ee||ee&&ee.state&un)&&(ee=E.curRecognizer=null);for(var de=0;de<q.length;)L=q[de],E.stopped!==Ao&&(!ee||L==ee||L.canRecognizeWith(ee))?L.recognize(T):L.reset(),!ee&&L.state&(cn|ys|Zn)&&(ee=E.curRecognizer=L),de++}},get:function(T){if(T instanceof dn)return T;for(var E=this.recognizers,L=0;L<E.length;L++)if(E[L].options.event==T)return E[L];return null},add:function(T){if(y(T,"add",this))return this;var E=this.get(T.options.event);return E&&this.remove(E),this.recognizers.push(T),T.manager=this,this.touchAction.update(),T},remove:function(T){if(y(T,"remove",this))return this;if(T=this.get(T),T){var E=this.recognizers,L=G(E,T);L!==-1&&(E.splice(L,1),this.touchAction.update())}return this},on:function(T,E){if(T!==r&&E!==r){var L=this.handlers;return v($(T),function(q){L[q]=L[q]||[],L[q].push(E)}),this}},off:function(T,E){if(T!==r){var L=this.handlers;return v($(T),function(q){E?L[q]&&L[q].splice(G(L[q],E),1):delete L[q]}),this}},emit:function(T,E){this.options.domEvents&&ki(T,E);var L=this.handlers[T]&&this.handlers[T].slice();if(!(!L||!L.length)){E.type=T,E.preventDefault=function(){E.srcEvent.preventDefault()};for(var q=0;q<L.length;)L[q](E),q++}},destroy:function(){this.element&&Do(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Do(T,E){var L=T.element;if(L.style){var q;v(T.options.cssProps,function(ee,de){q=Q(L.style,de),E?(T.oldCssProps[q]=L.style[q],L.style[q]=ee):L.style[q]=T.oldCssProps[q]||""}),E||(T.oldCssProps={})}}function ki(T,E){var L=n.createEvent("Event");L.initEvent(T,!0,!0),L.gesture=E,E.target.dispatchEvent(L)}_(xs,{INPUT_START:Ae,INPUT_MOVE:Le,INPUT_END:Ce,INPUT_CANCEL:le,STATE_POSSIBLE:Ge,STATE_BEGAN:cn,STATE_CHANGED:ys,STATE_ENDED:Zn,STATE_RECOGNIZED:un,STATE_CANCELLED:Ci,STATE_FAILED:Nn,DIRECTION_NONE:Ee,DIRECTION_LEFT:Te,DIRECTION_RIGHT:Ie,DIRECTION_UP:tt,DIRECTION_DOWN:yt,DIRECTION_HORIZONTAL:xt,DIRECTION_VERTICAL:tn,DIRECTION_ALL:vr,Manager:Ro,Input:Nt,TouchAction:Eo,TouchInput:Sr,MouseInput:wr,PointerEventInput:jo,TouchMouseInput:Cr,SingleTouchInput:Ga,Recognizer:dn,AttrRecognizer:Pn,Tap:$s,Pan:Mo,Swipe:Us,Pinch:el,Rotate:Tr,Press:Nr,on:R,off:z,each:v,merge:C,extend:S,assign:_,inherit:N,bindFn:P,prefixed:Q});var Hh=typeof e<"u"?e:typeof self<"u"?self:{};Hh.Hammer=xs,t.exports?t.exports=xs:e[s]=xs})(window,document,"Hammer")}(tm)),tm.exports}var iO=rO();const tc=Dg(iO);/*!
* chartjs-plugin-zoom v2.2.0
* https://www.chartjs.org/chartjs-plugin-zoom/2.2.0/
 * (c) 2016-2024 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const vc=t=>t&&t.enabled&&t.modifierKey,z_=(t,e)=>t&&e[t+"Key"],f0=(t,e)=>t&&!e[t+"Key"];function fi(t,e,n){return t===void 0?!0:typeof t=="string"?t.indexOf(e)!==-1:typeof t=="function"?t({chart:n}).indexOf(e)!==-1:!1}function nm(t,e){return typeof t=="function"&&(t=t({chart:e})),typeof t=="string"?{x:t.indexOf("x")!==-1,y:t.indexOf("y")!==-1}:{x:!1,y:!1}}function oO(t,e){let n;return function(){return clearTimeout(n),n=setTimeout(t,e),e}}function aO({x:t,y:e},n){const s=n.scales,r=Object.keys(s);for(let i=0;i<r.length;i++){const a=s[r[i]];if(e>=a.top&&e<=a.bottom&&t>=a.left&&t<=a.right)return a}return null}function V_(t,e,n){const{mode:s="xy",scaleMode:r,overScaleMode:i}=t||{},a=aO(e,n),c=nm(s,n),u=nm(r,n);if(i){const p=nm(i,n);for(const g of["x","y"])p[g]&&(u[g]=c[g],c[g]=!1)}if(a&&u[a.axis])return[a];const h=[];return Ve(n.scales,function(p){c[p.axis]&&h.push(p)}),h}const Wm=new WeakMap;function dt(t){let e=Wm.get(t);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},Wm.set(t,e)),e}function lO(t){Wm.delete(t)}function B_(t,e,n,s){const r=Math.max(0,Math.min(1,(t-e)/n||0)),i=1-r;return{min:s*r,max:s*i}}function U_(t,e){const n=t.isHorizontal()?e.x:e.y;return t.getValueForPixel(n)}function $_(t,e,n){const s=t.max-t.min,r=s*(e-1),i=U_(t,n);return B_(i,t.min,s,r)}function cO(t,e,n){const s=U_(t,n);if(s===void 0)return{min:t.min,max:t.max};const r=Math.log10(t.min),i=Math.log10(t.max),a=Math.log10(s),c=i-r,u=c*(e-1),h=B_(a,r,c,u);return{min:Math.pow(10,r+h.min),max:Math.pow(10,i-h.max)}}function uO(t,e){return e&&(e[t.id]||e[t.axis])||{}}function D1(t,e,n,s,r){let i=n[s];if(i==="original"){const a=t.originalScaleLimits[e.id][s];i=Re(a.options,a.scale)}return Re(i,r)}function dO(t,e,n){const s=t.getValueForPixel(e),r=t.getValueForPixel(n);return{min:Math.min(s,r),max:Math.max(s,r)}}function hO(t,{min:e,max:n,minLimit:s,maxLimit:r},i){const a=(t-n+e)/2;e-=a,n+=a;const c=i.min.options??i.min.scale,u=i.max.options??i.max.scale,h=t/1e6;return oo(e,c,h)&&(e=c),oo(n,u,h)&&(n=u),e<s?(e=s,n=Math.min(s+t,r)):n>r&&(n=r,e=Math.max(r-t,s)),{min:e,max:n}}function _o(t,{min:e,max:n},s,r=!1){const i=dt(t.chart),{options:a}=t,c=uO(t,s),{minRange:u=0}=c,h=D1(i,t,c,"min",-1/0),p=D1(i,t,c,"max",1/0);if(r==="pan"&&(e<h||n>p))return!0;const g=t.max-t.min,y=r?Math.max(n-e,u):g;if(r&&y===u&&g<=u)return!0;const v=hO(y,{min:e,max:n,minLimit:h,maxLimit:p},i.originalScaleLimits[t.id]);return a.min=v.min,a.max=v.max,i.updatedScaleLimits[t.id]=v,t.parse(v.min)!==t.min||t.parse(v.max)!==t.max}function fO(t,e,n,s){const r=$_(t,e,n),i={min:t.min+r.min,max:t.max-r.max};return _o(t,i,s,!0)}function pO(t,e,n,s){const r=cO(t,e,n);return _o(t,r,s,!0)}function mO(t,e,n,s){_o(t,dO(t,e,n),s,!0)}const O1=t=>t===0||isNaN(t)?0:t<0?Math.min(Math.round(t),-1):Math.max(Math.round(t),1);function gO(t){const n=t.getLabels().length-1;t.min>0&&(t.min-=1),t.max<n&&(t.max+=1)}function yO(t,e,n,s){const r=$_(t,e,n);t.min===t.max&&e<1&&gO(t);const i={min:t.min+O1(r.min),max:t.max-O1(r.max)};return _o(t,i,s,!0)}function xO(t){return t.isHorizontal()?t.width:t.height}function vO(t,e,n){const r=t.getLabels().length-1;let{min:i,max:a}=t;const c=Math.max(a-i,1),u=Math.round(xO(t)/Math.max(c,10)),h=Math.round(Math.abs(e/u));let p;return e<-u?(a=Math.min(a+h,r),i=c===1?a:a-c,p=a===r):e>u&&(i=Math.max(0,i-h),a=c===1?i:i+c,p=i===0),_o(t,{min:i,max:a},n)||p}const bO={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function H_(t,e,n,s=!1){const{min:r,max:i,options:a}=t,c=a.time&&a.time.round,u=bO[c]||0,h=t.getValueForPixel(t.getPixelForValue(r+u)-e),p=t.getValueForPixel(t.getPixelForValue(i+u)-e);return isNaN(h)||isNaN(p)?!0:_o(t,{min:h,max:p},n,s?"pan":!1)}function L1(t,e,n){return H_(t,e,n,!0)}const qm={category:yO,default:fO,logarithmic:pO},Ym={default:mO},Km={category:vO,default:H_,logarithmic:L1,timeseries:L1};function wO(t,e,n){const{id:s,options:{min:r,max:i}}=t;if(!e[s]||!n[s])return!0;const a=n[s];return a.min!==r||a.max!==i}function I1(t,e){Ve(t,(n,s)=>{e[s]||delete t[s]})}function Fa(t,e){const{scales:n}=t,{originalScaleLimits:s,updatedScaleLimits:r}=e;return Ve(n,function(i){wO(i,s,r)&&(s[i.id]={min:{scale:i.min,options:i.options.min},max:{scale:i.max,options:i.options.max}})}),I1(s,n),I1(r,n),s}function F1(t,e,n,s){const r=qm[t.type]||qm.default;Ne(r,[t,e,n,s])}function z1(t,e,n,s){const r=Ym[t.type]||Ym.default;Ne(r,[t,e,n,s])}function SO(t){const e=t.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function p0(t,e,n="none",s="api"){const{x:r=1,y:i=1,focalPoint:a=SO(t)}=typeof e=="number"?{x:e,y:e}:e,c=dt(t),{options:{limits:u,zoom:h}}=c;Fa(t,c);const p=r!==1,g=i!==1,y=V_(h,a,t);Ve(y||t.scales,function(v){v.isHorizontal()&&p?F1(v,r,a,u):!v.isHorizontal()&&g&&F1(v,i,a,u)}),t.update(n),Ne(h.onZoom,[{chart:t,trigger:s}])}function W_(t,e,n,s="none",r="api"){const i=dt(t),{options:{limits:a,zoom:c}}=i,{mode:u="xy"}=c;Fa(t,i);const h=fi(u,"x",t),p=fi(u,"y",t);Ve(t.scales,function(g){g.isHorizontal()&&h?z1(g,e.x,n.x,a):!g.isHorizontal()&&p&&z1(g,e.y,n.y,a)}),t.update(s),Ne(c.onZoom,[{chart:t,trigger:r}])}function _O(t,e,n,s="none",r="api"){var c;const i=dt(t);Fa(t,i);const a=t.scales[e];_o(a,n,void 0,!0),t.update(s),Ne((c=i.options.zoom)==null?void 0:c.onZoom,[{chart:t,trigger:r}])}function CO(t,e="default"){const n=dt(t),s=Fa(t,n);Ve(t.scales,function(r){const i=r.options;s[r.id]?(i.min=s[r.id].min.options,i.max=s[r.id].max.options):(delete i.min,delete i.max),delete n.updatedScaleLimits[r.id]}),t.update(e),Ne(n.options.zoom.onZoomComplete,[{chart:t}])}function kO(t,e){const n=t.originalScaleLimits[e];if(!n)return;const{min:s,max:r}=n;return Re(r.options,r.scale)-Re(s.options,s.scale)}function jO(t){const e=dt(t);let n=1,s=1;return Ve(t.scales,function(r){const i=kO(e,r.id);if(i){const a=Math.round(i/(r.max-r.min)*100)/100;n=Math.min(n,a),s=Math.max(s,a)}}),n<1?n:s}function V1(t,e,n,s){const{panDelta:r}=s,i=r[t.id]||0;Xn(i)===Xn(e)&&(e+=i);const a=Km[t.type]||Km.default;Ne(a,[t,e,n])?r[t.id]=0:r[t.id]=e}function q_(t,e,n,s="none"){const{x:r=0,y:i=0}=typeof e=="number"?{x:e,y:e}:e,a=dt(t),{options:{pan:c,limits:u}}=a,{onPan:h}=c||{};Fa(t,a);const p=r!==0,g=i!==0;Ve(n||t.scales,function(y){y.isHorizontal()&&p?V1(y,r,u,a):!y.isHorizontal()&&g&&V1(y,i,u,a)}),t.update(s),Ne(h,[{chart:t}])}function Y_(t){const e=dt(t);Fa(t,e);const n={};for(const s of Object.keys(t.scales)){const{min:r,max:i}=e.originalScaleLimits[s]||{min:{},max:{}};n[s]={min:r.scale,max:i.scale}}return n}function NO(t){const e=dt(t),n={};for(const s of Object.keys(t.scales))n[s]=e.updatedScaleLimits[s];return n}function TO(t){const e=Y_(t);for(const n of Object.keys(t.scales)){const{min:s,max:r}=e[n];if(s!==void 0&&t.scales[n].min!==s||r!==void 0&&t.scales[n].max!==r)return!0}return!1}function B1(t){const e=dt(t);return e.panning||e.dragging}const U1=(t,e,n)=>Math.min(n,Math.max(e,t));function Sn(t,e){const{handlers:n}=dt(t),s=n[e];s&&s.target&&(s.target.removeEventListener(e,s),delete n[e])}function nc(t,e,n,s){const{handlers:r,options:i}=dt(t),a=r[n];if(a&&a.target===e)return;Sn(t,n),r[n]=u=>s(t,u,i),r[n].target=e;const c=n==="wheel"?!1:void 0;e.addEventListener(n,r[n],{passive:c})}function PO(t,e){const n=dt(t);n.dragStart&&(n.dragging=!0,n.dragEnd=e,t.update("none"))}function EO(t,e){const n=dt(t);!n.dragStart||e.key!=="Escape"||(Sn(t,"keydown"),n.dragging=!1,n.dragStart=n.dragEnd=null,t.update("none"))}function Xm(t,e){if(t.target!==e.canvas){const n=e.canvas.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}return Es(t,e)}function K_(t,e,n){const{onZoomStart:s,onZoomRejected:r}=n;if(s){const i=Xm(e,t);if(Ne(s,[{chart:t,event:e,point:i}])===!1)return Ne(r,[{chart:t,event:e}]),!1}}function MO(t,e){if(t.legend){const i=Es(e,t);if(Na(i,t.legend))return}const n=dt(t),{pan:s,zoom:r={}}=n.options;if(e.button!==0||z_(vc(s),e)||f0(vc(r.drag),e))return Ne(r.onZoomRejected,[{chart:t,event:e}]);K_(t,e,r)!==!1&&(n.dragStart=e,nc(t,t.canvas.ownerDocument,"mousemove",PO),nc(t,window.document,"keydown",EO))}function AO({begin:t,end:e},n){let s=e.x-t.x,r=e.y-t.y;const i=Math.abs(s/r);i>n?s=Math.sign(s)*Math.abs(r*n):i<n&&(r=Math.sign(r)*Math.abs(s/n)),e.x=t.x+s,e.y=t.y+r}function $1(t,e,n,{min:s,max:r,prop:i}){t[s]=U1(Math.min(n.begin[i],n.end[i]),e[s],e[r]),t[r]=U1(Math.max(n.begin[i],n.end[i]),e[s],e[r])}function RO(t,e,n){const s={begin:Xm(e.dragStart,t),end:Xm(e.dragEnd,t)};if(n){const r=t.chartArea.width/t.chartArea.height;AO(s,r)}return s}function X_(t,e,n,s){const r=fi(e,"x",t),i=fi(e,"y",t),{top:a,left:c,right:u,bottom:h,width:p,height:g}=t.chartArea,y={top:a,left:c,right:u,bottom:h},v=RO(t,n,s&&r&&i);r&&$1(y,t.chartArea,v,{min:"left",max:"right",prop:"x"}),i&&$1(y,t.chartArea,v,{min:"top",max:"bottom",prop:"y"});const b=y.right-y.left,_=y.bottom-y.top;return{...y,width:b,height:_,zoomX:r&&b?1+(p-b)/p:1,zoomY:i&&_?1+(g-_)/g:1}}function DO(t,e){const n=dt(t);if(!n.dragStart)return;Sn(t,"mousemove");const{mode:s,onZoomComplete:r,drag:{threshold:i=0,maintainAspectRatio:a}}=n.options.zoom,c=X_(t,s,{dragStart:n.dragStart,dragEnd:e},a),u=fi(s,"x",t)?c.width:0,h=fi(s,"y",t)?c.height:0,p=Math.sqrt(u*u+h*h);if(n.dragStart=n.dragEnd=null,p<=i){n.dragging=!1,t.update("none");return}W_(t,{x:c.left,y:c.top},{x:c.right,y:c.bottom},"zoom","drag"),n.dragging=!1,n.filterNextClick=!0,Ne(r,[{chart:t}])}function OO(t,e,n){if(f0(vc(n.wheel),e)){Ne(n.onZoomRejected,[{chart:t,event:e}]);return}if(K_(t,e,n)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function LO(t,e){const{handlers:{onZoomComplete:n},options:{zoom:s}}=dt(t);if(!OO(t,e,s))return;const r=e.target.getBoundingClientRect(),i=s.wheel.speed,a=e.deltaY>=0?2-1/(1-i):1+i,c={x:a,y:a,focalPoint:{x:e.clientX-r.left,y:e.clientY-r.top}};p0(t,c,"zoom","wheel"),Ne(n,[{chart:t}])}function IO(t,e,n,s){n&&(dt(t).handlers[e]=oO(()=>Ne(n,[{chart:t}]),s))}function FO(t,e){const n=t.canvas,{wheel:s,drag:r,onZoomComplete:i}=e.zoom;s.enabled?(nc(t,n,"wheel",LO),IO(t,"onZoomComplete",i,250)):Sn(t,"wheel"),r.enabled?(nc(t,n,"mousedown",MO),nc(t,n.ownerDocument,"mouseup",DO)):(Sn(t,"mousedown"),Sn(t,"mousemove"),Sn(t,"mouseup"),Sn(t,"keydown"))}function zO(t){Sn(t,"mousedown"),Sn(t,"mousemove"),Sn(t,"mouseup"),Sn(t,"wheel"),Sn(t,"click"),Sn(t,"keydown")}function VO(t,e){return function(n,s){const{pan:r,zoom:i={}}=e.options;if(!r||!r.enabled)return!1;const a=s&&s.srcEvent;return a&&!e.panning&&s.pointerType==="mouse"&&(f0(vc(r),a)||z_(vc(i.drag),a))?(Ne(r.onPanRejected,[{chart:t,event:s}]),!1):!0}}function BO(t,e){const n=Math.abs(t.clientX-e.clientX),s=Math.abs(t.clientY-e.clientY),r=n/s;let i,a;return r>.3&&r<1.7?i=a=!0:n>s?i=!0:a=!0,{x:i,y:a}}function Q_(t,e,n){if(e.scale){const{center:s,pointers:r}=n,i=1/e.scale*n.scale,a=n.target.getBoundingClientRect(),c=BO(r[0],r[1]),u=e.options.zoom.mode,h={x:c.x&&fi(u,"x",t)?i:1,y:c.y&&fi(u,"y",t)?i:1,focalPoint:{x:s.x-a.left,y:s.y-a.top}};p0(t,h,"zoom","pinch"),e.scale=n.scale}}function UO(t,e,n){if(e.options.zoom.pinch.enabled){const s=Es(n,t);Ne(e.options.zoom.onZoomStart,[{chart:t,event:n,point:s}])===!1?(e.scale=null,Ne(e.options.zoom.onZoomRejected,[{chart:t,event:n}])):e.scale=1}}function $O(t,e,n){e.scale&&(Q_(t,e,n),e.scale=null,Ne(e.options.zoom.onZoomComplete,[{chart:t}]))}function G_(t,e,n){const s=e.delta;s&&(e.panning=!0,q_(t,{x:n.deltaX-s.x,y:n.deltaY-s.y},e.panScales),e.delta={x:n.deltaX,y:n.deltaY})}function HO(t,e,n){const{enabled:s,onPanStart:r,onPanRejected:i}=e.options.pan;if(!s)return;const a=n.target.getBoundingClientRect(),c={x:n.center.x-a.left,y:n.center.y-a.top};if(Ne(r,[{chart:t,event:n,point:c}])===!1)return Ne(i,[{chart:t,event:n}]);e.panScales=V_(e.options.pan,c,t),e.delta={x:0,y:0},G_(t,e,n)}function WO(t,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,Ne(e.options.pan.onPanComplete,[{chart:t}]))}const Qm=new WeakMap;function H1(t,e){const n=dt(t),s=t.canvas,{pan:r,zoom:i}=e,a=new tc.Manager(s);i&&i.pinch.enabled&&(a.add(new tc.Pinch),a.on("pinchstart",c=>UO(t,n,c)),a.on("pinch",c=>Q_(t,n,c)),a.on("pinchend",c=>$O(t,n,c))),r&&r.enabled&&(a.add(new tc.Pan({threshold:r.threshold,enable:VO(t,n)})),a.on("panstart",c=>HO(t,n,c)),a.on("panmove",c=>G_(t,n,c)),a.on("panend",()=>WO(t,n))),Qm.set(t,a)}function W1(t){const e=Qm.get(t);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),Qm.delete(t))}function qO(t,e){var a,c,u,h;const{pan:n,zoom:s}=t,{pan:r,zoom:i}=e;return((c=(a=s==null?void 0:s.zoom)==null?void 0:a.pinch)==null?void 0:c.enabled)!==((h=(u=i==null?void 0:i.zoom)==null?void 0:u.pinch)==null?void 0:h.enabled)||(n==null?void 0:n.enabled)!==(r==null?void 0:r.enabled)||(n==null?void 0:n.threshold)!==(r==null?void 0:r.threshold)}var YO="2.2.0";function kd(t,e,n){const s=n.zoom.drag,{dragStart:r,dragEnd:i}=dt(t);if(s.drawTime!==e||!i)return;const{left:a,top:c,width:u,height:h}=X_(t,n.zoom.mode,{dragStart:r,dragEnd:i},s.maintainAspectRatio),p=t.ctx;p.save(),p.beginPath(),p.fillStyle=s.backgroundColor||"rgba(225,225,225,0.3)",p.fillRect(a,c,u,h),s.borderWidth>0&&(p.lineWidth=s.borderWidth,p.strokeStyle=s.borderColor||"rgba(225,225,225)",p.strokeRect(a,c,u,h)),p.restore()}var Z_={id:"zoom",version:YO,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(t,e,n){const s=dt(t);s.options=n,Object.prototype.hasOwnProperty.call(n.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(n.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(n.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),tc&&H1(t,n),t.pan=(r,i,a)=>q_(t,r,i,a),t.zoom=(r,i)=>p0(t,r,i),t.zoomRect=(r,i,a)=>W_(t,r,i,a),t.zoomScale=(r,i,a)=>_O(t,r,i,a),t.resetZoom=r=>CO(t,r),t.getZoomLevel=()=>jO(t),t.getInitialScaleBounds=()=>Y_(t),t.getZoomedScaleBounds=()=>NO(t),t.isZoomedOrPanned=()=>TO(t),t.isZoomingOrPanning=()=>B1(t)},beforeEvent(t,{event:e}){if(B1(t))return!1;if(e.type==="click"||e.type==="mouseup"){const n=dt(t);if(n.filterNextClick)return n.filterNextClick=!1,!1}},beforeUpdate:function(t,e,n){const s=dt(t),r=s.options;s.options=n,qO(r,n)&&(W1(t),H1(t,n)),FO(t,n)},beforeDatasetsDraw(t,e,n){kd(t,"beforeDatasetsDraw",n)},afterDatasetsDraw(t,e,n){kd(t,"afterDatasetsDraw",n)},beforeDraw(t,e,n){kd(t,"beforeDraw",n)},afterDraw(t,e,n){kd(t,"afterDraw",n)},stop:function(t){zO(t),tc&&W1(t),lO(t)},panFunctions:Km,zoomFunctions:qm,zoomRectFunctions:Ym};function zt(t,e="USD"){if(typeof t!="number"||isNaN(t))return"";try{return t.toLocaleString(void 0,{style:"currency",currency:e||"USD",maximumFractionDigits:2})}catch{return t.toFixed(2)}}function KO(t){const e=[],n=new Date;for(let s=t-1;s>=0;s--){const r=new Date(n.getFullYear(),n.getMonth()-s,1);e.push(`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`)}return e}const Bi={income:"#38bdf8",incomeStub:"#334155",outcome:"#ef4444",outcomeStub:"#334155",net:"#22c55e",netFill:"#22c55e22"};fs.register(mo,go,dr,Zl,pa,lr,Vd,yi,gi,__,So,Z_);function XO({data:t}){const e=KO(12),n=Array.isArray(t)?t.map(y=>{var v;return{month:((v=y._id)==null?void 0:v.date)||"",incomes:y.incomes??0,outcomes:y.outcomes??0}}):[],s=e.map(y=>{const v=n.find(b=>b.month===y);return{month:y,incomes:(v==null?void 0:v.incomes)??0,outcomes:-((v==null?void 0:v.outcomes)??0),net:((v==null?void 0:v.incomes)??0)-((v==null?void 0:v.outcomes)??0)}});if(!s.some(y=>y.incomes!==0||y.outcomes!==0||y.net!==0))return f.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-gray-400 text-lg",children:[f.jsx("span",{children:"No data found."}),f.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Create invoices to unlock analytics!"})]});const i=s.map(y=>y.incomes),a=s.map(y=>y.outcomes),c=s.map(y=>y.net),u=Math.min(...i,...a,...c,0),h=Math.max(...i,...a,...c,0),p={labels:e,datasets:[{label:"Income",data:i,backgroundColor:i.map(y=>y>0?Bi.income:Bi.incomeStub),borderRadius:16,barPercentage:.44,categoryPercentage:.54,order:2,datalabels:{anchor:"end",align:"start",clamp:!0,display:i.map(y=>y>0),color:"#38bdf8",font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:y=>y>0?zt(y):""}},{label:"Outcome",data:a,backgroundColor:a.map(y=>y<0?Bi.outcome:Bi.outcomeStub),borderRadius:16,barPercentage:.44,categoryPercentage:.54,order:3,datalabels:{anchor:"end",align:"end",clamp:!0,display:a.map(y=>y<0),color:"#ef4444",font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:y=>y<0?zt(Math.abs(y)):""}},{label:"Net Result",type:"line",data:c,borderColor:Bi.net,backgroundColor:Bi.netFill,borderWidth:3,fill:!0,pointRadius:7,pointHoverRadius:12,pointBackgroundColor:Bi.net,pointBorderWidth:3,tension:.38,yAxisID:"y",order:1,datalabels:{anchor:"end",align:"top",clamp:!0,display:c.map(y=>y!==0),color:"#22c55e",font:{weight:"bold",size:17},backgroundColor:"#101223",borderRadius:9,borderWidth:2,borderColor:"#23263a",padding:{left:12,right:12,top:6,bottom:6},formatter:y=>y!==0?zt(y):""}}]},g={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,callbacks:{title:y=>" "+y[0].label,label:y=>y.dataset.label==="Income"?` Income: ${zt(y.raw)}`:y.dataset.label==="Outcome"?` Outcome: ${zt(Math.abs(y.raw))}`:y.dataset.label==="Net Result"?` Net: ${zt(y.raw)}`:y.dataset.label+": "+y.raw}},datalabels:{display:"auto"},zoom:{pan:{enabled:!0,mode:"y"},zoom:{wheel:{enabled:!0},mode:"y",drag:{enabled:!0}}}},layout:{padding:{left:16,right:16,top:18,bottom:24}},scales:{x:{grid:{display:!1}},y:{grid:{color:"#282b41"},ticks:{color:"#b7bacf",font:{size:15,weight:"bold"},callback:y=>zt(y)},beginAtZero:!1,min:u-Math.abs(h-u)*.07,max:h+Math.abs(h-u)*.13}}};return f.jsx("div",{className:"w-full h-[500px] md:h-[420px]",children:f.jsx(Vc,{data:p,options:g,plugins:[So]})})}function Ui(t,e="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:2}).format(t)}function sm(t){return t===null||isNaN(t)?"--":`${Number(t).toFixed(2)}%`}function QO(t){const e=[],n=new Date;for(let s=t-1;s>=0;s--){const r=new Date(n.getFullYear(),n.getMonth()-s,1);e.push(`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`)}return e}function GO(t,e=150){const n=[];for(let s=0;s<t.length;s++){if(s===0){n.push(0);continue}const r=t[s-1],i=t[s];if(r===0&&i===0)n.push(0);else if(r===0&&i>0)n.push(e);else if(r>0&&i===0)n.push(-100);else{const a=(i-r)/Math.abs(r)*100;n.push(Math.max(-e,Math.min(a,e)))}}return n}const Hn={positive:"#22c55e",negative:"#ef4444",growth:"#facc15",neutral:"#23263a",barBorder:"#22c55e"};fs.register(mo,go,dr,pa,lr,yi,gi,__,So,Z_);function ZO({data:t=[],currency:e="USD"}){const n=QO(12),s=n.map(M=>{const R=t.find(B=>{var V;return B.date===M||((V=B._id)==null?void 0:V.date)===M});let z=0;return R&&(typeof R.total=="number"?z=R.total:typeof R.income=="number"&&typeof R.outcome=="number"?R.outcome<0?z=R.income+R.outcome:z=R.income-R.outcome:typeof R.outcome=="number"&&(z=-Math.abs(R.outcome))),{month:M,total:z}});if(!s.some(M=>M.total!==0))return f.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-gray-400 text-lg",children:[f.jsx("span",{children:"No data found."}),f.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Create invoices to unlock analytics!"})]});const i=s.map(M=>M.total),a=GO(i,150),c=a.map((M,R)=>R===0||M===null?"":M>0?"":M<0?"":""),u=i.map(M=>M>0?Hn.positive:M<0?Hn.negative:Hn.neutral),h=i.map(M=>M>0?Hn.positive:M<0?Hn.negative:"#b7bacf"),p=Math.max(Math.abs(Math.min(...i,0)),Math.abs(Math.max(...i,0))),g=a.filter(M=>M!==null&&!isNaN(M)),y=Math.max(Math.abs(Math.min(...g,0)),Math.abs(Math.max(...g,0)),100),v=Math.max(p*.1,1e3),b=Math.max(y*.1,10),_=p+v,S=-_,C=y+b,N=-C,P={labels:n,datasets:[{type:"bar",label:"Net Result",data:i,backgroundColor:u,borderRadius:16,barPercentage:.25,categoryPercentage:.4,order:3,borderSkipped:!1,borderWidth:0,datalabels:{anchor:"end",align:"start",clamp:!0,display:i.map(M=>M!==0),color:h,font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:M=>M!==0?M>0?Ui(M,e):`-${Ui(Math.abs(M),e)}`:""},yAxisID:"y"},{type:"line",label:"Net Line",data:i,borderColor:Hn.barBorder,borderWidth:4,fill:!1,pointRadius:0,pointHoverRadius:0,order:2,yAxisID:"y",datalabels:{display:!1},tension:.45,segment:{borderDash:M=>M.p0.parsed.y<0?[6,4]:[]},borderJoinStyle:"round",borderCapStyle:"round"},{type:"line",label:"Net Dot",data:i,borderColor:"rgba(0,0,0,0)",backgroundColor:Hn.positive,pointBorderColor:Hn.positive,pointBackgroundColor:Hn.positive,pointRadius:8,pointHoverRadius:12,pointBorderWidth:2,showLine:!1,yAxisID:"y",order:1,datalabels:{display:!1}},{type:"line",label:"Growth (%)",data:a,borderColor:Hn.growth,backgroundColor:Hn.growth,borderWidth:3,fill:!1,pointRadius:7,pointHoverRadius:12,pointBackgroundColor:Hn.growth,pointBorderWidth:3,tension:.35,yAxisID:"y2",order:0,datalabels:{display:a.map(M=>M!==null&&!isNaN(M)),anchor:"end",align:"bottom",clamp:!0,color:"#facc15",font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:(M,R)=>M===null||isNaN(M)?"":`${sm(M)}${M===0?"":" "+c[R.dataIndex]}`},spanGaps:!1}]},A={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,callbacks:{title:M=>" "+M[0].label,label:M=>{if(M.dataset.label==="Net Result"){const R=M.raw;return R>0?` Net: ${Ui(R,e)}`:R<0?` Net: -${Ui(Math.abs(R),e)}`:`Net: ${Ui(R,e)}`}if(M.dataset.label==="Growth (%)"){const R=M.raw;if(R===null||isNaN(R)){const z=i[M.dataIndex-1],B=i[M.dataIndex];return M.dataIndex===0?"No growth data for first month.":z===0?"No growth %: previous month was $0.":B===0?"No growth %: current month is $0.":"--"}return R===0?"":` Growth: ${sm(R)} ${c[M.dataIndex]}`}return M.dataset.label==="Net Dot"?` Net: ${Ui(M.raw,e)}`:M.dataset.label+": "+M.raw}}},datalabels:{display:"auto"},zoom:{pan:{enabled:!0,mode:"y"},zoom:{wheel:{enabled:!0},mode:"y",drag:{enabled:!0}}}},layout:{padding:{left:16,right:16,top:18,bottom:24}},scales:{x:{grid:{display:!1}},y:{grid:{color:M=>M.tick.value===0?"#fff":"#282b41",lineWidth:M=>M.tick.value===0?2:1},beginAtZero:!1,min:S,max:_,ticks:{color:"#b7bacf",font:{size:15,weight:"bold"},callback:M=>Ui(M,e)},title:{display:!0,text:"Net Amount"}},y2:{position:"right",grid:{drawOnChartArea:!0,color:M=>M.tick.value===0?"#fff":"#282b41",lineWidth:M=>M.tick.value===0?2:1},beginAtZero:!1,min:N,max:C,ticks:{color:"#facc15",font:{size:13,weight:"bold"},callback:M=>sm(M)},title:{display:!0,text:"Growth (%)"}}}};return f.jsx("div",{className:"w-full h-[500px] md:h-[420px]",children:f.jsx(Vc,{data:P,options:A,plugins:[So]})})}fs.register(li,yi,gi);const q1={paid:"#14b8a6",unpaid:"#ef4444",draft:"#facc15"},Y1={paid:"Paid",unpaid:"Unpaid",draft:"Draft"};function K1(t){return t?Y1[t]?Y1[t]:String(t).charAt(0).toUpperCase()+String(t).slice(1):"Unknown"}function JO({data:t}){const[e,n]=k.useState(!1);if(!t||t.length===0)return f.jsx("div",{className:"flex flex-col items-center mt-8",children:f.jsx("p",{className:"text-gray-400",children:"No invoice data found for this period."})});const s=t.reduce((c,u)=>c+(e?u.total??0:u.count??0),0),r=t.map(c=>K1(c.status)),i=t.map(c=>e?c.total??0:c.count??0),a=t.map(c=>q1[c.status]||"#6b7280");return f.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[f.jsxs("div",{className:"mb-3 flex justify-center",children:[f.jsx("button",{onClick:()=>n(!1),className:`px-4 py-1 rounded-l transition font-medium
            ${e?"bg-gray-800 text-gray-300":"bg-blue-600 text-white shadow"}`,children:"Count"}),f.jsx("button",{onClick:()=>n(!0),className:`px-4 py-1 rounded-r transition font-medium
            ${e?"bg-blue-600 text-white shadow":"bg-gray-800 text-gray-300"}`,children:"Total"})]}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-10 rounded-2xl shadow-2xl p-6 md:p-10",style:{background:"#1a1c29",width:680,minWidth:680,maxWidth:680,height:340,minHeight:340,maxHeight:340,boxSizing:"border-box"},children:[f.jsx("div",{style:{width:320,height:220,minWidth:310},children:f.jsx(E_,{data:{labels:r,datasets:[{data:i,backgroundColor:a,borderColor:"#23263a",borderWidth:4,hoverOffset:10,cutout:"40%"}]},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:c=>`${c.label}: ${e?zt(c.parsed):c.parsed} (${s?Math.round(c.parsed/s*100):0}%)`}}},layout:{padding:4},responsive:!0,maintainAspectRatio:!1}})}),f.jsx("div",{className:"flex flex-col justify-center gap-4",style:{width:220,minWidth:220,maxWidth:220},children:t.map((c,u)=>{const h=K1(c.status),p=q1[c.status]||"#6b7280",g=e?c.total??0:c.count??0,y=s?Math.round(g/s*100):0;return f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"inline-block rounded-full",style:{width:18,height:18,background:p,boxShadow:"0 2px 8px rgba(0,0,0,0.12)"}}),f.jsx("span",{className:"text-gray-100 font-semibold min-w-[60px]",children:h}),f.jsx("span",{className:"text-gray-200 font-mono text-base text-right",style:{width:90,display:"inline-block"},children:e?zt(g):g}),f.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:[y,"%"]})]},c.status||u)})})]})]})}fs.register(mo,go,dr,yi,gi,gD,So);const rm=["0-30 days","31-60 days","61-90 days","90+ days"],eL=["0-30","31-60","61-90","90+"];function tL(){const[t,e]=k.useState(null),[n,s]=k.useState(!0),[r,i]=k.useState("");k.useEffect(()=>{let h=!1;return s(!0),i(""),ce.get("/invoices/analytics?analyticType=overdueAging").then(p=>{h||e(p.data)}).catch(()=>{h||i("Failed to load overdue aging data.")}).finally(()=>{h||s(!1)}),()=>{h=!0}},[]);const a=eL.map(h=>(t==null?void 0:t[h])||{count:0,total:0}),c=a.reduce((h,p)=>h+p.count,0);if(n)return f.jsx("div",{className:"w-full h-[350px] flex items-center justify-center",children:f.jsx("span",{className:"text-gray-400",children:"Loading..."})});if(r)return f.jsx("div",{className:"w-full h-[350px] flex items-center justify-center",children:f.jsx("span",{className:"text-red-400",children:r})});const u=["rgba(239, 68, 68, 0.92)","rgba(251, 191, 36, 0.92)","rgba(59, 130, 246, 0.92)","rgba(99, 102, 241, 0.92)"];return f.jsxs("div",{className:"w-full max-w-2xl mx-auto flex flex-col items-center",children:[f.jsx("div",{className:"w-full h-[350px]",children:f.jsx(Vc,{data:{labels:rm,datasets:[{label:"Overdue Invoices",data:a.map(h=>h.count),backgroundColor:u,borderRadius:18,barPercentage:.7,categoryPercentage:.68}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:20,bottom:0,left:10,right:10}},plugins:{legend:{display:!1},datalabels:{display:!0,color:"#fff",font:{weight:"bold",size:22,family:"Inter, sans-serif"},anchor:"end",align:"end",offset:6,formatter:h=>h>0?h.toLocaleString():"",textStrokeColor:"#23263a",textStrokeWidth:4,shadowBlur:6,shadowColor:"#23263a88",clamp:!0},tooltip:{callbacks:{title:h=>rm[h[0].dataIndex],label:h=>{const p=h.dataIndex;return[`Count: ${a[p].count}`,`Total: ${zt(a[p].total)}`]}},backgroundColor:"#23263a",borderColor:"#3b3b54",borderWidth:1,bodyFont:{size:15,weight:"bold"},titleFont:{size:15}},title:{display:!1}},scales:{y:{beginAtZero:!0,min:0,max:50,ticks:{color:"#bbb",font:{size:16}},grid:{color:"#23273d"}},x:{ticks:{color:"#eee",font:{size:16,weight:"bold"}},grid:{display:!1}}}}})}),f.jsx("div",{className:"flex justify-between w-full mt-4 px-2",children:rm.map((h,p)=>f.jsxs("div",{className:"flex flex-col items-center flex-1",children:[f.jsx("span",{className:"text-xs text-gray-400",children:h}),f.jsx("span",{className:"text-md font-semibold text-gray-100",children:zt(a[p].total)})]},h))}),f.jsx("div",{className:"mt-2 text-center text-sm text-gray-400",children:c>0?`${c} total overdue invoice${c>1?"s":""}`:"No overdue invoices!"})]})}fs.register(mo,go,dr,yi,gi,So);function nL({data:t}){if(!Array.isArray(t))return f.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(t.length===0)return f.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-gray-500",children:"No product sales data found."});const e=t.map(s=>s._id),n=t.map(s=>s.total);return f.jsx("div",{className:"w-full h-[340px]",children:f.jsx(Vc,{data:{labels:e,datasets:[{label:"Total Sold",data:n,backgroundColor:"#38bdf8dd",borderRadius:12}]},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:s=>`${s.label}: ${zt(s.raw)}`}},datalabels:{display:!0,color:"#fff",align:"end",anchor:"end",font:{weight:"bold"},formatter:s=>zt(s)}},scales:{y:{beginAtZero:!0,max:2e4},x:{grid:{display:!1}}}}})})}fs.register(mo,go,dr,yi,gi,So);function sL({data:t,yMax:e=void 0}){if(!Array.isArray(t))return f.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(t.length===0)return f.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-gray-500",children:"No client revenue data found."});const n=t.map(r=>{var i;return((i=r.company)==null?void 0:i.name)||"Unknown"}),s=t.map(r=>r.total);return f.jsx("div",{className:"w-full h-[340px]",children:f.jsx(Vc,{data:{labels:n,datasets:[{label:"Total Revenue",data:s,backgroundColor:"#22c55edd",borderRadius:12}]},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:r=>`${r.label}: ${zt(r.raw)}`}},datalabels:{display:!0,color:"#fff",align:"end",anchor:"end",font:{weight:"bold"},formatter:r=>zt(r)}},scales:{y:{beginAtZero:!0,...e?{max:e}:{}},x:{grid:{display:!1}}}}})})}fs.register(li,yi,gi);const jd=["#38bdf8","#fbbf24","#22c55e","#ef4444","#a78bfa","#f472b6","#fde68a","#fb7185","#16a34a","#f59e42","#6366f1","#1e293b","#eab308","#dc2626"];function rL({data:t}){if(!Array.isArray(t))return f.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(t.length===0)return f.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-gray-500",children:"No category breakdown data found."});const e=t.map(r=>r._id||"Unknown"),n=t.map(r=>r.total),s=jd.length>=e.length?jd:[...jd,...Array(e.length-jd.length).fill("#cbd5e1")];return f.jsx("div",{className:"w-full h-[320px] flex flex-col items-center",children:f.jsx(LD,{data:{labels:e,datasets:[{data:n,backgroundColor:s,borderColor:"#23263a",borderWidth:2}]},options:{plugins:{legend:{display:!0,position:"bottom"},tooltip:{callbacks:{label:r=>`${r.label}: ${zt(r.raw)}`}}}}})})}fs.register(li,yi,gi);const Nd=["#38bdf8","#fde68a","#22c55e","#ef4444","#a78bfa","#f472b6","#818cf8","#f59e42","#16a34a","#dc2626","#eab308","#1e293b","#6366f1","#fbbf24"];function iL({data:t}){if(!Array.isArray(t))return f.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(t.length===0)return f.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-gray-500",children:"No currency breakdown data found."});const e=t.map(r=>r._id),n=t.map(r=>r.total),s=Nd.length>=e.length?Nd:[...Nd,...Array(e.length-Nd.length).fill("#cbd5e1")];return f.jsx("div",{className:"w-full h-[320px] flex flex-col items-center",children:f.jsx(E_,{data:{labels:e,datasets:[{data:n,backgroundColor:s,borderColor:"#23263a",borderWidth:2}]},options:{plugins:{legend:{display:!0,position:"bottom"},tooltip:{callbacks:{label:r=>`${r.label}: ${zt(r.raw,r.label)}`}}}}})})}function oL({data:t,loading:e}){const n=(t==null?void 0:t.avgDays)??null;return e?f.jsx("div",{className:"flex flex-col items-center justify-center p-7 text-sky-300",children:"Loading..."}):f.jsxs("div",{className:"flex flex-col items-center justify-center p-7",children:[f.jsxs("div",{className:"text-5xl font-extrabold text-sky-300",children:[n!==null?n.toFixed(1):"--",f.jsx("span",{className:"text-2xl text-gray-400",children:" days"})]}),f.jsx("div",{className:"text-base text-gray-400 mt-2 font-medium",children:"Average Payment Speed"})]})}function aL({data:t}){return f.jsxs("div",{className:"w-full flex flex-col gap-3 p-6",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"bg-red-600/80 px-4 py-2 rounded text-white text-lg font-bold flex-1",children:["Overdue Invoices:"," ",f.jsx("span",{className:"font-mono",children:(t==null?void 0:t.overdue)??"--"})]}),f.jsxs("div",{className:"bg-amber-500/80 px-4 py-2 rounded text-white text-lg font-bold flex-1",children:["Stale Drafts:"," ",f.jsx("span",{className:"font-mono",children:(t==null?void 0:t.staleDrafts)??"--"})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("div",{className:"text-base font-bold text-sky-400 mb-2",children:"High-Value Unpaid Invoices:"}),f.jsx("ul",{className:"text-white space-y-2",children:Array.isArray(t==null?void 0:t.highUnpaid)&&t.highUnpaid.length?t.highUnpaid.map(e=>{var n;return f.jsxs("li",{className:"bg-gray-800 px-3 py-2 rounded",children:[f.jsx("span",{className:"text-rose-400 font-bold",children:e.totalAmount}),f.jsxs("span",{className:"mx-2 text-xs text-gray-400",children:["due: ",new Date(e.dueDate).toLocaleDateString()]}),f.jsx("span",{className:"ml-2 text-sky-300",children:e.invoiceNumber}),f.jsx("span",{className:"ml-2 text-green-400",children:((n=e.clientCompany)==null?void 0:n.name)||""})]},e.invoiceNumber||e._id)}):f.jsx("li",{className:"text-gray-500",children:"None"})})]})]})}const Gm=[{type:"revenueTrends",label:"Monthly Income vs Outcome",Widget:XO,desc:"Visualize your total incomes, outcomes, and net result for each month."},{type:"growth",label:"Growth Trend (%)",Widget:ZO,desc:"Track period-over-period revenue change in %."},{type:"statusBreakdown",label:"Status Breakdown",Widget:JO,desc:"See how your invoices are distributed by status."},{type:"overdueAging",label:"Overdue Aging",Widget:tL,desc:"Breakdown of overdue unpaid invoices by aging bucket."},{type:"topProducts",label:"Top Products",Widget:nL,desc:"Top selling products (by value)."},{type:"topClients",label:"Top Clients",Widget:sL,desc:"Clients who brought the most revenue."},{type:"categoryBreakdown",label:"Category Breakdown",Widget:rL,desc:"Total value by category."},{type:"currencyBreakdown",label:"Currency Breakdown",Widget:iL,desc:"Total invoice amounts by currency."},{type:"avgPaymentSpeed",label:"Average Payment Speed",Widget:oL,desc:"How fast are invoices paid (in days)?"},{type:"alerts",label:"Alerts & Warnings",Widget:aL,desc:"Critical items: overdue, stale, or high-value unpaid invoices."}],lL=Gm[0].type,cL=({onClose:t,showAll:e=!1})=>{const[n,s]=k.useState(lL),[r,i]=k.useState(null),[a,c]=k.useState(!1),[u,h]=k.useState(""),p=k.useRef(),g=Gm.find(v=>v.type===n),y=g.Widget;return k.useEffect(()=>{c(!0),h(""),i(null),p.current&&p.current.abort(),p.current=new AbortController;let v={analyticType:n};return n==="revenueTrends"||n==="growth"?(v.groupBy="month",v.limit=12):(n==="topProducts"||n==="topClients")&&(v.limit=7),e&&(v.all=!0),ce.get("/invoices/analytics",{params:v,signal:p.current.signal}).then(b=>{if(n==="overdueAging"&&Array.isArray(b.data)){const _={};b.data.forEach(S=>{let C=S._id;C==="0"&&(C="030 days"),C==="31"&&(C="3160 days"),C==="61"&&(C="6190 days"),C==="91"&&(C="90+ days"),_[C]={count:S.count,total:S.total}}),i(_)}else i(b.data)}).catch(b=>{var _,S;b.code!=="ERR_CANCELED"&&h(((S=(_=b==null?void 0:b.response)==null?void 0:_.data)==null?void 0:S.error)||(b==null?void 0:b.message)||"Failed to fetch analytics")}).finally(()=>c(!1)),()=>{p.current&&p.current.abort()}},[n,e]),k.useEffect(()=>{const v=b=>{b.key==="Escape"&&t()};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[t]),f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-lg",children:f.jsxs("div",{className:"bg-[#23263a] text-white w-full max-w-[1150px] max-h-[98vh] rounded-xl p-2 shadow-2xl overflow-y-auto relative animate-fade-in",style:{minHeight:520},role:"dialog","aria-modal":"true",children:[f.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-base bg-gray-700 hover:bg-gray-900 px-2 py-1 rounded","aria-label":"Close analytics modal",children:""}),f.jsxs("div",{className:"flex items-center gap-2 mb-2 mt-1 ml-2",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsx("span",{className:"text-xl font-semibold",children:"Invoice Analytics"}),f.jsx("div",{className:"flex gap-1 ml-7 flex-wrap",children:Gm.map(v=>f.jsx("button",{onClick:()=>s(v.type),className:`px-3 py-1 rounded text-xs font-bold border shadow transition-all ${n===v.type?"bg-sky-400 text-black border-sky-400":"bg-[#101223] text-white border-[#23263a] hover:bg-[#23263a] hover:text-sky-300"}`,style:{minWidth:88},children:v.label},v.type))})]}),f.jsx("div",{className:"ml-2 mb-4 text-sm text-gray-400",children:g.desc}),f.jsx("div",{className:"w-full flex justify-center items-center mb-5",children:a?f.jsx("div",{className:"py-10 text-center text-gray-400 text-lg tracking-wide",children:"Loading analytics..."}):u?f.jsx("div",{className:"text-red-400 text-center",children:u}):r?f.jsx("div",{className:"w-full",children:f.jsx(y,{data:r})}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-gray-400 text-lg",children:[f.jsx("span",{children:"No data found."}),f.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Create invoices to unlock analytics!"})]})})]})})},uL=()=>{const[t,e]=k.useState([]),[n,s]=k.useState(!0),[r,i]=k.useState(!1),[a,c]=k.useState(null),[u,h]=k.useState(!1),[p,g]=k.useState(0),[y,v]=k.useState("dateIssued"),[b,_]=k.useState("desc"),[S,C]=k.useState(null),[N,P]=k.useState(!1),[A,M]=k.useState(null),[R,z]=k.useState(!1),B=async()=>{var Q,pe;s(!0);try{const me=await ce.get("/invoices",{params:{sortBy:y,sortOrder:b,all:!0}}),ae=Array.isArray(me.data)?me.data:me.data.invoices||[];e(ae)}catch(me){console.error("Failed to fetch invoices:",(pe=(Q=me==null?void 0:me.response)==null?void 0:Q.data)==null?void 0:pe.message)}finally{s(!1)}};k.useEffect(()=>{B()},[y,b]);const V=Q=>{y===Q?_(b==="asc"?"desc":"asc"):(v(Q),_("asc"))},$=()=>{c(null),i(!0)},G=Q=>{c(Q),i(!0)},ne=Q=>{C(Q),P(!0)},ue=async Q=>{var pe,me;if(window.confirm("Are you sure you want to delete this invoice?")){M(Q);try{await ce.delete(`/invoices/${Q}`),B()}catch(ae){alert(((me=(pe=ae==null?void 0:ae.response)==null?void 0:pe.data)==null?void 0:me.message)||ae.message||"Failed to delete invoice")}finally{M(null)}}};return f.jsxs("div",{className:"bg-[#181A23] text-white rounded-lg p-6 shadow-lg relative min-h-[60vh]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6 gap-3",children:[f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:" All Invoices"}),f.jsx("button",{onClick:()=>z(!0),className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 focus:outline-none",type:"button",children:" Analytics"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>h(!0),className:"bg-gray-700 text-white px-3 py-2 rounded hover:bg-gray-600 focus:outline-none",type:"button",children:"+ New Company"}),f.jsx("button",{onClick:$,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none",children:"+ New Invoice"})]})]}),n?f.jsx("div",{className:"py-12 text-center text-gray-400",children:"Loading invoices..."}):t.length===0?f.jsx("div",{className:"py-12 text-center text-gray-500",children:"No invoices found."}):f.jsx("div",{className:"overflow-x-auto rounded-lg shadow-inner",children:f.jsxs("table",{className:"table-fixed w-full min-w-[1250px] text-sm bg-[#222436] rounded-lg overflow-hidden",children:[f.jsx("thead",{className:"bg-[#23263a] text-gray-200 uppercase text-xs tracking-wide",children:f.jsxs("tr",{children:[f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>V("systemInvoiceNumber"),children:["System #",y==="systemInvoiceNumber"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>V("invoiceNumber"),children:["Invoice #",y==="invoiceNumber"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>V("type"),children:["Type",y==="type"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>V("client"),children:["Client",y==="client"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>V("supplier"),children:["Supplier",y==="supplier"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>V("status"),children:["Status",y==="status"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>V("dateIssued"),children:["Issued",y==="dateIssued"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>V("dueDate"),children:["Due",y==="dueDate"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>V("totalAmount"),children:["Total",y==="totalAmount"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>V("createdAt"),children:["Created",y==="createdAt"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>V("updatedAt"),children:["Edited",y==="updatedAt"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"":""})]}),f.jsx("th",{className:"px-4 py-3 font-bold text-left",children:"Actions"})]})}),f.jsx("tbody",{children:t.map(Q=>{var me,ae;const pe=Q.status==="unpaid"&&Q.dueDate&&new Date(Q.dueDate)<new Date;return f.jsxs("tr",{className:"border-t border-[#8f8f8f] hover:bg-[#23273d] transition",children:[f.jsx("td",{className:"px-2 py-1 text-xs",children:Q.systemInvoiceNumber||""}),f.jsx("td",{className:"px-2 py-1 text-xs",children:Q.invoiceNumber||""}),f.jsx("td",{className:"px-4 py-2 text-xs max-w-[120px] truncate",children:Q.type==="income"?"Income":Q.type==="outcome"?"Expense":Q.type}),f.jsx("td",{className:"px-2 py-1 text-xs max-w-[120px] truncate",children:((me=Q.clientCompany)==null?void 0:me.name)||Q.client||""}),f.jsx("td",{className:"px-2 py-1 text-xs max-w-[120px] truncate",children:((ae=Q.supplierCompany)==null?void 0:ae.name)||Q.supplier||""}),f.jsx("td",{className:"px-2 py-1",children:f.jsx("span",{className:"px-2 py-0.5 rounded text-[11px] font-bold uppercase "+(Q.status==="paid"?"bg-green-700 text-green-100":Q.status==="unpaid"?"bg-red-700 text-red-100":"bg-gray-700 text-gray-200"),style:{minWidth:46,display:"inline-block",textAlign:"center"},children:Q.status||""})}),f.jsx("td",{className:"px-2 py-1 text-xs",children:Q.dateIssued?hc(Q.dateIssued):""}),f.jsx("td",{className:"px-2 py-1 text-xs"+(pe?" text-red-400 font-bold":""),children:Q.dueDate?hc(Q.dueDate):""}),f.jsxs("td",{className:"px-2 py-1 text-xs whitespace-nowrap",children:[Number(Q.totalAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," ",Q.currency]}),f.jsx("td",{className:"px-2 py-1 text-[11px]",children:Q.createdAt?new Date(Q.createdAt).toLocaleString():""}),f.jsx("td",{className:"px-2 py-1 text-[11px]",children:Q.updatedAt&&Q.updatedAt!==Q.createdAt?new Date(Q.updatedAt).toLocaleString():""}),f.jsxs("td",{className:"px-2 py-1 flex gap-1 min-w-[88px]",children:[f.jsx("button",{onClick:()=>ne(Q),className:"text-green-400 hover:bg-green-900 hover:text-white px-1 py-0.5 rounded text-[11px] font-medium transition",children:"Details"}),f.jsx("button",{onClick:()=>G(Q),className:"text-blue-400 hover:bg-blue-900 hover:text-white px-1 py-0.5 rounded text-[11px] font-medium transition",children:"Edit"}),f.jsx("button",{onClick:()=>ue(Q._id),className:"text-red-400 hover:bg-red-900 hover:text-white px-1 py-0.5 rounded text-[11px] font-medium transition",disabled:A===Q._id,children:A===Q._id?"...":"Delete"})]})]},Q._id)})})]})}),r&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-lg",children:f.jsx("div",{className:"w-full max-w-2xl mx-4",children:f.jsx(Jd,{invoice:a,onClose:()=>i(!1),onSaved:()=>{i(!1),B()},companyListUpdated:p})})}),u&&f.jsx(XM,{onClose:()=>h(!1),onSaved:()=>{h(!1),g(Q=>Q+1)}}),N&&S&&f.jsx(Rm,{invoice:S,onClose:()=>P(!1)}),f.jsxs("div",{className:"...",children:[N&&S&&f.jsx(Rm,{invoice:S,onClose:()=>P(!1)}),R&&f.jsx(cL,{onClose:()=>z(!1)})]})]})},dL=()=>{const[t,e]=k.useState([]),[n,s]=k.useState(!0),[r,i]=k.useState(!1),[a,c]=k.useState(null),[u,h]=k.useState(null),[p,g]=k.useState(!1),y=async()=>{var S,C;s(!0);try{const N=await ce.get("/invoices"),P=Array.isArray(N.data)?N.data:N.data.invoices||[];e(P)}catch(N){console.error("Failed to fetch invoices:",(C=(S=N==null?void 0:N.response)==null?void 0:S.data)==null?void 0:C.message)}finally{s(!1)}};k.useEffect(()=>{y()},[]);const v=()=>{c(null),i(!0)},b=S=>{c(S),i(!0)},_=S=>{h(S),g(!0)};return f.jsxs("div",{className:"bg-[#181A23] text-white rounded-lg p-6 shadow-lg relative min-h-[60vh]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:" All Invoices"}),f.jsx("button",{onClick:v,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none",children:"+ New Invoice"})]}),n?f.jsx("div",{className:"py-12 text-center text-gray-400",children:"Loading invoices..."}):t.length===0?f.jsx("div",{className:"py-12 text-center text-gray-500",children:"No invoices found."}):f.jsx("div",{className:"overflow-x-auto rounded-lg shadow-inner",children:f.jsxs("table",{className:"min-w-full text-sm bg-[#222436] rounded-lg overflow-hidden",children:[f.jsx("thead",{className:"bg-[#23263a] text-gray-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3 font-semibold",children:"#"}),f.jsx("th",{className:"p-3 font-semibold",children:"Type"}),f.jsx("th",{className:"p-3 font-semibold",children:"Client"}),f.jsx("th",{className:"p-3 font-semibold",children:"Supplier"}),f.jsx("th",{className:"p-3 font-semibold",children:"Total"}),f.jsx("th",{className:"p-3 font-semibold",children:"Issued"}),f.jsx("th",{className:"p-3 font-semibold",children:"Actions"})]})}),f.jsx("tbody",{children:t.map(S=>{var C,N;return f.jsxs("tr",{className:"border-t border-[#27293e] hover:bg-[#25294a] transition",children:[f.jsx("td",{className:"p-3",children:S.invoiceNumber||""}),f.jsx("td",{className:"p-3 capitalize",children:S.type==="income"?"Income (You receive)":S.type==="outcome"?"Expense (You pay)":S.type}),f.jsx("td",{className:"p-3",children:((C=S.clientCompany)==null?void 0:C.name)||S.client||""}),f.jsx("td",{className:"p-3",children:((N=S.supplierCompany)==null?void 0:N.name)||S.supplier||""}),f.jsxs("td",{className:"p-3 whitespace-nowrap",children:[Number(S.totalAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," ",S.currency]}),f.jsx("td",{className:"p-3",children:hc(S.dateIssued)}),f.jsxs("td",{className:"p-3 flex gap-2",children:[f.jsx("button",{onClick:()=>_(S),className:"text-green-400 hover:underline hover:text-green-300 transition",children:"Details"}),f.jsx("button",{onClick:()=>b(S),className:"text-blue-400 hover:underline hover:text-blue-300 transition",children:"Edit"})]})]},S._id)})})]})}),r&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-lg",children:f.jsx("div",{className:"w-full max-w-2xl mx-4",children:f.jsx(Jd,{invoice:a,onClose:()=>i(!1),onSaved:()=>{i(!1),y()}})})}),p&&u&&f.jsx(Rm,{invoice:u,onClose:()=>g(!1)})]})},J_=()=>f.jsxs(B2,{children:[f.jsx(Kt,{path:"/",element:f.jsx(uL,{})}),f.jsx(Kt,{path:"new",element:f.jsx(Jd,{})}),f.jsx(Kt,{path:":id",element:f.jsx(dL,{})}),f.jsx(Kt,{path:":id/edit",element:f.jsx(Jd,{})})]}),m0=k.createContext({});function g0(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const y0=typeof window<"u",eC=y0?k.useLayoutEffect:k.useEffect,Ah=k.createContext(null);function x0(t,e){t.indexOf(e)===-1&&t.push(e)}function v0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const pr=(t,e,n)=>n>e?e:n<t?t:n;let b0=()=>{};const mr={},tC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function nC(t){return typeof t=="object"&&t!==null}const sC=t=>/^0[^.\s]+$/u.test(t);function w0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qn=t=>t,hL=(t,e)=>n=>e(t(n)),Bc=(...t)=>t.reduce(hL),bc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class S0{constructor(){this.subscriptions=[]}add(e){return x0(this.subscriptions,e),()=>v0(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rs=t=>t*1e3,Ds=t=>t/1e3;function rC(t,e){return e?t*(1e3/e):0}const iC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fL=1e-7,pL=12;function mL(t,e,n,s,r){let i,a,c=0;do a=e+(n-e)/2,i=iC(a,s,r)-t,i>0?n=a:e=a;while(Math.abs(i)>fL&&++c<pL);return a}function Uc(t,e,n,s){if(t===e&&n===s)return Qn;const r=i=>mL(i,0,1,t,n);return i=>i===0||i===1?i:iC(r(i),e,s)}const oC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,aC=t=>e=>1-t(1-e),lC=Uc(.33,1.53,.69,.99),_0=aC(lC),cC=oC(_0),uC=t=>(t*=2)<1?.5*_0(t):.5*(2-Math.pow(2,-10*(t-1))),C0=t=>1-Math.sin(Math.acos(t)),dC=aC(C0),hC=oC(C0),gL=Uc(.42,0,1,1),yL=Uc(0,0,.58,1),fC=Uc(.42,0,.58,1),xL=t=>Array.isArray(t)&&typeof t[0]!="number",pC=t=>Array.isArray(t)&&typeof t[0]=="number",vL={linear:Qn,easeIn:gL,easeInOut:fC,easeOut:yL,circIn:C0,circInOut:hC,circOut:dC,backIn:_0,backInOut:cC,backOut:lC,anticipate:uC},bL=t=>typeof t=="string",X1=t=>{if(pC(t)){b0(t.length===4);const[e,n,s,r]=t;return Uc(e,n,s,r)}else if(bL(t))return vL[t];return t},Td=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Q1={value:null};function wL(t,e){let n=new Set,s=new Set,r=!1,i=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},u=0;function h(g){a.has(g)&&(p.schedule(g),t()),u++,g(c)}const p={schedule:(g,y=!1,v=!1)=>{const _=v&&r?n:s;return y&&a.add(g),_.has(g)||_.add(g),g},cancel:g=>{s.delete(g),a.delete(g)},process:g=>{if(c=g,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(h),e&&Q1.value&&Q1.value.frameloop[e].push(u),u=0,n.clear(),r=!1,i&&(i=!1,p.process(g))}};return p}const SL=40;function mC(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Td.reduce((P,A)=>(P[A]=wL(i,e?A:void 0),P),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:p,update:g,preRender:y,render:v,postRender:b}=a,_=()=>{const P=mr.useManualTiming?r.timestamp:performance.now();n=!1,mr.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(P-r.timestamp,SL),1)),r.timestamp=P,r.isProcessing=!0,c.process(r),u.process(r),h.process(r),p.process(r),g.process(r),y.process(r),v.process(r),b.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(_))},S=()=>{n=!0,s=!0,r.isProcessing||t(_)};return{schedule:Td.reduce((P,A)=>{const M=a[A];return P[A]=(R,z=!1,B=!1)=>(n||S(),M.schedule(R,z,B)),P},{}),cancel:P=>{for(let A=0;A<Td.length;A++)a[Td[A]].cancel(P)},state:r,steps:a}}const{schedule:rt,cancel:pi,state:Ft,steps:im}=mC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qn,!0);let $d;function _L(){$d=void 0}const Cn={now:()=>($d===void 0&&Cn.set(Ft.isProcessing||mr.useManualTiming?Ft.timestamp:performance.now()),$d),set:t=>{$d=t,queueMicrotask(_L)}},gC=t=>e=>typeof e=="string"&&e.startsWith(t),k0=gC("--"),CL=gC("var(--"),j0=t=>CL(t)?kL.test(t.split("/*")[0].trim()):!1,kL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,za={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wc={...za,transform:t=>pr(0,1,t)},Pd={...za,default:1},sc=t=>Math.round(t*1e5)/1e5,N0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jL(t){return t==null}const NL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,T0=(t,e)=>n=>!!(typeof n=="string"&&NL.test(n)&&n.startsWith(t)||e&&!jL(n)&&Object.prototype.hasOwnProperty.call(n,e)),yC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,a,c]=s.match(N0);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},TL=t=>pr(0,255,t),om={...za,transform:t=>Math.round(TL(t))},Ki={test:T0("rgb","red"),parse:yC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+om.transform(t)+", "+om.transform(e)+", "+om.transform(n)+", "+sc(wc.transform(s))+")"};function PL(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Zm={test:T0("#"),parse:PL,transform:Ki.transform},$c=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Kr=$c("deg"),Os=$c("%"),Pe=$c("px"),EL=$c("vh"),ML=$c("vw"),G1={...Os,parse:t=>Os.parse(t)/100,transform:t=>Os.transform(t*100)},aa={test:T0("hsl","hue"),parse:yC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Os.transform(sc(e))+", "+Os.transform(sc(n))+", "+sc(wc.transform(s))+")"},jt={test:t=>Ki.test(t)||Zm.test(t)||aa.test(t),parse:t=>Ki.test(t)?Ki.parse(t):aa.test(t)?aa.parse(t):Zm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ki.transform(t):aa.transform(t),getAnimatableNone:t=>{const e=jt.parse(t);return e.alpha=0,jt.transform(e)}},AL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RL(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(N0))==null?void 0:e.length)||0)+(((n=t.match(AL))==null?void 0:n.length)||0)>0}const xC="number",vC="color",DL="var",OL="var(",Z1="${}",LL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const c=e.replace(LL,u=>(jt.test(u)?(s.color.push(i),r.push(vC),n.push(jt.parse(u))):u.startsWith(OL)?(s.var.push(i),r.push(DL),n.push(u)):(s.number.push(i),r.push(xC),n.push(parseFloat(u))),++i,Z1)).split(Z1);return{values:n,split:c,indexes:s,types:r}}function bC(t){return Sc(t).values}function wC(t){const{split:e,types:n}=Sc(t),s=e.length;return r=>{let i="";for(let a=0;a<s;a++)if(i+=e[a],r[a]!==void 0){const c=n[a];c===xC?i+=sc(r[a]):c===vC?i+=jt.transform(r[a]):i+=r[a]}return i}}const IL=t=>typeof t=="number"?0:jt.test(t)?jt.getAnimatableNone(t):t;function FL(t){const e=bC(t);return wC(t)(e.map(IL))}const mi={test:RL,parse:bC,createTransformer:wC,getAnimatableNone:FL};function am(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function zL({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,a=0;if(!e)r=i=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;r=am(u,c,t+1/3),i=am(u,c,t),a=am(u,c,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}function lh(t,e){return n=>n>0?e:t}const ct=(t,e,n)=>t+(e-t)*n,lm=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},VL=[Zm,Ki,aa],BL=t=>VL.find(e=>e.test(t));function J1(t){const e=BL(t);if(!e)return!1;let n=e.parse(t);return e===aa&&(n=zL(n)),n}const ew=(t,e)=>{const n=J1(t),s=J1(e);if(!n||!s)return lh(t,e);const r={...n};return i=>(r.red=lm(n.red,s.red,i),r.green=lm(n.green,s.green,i),r.blue=lm(n.blue,s.blue,i),r.alpha=ct(n.alpha,s.alpha,i),Ki.transform(r))},Jm=new Set(["none","hidden"]);function UL(t,e){return Jm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $L(t,e){return n=>ct(t,e,n)}function P0(t){return typeof t=="number"?$L:typeof t=="string"?j0(t)?lh:jt.test(t)?ew:qL:Array.isArray(t)?SC:typeof t=="object"?jt.test(t)?ew:HL:lh}function SC(t,e){const n=[...t],s=n.length,r=t.map((i,a)=>P0(i)(i,e[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}}function HL(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=P0(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function WL(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],a=t.indexes[i][s[i]],c=t.values[a]??0;n[r]=c,s[i]++}return n}const qL=(t,e)=>{const n=mi.createTransformer(e),s=Sc(t),r=Sc(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Jm.has(t)&&!r.values.length||Jm.has(e)&&!s.values.length?UL(t,e):Bc(SC(WL(s,r),r.values),n):lh(t,e)};function _C(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ct(t,e,n):P0(t)(t,e)}const YL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>rt.update(e,n),stop:()=>pi(e),now:()=>Ft.isProcessing?Ft.timestamp:Cn.now()}},CC=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=Math.round(t(i/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ch=2e4;function E0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ch;)e+=n,s=t.next(e);return e>=ch?1/0:e}function KL(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(E0(s),ch);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:Ds(r)}}const XL=5;function kC(t,e,n){const s=Math.max(e-XL,0);return rC(n-t(s),e-s)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cm=.001;function QL({duration:t=pt.duration,bounce:e=pt.bounce,velocity:n=pt.velocity,mass:s=pt.mass}){let r,i,a=1-e;a=pr(pt.minDamping,pt.maxDamping,a),t=pr(pt.minDuration,pt.maxDuration,Ds(t)),a<1?(r=h=>{const p=h*a,g=p*t,y=p-n,v=eg(h,a),b=Math.exp(-g);return cm-y/v*b},i=h=>{const g=h*a*t,y=g*n+n,v=Math.pow(a,2)*Math.pow(h,2)*t,b=Math.exp(-g),_=eg(Math.pow(h,2),a);return(-r(h)+cm>0?-1:1)*((y-v)*b)/_}):(r=h=>{const p=Math.exp(-h*t),g=(h-n)*t+1;return-cm+p*g},i=h=>{const p=Math.exp(-h*t),g=(n-h)*(t*t);return p*g});const c=5/t,u=ZL(r,i,c);if(t=Rs(t),isNaN(u))return{stiffness:pt.stiffness,damping:pt.damping,duration:t};{const h=Math.pow(u,2)*s;return{stiffness:h,damping:a*2*Math.sqrt(s*h),duration:t}}}const GL=12;function ZL(t,e,n){let s=n;for(let r=1;r<GL;r++)s=s-t(s)/e(s);return s}function eg(t,e){return t*Math.sqrt(1-e*e)}const JL=["duration","bounce"],e5=["stiffness","damping","mass"];function tw(t,e){return e.some(n=>t[n]!==void 0)}function t5(t){let e={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...t};if(!tw(t,e5)&&tw(t,JL))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*pr(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:pt.mass,stiffness:r,damping:i}}else{const n=QL(t);e={...e,...n,mass:pt.mass},e.isResolvedFromDuration=!0}return e}function uh(t=pt.visualDuration,e=pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:h,mass:p,duration:g,velocity:y,isResolvedFromDuration:v}=t5({...n,velocity:-Ds(n.velocity||0)}),b=y||0,_=h/(2*Math.sqrt(u*p)),S=a-i,C=Ds(Math.sqrt(u/p)),N=Math.abs(S)<5;s||(s=N?pt.restSpeed.granular:pt.restSpeed.default),r||(r=N?pt.restDelta.granular:pt.restDelta.default);let P;if(_<1){const M=eg(C,_);P=R=>{const z=Math.exp(-_*C*R);return a-z*((b+_*C*S)/M*Math.sin(M*R)+S*Math.cos(M*R))}}else if(_===1)P=M=>a-Math.exp(-C*M)*(S+(b+C*S)*M);else{const M=C*Math.sqrt(_*_-1);P=R=>{const z=Math.exp(-_*C*R),B=Math.min(M*R,300);return a-z*((b+_*C*S)*Math.sinh(B)+M*S*Math.cosh(B))/M}}const A={calculatedDuration:v&&g||null,next:M=>{const R=P(M);if(v)c.done=M>=g;else{let z=M===0?b:0;_<1&&(z=M===0?Rs(b):kC(P,M,R));const B=Math.abs(z)<=s,V=Math.abs(a-R)<=r;c.done=B&&V}return c.value=c.done?a:R,c},toString:()=>{const M=Math.min(E0(A),ch),R=CC(z=>A.next(M*z).value,M,30);return M+"ms "+R},toTransition:()=>{}};return A}uh.applyToOptions=t=>{const e=KL(t,100,uh);return t.ease=e.ease,t.duration=Rs(e.duration),t.type="keyframes",t};function tg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:c,max:u,restDelta:h=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},v=B=>c!==void 0&&B<c||u!==void 0&&B>u,b=B=>c===void 0?u:u===void 0||Math.abs(c-B)<Math.abs(u-B)?c:u;let _=n*e;const S=g+_,C=a===void 0?S:a(S);C!==S&&(_=C-g);const N=B=>-_*Math.exp(-B/s),P=B=>C+N(B),A=B=>{const V=N(B),$=P(B);y.done=Math.abs(V)<=h,y.value=y.done?C:$};let M,R;const z=B=>{v(y.value)&&(M=B,R=uh({keyframes:[y.value,b(y.value)],velocity:kC(P,B,y.value),damping:r,stiffness:i,restDelta:h,restSpeed:p}))};return z(0),{calculatedDuration:null,next:B=>{let V=!1;return!R&&M===void 0&&(V=!0,A(B),z(B)),M!==void 0&&B>=M?R.next(B-M):(!V&&A(B),y)}}}function n5(t,e,n){const s=[],r=n||mr.mix||_C,i=t.length-1;for(let a=0;a<i;a++){let c=r(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Qn:e;c=Bc(u,c)}s.push(c)}return s}function s5(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(b0(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=n5(e,s,r),u=c.length,h=p=>{if(a&&p<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=bc(t[g],t[g+1],p);return c[g](y)};return n?p=>h(pr(t[0],t[i-1],p)):h}function r5(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=bc(0,e,s);t.push(ct(n,1,r))}}function i5(t){const e=[0];return r5(e,t.length-1),e}function o5(t,e){return t.map(n=>n*e)}function a5(t,e){return t.map(()=>e||fC).splice(0,t.length-1)}function rc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=xL(s)?s.map(X1):X1(s),i={done:!1,value:e[0]},a=o5(n&&n.length===e.length?n:i5(e),t),c=s5(a,e,{ease:Array.isArray(r)?r:a5(e,r)});return{calculatedDuration:t,next:u=>(i.value=c(u),i.done=u>=t,i)}}const l5=t=>t!==null;function M0(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(l5),c=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!c||s===void 0?i[c]:s}const c5={decay:tg,inertia:tg,tween:rc,keyframes:rc,spring:uh};function jC(t){typeof t.type=="string"&&(t.type=c5[t.type])}class A0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const u5=t=>t/100;class R0 extends A0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;jC(e);const{type:n=rc,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e;let{keyframes:c}=e;const u=n||rc;u!==rc&&typeof c[0]!="number"&&(this.mixKeyframes=Bc(u5,_C(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=E0(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:v,type:b,onUpdate:_,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?C<0:C>r;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let P=this.currentTime,A=s;if(g){const B=Math.min(this.currentTime,r)/c;let V=Math.floor(B),$=B%1;!$&&B>=1&&($=1),$===1&&V--,V=Math.min(V,g+1),!!(V%2)&&(y==="reverse"?($=1-$,v&&($-=v/c)):y==="mirror"&&(A=a)),P=pr(0,1,$)*c}const M=N?{done:!1,value:p[0]}:A.next(P);i&&(M.value=i(M.value));let{done:R}=M;!N&&u!==null&&(R=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return z&&b!==tg&&(M.value=M0(p,this.options,S,this.speed)),_&&_(M.value),z&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return Ds(this.calculatedDuration)}get time(){return Ds(this.currentTime)}set time(e){var n;e=Rs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ds(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:e=YL,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function d5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Xi=t=>t*180/Math.PI,ng=t=>{const e=Xi(Math.atan2(t[1],t[0]));return sg(e)},h5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ng,rotateZ:ng,skewX:t=>Xi(Math.atan(t[1])),skewY:t=>Xi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sg=t=>(t=t%360,t<0&&(t+=360),t),nw=ng,sw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),rw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),f5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sw,scaleY:rw,scale:t=>(sw(t)+rw(t))/2,rotateX:t=>sg(Xi(Math.atan2(t[6],t[5]))),rotateY:t=>sg(Xi(Math.atan2(-t[2],t[0]))),rotateZ:nw,rotate:nw,skewX:t=>Xi(Math.atan(t[4])),skewY:t=>Xi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function rg(t){return t.includes("scale")?1:0}function ig(t,e){if(!t||t==="none")return rg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=f5,r=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=h5,r=c}if(!r)return rg(e);const i=s[e],a=r[1].split(",").map(m5);return typeof i=="function"?i(a):a[i]}const p5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ig(n,e)};function m5(t){return parseFloat(t.trim())}const Va=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ba=new Set(Va),iw=t=>t===za||t===Pe,g5=new Set(["x","y","z"]),y5=Va.filter(t=>!g5.has(t));function x5(t){const e=[];return y5.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const co={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ig(e,"x"),y:(t,{transform:e})=>ig(e,"y")};co.translateX=co.x;co.translateY=co.y;const uo=new Set;let og=!1,ag=!1,lg=!1;function NC(){if(ag){const t=Array.from(uo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=x5(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,a])=>{var c;(c=s.getValue(i))==null||c.set(a)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ag=!1,og=!1,uo.forEach(t=>t.complete(lg)),uo.clear()}function TC(){uo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ag=!0)})}function v5(){lg=!0,TC(),NC(),lg=!1}class D0{constructor(e,n,s,r,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(uo.add(this),og||(og=!0,rt.read(TC),rt.resolveKeyframes(NC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const c=s.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),r&&i===void 0&&r.set(e[0])}d5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),uo.delete(this)}cancel(){this.state==="scheduled"&&(uo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const b5=t=>t.startsWith("--");function w5(t,e,n){b5(e)?t.style.setProperty(e,n):t.style[e]=n}const S5=w0(()=>window.ScrollTimeline!==void 0),_5={};function C5(t,e){const n=w0(t);return()=>_5[e]??n()}const PC=C5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yl=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,ow={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yl([0,.65,.55,1]),circOut:Yl([.55,0,1,.45]),backIn:Yl([.31,.01,.66,-.59]),backOut:Yl([.33,1.53,.69,.99])};function EC(t,e){if(t)return typeof t=="function"?PC()?CC(t,e):"ease-out":pC(t)?Yl(t):Array.isArray(t)?t.map(n=>EC(n,e)||ow.easeOut):ow[t]}function k5(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:a="loop",ease:c="easeOut",times:u}={},h=void 0){const p={[e]:n};u&&(p.offset=u);const g=EC(c,r);Array.isArray(g)&&(p.easing=g);const y={delay:s,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(p,y)}function MC(t){return typeof t=="function"&&"applyToOptions"in t}function j5({type:t,...e}){return MC(t)&&PC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class N5 extends A0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,b0(typeof e.type!="string");const h=j5(e);this.animation=k5(n,s,r,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=M0(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):w5(n,s,p),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ds(Number(e))}get time(){return Ds(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Rs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&S5()?(this.animation.timeline=e,Qn):n(this)}}const AC={anticipate:uC,backInOut:cC,circInOut:hC};function T5(t){return t in AC}function P5(t){typeof t.ease=="string"&&T5(t.ease)&&(t.ease=AC[t.ease])}const aw=10;class E5 extends N5{constructor(e){P5(e),jC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new R0({...a,autoplay:!1}),u=Rs(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-aw).value,c.sample(u).value,aw),c.stop()}}const lw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mi.test(t)||t==="0")&&!t.startsWith("url("));function M5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function A5(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=lw(r,e),c=lw(i,e);return!a||!c?!1:M5(t)||(n==="spring"||MC(n))&&s}function O0(t){return nC(t)&&"offsetHeight"in t}const R5=new Set(["opacity","clipPath","filter","transform"]),D5=w0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function O5(t){var h;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:a}=t;if(!O0((h=e==null?void 0:e.owner)==null?void 0:h.current))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return D5()&&n&&R5.has(n)&&(n!=="transform"||!u)&&!c&&!s&&r!=="mirror"&&i!==0&&a!=="inertia"}const L5=40;class I5 extends A0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",keyframes:c,name:u,motionValue:h,element:p,...g}){var b;super(),this.stop=()=>{var _,S;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Cn.now();const y={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:a,name:u,motionValue:h,element:p,...g},v=(p==null?void 0:p.KeyframeResolver)||D0;this.keyframeResolver=new v(c,(_,S,C)=>this.onKeyframesResolved(_,S,y,!C),u,h,p),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:a,velocity:c,delay:u,isHandoff:h,onUpdate:p}=s;this.resolvedAt=Cn.now(),A5(e,i,a,c)||((mr.instantAnimations||!u)&&(p==null||p(M0(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const y={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>L5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},v=!h&&O5(y)?new E5({...y,element:y.motionValue.owner.current}):new R0(y);v.finished.then(()=>this.notifyFinished()).catch(Qn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),v5()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const F5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function z5(t){const e=F5.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function RC(t,e,n=1){const[s,r]=z5(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const a=i.trim();return tC(a)?parseFloat(a):a}return j0(r)?RC(r,e,n+1):r}function L0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const DC=new Set(["width","height","top","left","right","bottom",...Va]),V5={test:t=>t==="auto",parse:t=>t},OC=t=>e=>e.test(t),LC=[za,Pe,Os,Kr,ML,EL,V5],cw=t=>LC.find(OC(t));function B5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sC(t):!0}const U5=new Set(["brightness","contrast","saturate","opacity"]);function $5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(N0)||[];if(!s)return t;const r=n.replace(s,"");let i=U5.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const H5=/\b([a-z-]*)\(.*?\)/gu,cg={...mi,getAnimatableNone:t=>{const e=t.match(H5);return e?e.map($5).join(" "):t}},uw={...za,transform:Math.round},W5={rotate:Kr,rotateX:Kr,rotateY:Kr,rotateZ:Kr,scale:Pd,scaleX:Pd,scaleY:Pd,scaleZ:Pd,skew:Kr,skewX:Kr,skewY:Kr,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:wc,originX:G1,originY:G1,originZ:Pe},I0={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...W5,zIndex:uw,fillOpacity:wc,strokeOpacity:wc,numOctaves:uw},q5={...I0,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:cg,WebkitFilter:cg},IC=t=>q5[t];function FC(t,e){let n=IC(t);return n!==cg&&(n=mi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Y5=new Set(["auto","none","0"]);function K5(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!Y5.has(i)&&Sc(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=FC(n,r)}class X5 extends D0{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),j0(h))){const p=RC(h,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!DC.has(s)||e.length!==2)return;const[r,i]=e,a=cw(r),c=cw(i);if(a!==c)if(iw(a)&&iw(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else co[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||B5(e[r]))&&s.push(r);s.length&&K5(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=co[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=co[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function Q5(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=(n==null?void 0:n[t])??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const zC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,dw=30,G5=t=>!isNaN(parseFloat(t));class Z5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var a,c;const i=Cn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();r&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=G5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new S0);const s=this.events[e].add(n);return e==="change"?()=>{s(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dw);return rC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ea(t,e){return new Z5(t,e)}const{schedule:F0}=mC(queueMicrotask,!1),is={x:!1,y:!1};function VC(){return is.x||is.y}function J5(t){return t==="x"||t==="y"?is[t]?null:(is[t]=!0,()=>{is[t]=!1}):is.x||is.y?null:(is.x=is.y=!0,()=>{is.x=is.y=!1})}function BC(t,e){const n=Q5(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function hw(t){return!(t.pointerType==="touch"||VC())}function eI(t,e,n={}){const[s,r,i]=BC(t,n),a=c=>{if(!hw(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const p=g=>{hw(g)&&(h(g),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,r)};return s.forEach(c=>{c.addEventListener("pointerenter",a,r)}),i}const UC=(t,e)=>e?t===e?!0:UC(t,e.parentElement):!1,z0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,tI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nI(t){return tI.has(t.tagName)||t.tabIndex!==-1}const Hd=new WeakSet;function fw(t){return e=>{e.key==="Enter"&&t(e)}}function um(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const sI=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=fw(()=>{if(Hd.has(n))return;um(n,"down");const r=fw(()=>{um(n,"up")}),i=()=>um(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function pw(t){return z0(t)&&!VC()}function rI(t,e,n={}){const[s,r,i]=BC(t,n),a=c=>{const u=c.currentTarget;if(!pw(c))return;Hd.add(u);const h=e(u,c),p=(v,b)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),Hd.has(u)&&Hd.delete(u),pw(v)&&typeof h=="function"&&h(v,{success:b})},g=v=>{p(v,u===window||u===document||n.useGlobalTarget||UC(u,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",y,r)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,r),O0(c)&&(c.addEventListener("focus",h=>sI(h,r)),!nI(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function $C(t){return nC(t)&&"ownerSVGElement"in t}function iI(t){return $C(t)&&t.tagName==="svg"}const Zt=t=>!!(t&&t.getVelocity),oI=[...LC,jt,mi],aI=t=>oI.find(OC(t)),V0=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class lI extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=O0(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function cI({children:t,isPresent:e,anchorX:n,root:s}){const r=k.useId(),i=k.useRef(null),a=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=k.useContext(V0);return k.useInsertionEffect(()=>{const{width:u,height:h,top:p,left:g,right:y}=a.current;if(e||!i.current||!u||!h)return;const v=n==="left"?`left: ${g}`:`right: ${y}`;i.current.dataset.motionPopId=r;const b=document.createElement("style");c&&(b.nonce=c);const _=s??document.head;return _.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${v}px !important;
            top: ${p}px !important;
          }
        `),()=>{_.removeChild(b),_.contains(b)&&_.removeChild(b)}},[e]),f.jsx(lI,{isPresent:e,childRef:i,sizeRef:a,children:k.cloneElement(t,{ref:i})})}const uI=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a,anchorX:c,root:u})=>{const h=g0(dI),p=k.useId();let g=!0,y=k.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:r,onExitComplete:v=>{h.set(v,!0);for(const b of h.values())if(!b)return;s&&s()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[n,h,s]);return i&&g&&(y={...y}),k.useMemo(()=>{h.forEach((v,b)=>h.set(b,!1))},[n]),k.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),a==="popLayout"&&(t=f.jsx(cI,{isPresent:n,anchorX:c,root:u,children:t})),f.jsx(Ah.Provider,{value:y,children:t})};function dI(){return new Map}function HC(t=!0){const e=k.useContext(Ah);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=k.useId();k.useEffect(()=>{if(t)return r(i)},[t]);const a=k.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,a]:[!0]}const Ed=t=>t.key||"";function mw(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const hI=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:a=!1,anchorX:c="left",root:u})=>{const[h,p]=HC(a),g=k.useMemo(()=>mw(t),[t]),y=a&&!h?[]:g.map(Ed),v=k.useRef(!0),b=k.useRef(g),_=g0(()=>new Map),[S,C]=k.useState(g),[N,P]=k.useState(g);eC(()=>{v.current=!1,b.current=g;for(let R=0;R<N.length;R++){const z=Ed(N[R]);y.includes(z)?_.delete(z):_.get(z)!==!0&&_.set(z,!1)}},[N,y.length,y.join("-")]);const A=[];if(g!==S){let R=[...g];for(let z=0;z<N.length;z++){const B=N[z],V=Ed(B);y.includes(V)||(R.splice(z,0,B),A.push(B))}return i==="wait"&&A.length&&(R=A),P(mw(R)),C(g),null}const{forceRender:M}=k.useContext(m0);return f.jsx(f.Fragment,{children:N.map(R=>{const z=Ed(R),B=a&&!h?!1:g===N||y.includes(z),V=()=>{if(_.has(z))_.set(z,!0);else return;let $=!0;_.forEach(G=>{G||($=!1)}),$&&(M==null||M(),P(b.current),a&&(p==null||p()),s&&s())};return f.jsx(uI,{isPresent:B,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:i,root:u,onExitComplete:B?void 0:V,anchorX:c,children:R},z)})})},WC=k.createContext({strict:!1}),gw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ma={};for(const t in gw)Ma[t]={isEnabled:e=>gw[t].some(n=>!!e[n])};function fI(t){for(const e in t)Ma[e]={...Ma[e],...t[e]}}const pI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pI.has(t)}let qC=t=>!dh(t);function mI(t){typeof t=="function"&&(qC=e=>e.startsWith("on")?!dh(e):t(e))}try{mI(require("@emotion/is-prop-valid").default)}catch{}function gI(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(qC(r)||n===!0&&dh(r)||!e&&!dh(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function yI(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Rh=k.createContext({});function Dh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _c(t){return typeof t=="string"||Array.isArray(t)}const B0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],U0=["initial",...B0];function Oh(t){return Dh(t.animate)||U0.some(e=>_c(t[e]))}function YC(t){return!!(Oh(t)||t.variants)}function xI(t,e){if(Oh(t)){const{initial:n,animate:s}=t;return{initial:n===!1||_c(n)?n:void 0,animate:_c(s)?s:void 0}}return t.inherit!==!1?e:{}}function vI(t){const{initial:e,animate:n}=xI(t,k.useContext(Rh));return k.useMemo(()=>({initial:e,animate:n}),[yw(e),yw(n)])}function yw(t){return Array.isArray(t)?t.join(" "):t}const bI=Symbol.for("motionComponentSymbol");function la(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wI(t,e,n){return k.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):la(n)&&(n.current=s))},[e])}const $0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),SI="framerAppearId",KC="data-"+$0(SI),XC=k.createContext({});function _I(t,e,n,s,r){var _,S;const{visualElement:i}=k.useContext(Rh),a=k.useContext(WC),c=k.useContext(Ah),u=k.useContext(V0).reducedMotion,h=k.useRef(null);s=s||a.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const p=h.current,g=k.useContext(XC);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&CI(h.current,n,r,g);const y=k.useRef(!1);k.useInsertionEffect(()=>{p&&y.current&&p.update(n,c)});const v=n[KC],b=k.useRef(!!v&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,v))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,v)));return eC(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),F0.render(p.render),b.current&&p.animationState&&p.animationState.animateChanges())}),k.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,v)}),b.current=!1))}),p}function CI(t,e,n,s){const{layoutId:r,layout:i,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QC(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!a||c&&la(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:u,layoutRoot:h})}function QC(t){if(t)return t.options.allowProjection!==!1?t.projection:QC(t.parent)}function kI({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&fI(t);function i(c,u){let h;const p={...k.useContext(V0),...c,layoutId:jI(c)},{isStatic:g}=p,y=vI(c),v=s(c,g);if(!g&&y0){NI();const b=TI(p);h=b.MeasureLayout,y.visualElement=_I(r,v,p,e,b.ProjectionNode)}return f.jsxs(Rh.Provider,{value:y,children:[h&&y.visualElement?f.jsx(h,{visualElement:y.visualElement,...p}):null,n(r,c,wI(v,y.visualElement,u),v,g,y.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const a=k.forwardRef(i);return a[bI]=r,a}function jI({layoutId:t}){const e=k.useContext(m0).id;return e&&t!==void 0?e+"-"+t:t}function NI(t,e){k.useContext(WC).strict}function TI(t){const{drag:e,layout:n}=Ma;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Cc={};function PI(t){for(const e in t)Cc[e]=t[e],k0(e)&&(Cc[e].isCSSVariable=!0)}function GC(t,{layout:e,layoutId:n}){return Ba.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cc[t]||t==="opacity")}const EI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MI=Va.length;function AI(t,e,n){let s="",r=!0;for(let i=0;i<MI;i++){const a=Va[i],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const h=zC(c,I0[a]);if(!u){r=!1;const p=EI[a]||a;s+=`${p}(${h}) `}n&&(e[a]=h)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function H0(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let a=!1,c=!1;for(const u in e){const h=e[u];if(Ba.has(u)){a=!0;continue}else if(k0(u)){r[u]=h;continue}else{const p=zC(h,I0[u]);u.startsWith("origin")?(c=!0,i[u]=p):s[u]=p}}if(e.transform||(a||n?s.transform=AI(e,t.transform,n):s.transform&&(s.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:p=0}=i;s.transformOrigin=`${u} ${h} ${p}`}}const W0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZC(t,e,n){for(const s in e)!Zt(e[s])&&!GC(s,n)&&(t[s]=e[s])}function RI({transformTemplate:t},e){return k.useMemo(()=>{const n=W0();return H0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function DI(t,e){const n=t.style||{},s={};return ZC(s,n,t),Object.assign(s,RI(t,e)),s}function OI(t,e){const n={},s=DI(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const LI={offset:"stroke-dashoffset",array:"stroke-dasharray"},II={offset:"strokeDashoffset",array:"strokeDasharray"};function FI(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?LI:II;t[i.offset]=Pe.transform(-s);const a=Pe.transform(e),c=Pe.transform(n);t[i.array]=`${a} ${c}`}function JC(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:a=0,...c},u,h,p){if(H0(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),r!==void 0&&FI(g,r,i,a,!1)}const ek=()=>({...W0(),attrs:{}}),tk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zI(t,e,n,s){const r=k.useMemo(()=>{const i=ek();return JC(i,e,tk(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};ZC(i,t.style,t),r.style={...i,...r.style}}return r}const VI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function q0(t){return typeof t!="string"||t.includes("-")?!1:!!(VI.indexOf(t)>-1||/[A-Z]/u.test(t))}function BI(t=!1){return(n,s,r,{latestValues:i},a)=>{const u=(q0(n)?zI:OI)(s,i,a,n),h=gI(s,typeof n=="string",t),p=n!==k.Fragment?{...h,...u,ref:r}:{},{children:g}=s,y=k.useMemo(()=>Zt(g)?g.get():g,[g]);return k.createElement(n,{...p,children:y})}}function xw(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Y0(t,e,n,s){if(typeof e=="function"){const[r,i]=xw(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=xw(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function Wd(t){return Zt(t)?t.get():t}function UI({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:$I(n,s,r,t),renderState:e()}}const nk=t=>(e,n)=>{const s=k.useContext(Rh),r=k.useContext(Ah),i=()=>UI(t,e,s,r);return n?i():g0(i)};function $I(t,e,n,s){const r={},i=s(t,{});for(const y in i)r[y]=Wd(i[y]);let{initial:a,animate:c}=t;const u=Oh(t),h=YC(t);e&&h&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const g=p?c:a;if(g&&typeof g!="boolean"&&!Dh(g)){const y=Array.isArray(g)?g:[g];for(let v=0;v<y.length;v++){const b=Y0(t,y[v]);if(b){const{transitionEnd:_,transition:S,...C}=b;for(const N in C){let P=C[N];if(Array.isArray(P)){const A=p?P.length-1:0;P=P[A]}P!==null&&(r[N]=P)}for(const N in _)r[N]=_[N]}}}return r}function K0(t,e,n){var i;const{style:s}=t,r={};for(const a in s)(Zt(s[a])||e.style&&Zt(e.style[a])||GC(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(r[a]=s[a]);return r}const HI={useVisualState:nk({scrapeMotionValuesFromProps:K0,createRenderState:W0})};function sk(t,e,n){const s=K0(t,e,n);for(const r in t)if(Zt(t[r])||Zt(e[r])){const i=Va.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const WI={useVisualState:nk({scrapeMotionValuesFromProps:sk,createRenderState:ek})};function qI(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...q0(s)?WI:HI,preloadedFeatures:t,useRender:BI(r),createVisualElement:e,Component:s};return kI(a)}}function kc(t,e,n){const s=t.getProps();return Y0(s,e,n!==void 0?n:s.custom,t)}const ug=t=>Array.isArray(t);function YI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ea(n))}function KI(t){return ug(t)?t[t.length-1]||0:t}function XI(t,e){const n=kc(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const a in i){const c=KI(i[a]);YI(t,a,c)}}function QI(t){return!!(Zt(t)&&t.add)}function dg(t,e){const n=t.getValue("willChange");if(QI(n))return n.add(e);if(!n&&mr.WillChange){const s=new mr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function rk(t){return t.props[KC]}const GI=t=>t!==null;function ZI(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(GI),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[i]}const JI={type:"spring",stiffness:500,damping:25,restSpeed:10},eF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tF={type:"keyframes",duration:.8},nF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sF=(t,{keyframes:e})=>e.length>2?tF:Ba.has(t)?t.startsWith("scale")?eF(e[1]):JI:nF;function rF({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:c,from:u,elapsed:h,...p}){return!!Object.keys(p).length}const X0=(t,e,n,s={},r,i)=>a=>{const c=L0(s,t)||{},u=c.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Rs(u);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:r};rF(c)||Object.assign(p,sF(t,p)),p.duration&&(p.duration=Rs(p.duration)),p.repeatDelay&&(p.repeatDelay=Rs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),(mr.instantAnimations||mr.skipAnimations)&&(g=!0,p.duration=0,p.delay=0),p.allowFlatten=!c.type&&!c.ease,g&&!i&&e.get()!==void 0){const y=ZI(p.keyframes,c);if(y!==void 0){rt.update(()=>{p.onUpdate(y),p.onComplete()});return}}return c.isSync?new R0(p):new I5(p)};function iF({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function ik(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...c}=e;s&&(i=s);const u=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const p in c){const g=t.getValue(p,t.latestValues[p]??null),y=c[p];if(y===void 0||h&&iF(h,p))continue;const v={delay:n,...L0(i||{},p)},b=g.get();if(b!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===b&&!v.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const C=rk(t);if(C){const N=window.MotionHandoffAnimation(C,p,rt);N!==null&&(v.startTime=N,_=!0)}}dg(t,p),g.start(X0(p,g,y,t.shouldReduceMotion&&DC.has(p)?{type:!1}:v,t,_));const S=g.animation;S&&u.push(S)}return a&&Promise.all(u).then(()=>{rt.update(()=>{a&&XI(t,a)})}),u}function hg(t,e,n={}){var u;const s=kc(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(ik(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=r;return oF(t,e,h,p,g,y,n)}:()=>Promise.resolve(),{when:c}=r;if(c){const[h,p]=c==="beforeChildren"?[i,a]:[a,i];return h().then(()=>p())}else return Promise.all([i(),a(n.delay)])}function oF(t,e,n=0,s=0,r=0,i=1,a){const c=[],u=t.variantChildren.size,h=(u-1)*r,p=typeof s=="function",g=p?y=>s(y,u):i===1?(y=0)=>y*r:(y=0)=>h-y*r;return Array.from(t.variantChildren).sort(aF).forEach((y,v)=>{y.notify("AnimationStart",e),c.push(hg(y,e,{...a,delay:n+(p?0:s)+g(v)}).then(()=>y.notify("AnimationComplete",e)))}),Promise.all(c)}function aF(t,e){return t.sortNodePosition(e)}function lF(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>hg(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=hg(t,e,n);else{const r=typeof e=="function"?kc(t,e,n.custom):e;s=Promise.all(ik(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function ok(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const cF=U0.length;function ak(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ak(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cF;n++){const s=U0[n],r=t.props[s];(_c(r)||r===!1)&&(e[s]=r)}return e}const uF=[...B0].reverse(),dF=B0.length;function hF(t){return e=>Promise.all(e.map(({animation:n,options:s})=>lF(t,n,s)))}function fF(t){let e=hF(t),n=vw(),s=!0;const r=u=>(h,p)=>{var y;const g=kc(t,p,u==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(g){const{transition:v,transitionEnd:b,..._}=g;h={...h,..._,...b}}return h};function i(u){e=u(t)}function a(u){const{props:h}=t,p=ak(t.parent)||{},g=[],y=new Set;let v={},b=1/0;for(let S=0;S<dF;S++){const C=uF[S],N=n[C],P=h[C]!==void 0?h[C]:p[C],A=_c(P),M=C===u?N.isActive:null;M===!1&&(b=S);let R=P===p[C]&&P!==h[C]&&A;if(R&&s&&t.manuallyAnimateOnMount&&(R=!1),N.protectedKeys={...v},!N.isActive&&M===null||!P&&!N.prevProp||Dh(P)||typeof P=="boolean")continue;const z=pF(N.prevProp,P);let B=z||C===u&&N.isActive&&!R&&A||S>b&&A,V=!1;const $=Array.isArray(P)?P:[P];let G=$.reduce(r(C),{});M===!1&&(G={});const{prevResolvedValues:ne={}}=N,ue={...ne,...G},Q=ae=>{B=!0,y.has(ae)&&(V=!0,y.delete(ae)),N.needsAnimating[ae]=!0;const Z=t.getValue(ae);Z&&(Z.liveStyle=!1)};for(const ae in ue){const Z=G[ae],oe=ne[ae];if(v.hasOwnProperty(ae))continue;let O=!1;ug(Z)&&ug(oe)?O=!ok(Z,oe):O=Z!==oe,O?Z!=null?Q(ae):y.add(ae):Z!==void 0&&y.has(ae)?Q(ae):N.protectedKeys[ae]=!0}N.prevProp=P,N.prevResolvedValues=G,N.isActive&&(v={...v,...G}),s&&t.blockInitialAnimation&&(B=!1),B&&(!(R&&z)||V)&&g.push(...$.map(ae=>({animation:ae,options:{type:C}})))}if(y.size){const S={};if(typeof h.initial!="boolean"){const C=kc(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(S.transition=C.transition)}y.forEach(C=>{const N=t.getBaseTarget(C),P=t.getValue(C);P&&(P.liveStyle=!0),S[C]=N??null}),g.push({animation:S})}let _=!!g.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(_=!1),s=!1,_?e(g):Promise.resolve()}function c(u,h){var g;if(n[u].isActive===h)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(y=>{var v;return(v=y.animationState)==null?void 0:v.setActive(u,h)}),n[u].isActive=h;const p=a(u);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:a,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=vw(),s=!0}}}function pF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ok(e,t):!1}function $i(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vw(){return{animate:$i(!0),whileInView:$i(),whileHover:$i(),whileTap:$i(),whileDrag:$i(),whileFocus:$i(),exit:$i()}}class xi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mF extends xi{constructor(e){super(e),e.animationState||(e.animationState=fF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Dh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let gF=0;class yF extends xi{constructor(){super(...arguments),this.id=gF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const xF={animation:{Feature:mF},exit:{Feature:yF}};function jc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Hc(t){return{point:{x:t.pageX,y:t.pageY}}}const vF=t=>e=>z0(e)&&t(e,Hc(e));function ic(t,e,n,s){return jc(t,e,vF(n),s)}function lk({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function bF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const ck=1e-4,SF=1-ck,_F=1+ck,uk=.01,CF=0-uk,kF=0+uk;function ln(t){return t.max-t.min}function jF(t,e,n){return Math.abs(t-e)<=n}function bw(t,e,n,s=.5){t.origin=s,t.originPoint=ct(e.min,e.max,t.origin),t.scale=ln(n)/ln(e),t.translate=ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=SF&&t.scale<=_F||isNaN(t.scale))&&(t.scale=1),(t.translate>=CF&&t.translate<=kF||isNaN(t.translate))&&(t.translate=0)}function oc(t,e,n,s){bw(t.x,e.x,n.x,s?s.originX:void 0),bw(t.y,e.y,n.y,s?s.originY:void 0)}function ww(t,e,n){t.min=n.min+e.min,t.max=t.min+ln(e)}function NF(t,e,n){ww(t.x,e.x,n.x),ww(t.y,e.y,n.y)}function Sw(t,e,n){t.min=e.min-n.min,t.max=t.min+ln(e)}function ac(t,e,n){Sw(t.x,e.x,n.x),Sw(t.y,e.y,n.y)}const _w=()=>({translate:0,scale:1,origin:0,originPoint:0}),ca=()=>({x:_w(),y:_w()}),Cw=()=>({min:0,max:0}),St=()=>({x:Cw(),y:Cw()});function qn(t){return[t("x"),t("y")]}function dm(t){return t===void 0||t===1}function fg({scale:t,scaleX:e,scaleY:n}){return!dm(t)||!dm(e)||!dm(n)}function Wi(t){return fg(t)||dk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dk(t){return kw(t.x)||kw(t.y)}function kw(t){return t&&t!=="0%"}function hh(t,e,n){const s=t-n,r=e*s;return n+r}function jw(t,e,n,s,r){return r!==void 0&&(t=hh(t,r,s)),hh(t,n,s)+e}function pg(t,e=0,n=1,s,r){t.min=jw(t.min,e,n,s,r),t.max=jw(t.max,e,n,s,r)}function hk(t,{x:e,y:n}){pg(t.x,e.translate,e.scale,e.originPoint),pg(t.y,n.translate,n.scale,n.originPoint)}const Nw=.999999999999,Tw=1.0000000000001;function TF(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,a;for(let c=0;c<r;c++){i=n[c],a=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&da(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,hk(t,a)),s&&Wi(i.latestValues)&&da(t,i.latestValues))}e.x<Tw&&e.x>Nw&&(e.x=1),e.y<Tw&&e.y>Nw&&(e.y=1)}function ua(t,e){t.min=t.min+e,t.max=t.max+e}function Pw(t,e,n,s,r=.5){const i=ct(t.min,t.max,r);pg(t,e,n,i,s)}function da(t,e){Pw(t.x,e.x,e.scaleX,e.scale,e.originX),Pw(t.y,e.y,e.scaleY,e.scale,e.originY)}function fk(t,e){return lk(wF(t.getBoundingClientRect(),e))}function PF(t,e,n){const s=fk(t,n),{scroll:r}=e;return r&&(ua(s.x,r.offset.x),ua(s.y,r.offset.y)),s}const pk=({current:t})=>t?t.ownerDocument.defaultView:null,Ew=(t,e)=>Math.abs(t-e);function EF(t,e){const n=Ew(t.x,e.x),s=Ew(t.y,e.y);return Math.sqrt(n**2+s**2)}class mk{constructor(e,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=fm(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=EF(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!b)return;const{point:_}=y,{timestamp:S}=Ft;this.history.push({..._,timestamp:S});const{onStart:C,onMove:N}=this.handlers;v||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=hm(v,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:b,onSessionEnd:_,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=fm(y.type==="pointercancel"?this.lastMoveEventInfo:hm(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,C),_&&_(y,C)},!z0(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=a,this.contextWindow=r||window;const c=Hc(e),u=hm(c,this.transformPagePoint),{point:h}=u,{timestamp:p}=Ft;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,fm(u,this.history)),this.removeListeners=Bc(ic(this.contextWindow,"pointermove",this.handlePointerMove),ic(this.contextWindow,"pointerup",this.handlePointerUp),ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pi(this.updatePoint)}}function hm(t,e){return e?{point:e(t.point)}:t}function Mw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function fm({point:t},e){return{point:t,delta:Mw(t,gk(e)),offset:Mw(t,MF(e)),velocity:AF(e,.1)}}function MF(t){return t[0]}function gk(t){return t[t.length-1]}function AF(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=gk(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Rs(e)));)n--;if(!s)return{x:0,y:0};const i=Ds(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function RF(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ct(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ct(n,t,s.max):Math.min(t,n)),t}function Aw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function DF(t,{top:e,left:n,bottom:s,right:r}){return{x:Aw(t.x,n,r),y:Aw(t.y,e,s)}}function Rw(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function OF(t,e){return{x:Rw(t.x,e.x),y:Rw(t.y,e.y)}}function LF(t,e){let n=.5;const s=ln(t),r=ln(e);return r>s?n=bc(e.min,e.max-s,t.min):s>r&&(n=bc(t.min,t.max-r,e.min)),pr(0,1,n)}function IF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mg=.35;function FF(t=mg){return t===!1?t=0:t===!0&&(t=mg),{x:Dw(t,"left","right"),y:Dw(t,"top","bottom")}}function Dw(t,e,n){return{min:Ow(t,e),max:Ow(t,n)}}function Ow(t,e){return typeof t=="number"?t:t[e]||0}const zF=new WeakMap;class VF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hc(g).point)},a=(g,y)=>{const{drag:v,dragPropagation:b,onDragStart:_}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=J5(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(C=>{let N=this.getAxisMotionValue(C).get()||0;if(Os.test(N)){const{projection:P}=this.visualElement;if(P&&P.layout){const A=P.layout.layoutBox[C];A&&(N=ln(A)*(parseFloat(N)/100))}}this.originPoint[C]=N}),_&&rt.postRender(()=>_(g,y)),dg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:_,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=y;if(b&&this.currentDirection===null){this.currentDirection=BF(C),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),S&&S(g,y)},u=(g,y)=>this.stop(g,y),h=()=>qn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new mk(e,{onSessionStart:i,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:pk(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&rt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Md(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=RF(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;e&&la(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=DF(s.layoutBox,e):this.constraints=!1,this.elastic=FF(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&qn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=IF(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!la(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=PF(s,r.root,this.visualElement.getTransformPagePoint());let a=OF(r.layout.layoutBox,i);if(n){const c=n(bF(a));this.hasMutatedConstraints=!!c,c&&(a=lk(c))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=qn(p=>{if(!Md(p,n,this.currentDirection))return;let g=u&&u[p]||{};a&&(g={min:0,max:0});const y=r?200:1e6,v=r?40:1e7,b={type:"inertia",velocity:s?e[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(p,b)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return dg(this.visualElement,e),s.start(X0(e,s,0,n,this.visualElement,!1))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){qn(n=>{const{drag:s}=this.getProps();if(!Md(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:c}=r.layout.layoutBox[n];i.set(e[n]-ct(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!la(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};qn(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();r[a]=LF({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),qn(a=>{if(!Md(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:h}=this.constraints[a];c.set(ct(u,h,r[a]))})}addListeners(){if(!this.visualElement.current)return;zF.set(this.visualElement,this);const e=this.visualElement.current,n=ic(e,"pointerdown",u=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();la(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),rt.read(s);const a=jc(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(qn(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=mg,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:c}}}function Md(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class UF extends xi{constructor(e){super(e),this.removeGroupControls=Qn,this.removeListeners=Qn,this.controls=new VF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lw=t=>(e,n)=>{t&&rt.postRender(()=>t(e,n))};class $F extends xi{constructor(){super(...arguments),this.removePointerDownListener=Qn}onPointerDown(e){this.session=new mk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Lw(e),onStart:Lw(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&rt.postRender(()=>r(i,a))}}}mount(){this.removePointerDownListener=ic(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Iw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $l={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=Iw(t,e.target.x),s=Iw(t,e.target.y);return`${n}% ${s}%`}},HF={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=mi.parse(t);if(r.length>5)return s;const i=mi.createTransformer(t),a=typeof r[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;r[0+a]/=c,r[1+a]/=u;const h=ct(c,u,.5);return typeof r[2+a]=="number"&&(r[2+a]/=h),typeof r[3+a]=="number"&&(r[3+a]/=h),i(r)}};let Fw=!1;class WF extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;PI(qF),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),Fw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),qd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:a}=s;return a&&(a.isPresent=i,Fw=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||rt.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),F0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yk(t){const[e,n]=HC(),s=k.useContext(m0);return f.jsx(WF,{...t,layoutGroup:s,switchLayoutGroup:k.useContext(XC),isPresent:e,safeToRemove:n})}const qF={borderRadius:{...$l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$l,borderTopRightRadius:$l,borderBottomLeftRadius:$l,borderBottomRightRadius:$l,boxShadow:HF};function YF(t,e,n){const s=Zt(t)?t:Ea(t);return s.start(X0("",s,e,n)),s.animation}const KF=(t,e)=>t.depth-e.depth;class XF{constructor(){this.children=[],this.isDirty=!1}add(e){x0(this.children,e),this.isDirty=!0}remove(e){v0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KF),this.isDirty=!1,this.children.forEach(e)}}function QF(t,e){const n=Cn.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(pi(s),t(i-e))};return rt.setup(s,!0),()=>pi(s)}const xk=["TopLeft","TopRight","BottomLeft","BottomRight"],GF=xk.length,zw=t=>typeof t=="string"?parseFloat(t):t,Vw=t=>typeof t=="number"||Pe.test(t);function ZF(t,e,n,s,r,i){r?(t.opacity=ct(0,n.opacity??1,JF(s)),t.opacityExit=ct(e.opacity??1,0,e8(s))):i&&(t.opacity=ct(e.opacity??1,n.opacity??1,s));for(let a=0;a<GF;a++){const c=`border${xk[a]}Radius`;let u=Bw(e,c),h=Bw(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||Vw(u)===Vw(h)?(t[c]=Math.max(ct(zw(u),zw(h),s),0),(Os.test(h)||Os.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=ct(e.rotate||0,n.rotate||0,s))}function Bw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const JF=vk(0,.5,dC),e8=vk(.5,.95,Qn);function vk(t,e,n){return s=>s<t?0:s>e?1:n(bc(t,e,s))}function Uw(t,e){t.min=e.min,t.max=e.max}function Wn(t,e){Uw(t.x,e.x),Uw(t.y,e.y)}function $w(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Hw(t,e,n,s,r){return t-=e,t=hh(t,1/n,s),r!==void 0&&(t=hh(t,1/r,s)),t}function t8(t,e=0,n=1,s=.5,r,i=t,a=t){if(Os.test(e)&&(e=parseFloat(e),e=ct(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=ct(i.min,i.max,s);t===i&&(c-=e),t.min=Hw(t.min,e,n,c,r),t.max=Hw(t.max,e,n,c,r)}function Ww(t,e,[n,s,r],i,a){t8(t,e[n],e[s],e[r],e.scale,i,a)}const n8=["x","scaleX","originX"],s8=["y","scaleY","originY"];function qw(t,e,n,s){Ww(t.x,e,n8,n?n.x:void 0,s?s.x:void 0),Ww(t.y,e,s8,n?n.y:void 0,s?s.y:void 0)}function Yw(t){return t.translate===0&&t.scale===1}function bk(t){return Yw(t.x)&&Yw(t.y)}function Kw(t,e){return t.min===e.min&&t.max===e.max}function r8(t,e){return Kw(t.x,e.x)&&Kw(t.y,e.y)}function Xw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function wk(t,e){return Xw(t.x,e.x)&&Xw(t.y,e.y)}function Qw(t){return ln(t.x)/ln(t.y)}function Gw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class i8{constructor(){this.members=[]}add(e){x0(this.members,e),e.scheduleRender()}remove(e){if(v0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function o8(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((r||i||a)&&(s=`translate3d(${r}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:y,skewX:v,skewY:b}=n;h&&(s=`perspective(${h}px) ${s}`),p&&(s+=`rotate(${p}deg) `),g&&(s+=`rotateX(${g}deg) `),y&&(s+=`rotateY(${y}deg) `),v&&(s+=`skewX(${v}deg) `),b&&(s+=`skewY(${b}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(s+=`scale(${c}, ${u})`),s||"none"}const pm=["","X","Y","Z"],a8=1e3;let l8=0;function mm(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Sk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=rk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rt,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Sk(s)}function _k({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},c=e==null?void 0:e()){this.id=l8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(d8),this.nodes.forEach(m8),this.nodes.forEach(g8),this.nodes.forEach(h8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new XF)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new S0),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=$C(a)&&!iI(a),this.instance=a;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let p,g=0;const y=()=>this.root.updateBlockedByResize=!1;rt.read(()=>{g=window.innerWidth}),t(a,()=>{const v=window.innerWidth;v!==g&&(g=v,this.root.updateBlockedByResize=!0,p&&p(),p=QF(y,250),qd.hasAnimatedSinceResize&&(qd.hasAnimatedSinceResize=!1,this.nodes.forEach(e2)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||w8,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=h.getProps(),C=!this.targetLayout||!wk(this.targetLayout,v),N=!g&&y;if(this.options.layoutRoot||this.resumeFrom||N||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...L0(b,"layout"),onPlay:_,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(p,N)}else g||e2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(y8),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Sk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Jw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(p8),this.nodes.forEach(c8),this.nodes.forEach(u8)):this.nodes.forEach(Jw),this.clearAllSnapshots();const c=Cn.now();Ft.delta=pr(0,1e3/60,c-Ft.timestamp),Ft.timestamp=c,Ft.isProcessing=!0,im.update.process(Ft),im.preRender.process(Ft),im.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,F0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(f8),this.sharedNodes.forEach(x8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!bk(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;a&&this.instance&&(c||Wi(this.latestValues)||p)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),S8(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:a}=this.options;if(!a)return St();const c=a.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(_8))){const{scroll:p}=this.root;p&&(ua(c.x,p.offset.x),ua(c.y,p.offset.y))}return c}removeElementScroll(a){var u;const c=St();if(Wn(c,a),(u=this.scroll)!=null&&u.wasRoot)return c;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Wn(c,a),ua(c.x,g.offset.x),ua(c.y,g.offset.y))}return c}applyTransform(a,c=!1){const u=St();Wn(u,a);for(let h=0;h<this.path.length;h++){const p=this.path[h];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&da(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Wi(p.latestValues)&&da(u,p.latestValues)}return Wi(this.latestValues)&&da(u,this.latestValues),u}removeTransform(a){const c=St();Wn(c,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Wi(h.latestValues))continue;fg(h.latestValues)&&h.updateSnapshot();const p=St(),g=h.measurePageBox();Wn(p,g),qw(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Wi(this.latestValues)&&qw(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var y;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),ac(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),hk(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),ac(this.relativeTargetOrigin,this.target,v.target),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fg(this.parent.latestValues)||dk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(u=!1),u)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Wn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;TF(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=St());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($w(this.prevProjectionDelta.x,this.projectionDelta.x),$w(this.prevProjectionDelta.y,this.projectionDelta.y)),oc(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!Gw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ca(),this.projectionDelta=ca(),this.projectionDeltaWithTransform=ca()}setAnimationOrigin(a,c=!1){const u=this.snapshot,h=u?u.latestValues:{},p={...this.latestValues},g=ca();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=St(),v=u?u.source:void 0,b=this.layout?this.layout.source:void 0,_=v!==b,S=this.getStack(),C=!S||S.members.length<=1,N=!!(_&&!C&&this.options.crossfade===!0&&!this.path.some(b8));this.animationProgress=0;let P;this.mixTargetDelta=A=>{const M=A/1e3;t2(g.x,a.x,M),t2(g.y,a.y,M),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ac(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v8(this.relativeTarget,this.relativeTargetOrigin,y,M),P&&r8(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=St()),Wn(P,this.relativeTarget)),_&&(this.animationValues=p,ZF(p,h,this.latestValues,M,N,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var c,u,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||h.stop(),this.pendingAnimation&&(pi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{qd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ea(0)),this.currentAnimation=YF(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),a.onUpdate&&a.onUpdate(p)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(a8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:p}=a;if(!(!c||!u||!h)){if(this!==a&&this.layout&&h&&Ck(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||St();const g=ln(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+g;const y=ln(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+y}Wn(c,u),da(c,p),oc(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new i8),this.sharedNodes.get(a).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var c;const{layoutId:a}=this.options;return a?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:a}=this.options;return a?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&mm("z",a,h,this.animationValues);for(let p=0;p<pm.length;p++)mm(`rotate${pm[p]}`,a,h,this.animationValues),mm(`skew${pm[p]}`,a,h,this.animationValues);a.render();for(const p in h)a.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Wd(c==null?void 0:c.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Wd(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Wi(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=o8(this.projectionDeltaWithTransform,this.treeScale,p);u&&(g=u(p,g)),a.transform=g;const{x:y,y:v}=this.projectionDelta;a.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,h.animationValues?a.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:a.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in Cc){if(p[b]===void 0)continue;const{correct:_,applyTo:S,isCSSVariable:C}=Cc[b],N=g==="none"?p[b]:_(p[b],h);if(S){const P=S.length;for(let A=0;A<P;A++)a[S[A]]=N}else C?this.options.visualElement.renderState.vars[b]=N:a[b]=N}this.options.layoutId&&(a.pointerEvents=h===this?Wd(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Zw),this.root.sharedNodes.clear()}}}function c8(t){t.updateLayout()}function u8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?qn(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],v=ln(y);y.min=s[g].min,y.max=y.min+v}):Ck(i,e.layoutBox,s)&&qn(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],v=ln(s[g]);y.max=y.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const c=ca();oc(c,s,e.layoutBox);const u=ca();a?oc(u,t.applyTransform(r,!0),e.measuredBox):oc(u,s,e.layoutBox);const h=!bk(c);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:v}=g;if(y&&v){const b=St();ac(b,e.layoutBox,y.layoutBox);const _=St();ac(_,s,v.layoutBox),wk(b,_)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=b,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function d8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function h8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function f8(t){t.clearSnapshot()}function Zw(t){t.clearMeasurements()}function Jw(t){t.isLayoutDirty=!1}function p8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function e2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function m8(t){t.resolveTargetDelta()}function g8(t){t.calcProjection()}function y8(t){t.resetSkewAndRotation()}function x8(t){t.removeLeadSnapshot()}function t2(t,e,n){t.translate=ct(e.translate,0,n),t.scale=ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function n2(t,e,n,s){t.min=ct(e.min,n.min,s),t.max=ct(e.max,n.max,s)}function v8(t,e,n,s){n2(t.x,e.x,n.x,s),n2(t.y,e.y,n.y,s)}function b8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const w8={duration:.45,ease:[.4,0,.1,1]},s2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),r2=s2("applewebkit/")&&!s2("chrome/")?Math.round:Qn;function i2(t){t.min=r2(t.min),t.max=r2(t.max)}function S8(t){i2(t.x),i2(t.y)}function Ck(t,e,n){return t==="position"||t==="preserve-aspect"&&!jF(Qw(e),Qw(n),.2)}function _8(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const C8=_k({attachResizeListener:(t,e)=>jc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gm={current:void 0},kk=_k({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gm.current){const t=new C8({});t.mount(window),t.setOptions({layoutScroll:!0}),gm.current=t}return gm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),k8={pan:{Feature:$F},drag:{Feature:UF,ProjectionNode:kk,MeasureLayout:yk}};function o2(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&rt.postRender(()=>i(e,Hc(e)))}class j8 extends xi{mount(){const{current:e}=this.node;e&&(this.unmount=eI(e,(n,s)=>(o2(this.node,s,"Start"),r=>o2(this.node,r,"End"))))}unmount(){}}class N8 extends xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bc(jc(this.node.current,"focus",()=>this.onFocus()),jc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function a2(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&rt.postRender(()=>i(e,Hc(e)))}class T8 extends xi{mount(){const{current:e}=this.node;e&&(this.unmount=rI(e,(n,s)=>(a2(this.node,s,"Start"),(r,{success:i})=>a2(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gg=new WeakMap,ym=new WeakMap,P8=t=>{const e=gg.get(t.target);e&&e(t)},E8=t=>{t.forEach(P8)};function M8({root:t,...e}){const n=t||document;ym.has(n)||ym.set(n,{});const s=ym.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(E8,{root:t,...e})),s[r]}function A8(t,e,n){const s=M8(e);return gg.set(t,n),s.observe(t),()=>{gg.delete(t),s.unobserve(t)}}const R8={some:0,all:1};class D8 extends xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:R8[r]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=h?p:g;y&&y(u)};return A8(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(O8(e,n))&&this.startObserver()}unmount(){}}function O8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const L8={inView:{Feature:D8},tap:{Feature:T8},focus:{Feature:N8},hover:{Feature:j8}},I8={layout:{ProjectionNode:kk,MeasureLayout:yk}},yg={current:null},jk={current:!1};function F8(){if(jk.current=!0,!!y0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yg.current=t.matches;t.addEventListener("change",e),e()}else yg.current=!1}const z8=new WeakMap;function V8(t,e,n){for(const s in e){const r=e[s],i=n[s];if(Zt(r))t.addValue(s,r);else if(Zt(i))t.addValue(s,Ea(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(s);t.addValue(s,Ea(a!==void 0?a:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const l2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class B8{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=D0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Cn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,rt.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Oh(n),this.isVariantNode=YC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const v=g[y];u[y]!==void 0&&Zt(v)&&v.set(u[y],!1)}}mount(e){this.current=e,z8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),jk.current||F8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pi(this.notifyUpdate),pi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ba.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&rt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ma){const n=Ma[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<l2.length;s++){const r=l2[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,a=e[i];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=V8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ea(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(tC(s)||sC(s))?s=parseFloat(s):!aI(s)&&mi.test(n)&&(s=FC(e,n)),this.setBaseTarget(e,Zt(s)?s.get():s)),Zt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=Y0(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Zt(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new S0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Nk extends B8{constructor(){super(...arguments),this.KeyframeResolver=X5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Tk(t,{style:e,vars:n},s,r){const i=t.style;let a;for(a in e)i[a]=e[a];r==null||r.applyProjectionStyles(i,s);for(a in n)i.setProperty(a,n[a])}function U8(t){return window.getComputedStyle(t)}class $8 extends Nk{constructor(){super(...arguments),this.type="html",this.renderInstance=Tk}readValueFromInstance(e,n){var s;if(Ba.has(n))return(s=this.projection)!=null&&s.isProjecting?rg(n):p5(e,n);{const r=U8(e),i=(k0(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fk(e,n)}build(e,n,s){H0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return K0(e,n,s)}}const Pk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function H8(t,e,n,s){Tk(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(Pk.has(r)?r:$0(r),e.attrs[r])}class W8 extends Nk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=St}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ba.has(n)){const s=IC(n);return s&&s.default||0}return n=Pk.has(n)?n:$0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return sk(e,n,s)}build(e,n,s){JC(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){H8(e,n,s,r)}mount(e){this.isSVGTag=tk(e.tagName),super.mount(e)}}const q8=(t,e)=>q0(t)?new W8(e):new $8(e,{allowProjection:t!==k.Fragment}),Y8=qI({...xF,...L8,...k8,...I8},q8),lc=yI(Y8);function K8({activeTab:t,setActiveTab:e}){const n=[{id:"all",label:"All Complaints"},{id:"assigned",label:"My Assigned Complaints"},{id:"responses",label:"My Responses"}];return f.jsx("nav",{className:"flex items-center justify-start w-full mb-7","aria-label":"Complaint tabs",children:f.jsx("ul",{className:"flex gap-1.5 bg-[#22283b]/80 p-1 rounded-full shadow-md border border-blue-900/50 backdrop-blur-[2px] relative",children:n.map(s=>{const r=t===s.id;return f.jsx("li",{className:"relative",children:f.jsxs("button",{type:"button",onClick:()=>e(s.id),className:`
                  relative px-4 py-1.5 rounded-full font-semibold text-[15px]
                  transition-all duration-300 ease-[cubic-bezier(.4,0,.2,1)]
                  focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/80
                  ${r?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-[0_1px_10px_0_rgba(0,175,255,0.20)]":"text-blue-100/80 hover:text-white hover:bg-blue-900/30 hover:shadow-[0_2px_6px_0_rgba(40,80,220,0.10)]"}
                `,"aria-current":r?"page":void 0,children:[s.label,r&&f.jsx(lc.span,{layoutId:"underline",className:`\r
                      absolute left-1/2 -bottom-1 -translate-x-1/2\r
                      h-0.5 w-4/5 rounded-full\r
                      bg-gradient-to-r from-cyan-400/80 via-blue-400 to-blue-600/70\r
                      shadow-[0_1px_8px_0_rgba(40,175,255,0.14)]\r
                    `,transition:{type:"spring",stiffness:500,damping:30}})]})},s.id)})})})}var Ua=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yo=typeof window>"u"||"Deno"in globalThis;function an(){}function X8(t,e){return typeof t=="function"?t(e):t}function xg(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ek(t,e){return Math.max(t+(e||0)-Date.now(),0)}function di(t,e){return typeof t=="function"?t(e):t}function ls(t,e){return typeof t=="function"?t(e):t}function c2(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:a,stale:c}=t;if(a){if(s){if(e.queryHash!==Q0(a,e.options))return!1}else if(!Nc(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||r&&r!==e.state.fetchStatus||i&&!i(e))}function u2(t,e){const{exact:n,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(xo(e.options.mutationKey)!==xo(i))return!1}else if(!Nc(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function Q0(t,e){return((e==null?void 0:e.queryKeyHashFn)||xo)(t)}function xo(t){return JSON.stringify(t,(e,n)=>vg(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Nc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Nc(t[n],e[n])):!1}function Mk(t,e){if(t===e)return t;const n=d2(t)&&d2(e);if(n||vg(t)&&vg(e)){const s=n?t:Object.keys(t),r=s.length,i=n?e:Object.keys(e),a=i.length,c=n?[]:{},u=new Set(s);let h=0;for(let p=0;p<a;p++){const g=n?p:i[p];(!n&&u.has(g)||n)&&t[g]===void 0&&e[g]===void 0?(c[g]=void 0,h++):(c[g]=Mk(t[g],e[g]),c[g]===t[g]&&t[g]!==void 0&&h++)}return r===a&&h===r?t:c}return e}function fh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function d2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function vg(t){if(!h2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!h2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function h2(t){return Object.prototype.toString.call(t)==="[object Object]"}function Q8(t){return new Promise(e=>{setTimeout(e,t)})}function bg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Mk(t,e):e}function G8(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function Z8(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var G0=Symbol();function Ak(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===G0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Rk(t,e){return typeof t=="function"?t(...e):!!t}var Qi,Gr,ma,S2,J8=(S2=class extends Ua{constructor(){super();_e(this,Qi);_e(this,Gr);_e(this,ma);fe(this,ma,e=>{if(!yo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){I(this,Gr)||this.setEventListener(I(this,ma))}onUnsubscribe(){var e;this.hasListeners()||((e=I(this,Gr))==null||e.call(this),fe(this,Gr,void 0))}setEventListener(e){var n;fe(this,ma,e),(n=I(this,Gr))==null||n.call(this),fe(this,Gr,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){I(this,Qi)!==e&&(fe(this,Qi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof I(this,Qi)=="boolean"?I(this,Qi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Qi=new WeakMap,Gr=new WeakMap,ma=new WeakMap,S2),Z0=new J8,ga,Zr,ya,_2,ez=(_2=class extends Ua{constructor(){super();_e(this,ga,!0);_e(this,Zr);_e(this,ya);fe(this,ya,e=>{if(!yo&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){I(this,Zr)||this.setEventListener(I(this,ya))}onUnsubscribe(){var e;this.hasListeners()||((e=I(this,Zr))==null||e.call(this),fe(this,Zr,void 0))}setEventListener(e){var n;fe(this,ya,e),(n=I(this,Zr))==null||n.call(this),fe(this,Zr,e(this.setOnline.bind(this)))}setOnline(e){I(this,ga)!==e&&(fe(this,ga,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return I(this,ga)}},ga=new WeakMap,Zr=new WeakMap,ya=new WeakMap,_2),ph=new ez;function wg(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}function tz(t){return Math.min(1e3*2**t,3e4)}function Dk(t){return(t??"online")==="online"?ph.isOnline():!0}var Ok=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function xm(t){return t instanceof Ok}function Lk(t){let e=!1,n=0,s=!1,r;const i=wg(),a=_=>{var S;s||(y(new Ok(_)),(S=t.abort)==null||S.call(t))},c=()=>{e=!0},u=()=>{e=!1},h=()=>Z0.isFocused()&&(t.networkMode==="always"||ph.isOnline())&&t.canRun(),p=()=>Dk(t.networkMode)&&t.canRun(),g=_=>{var S;s||(s=!0,(S=t.onSuccess)==null||S.call(t,_),r==null||r(),i.resolve(_))},y=_=>{var S;s||(s=!0,(S=t.onError)==null||S.call(t,_),r==null||r(),i.reject(_))},v=()=>new Promise(_=>{var S;r=C=>{(s||h())&&_(C)},(S=t.onPause)==null||S.call(t)}).then(()=>{var _;r=void 0,s||(_=t.onContinue)==null||_.call(t)}),b=()=>{if(s)return;let _;const S=n===0?t.initialPromise:void 0;try{_=S??t.fn()}catch(C){_=Promise.reject(C)}Promise.resolve(_).then(g).catch(C=>{var R;if(s)return;const N=t.retry??(yo?0:3),P=t.retryDelay??tz,A=typeof P=="function"?P(n,C):P,M=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,C);if(e||!M){y(C);return}n++,(R=t.onFail)==null||R.call(t,n,C),Q8(A).then(()=>h()?void 0:v()).then(()=>{e?y(C):b()})})};return{promise:i,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?b():v().then(b),i)}}var nz=t=>setTimeout(t,0);function sz(){let t=[],e=0,n=c=>{c()},s=c=>{c()},r=nz;const i=c=>{e?t.push(c):r(()=>{n(c)})},a=()=>{const c=t;t=[],c.length&&r(()=>{s(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||a()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{r=c}}}var Mt=sz(),Gi,C2,Ik=(C2=class{constructor(){_e(this,Gi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xg(this.gcTime)&&fe(this,Gi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(yo?1/0:5*60*1e3))}clearGcTimeout(){I(this,Gi)&&(clearTimeout(I(this,Gi)),fe(this,Gi,void 0))}},Gi=new WeakMap,C2),xa,Zi,Yn,Ji,Yt,Tc,eo,os,nr,k2,rz=(k2=class extends Ik{constructor(e){super();_e(this,os);_e(this,xa);_e(this,Zi);_e(this,Yn);_e(this,Ji);_e(this,Yt);_e(this,Tc);_e(this,eo);fe(this,eo,!1),fe(this,Tc,e.defaultOptions),this.setOptions(e.options),this.observers=[],fe(this,Ji,e.client),fe(this,Yn,I(this,Ji).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,fe(this,xa,iz(this.options)),this.state=e.state??I(this,xa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=I(this,Yt))==null?void 0:e.promise}setOptions(e){this.options={...I(this,Tc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,Yn).remove(this)}setData(e,n){const s=bg(this.state.data,e,this.options);return ze(this,os,nr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(e,n){ze(this,os,nr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var s,r;const n=(s=I(this,Yt))==null?void 0:s.promise;return(r=I(this,Yt))==null||r.cancel(e),n?n.then(an).catch(an):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,xa))}isActive(){return this.observers.some(e=>ls(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===G0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>di(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Ek(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=I(this,Yt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=I(this,Yt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),I(this,Yn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(I(this,Yt)&&(I(this,eo)?I(this,Yt).cancel({revert:!0}):I(this,Yt).cancelRetry()),this.scheduleGc()),I(this,Yn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ze(this,os,nr).call(this,{type:"invalidate"})}fetch(e,n){var h,p,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(I(this,Yt))return I(this,Yt).continueRetry(),I(this,Yt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(v=>v.options.queryFn);y&&this.setOptions(y.options)}const s=new AbortController,r=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(fe(this,eo,!0),s.signal)})},i=()=>{const y=Ak(this.options,n),b=(()=>{const _={client:I(this,Ji),queryKey:this.queryKey,meta:this.meta};return r(_),_})();return fe(this,eo,!1),this.options.persister?this.options.persister(y,b,this):y(b)},c=(()=>{const y={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:I(this,Ji),state:this.state,fetchFn:i};return r(y),y})();(h=this.options.behavior)==null||h.onFetch(c,this),fe(this,Zi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&ze(this,os,nr).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta});const u=y=>{var v,b,_,S;xm(y)&&y.silent||ze(this,os,nr).call(this,{type:"error",error:y}),xm(y)||((b=(v=I(this,Yn).config).onError)==null||b.call(v,y,this),(S=(_=I(this,Yn).config).onSettled)==null||S.call(_,this.state.data,y,this)),this.scheduleGc()};return fe(this,Yt,Lk({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:y=>{var v,b,_,S;if(y===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(C){u(C);return}(b=(v=I(this,Yn).config).onSuccess)==null||b.call(v,y,this),(S=(_=I(this,Yn).config).onSettled)==null||S.call(_,y,this.state.error,this),this.scheduleGc()},onError:u,onFail:(y,v)=>{ze(this,os,nr).call(this,{type:"failed",failureCount:y,error:v})},onPause:()=>{ze(this,os,nr).call(this,{type:"pause"})},onContinue:()=>{ze(this,os,nr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),I(this,Yt).start()}},xa=new WeakMap,Zi=new WeakMap,Yn=new WeakMap,Ji=new WeakMap,Yt=new WeakMap,Tc=new WeakMap,eo=new WeakMap,os=new WeakSet,nr=function(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Fk(s.data,this.options),fetchMeta:e.meta??null};case"success":return fe(this,Zi,void 0),{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return xm(r)&&r.revert&&I(this,Zi)?{...I(this,Zi),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),Mt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),I(this,Yn).notify({query:this,type:"updated",action:e})})},k2);function Fk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Dk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function iz(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ns,j2,oz=(j2=class extends Ua{constructor(e={}){super();_e(this,Ns);this.config=e,fe(this,Ns,new Map)}build(e,n,s){const r=n.queryKey,i=n.queryHash??Q0(r,n);let a=this.get(i);return a||(a=new rz({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){I(this,Ns).has(e.queryHash)||(I(this,Ns).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=I(this,Ns).get(e.queryHash);n&&(e.destroy(),n===e&&I(this,Ns).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return I(this,Ns).get(e)}getAll(){return[...I(this,Ns).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>c2(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>c2(e,s)):n}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ns=new WeakMap,j2),Ts,rn,to,Ps,Xr,N2,az=(N2=class extends Ik{constructor(e){super();_e(this,Ps);_e(this,Ts);_e(this,rn);_e(this,to);this.mutationId=e.mutationId,fe(this,rn,e.mutationCache),fe(this,Ts,[]),this.state=e.state||zk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){I(this,Ts).includes(e)||(I(this,Ts).push(e),this.clearGcTimeout(),I(this,rn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){fe(this,Ts,I(this,Ts).filter(n=>n!==e)),this.scheduleGc(),I(this,rn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){I(this,Ts).length||(this.state.status==="pending"?this.scheduleGc():I(this,rn).remove(this))}continue(){var e;return((e=I(this,to))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,c,u,h,p,g,y,v,b,_,S,C,N,P,A,M,R,z,B;const n=()=>{ze(this,Ps,Xr).call(this,{type:"continue"})};fe(this,to,Lk({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(V,$)=>{ze(this,Ps,Xr).call(this,{type:"failed",failureCount:V,error:$})},onPause:()=>{ze(this,Ps,Xr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,rn).canRun(this)}));const s=this.state.status==="pending",r=!I(this,to).canStart();try{if(s)n();else{ze(this,Ps,Xr).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=I(this,rn).config).onMutate)==null?void 0:a.call(i,e,this));const $=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,e));$!==this.state.context&&ze(this,Ps,Xr).call(this,{type:"pending",context:$,variables:e,isPaused:r})}const V=await I(this,to).start();return await((p=(h=I(this,rn).config).onSuccess)==null?void 0:p.call(h,V,e,this.state.context,this)),await((y=(g=this.options).onSuccess)==null?void 0:y.call(g,V,e,this.state.context)),await((b=(v=I(this,rn).config).onSettled)==null?void 0:b.call(v,V,null,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,V,null,e,this.state.context)),ze(this,Ps,Xr).call(this,{type:"success",data:V}),V}catch(V){try{throw await((N=(C=I(this,rn).config).onError)==null?void 0:N.call(C,V,e,this.state.context,this)),await((A=(P=this.options).onError)==null?void 0:A.call(P,V,e,this.state.context)),await((R=(M=I(this,rn).config).onSettled)==null?void 0:R.call(M,void 0,V,this.state.variables,this.state.context,this)),await((B=(z=this.options).onSettled)==null?void 0:B.call(z,void 0,V,e,this.state.context)),V}finally{ze(this,Ps,Xr).call(this,{type:"error",error:V})}}finally{I(this,rn).runNext(this)}}},Ts=new WeakMap,rn=new WeakMap,to=new WeakMap,Ps=new WeakSet,Xr=function(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Mt.batch(()=>{I(this,Ts).forEach(s=>{s.onMutationUpdate(e)}),I(this,rn).notify({mutation:this,type:"updated",action:e})})},N2);function zk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rr,as,Pc,T2,lz=(T2=class extends Ua{constructor(e={}){super();_e(this,rr);_e(this,as);_e(this,Pc);this.config=e,fe(this,rr,new Set),fe(this,as,new Map),fe(this,Pc,0)}build(e,n,s){const r=new az({mutationCache:this,mutationId:++rd(this,Pc)._,options:e.defaultMutationOptions(n),state:s});return this.add(r),r}add(e){I(this,rr).add(e);const n=Ad(e);if(typeof n=="string"){const s=I(this,as).get(n);s?s.push(e):I(this,as).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(I(this,rr).delete(e)){const n=Ad(e);if(typeof n=="string"){const s=I(this,as).get(n);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&I(this,as).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ad(e);if(typeof n=="string"){const s=I(this,as).get(n),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const n=Ad(e);if(typeof n=="string"){const r=(s=I(this,as).get(n))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Mt.batch(()=>{I(this,rr).forEach(e=>{this.notify({type:"removed",mutation:e})}),I(this,rr).clear(),I(this,as).clear()})}getAll(){return Array.from(I(this,rr))}find(e){const n={exact:!0,...e};return this.getAll().find(s=>u2(n,s))}findAll(e={}){return this.getAll().filter(n=>u2(e,n))}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Mt.batch(()=>Promise.all(e.map(n=>n.continue().catch(an))))}},rr=new WeakMap,as=new WeakMap,Pc=new WeakMap,T2);function Ad(t){var e;return(e=t.options.scope)==null?void 0:e.id}function f2(t){return{onFetch:(e,n)=>{var p,g,y,v,b;const s=e.options,r=(y=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:y.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],a=((b=e.state.data)==null?void 0:b.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let _=!1;const S=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},C=Ak(e.options,e.fetchOptions),N=async(P,A,M)=>{if(_)return Promise.reject();if(A==null&&P.pages.length)return Promise.resolve(P);const z=(()=>{const G={client:e.client,queryKey:e.queryKey,pageParam:A,direction:M?"backward":"forward",meta:e.options.meta};return S(G),G})(),B=await C(z),{maxPages:V}=e.options,$=M?Z8:G8;return{pages:$(P.pages,B,V),pageParams:$(P.pageParams,A,V)}};if(r&&i.length){const P=r==="backward",A=P?cz:p2,M={pages:i,pageParams:a},R=A(s,M);c=await N(M,R,P)}else{const P=t??i.length;do{const A=u===0?a[0]??s.initialPageParam:p2(s,c);if(u>0&&A==null)break;c=await N(c,A),u++}while(u<P)}return c};e.options.persister?e.fetchFn=()=>{var _,S;return(S=(_=e.options).persister)==null?void 0:S.call(_,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function p2(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function cz(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var ft,Jr,ei,va,ba,ti,wa,Sa,P2,uz=(P2=class{constructor(t={}){_e(this,ft);_e(this,Jr);_e(this,ei);_e(this,va);_e(this,ba);_e(this,ti);_e(this,wa);_e(this,Sa);fe(this,ft,t.queryCache||new oz),fe(this,Jr,t.mutationCache||new lz),fe(this,ei,t.defaultOptions||{}),fe(this,va,new Map),fe(this,ba,new Map),fe(this,ti,0)}mount(){rd(this,ti)._++,I(this,ti)===1&&(fe(this,wa,Z0.subscribe(async t=>{t&&(await this.resumePausedMutations(),I(this,ft).onFocus())})),fe(this,Sa,ph.subscribe(async t=>{t&&(await this.resumePausedMutations(),I(this,ft).onOnline())})))}unmount(){var t,e;rd(this,ti)._--,I(this,ti)===0&&((t=I(this,wa))==null||t.call(this),fe(this,wa,void 0),(e=I(this,Sa))==null||e.call(this),fe(this,Sa,void 0))}isFetching(t){return I(this,ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return I(this,Jr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=I(this,ft).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=I(this,ft).build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(di(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return I(this,ft).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),r=I(this,ft).get(s.queryHash),i=r==null?void 0:r.state.data,a=X8(e,i);if(a!==void 0)return I(this,ft).build(this,s).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Mt.batch(()=>I(this,ft).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=I(this,ft).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=I(this,ft);Mt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=I(this,ft);return Mt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=Mt.batch(()=>I(this,ft).findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(an).catch(an)}invalidateQueries(t,e={}){return Mt.batch(()=>(I(this,ft).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=Mt.batch(()=>I(this,ft).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(an)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(an)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=I(this,ft).build(this,e);return n.isStaleByTime(di(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(an).catch(an)}fetchInfiniteQuery(t){return t.behavior=f2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(an).catch(an)}ensureInfiniteQueryData(t){return t.behavior=f2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ph.isOnline()?I(this,Jr).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,ft)}getMutationCache(){return I(this,Jr)}getDefaultOptions(){return I(this,ei)}setDefaultOptions(t){fe(this,ei,t)}setQueryDefaults(t,e){I(this,va).set(xo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...I(this,va).values()],n={};return e.forEach(s=>{Nc(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){I(this,ba).set(xo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...I(this,ba).values()],n={};return e.forEach(s=>{Nc(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...I(this,ei).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Q0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===G0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...I(this,ei).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){I(this,ft).clear(),I(this,Jr).clear()}},ft=new WeakMap,Jr=new WeakMap,ei=new WeakMap,va=new WeakMap,ba=new WeakMap,ti=new WeakMap,wa=new WeakMap,Sa=new WeakMap,P2),bn,He,Ec,on,no,_a,ni,si,Mc,Ca,ka,so,ro,ri,ja,Xe,Kl,Sg,_g,Cg,kg,jg,Ng,Tg,Vk,E2,dz=(E2=class extends Ua{constructor(e,n){super();_e(this,Xe);_e(this,bn);_e(this,He);_e(this,Ec);_e(this,on);_e(this,no);_e(this,_a);_e(this,ni);_e(this,si);_e(this,Mc);_e(this,Ca);_e(this,ka);_e(this,so);_e(this,ro);_e(this,ri);_e(this,ja,new Set);this.options=n,fe(this,bn,e),fe(this,si,null),fe(this,ni,wg()),this.options.experimental_prefetchInRender||I(this,ni).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(I(this,He).addObserver(this),m2(I(this,He),this.options)?ze(this,Xe,Kl).call(this):this.updateResult(),ze(this,Xe,kg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Pg(I(this,He),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Pg(I(this,He),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ze(this,Xe,jg).call(this),ze(this,Xe,Ng).call(this),I(this,He).removeObserver(this)}setOptions(e){const n=this.options,s=I(this,He);if(this.options=I(this,bn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ls(this.options.enabled,I(this,He))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ze(this,Xe,Tg).call(this),I(this,He).setOptions(this.options),n._defaulted&&!fh(this.options,n)&&I(this,bn).getQueryCache().notify({type:"observerOptionsUpdated",query:I(this,He),observer:this});const r=this.hasListeners();r&&g2(I(this,He),s,this.options,n)&&ze(this,Xe,Kl).call(this),this.updateResult(),r&&(I(this,He)!==s||ls(this.options.enabled,I(this,He))!==ls(n.enabled,I(this,He))||di(this.options.staleTime,I(this,He))!==di(n.staleTime,I(this,He)))&&ze(this,Xe,Sg).call(this);const i=ze(this,Xe,_g).call(this);r&&(I(this,He)!==s||ls(this.options.enabled,I(this,He))!==ls(n.enabled,I(this,He))||i!==I(this,ri))&&ze(this,Xe,Cg).call(this,i)}getOptimisticResult(e){const n=I(this,bn).getQueryCache().build(I(this,bn),e),s=this.createResult(n,e);return fz(this,s)&&(fe(this,on,s),fe(this,_a,this.options),fe(this,no,I(this,He).state)),s}getCurrentResult(){return I(this,on)}trackResult(e,n){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),n==null||n(r),Reflect.get(s,r))})}trackProp(e){I(this,ja).add(e)}getCurrentQuery(){return I(this,He)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=I(this,bn).defaultQueryOptions(e),s=I(this,bn).getQueryCache().build(I(this,bn),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(e){return ze(this,Xe,Kl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),I(this,on)))}createResult(e,n){var V;const s=I(this,He),r=this.options,i=I(this,on),a=I(this,no),c=I(this,_a),h=e!==s?e.state:I(this,Ec),{state:p}=e;let g={...p},y=!1,v;if(n._optimisticResults){const $=this.hasListeners(),G=!$&&m2(e,n),ne=$&&g2(e,s,n,r);(G||ne)&&(g={...g,...Fk(p.data,e.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:b,errorUpdatedAt:_,status:S}=g;v=g.data;let C=!1;if(n.placeholderData!==void 0&&v===void 0&&S==="pending"){let $;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?($=i.data,C=!0):$=typeof n.placeholderData=="function"?n.placeholderData((V=I(this,ka))==null?void 0:V.state.data,I(this,ka)):n.placeholderData,$!==void 0&&(S="success",v=bg(i==null?void 0:i.data,$,n),y=!0)}if(n.select&&v!==void 0&&!C)if(i&&v===(a==null?void 0:a.data)&&n.select===I(this,Mc))v=I(this,Ca);else try{fe(this,Mc,n.select),v=n.select(v),v=bg(i==null?void 0:i.data,v,n),fe(this,Ca,v),fe(this,si,null)}catch($){fe(this,si,$)}I(this,si)&&(b=I(this,si),v=I(this,Ca),_=Date.now(),S="error");const N=g.fetchStatus==="fetching",P=S==="pending",A=S==="error",M=P&&N,R=v!==void 0,B={status:S,fetchStatus:g.fetchStatus,isPending:P,isSuccess:S==="success",isError:A,isInitialLoading:M,isLoading:M,data:v,dataUpdatedAt:g.dataUpdatedAt,error:b,errorUpdatedAt:_,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:N,isRefetching:N&&!P,isLoadingError:A&&!R,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:A&&R,isStale:J0(e,n),refetch:this.refetch,promise:I(this,ni)};if(this.options.experimental_prefetchInRender){const $=ue=>{B.status==="error"?ue.reject(B.error):B.data!==void 0&&ue.resolve(B.data)},G=()=>{const ue=fe(this,ni,B.promise=wg());$(ue)},ne=I(this,ni);switch(ne.status){case"pending":e.queryHash===s.queryHash&&$(ne);break;case"fulfilled":(B.status==="error"||B.data!==ne.value)&&G();break;case"rejected":(B.status!=="error"||B.error!==ne.reason)&&G();break}}return B}updateResult(){const e=I(this,on),n=this.createResult(I(this,He),this.options);if(fe(this,no,I(this,He).state),fe(this,_a,this.options),I(this,no).data!==void 0&&fe(this,ka,I(this,He)),fh(n,e))return;fe(this,on,n);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!I(this,ja).size)return!0;const a=new Set(i??I(this,ja));return this.options.throwOnError&&a.add("error"),Object.keys(I(this,on)).some(c=>{const u=c;return I(this,on)[u]!==e[u]&&a.has(u)})};ze(this,Xe,Vk).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ze(this,Xe,kg).call(this)}},bn=new WeakMap,He=new WeakMap,Ec=new WeakMap,on=new WeakMap,no=new WeakMap,_a=new WeakMap,ni=new WeakMap,si=new WeakMap,Mc=new WeakMap,Ca=new WeakMap,ka=new WeakMap,so=new WeakMap,ro=new WeakMap,ri=new WeakMap,ja=new WeakMap,Xe=new WeakSet,Kl=function(e){ze(this,Xe,Tg).call(this);let n=I(this,He).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(an)),n},Sg=function(){ze(this,Xe,jg).call(this);const e=di(this.options.staleTime,I(this,He));if(yo||I(this,on).isStale||!xg(e))return;const s=Ek(I(this,on).dataUpdatedAt,e)+1;fe(this,so,setTimeout(()=>{I(this,on).isStale||this.updateResult()},s))},_g=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(I(this,He)):this.options.refetchInterval)??!1},Cg=function(e){ze(this,Xe,Ng).call(this),fe(this,ri,e),!(yo||ls(this.options.enabled,I(this,He))===!1||!xg(I(this,ri))||I(this,ri)===0)&&fe(this,ro,setInterval(()=>{(this.options.refetchIntervalInBackground||Z0.isFocused())&&ze(this,Xe,Kl).call(this)},I(this,ri)))},kg=function(){ze(this,Xe,Sg).call(this),ze(this,Xe,Cg).call(this,ze(this,Xe,_g).call(this))},jg=function(){I(this,so)&&(clearTimeout(I(this,so)),fe(this,so,void 0))},Ng=function(){I(this,ro)&&(clearInterval(I(this,ro)),fe(this,ro,void 0))},Tg=function(){const e=I(this,bn).getQueryCache().build(I(this,bn),this.options);if(e===I(this,He))return;const n=I(this,He);fe(this,He,e),fe(this,Ec,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Vk=function(e){Mt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(I(this,on))}),I(this,bn).getQueryCache().notify({query:I(this,He),type:"observerResultsUpdated"})})},E2);function hz(t,e){return ls(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function m2(t,e){return hz(t,e)||t.state.data!==void 0&&Pg(t,e,e.refetchOnMount)}function Pg(t,e,n){if(ls(e.enabled,t)!==!1&&di(e.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&J0(t,e)}return!1}function g2(t,e,n,s){return(t!==e||ls(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&J0(t,n)}function J0(t,e){return ls(e.enabled,t)!==!1&&t.isStaleByTime(di(e.staleTime,t))}function fz(t,e){return!fh(t.getCurrentResult(),e)}var ii,oi,wn,ir,hr,Yd,Eg,M2,pz=(M2=class extends Ua{constructor(n,s){super();_e(this,hr);_e(this,ii);_e(this,oi);_e(this,wn);_e(this,ir);fe(this,ii,n),this.setOptions(s),this.bindMethods(),ze(this,hr,Yd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const s=this.options;this.options=I(this,ii).defaultMutationOptions(n),fh(this.options,s)||I(this,ii).getMutationCache().notify({type:"observerOptionsUpdated",mutation:I(this,wn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&xo(s.mutationKey)!==xo(this.options.mutationKey)?this.reset():((r=I(this,wn))==null?void 0:r.state.status)==="pending"&&I(this,wn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=I(this,wn))==null||n.removeObserver(this)}onMutationUpdate(n){ze(this,hr,Yd).call(this),ze(this,hr,Eg).call(this,n)}getCurrentResult(){return I(this,oi)}reset(){var n;(n=I(this,wn))==null||n.removeObserver(this),fe(this,wn,void 0),ze(this,hr,Yd).call(this),ze(this,hr,Eg).call(this)}mutate(n,s){var r;return fe(this,ir,s),(r=I(this,wn))==null||r.removeObserver(this),fe(this,wn,I(this,ii).getMutationCache().build(I(this,ii),this.options)),I(this,wn).addObserver(this),I(this,wn).execute(n)}},ii=new WeakMap,oi=new WeakMap,wn=new WeakMap,ir=new WeakMap,hr=new WeakSet,Yd=function(){var s;const n=((s=I(this,wn))==null?void 0:s.state)??zk();fe(this,oi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Eg=function(n){Mt.batch(()=>{var s,r,i,a,c,u,h,p;if(I(this,ir)&&this.hasListeners()){const g=I(this,oi).variables,y=I(this,oi).context;(n==null?void 0:n.type)==="success"?((r=(s=I(this,ir)).onSuccess)==null||r.call(s,n.data,g,y),(a=(i=I(this,ir)).onSettled)==null||a.call(i,n.data,null,g,y)):(n==null?void 0:n.type)==="error"&&((u=(c=I(this,ir)).onError)==null||u.call(c,n.error,g,y),(p=(h=I(this,ir)).onSettled)==null||p.call(h,void 0,n.error,g,y))}this.listeners.forEach(g=>{g(I(this,oi))})})},M2),Bk=k.createContext(void 0),$a=t=>{const e=k.useContext(Bk);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},mz=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(Bk.Provider,{value:t,children:e})),Uk=k.createContext(!1),gz=()=>k.useContext(Uk);Uk.Provider;function yz(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var xz=k.createContext(yz()),vz=()=>k.useContext(xz),bz=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},wz=t=>{k.useEffect(()=>{t.clearReset()},[t])},Sz=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(r&&t.data===void 0||Rk(n,[t.error,s])),_z=t=>{if(t.suspense){const e=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>e(n(...s)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Cz=(t,e)=>t.isLoading&&t.isFetching&&!e,kz=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,y2=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function jz(t,e,n){var g,y,v,b,_;const s=gz(),r=vz(),i=$a(),a=i.defaultQueryOptions(t);(y=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||y.call(g,a),a._optimisticResults=s?"isRestoring":"optimistic",_z(a),bz(a,r),wz(r);const c=!i.getQueryCache().get(a.queryHash),[u]=k.useState(()=>new e(i,a)),h=u.getOptimisticResult(a),p=!s&&t.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(S=>{const C=p?u.subscribe(Mt.batchCalls(S)):an;return u.updateResult(),C},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),k.useEffect(()=>{u.setOptions(a)},[a,u]),kz(a,h))throw y2(a,u,r);if(Sz({result:h,errorResetBoundary:r,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw h.error;if((b=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||b.call(v,a,h),a.experimental_prefetchInRender&&!yo&&Cz(h,s)){const S=c?y2(a,u,r):(_=i.getQueryCache().get(a.queryHash))==null?void 0:_.promise;S==null||S.catch(an).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?h:u.trackResult(h)}function ey(t,e){return jz(t,dz)}function Lh(t,e){const n=$a(),[s]=k.useState(()=>new pz(n,t));k.useEffect(()=>{s.setOptions(t)},[s,t]);const r=k.useSyncExternalStore(k.useCallback(a=>s.subscribe(Mt.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=k.useCallback((a,c)=>{s.mutate(a,c).catch(an)},[s]);if(r.error&&Rk(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}function ty(t={},e=1e3){return ey({queryKey:["complaints",t],queryFn:async()=>{const{data:n}=await ce.get("/admin/complaints",{params:t});return n},refetchInterval:e,staleTime:0,refetchOnWindowFocus:!0})}function Nz(t,e=5e3){return ey({queryKey:["complaint",t],queryFn:async()=>{const{data:n}=await ce.get(`/admin/complaints/${t}`);return n},enabled:!!t,refetchInterval:e,refetchOnWindowFocus:!0})}function Tz(){const t=$a();return Lh({mutationFn:async e=>{const{data:n}=await ce.patch(`/admin/complaints/${e}/assign`);return n},onSuccess:()=>{t.invalidateQueries(["complaints"])}})}function Pz(){const t=$a();return Lh({mutationFn:async e=>{const{data:n}=await ce.post("/admin/complaints",e);return n},onSuccess:()=>{t.invalidateQueries(["complaints"])}})}function Ez(t){const e=$a();return Lh({mutationFn:async n=>{await ce.post(`/admin/complaints/${t}/message`,{message:n})},onSuccess:()=>{e.invalidateQueries(["complaint",t])}})}function Mz(t,e=5e3){return ey({queryKey:["userComplaint",t],queryFn:async()=>{const{data:n}=await ce.get(`/complaints/${t}`);return n},enabled:!!t,refetchInterval:e,refetchOnWindowFocus:!0})}function Az(){const t=$a();return Lh({mutationFn:async({id:e,status:n})=>{const{data:s}=await ce.patch(`/admin/complaints/${e}/status`,{status:n});return s},onSuccess:(e,n)=>{t.invalidateQueries(["complaints"]),t.invalidateQueries(["complaint",n.id])}})}function $k({statusTab:t,setStatusTab:e,counts:n,statusTabs:s=["Open","Under Review","Resolved","Closed"]}){return f.jsx("ul",{className:"flex gap-1.5 bg-[#202a40]/70 p-1 rounded-full shadow border border-blue-900/30 mb-4",children:s.map(r=>{const i=t===r;return f.jsx("li",{className:"relative",children:f.jsxs("button",{type:"button",onClick:()=>e(r),className:`relative px-4 py-1 rounded-full font-semibold text-[14px]
                transition-all
                ${i?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow":"text-blue-100/80 hover:text-white hover:bg-blue-900/30"}
              `,"aria-current":i?"page":void 0,children:[r,f.jsx("span",{className:"ml-2 font-mono text-xs px-2 py-0.5 rounded-full bg-slate-900 text-cyan-200",children:n[r]??0}),i&&f.jsx(lc.span,{layoutId:"complaint-status-underline",className:"absolute left-1/2 -bottom-1 -translate-x-1/2 h-0.5 w-4/5 rounded-full bg-gradient-to-r from-cyan-400/80 via-blue-400 to-blue-600/70 shadow-[0_1px_8px_0_rgba(40,175,255,0.14)]",transition:{type:"spring",stiffness:500,damping:30}})]})},r)})})}function Rz({assignedTo:t,currentUserId:e}){return t?t._id===e?f.jsx("span",{className:"text-blue-300 font-semibold",children:"You"}):f.jsxs("span",{children:[t.firstName," ",t.lastName,t.email&&f.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["(",t.email,")"]})]}):f.jsx("span",{className:"text-gray-400",children:""})}function Dz({open:t,onClose:e,complaint:n}){var r;const{user:s}=Fs();return!t||!n?null:f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-slate-800 rounded-2xl p-7 max-w-lg w-full shadow-2xl text-white relative",children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white text-2xl","aria-label":"Close",children:""}),f.jsx("h2",{className:"text-2xl font-bold mb-1",children:n.subject}),f.jsxs("div",{className:"text-xs text-gray-400 mb-4",children:["#",n._id.slice(-6)]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Status:"})," ",f.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs
                ${n.status==="Open"?"bg-green-600":n.status==="Under Review"?"bg-yellow-600":n.status==="Resolved"?"bg-blue-600":"bg-gray-600"}`,children:n.status})]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Category:"})," ",n.category]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Channel:"})," ",n.channel]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Assigned To:"})," ",f.jsx(Rz,{assignedTo:n.assignedTo,currentUserId:s==null?void 0:s._id})]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Submitted:"})," ",(r=n.timeline)!=null&&r.submitted?new Date(n.timeline.submitted).toLocaleString():n.createdAt?new Date(n.createdAt).toLocaleString():"-"]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Description:"}),f.jsx("div",{className:"mt-1 bg-slate-700 rounded p-3 text-sm whitespace-pre-line",children:n.description})]})]})]})})}function Oz(t,e){var r,i,a;if(!t)return"-";if(((r=t._id)==null?void 0:r.toString())===(e==null?void 0:e.toString()))return"You";const n=(i=t.firstName)==null?void 0:i.trim(),s=(a=t.lastName)==null?void 0:a.trim();return n||s?`${n??""} ${s??""}`.trim():t.name?t.name:"-"}function Lz({tags:t}){return!t||t.length===0?f.jsx("span",{className:"text-gray-400",children:"-"}):f.jsx("div",{className:"flex flex-wrap gap-1",children:t.map((e,n)=>f.jsx("span",{className:"inline-block bg-blue-950 px-2 py-0.5 rounded text-xs text-blue-200",title:e,children:e.length>12?e.slice(0,12)+"":e},n))})}function Iz({isEscalated:t,feedback:e,notes:n,messages:s}){return f.jsxs("span",{className:"flex gap-1 items-center",children:[t&&f.jsx("span",{title:"Escalated",className:"text-red-400 font-bold",children:""}),e&&f.jsx("span",{title:`Feedback: ${e.rating||"-"}`,children:""}),Array.isArray(n)&&n.length>0&&f.jsx("span",{title:`${n.length} Notes`,className:"text-purple-400",children:""}),Array.isArray(s)&&s.length>0&&f.jsx("span",{title:`${s.length} Messages`,className:"text-blue-300",children:""})]})}function Fz({c:t,onAssign:e,assigning:n,assignError:s,onView:r,currentUserId:i}){var u,h;const a=Oz(t.assignedTo,i),c=!t.assignedTo&&typeof e=="function";return f.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-blue-950/60 transition group",children:[f.jsx("td",{className:"px-3 py-2 min-w-[60px] font-mono text-xs text-blue-400 truncate",children:t._id.slice(-6)}),f.jsx("td",{className:"px-3 py-2 max-w-[220px] truncate",title:t.subject,children:f.jsx("span",{className:"font-semibold text-slate-200",children:t.subject})}),f.jsx("td",{className:"px-3 py-2 text-center",children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold
            ${t.status==="Open"?"bg-green-700 text-green-100":t.status==="Under Review"?"bg-yellow-700 text-yellow-100":t.status==="Resolved"?"bg-blue-700 text-blue-100":"bg-slate-600 text-slate-100"}
          `,children:t.status})}),f.jsx("td",{className:"px-3 py-2 text-center",children:t.category||f.jsx("span",{className:"text-gray-400",children:"-"})}),f.jsx("td",{className:"px-3 py-2 capitalize text-center",children:t.channel||f.jsx("span",{className:"text-gray-400",children:"-"})}),f.jsx("td",{className:"px-3 py-2 max-w-[160px]",children:f.jsx(Lz,{tags:t.tags})}),f.jsx("td",{className:"px-3 py-2 text-center",children:a}),f.jsx("td",{className:"px-3 py-2 text-center",children:(u=t.timeline)!=null&&u.assigned?new Date(t.timeline.assigned).toLocaleDateString():"-"}),f.jsx("td",{className:"px-3 py-2 text-center",children:(h=t.timeline)!=null&&h.submitted?new Date(t.timeline.submitted).toLocaleDateString():t.createdAt?new Date(t.createdAt).toLocaleDateString():"-"}),f.jsx("td",{className:"px-3 py-2 text-center",children:f.jsx(Iz,{...t})}),f.jsxs("td",{className:"px-3 py-2 text-right",children:[c&&f.jsx("button",{onClick:e,disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded transition shadow-sm mr-2",children:n?"Assigning...":"Assign to Me"}),f.jsx("button",{onClick:r,className:"bg-slate-600 hover:bg-blue-600 text-white px-2 py-1 rounded transition shadow-sm group-hover:bg-blue-700",children:"View"}),s&&f.jsxs("span",{className:"text-xs text-red-400 block mt-1",children:["Failed to assign: ",s.message||"Unknown error"]})]})]})}function ny({complaints:t=[],isLoading:e=!1,emptyText:n="No complaints found.",onAssign:s,assigning:r={},assignError:i={},currentUserId:a}){const[c,u]=k.useState(!1),[h,p]=k.useState(null),g=v=>{p(v),u(!0)},y=()=>{u(!1),p(null)};return e?f.jsx("div",{className:"flex items-center justify-center min-h-[30vh] text-blue-300",children:"Loading complaints"}):t.length?f.jsxs("section",{className:"w-full bg-slate-800 rounded-xl shadow-lg border border-slate-700 overflow-hidden",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full text-sm text-white border-separate border-spacing-0",children:[f.jsx("thead",{className:"sticky top-0 z-10 bg-slate-900/95 border-b border-slate-700",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-3 py-2 min-w-[60px] text-left",children:"ID"}),f.jsx("th",{className:"px-3 py-2 text-left",children:"Subject"}),f.jsx("th",{className:"px-3 py-2 text-center",children:"Status"}),f.jsx("th",{className:"px-3 py-2 text-center",children:"Category"}),f.jsx("th",{className:"px-3 py-2 text-center",children:"Channel"}),f.jsx("th",{className:"px-3 py-2 text-left",children:"Tags"}),f.jsx("th",{className:"px-3 py-2 text-center",children:"Assigned To"}),f.jsx("th",{className:"px-3 py-2 text-center",children:"Assigned At"}),f.jsx("th",{className:"px-3 py-2 text-center",children:"Submitted"}),f.jsx("th",{className:"px-3 py-2 text-center",children:"Flags"}),f.jsx("th",{className:"px-3 py-2 text-right",children:"Actions"})]})}),f.jsx("tbody",{children:t.map(v=>f.jsx(Fz,{c:v,onAssign:s?()=>s(v._id):void 0,assigning:r[v._id],assignError:i[v._id],onView:()=>g(v),currentUserId:a},v._id))})]})}),c&&f.jsx("div",{className:"fixed inset-0 z-30 flex items-center justify-center bg-slate-900/70 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white max-w-lg w-full rounded-xl p-6 shadow-2xl relative animate-fade-in",children:[f.jsx("button",{className:"absolute top-3 right-3 text-xl text-slate-500 hover:text-blue-600 transition",onClick:y,"aria-label":"Close",children:""}),f.jsx(Dz,{open:c,onClose:y,complaint:h})]})})]}):f.jsx("div",{className:"flex items-center justify-center min-h-[30vh] text-slate-400",children:n})}const zz=["Open","Under Review","Resolved","Closed"];function Vz({currentUserId:t="moderator-id-123"}){const{data:e=[],isLoading:n}=ty(),s=Tz(),[r,i]=k.useState("Open"),a=zz.reduce((g,y)=>({...g,[y]:e.filter(v=>v.status===y).length}),{}),c=e.filter(g=>g.status===r),u={},h={};s.variables&&(u[s.variables]=s.isLoading,h[s.variables]=s.error);const p=g=>s.mutate(g);return f.jsxs("div",{children:[f.jsx($k,{statusTab:r,setStatusTab:i,counts:a}),f.jsx(ny,{complaints:c,isLoading:n,onAssign:p,assigning:u,assignError:h,currentUserId:t,emptyText:"No complaints for this status."})]})}const x2=["Under Review","Resolved","Closed"];function Bz(){const{data:t=[],isLoading:e}=ty(),{user:n}=Fs(),[s,r]=k.useState("Under Review"),i=t.filter(u=>u.assignedTo&&u.assignedTo._id===(n==null?void 0:n._id)),a=x2.reduce((u,h)=>({...u,[h]:i.filter(p=>p.status===h).length}),{}),c=i.filter(u=>u.status===s);return f.jsxs("div",{children:[f.jsx($k,{statusTab:s,setStatusTab:r,counts:a,statusTabs:x2}),f.jsx(ny,{complaints:c,isLoading:e,emptyText:"No complaints for this status."})]})}let Uz={data:""},$z=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Uz,Hz=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Wz=/\/\*[^]*?\*\/|  +/g,v2=/\n+/g,Qr=(t,e)=>{let n="",s="",r="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":s+=i[1]=="f"?Qr(a,i):i+"{"+Qr(a,i[1]=="k"?"":e)+"}":typeof a=="object"?s+=Qr(a,e?e.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Qr.p?Qr.p(i,a):i+":"+a+";")}return n+(e&&r?e+"{"+r+"}":r)+s},Js={},Hk=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Hk(t[n]);return e}return t},qz=(t,e,n,s,r)=>{let i=Hk(t),a=Js[i]||(Js[i]=(u=>{let h=0,p=11;for(;h<u.length;)p=101*p+u.charCodeAt(h++)>>>0;return"go"+p})(i));if(!Js[a]){let u=i!==t?t:(h=>{let p,g,y=[{}];for(;p=Hz.exec(h.replace(Wz,""));)p[4]?y.shift():p[3]?(g=p[3].replace(v2," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][p[1]]=p[2].replace(v2," ").trim();return y[0]})(t);Js[a]=Qr(r?{["@keyframes "+a]:u}:u,n?"":"."+a)}let c=n&&Js.g?Js.g:null;return n&&(Js.g=Js[a]),((u,h,p,g)=>{g?h.data=h.data.replace(g,u):h.data.indexOf(u)===-1&&(h.data=p?u+h.data:h.data+u)})(Js[a],e,s,c),a},Yz=(t,e,n)=>t.reduce((s,r,i)=>{let a=e[i];if(a&&a.call){let c=a(n),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;a=u?"."+u:c&&typeof c=="object"?c.props?"":Qr(c,""):c===!1?"":c}return s+r+(a??"")},"");function Ih(t){let e=this||{},n=t.call?t(e.p):t;return qz(n.unshift?n.raw?Yz(n,[].slice.call(arguments,1),e.p):n.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):n,$z(e.target),e.g,e.o,e.k)}let Wk,Mg,Ag;Ih.bind({g:1});let gr=Ih.bind({k:1});function Kz(t,e,n,s){Qr.p=e,Wk=t,Mg=n,Ag=s}function vi(t,e){let n=this||{};return function(){let s=arguments;function r(i,a){let c=Object.assign({},i),u=c.className||r.className;n.p=Object.assign({theme:Mg&&Mg()},c),n.o=/ *go\d+/.test(u),c.className=Ih.apply(n,s)+(u?" "+u:"");let h=t;return t[0]&&(h=c.as||t,delete c.as),Ag&&h[0]&&Ag(c),Wk(h,c)}return r}}var Xz=t=>typeof t=="function",Rg=(t,e)=>Xz(t)?t(e):t,Qz=(()=>{let t=0;return()=>(++t).toString()})(),Gz=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Zz=20,qk=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Zz)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return qk(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let r=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+r}))}}},Jz=[],vm={toasts:[],pausedAt:void 0},sy=t=>{vm=qk(vm,t),Jz.forEach(e=>{e(vm)})},eV=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Qz()}),Wc=t=>(e,n)=>{let s=eV(e,t,n);return sy({type:2,toast:s}),s.id},On=(t,e)=>Wc("blank")(t,e);On.error=Wc("error");On.success=Wc("success");On.loading=Wc("loading");On.custom=Wc("custom");On.dismiss=t=>{sy({type:3,toastId:t})};On.remove=t=>sy({type:4,toastId:t});On.promise=(t,e,n)=>{let s=On.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let i=e.success?Rg(e.success,r):void 0;return i?On.success(i,{id:s,...n,...n==null?void 0:n.success}):On.dismiss(s),r}).catch(r=>{let i=e.error?Rg(e.error,r):void 0;i?On.error(i,{id:s,...n,...n==null?void 0:n.error}):On.dismiss(s)}),t};var tV=gr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,nV=gr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sV=gr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,rV=vi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${nV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${sV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,iV=gr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,oV=vi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${iV} 1s linear infinite;
`,aV=gr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lV=gr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,cV=vi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,uV=vi("div")`
  position: absolute;
`,dV=vi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,hV=gr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fV=vi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${hV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,pV=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?k.createElement(fV,null,e):e:n==="blank"?null:k.createElement(dV,null,k.createElement(oV,{...s}),n!=="loading"&&k.createElement(uV,null,n==="error"?k.createElement(rV,{...s}):k.createElement(cV,{...s})))},mV=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gV=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,yV="0%{opacity:0;} 100%{opacity:1;}",xV="0%{opacity:1;} 100%{opacity:0;}",vV=vi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,bV=vi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wV=(t,e)=>{let n=t.includes("top")?1:-1,[s,r]=Gz()?[yV,xV]:[mV(n),gV(n)];return{animation:e?`${gr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${gr(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};k.memo(({toast:t,position:e,style:n,children:s})=>{let r=t.height?wV(t.position||e||"top-center",t.visible):{opacity:0},i=k.createElement(pV,{toast:t}),a=k.createElement(bV,{...t.ariaProps},Rg(t.message,t));return k.createElement(vV,{className:t.className,style:{...r,...n,...t.style}},typeof s=="function"?s({icon:i,message:a}):k.createElement(k.Fragment,null,i,a))});Kz(k.createElement);Ih`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var b2=On;function SV({status:t,complaintId:e,onStatusChange:n}){const[s,r]=k.useState(!1),[i,a]=k.useState(null),[c,u]=k.useState(!1),h=k.useRef(null),p=Az();k.useEffect(()=>{function v(b){h.current&&!h.current.contains(b.target)&&r(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const g=v=>{if(v===t)return r(!1);a(v),u(!0)},y=async()=>{var v,b;u(!1),r(!1);try{await p.mutateAsync({id:e,status:i}),n==null||n(i),b2.success("Status updated!")}catch(_){b2.error(((b=(v=_==null?void 0:_.response)==null?void 0:v.data)==null?void 0:b.error)||(_==null?void 0:_.message)||"Failed to update status. Please try again.")}a(null)};return f.jsxs("div",{className:"relative",ref:h,children:[f.jsxs("button",{className:"flex items-center min-w-[140px] px-4 py-2 rounded-lg bg-[#1e2538] text-white border border-slate-700 shadow font-semibold transition hover:bg-sky-700 focus:ring-2 focus:ring-sky-400",onClick:()=>r(v=>!v),type:"button",disabled:p.isLoading,children:[t,f.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&f.jsx("ul",{className:"absolute right-0 z-10 mt-2 bg-[#232c3d] border border-slate-700 rounded-xl shadow-lg min-w-[140px] py-1",children:["Under Review","Resolved","Closed"].map(v=>f.jsx("li",{children:f.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded-lg transition
                  ${v===t?"bg-slate-900 text-sky-300 cursor-not-allowed":"hover:bg-blue-500 hover:text-white text-white"}
                `,onClick:()=>g(v),disabled:v===t,type:"button",children:v})},v))}),c&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:f.jsxs("div",{className:"bg-[#232c3d] rounded-xl shadow-xl p-6 min-w-[320px] text-white flex flex-col gap-4",children:[f.jsxs("div",{className:"text-base font-semibold",children:['Are you sure you want to change the status to "',i,'"?']}),f.jsxs("div",{className:"flex gap-3 justify-end",children:[f.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg",onClick:()=>u(!1),type:"button",children:"Cancel"}),f.jsxs("button",{className:"bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg font-semibold flex items-center justify-center",onClick:y,type:"button",disabled:p.isLoading,children:[p.isLoading&&f.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"white",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"white",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Yes, change"]})]})]})})]})}const Yk=(t,e="U")=>(t||e).split(" ").map(n=>n[0]).join("").slice(0,2).toUpperCase(),_V=t=>t==="admin"?{name:"Admin",initials:"A"}:t==="moderator"?{name:"Moderator",initials:"M"}:t==="user"?{name:"Customer",initials:"C"}:{name:"User",initials:"U"};function CV(t){if(!t)return[];const e=Array.isArray(t.messages)?t.messages:[];return(t.description&&(!e.length||e[0].message!==t.description)?[{role:"user",message:t.description,sentAt:t.createdAt||Date.now(),isDescription:!0}]:[]).concat(e)}function kV(){var c;const{user:t}=Fs(),{data:e=[],isLoading:n}=ty(),s=e.filter(u=>u.assignedTo&&u.assignedTo._id===(t==null?void 0:t._id)&&u.status!=="Resolved"&&u.status!=="Closed"),[r,i]=k.useState(((c=s[0])==null?void 0:c._id)||null);k.useEffect(()=>{(!r||!s.find(u=>u._id===r))&&s.length&&i(s[0]._id)},[s,r]);const a=s.find(u=>u._id===r);return n?f.jsx("div",{className:"flex h-96 items-center justify-center text-gray-400",children:"Loading complaints..."}):s.length?f.jsxs("div",{className:"w-full flex flex-1 min-h-0 bg-transparent rounded-xl shadow-xl overflow-hidden border border-slate-800 h-[600px]",children:[f.jsxs("aside",{className:"w-60 bg-[#192338] border-r border-slate-800 flex flex-col py-3 px-2 gap-2 min-h-0",children:[f.jsx("h2",{className:"text-base font-bold text-white mb-1 pl-1 tracking-tight",children:"Assigned Complaints"}),f.jsx("ul",{className:"flex-1 overflow-y-auto pr-1 custom-scrollbar min-h-0",children:s.map(u=>f.jsx("li",{className:"mb-1",children:f.jsxs("button",{className:`w-full flex items-center gap-2 px-2 py-1.5 rounded-lg transition font-medium text-[13px]
                  ${r===u._id?"bg-gradient-to-r from-blue-500 to-cyan-400 text-white shadow":"bg-[#202c44] hover:bg-blue-500 hover:text-white text-slate-300"}`,onClick:()=>i(u._id),children:[f.jsx("span",{className:"font-mono text-[11px] bg-slate-900 px-1.5 py-0.5 rounded mr-1",children:u._id.slice(-6)}),f.jsx("span",{className:"truncate",children:u.subject||f.jsx("em",{className:"italic text-slate-400",children:"No subject"})})]})},u._id))})]}),f.jsx("section",{className:"flex-1 flex flex-col min-h-0 p-4",children:f.jsxs("div",{className:"flex flex-col h-full min-h-0 w-full mx-auto bg-gradient-to-br from-[#232c3d] via-[#202a40] to-[#1a2235] rounded-2xl shadow-xl border border-slate-700 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-[#171f30] via-[#1b273a] to-[#22334c] px-6 py-4 border-b border-slate-800 flex-shrink-0",children:[f.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-cyan-400 font-bold text-white text-[15px] shadow-md border-2 border-white",children:Yk(t==null?void 0:t.name,"U")}),f.jsxs("div",{children:[f.jsx("div",{className:"font-semibold text-[16px] text-white tracking-wide leading-none",children:"Chat with User"}),f.jsx("div",{className:"text-[11px] text-slate-400 mt-0.5 leading-none",children:f.jsx("span",{className:"font-semibold text-white",children:a==null?void 0:a.subject})})]}),f.jsx("div",{className:"ml-auto flex items-center gap-2",children:(a==null?void 0:a.assignedTo)&&f.jsx(SV,{status:a.status,complaintId:a._id,onStatusChange:u=>{(u==="Resolved"||u==="Closed")&&i(null)}})})]}),f.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-6 py-4 flex flex-col gap-2 custom-scrollbar bg-transparent",children:a?f.jsx(jV,{complaintId:a._id,currentUser:t}):f.jsx("div",{className:"flex flex-1 items-center justify-center",children:f.jsx("p",{className:"text-slate-400",children:"Select a complaint to view messages."})})})]})})]}):f.jsx("div",{className:"flex h-96 items-center justify-center text-gray-400",children:"No assigned complaints."})}function jV({complaintId:t,currentUser:e}){const n=k.useRef(null),{data:s,isLoading:r}=Nz(t,5e3),i=Ez(t),[a,c]=k.useState(""),u=CV(s);k.useEffect(()=>{n.current&&n.current.scrollIntoView({behavior:"smooth"})},[u.length,r]);const h=async p=>{p.preventDefault(),!(!a.trim()||i.isLoading)&&(await i.mutateAsync(a),c(""))};return r||!s?f.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:"Loading chat..."}):f.jsxs("div",{className:"flex flex-col h-full min-h-0 relative",children:[f.jsxs("div",{className:"flex-1 flex flex-col gap-2 min-h-0 overflow-y-auto pb-2",children:[u.length===0&&f.jsx("p",{className:"text-gray-400 text-xs text-center mt-10",children:"No messages yet."}),u.map((p,g)=>{const y=p.role===(e==null?void 0:e.role)&&p.sender===(e==null?void 0:e.id)||p.role==="admin"&&(e==null?void 0:e.role)==="admin"||p.role==="moderator"&&(e==null?void 0:e.role)==="moderator",{name:v,initials:b}=_V(p.role);return f.jsxs("div",{className:`flex items-end gap-2 ${y?"justify-end":"justify-start"}`,children:[!y&&f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-700 to-cyan-400 flex items-center justify-center font-bold text-white text-xs shadow border-2 border-white",children:b})}),f.jsxs("div",{className:`
    px-4 py-2.5 
    rounded-[22px]
    max-w-[90%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]
    break-words
    shadow-md
    text-[14px]
    ${y?"bg-gradient-to-br from-blue-400 to-cyan-400 text-white rounded-br-lg":"bg-white text-gray-900 rounded-bl-lg"}
    transition
  `,children:[f.jsxs("div",{className:"text-[11px] mb-1 opacity-60 flex items-center gap-1",children:[f.jsx("span",{children:y?"You":v}),f.jsx("span",{className:"mx-1",children:""}),f.jsx("span",{children:p.sentAt?new Date(p.sentAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),f.jsx("div",{className:"whitespace-pre-wrap break-words break-all leading-tight",children:p.message})]}),y&&f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-700 to-cyan-400 flex items-center justify-center font-bold text-white text-xs shadow border-2 border-white",children:Yk(e==null?void 0:e.name,b)})})]},g)}),f.jsx("div",{ref:n})]}),f.jsxs("form",{className:"flex gap-2 p-4 border-t border-slate-800 bg-slate-900/95 rounded-b-xl shadow-inner",onSubmit:h,autoComplete:"off",children:[f.jsx("input",{className:"flex-1 px-4 py-3 rounded-lg bg-[#263149] text-white focus:outline-none focus:ring-2 focus:ring-sky-400/80 transition shadow-md",value:a,onChange:p=>c(p.target.value),placeholder:"Type your message",disabled:i.isLoading,maxLength:1e3}),f.jsx("button",{className:"bg-gradient-to-br from-sky-500 to-blue-600 hover:from-sky-400 hover:to-blue-700 px-6 py-3 rounded-lg text-white font-semibold shadow-lg border border-blue-400/50 transition",type:"submit",disabled:i.isLoading,children:i.isLoading?"Sending":"Send"})]})]})}function Kk(){const[t,e]=k.useState("all");return f.jsxs("div",{children:[f.jsx(K8,{activeTab:t,setActiveTab:e}),t==="all"&&f.jsx(Vz,{}),t==="assigned"&&f.jsx(Bz,{}),t==="responses"&&f.jsx(kV,{})]})}const ry=()=>{const{id:t}=zg(),e=Is(),[n,s]=k.useState(null),[r,i]=k.useState(""),[a,c]=k.useState(""),u=async()=>{var p,g;try{const{data:y}=await ce.get(`/admin/complaints/${t}`);s(y)}catch(y){c(((g=(p=y.response)==null?void 0:p.data)==null?void 0:g.message)||y.message)}},h=async()=>{var p,g;try{await ce.post(`/admin/complaints/${t}/message`,{message:r}),i(""),u()}catch(y){c(((g=(p=y.response)==null?void 0:p.data)==null?void 0:g.message)||y.message)}};return k.useEffect(()=>{u()},[t]),n?f.jsxs("div",{children:[f.jsx("button",{className:"mb-4 text-blue-400",onClick:()=>e("/dashboard/admin/complaints"),children:" Back to list"}),f.jsx("h2",{className:"text-2xl mb-2",children:n.subject}),f.jsxs("p",{className:"mb-4",children:["Status: ",f.jsx("strong",{children:n.status})]}),a&&f.jsx("p",{className:"text-red-500",children:a}),f.jsx("section",{className:"bg-slate-700 p-4 rounded mb-4 max-h-64 overflow-y-auto",children:n.messages.map((p,g)=>f.jsxs("div",{className:"mb-3",children:[f.jsxs("div",{className:"text-sm text-gray-400",children:[f.jsx("strong",{children:p.role})," on ",new Date(p.sentAt).toLocaleString()]}),f.jsx("div",{className:"mt-1",children:p.message})]},g))}),f.jsx("textarea",{value:r,rows:4,onChange:p=>i(p.target.value),className:"w-full p-2 bg-[#1e293b] rounded text-white",placeholder:"Type your message"}),f.jsx("button",{className:"mt-2 bg-green-600 px-4 py-2 rounded",onClick:h,children:"Send Message"})]}):f.jsx("p",{children:"Loading complaint..."})},NV=()=>{const[t,e]=k.useState(null),[n,s]=k.useState(null),[r,i]=Dc(),a=r.get("tab")||"profile",c=r.get("complaintId"),u=(p,g={})=>{i({tab:p,...g})};k.useEffect(()=>{(async()=>{try{const p=await ce.get("/users/me");e(p.data)}catch{e(null)}})(),(async()=>{try{const p=await ce.get("/dashboard/admin");s(p.data)}catch{s(null)}})()},[]);const h=()=>{if(!t)return f.jsx("p",{children:"Loading profile..."});switch(a){case"profile":return f.jsx(Xg,{user:t,refreshUser:()=>fetchUser()});case"orders":return f.jsx("p",{className:"text-sm text-gray-600",children:" Orders coming soon..."});case"wishlist":return f.jsx("p",{className:"text-sm text-gray-600",children:" Wishlist coming soon..."});case"users":return f.jsx(E6,{});case"products":return f.jsx(R6,{});case"products-management":return f.jsx(tM,{});case"blog":return f.jsx(sM,{});case"blog-editor":return f.jsx(qM,{});case"invoices":return f.jsx(J_,{});case"overview":return n?f.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[f.jsx("p",{children:n.message}),f.jsx("pre",{className:"mt-4 text-sm bg-gray-100 p-4 rounded",children:JSON.stringify(n.stats,null,2)})]}):f.jsx("p",{children:"Loading admin stats..."});case"complaints":return f.jsx(Kk,{});case"complaints-detail":return f.jsx(ry,{id:c,goBack:()=>u("complaints")});default:return f.jsx("p",{className:"text-sm text-red-500",children:" Unknown section"})}};return f.jsxs("div",{className:"flex flex-col h-screen",children:[f.jsx(Ic,{}),f.jsx("div",{className:"flex flex-1 min-h-0",children:f.jsx(Kg,{activeTab:a.split("-")[0],setActiveTab:u,children:f.jsxs("div",{className:"flex-1 flex flex-col bg-[#0f172a] text-white p-6 overflow-hidden",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),f.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:h()})]})})})]})},TV=()=>{const[t,e]=k.useState(null),[n,s]=Dc(),r=n.get("tab")||"profile",i=n.get("complaintId"),a=(u,h={})=>{s({tab:u,...h})};k.useEffect(()=>{(async()=>{try{const u=await ce.get("/users/me");e(u.data)}catch{e(null)}})()},[]);const c=()=>{if(!t)return f.jsx("p",{children:"Loading profile..."});switch(r){case"profile":return f.jsx(Xg,{user:t,refreshUser:()=>fetchUser()});case"complaints":return f.jsx(Kk,{user:t,role:"moderator"});case"complaints-detail":return f.jsx(ry,{id:i,goBack:()=>a("complaints")});default:return f.jsx("p",{className:"text-sm text-red-500",children:" Unknown section"})}};return f.jsxs("div",{className:"flex flex-col h-screen",children:[f.jsx(Ic,{}),f.jsx("div",{className:"flex flex-1 min-h-0",children:f.jsx(Kg,{activeTab:r.split("-")[0],setActiveTab:a,children:f.jsxs("div",{className:"flex-1 flex flex-col bg-[#0f172a] text-white p-6 overflow-hidden",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Moderator Dashboard"}),f.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:c()})]})})})]})};function PV(){var u,h,p,g;const[t,e]=k.useState({subject:"",category:"order issue",description:""}),[n,s]=k.useState(""),r=["order issue","payment","product","delivery","other"],i=Pz(),a=y=>e(v=>({...v,[y.target.name]:y.target.value})),c=async y=>{y.preventDefault(),s(""),i.mutate(t,{onSuccess:()=>{s(" Complaint submitted successfully!"),e({subject:"",category:"order issue",description:""})}})};return f.jsxs(lc.form,{onSubmit:c,className:"max-w-lg mx-auto mt-10 bg-slate-800/90 rounded-2xl shadow-2xl border border-slate-700 px-8 py-7 relative",initial:{opacity:0,y:25},animate:{opacity:1,y:0},transition:{type:"spring",duration:.6},children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-2 rounded-t-2xl bg-gradient-to-r from-cyan-500 via-blue-500 to-sky-400"}),f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6 mt-2 text-center tracking-tight",children:"Raise a Complaint"}),f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{className:"block text-sm font-semibold text-cyan-200 mb-1",children:"Subject"}),f.jsx("input",{name:"subject",value:t.subject,onChange:a,required:!0,className:"w-full px-3 py-2 bg-[#1e293b] rounded-lg border border-slate-700 focus:ring-2 focus:ring-cyan-400 focus:outline-none text-white transition",placeholder:"Short summary",maxLength:70})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("label",{className:"block text-sm font-semibold text-cyan-200 mb-1",children:"Category"}),f.jsx("select",{name:"category",value:t.category,onChange:a,className:"w-full px-3 py-2 bg-[#1e293b] rounded-lg border border-slate-700 text-white focus:ring-2 focus:ring-cyan-400 focus:outline-none transition",children:r.map(y=>f.jsx("option",{value:y,children:y.charAt(0).toUpperCase()+y.slice(1)},y))})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-semibold text-cyan-200 mb-1",children:"Description"}),f.jsx("textarea",{name:"description",value:t.description,onChange:a,required:!0,rows:5,maxLength:1e3,className:"w-full px-3 py-2 bg-[#1e293b] rounded-lg border border-slate-700 text-white focus:ring-2 focus:ring-cyan-400 focus:outline-none transition",placeholder:"Describe your complaint"}),f.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[t.description.length,"/1000"]})]}),f.jsxs(hI,{children:[i.isError&&f.jsx(lc.p,{className:"text-red-400 mb-2",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},children:((p=(h=(u=i.error)==null?void 0:u.response)==null?void 0:h.data)==null?void 0:p.message)||((g=i.error)==null?void 0:g.message)}),n&&f.jsx(lc.p,{className:"text-green-400 mb-2",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},children:n})]}),f.jsx("button",{type:"submit",disabled:i.isLoading,className:"w-full mt-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-400 hover:to-blue-600 text-white font-semibold px-6 py-2.5 rounded-lg shadow-lg transition disabled:opacity-60",children:i.isLoading?"Submitting":"Submit Complaint"})]})}const w2=(t,e="U")=>(t||e).split(" ").map(n=>n[0]).join("").slice(0,2).toUpperCase();function EV(t){if(!t)return[];const e=Array.isArray(t.messages)?t.messages:[];return(t.description&&(!e.length||e[0].message!==t.description)?[{role:"user",message:t.description,sentAt:t.createdAt||Date.now(),isDescription:!0}]:[]).concat(e)}function MV({complaintId:t}){const{user:e}=Fs(),n=k.useRef(null),[s,r]=k.useState(""),[i,a]=k.useState(!1),{data:c,isLoading:u,isError:h,error:p,refetch:g}=Mz(t,!1);k.useEffect(()=>{if(!t)return;const b=setInterval(()=>{g()},5e3);return()=>clearInterval(b)},[t,g]);const y=EV(c);k.useEffect(()=>{n.current&&n.current.scrollIntoView({behavior:"smooth"})},[y.length,u]);const v=async b=>{var _,S;if(b.preventDefault(),!(!s.trim()||i)){a(!0);try{await ce.post(`/complaint/${t}/message`,{message:s}),r(""),g()}catch(C){alert(((S=(_=C.response)==null?void 0:_.data)==null?void 0:S.error)||"Failed to send message. Please try again.")}a(!1)}};return h?f.jsx("div",{className:"flex-1 flex items-center justify-center text-red-400",children:(p==null?void 0:p.message)||"Could not load complaint."}):u||!c?f.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:"Loading chat..."}):f.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[f.jsx("div",{className:"border-b border-slate-800 px-6 py-3 bg-slate-900 rounded-t-xl",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-xl font-semibold text-white",children:c.subject}),f.jsx("span",{className:`
              text-xs px-2 py-1 rounded 
              ${c.status==="Resolved"?"bg-green-800 text-green-300":c.status==="Open"?"bg-yellow-800 text-yellow-200":"bg-blue-900 text-blue-200"}
            `,children:c.status}),f.jsx("span",{className:"ml-auto text-xs text-slate-400",children:new Date(c.createdAt).toLocaleDateString()})]})}),f.jsxs("div",{className:"flex-1 flex flex-col gap-2 px-4 py-6 overflow-y-auto custom-scrollbar",style:{minHeight:0,scrollbarWidth:"thin",scrollbarColor:"#4b5563 #141a29",WebkitOverflowScrolling:"touch",msOverflowStyle:"-ms-autohiding-scrollbar"},children:[y.length===0&&f.jsx("p",{className:"text-gray-400 text-sm text-center mt-16",children:"No messages yet."}),y.map((b,_)=>{const S=b.role==="user",C=S?(e==null?void 0:e.name)||"You":b.role==="admin"?"Admin":"Moderator";return f.jsxs("div",{className:`flex items-end gap-2 mb-2 ${S?"justify-end":"justify-start"}`,children:[!S&&f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-7 h-7 rounded-full bg-blue-700 flex items-center justify-center font-semibold text-white text-xs shadow border-2 border-blue-300",children:w2(C)})}),f.jsxs("div",{className:`
                  px-4 py-2.5 rounded-[22px] max-w-[90%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%] break-words shadow-md text-[14px]
                  ${S?"bg-slate-200/90 text-gray-900 rounded-tr-md border border-slate-400/20":"bg-gradient-to-br from-blue-600 via-sky-500 to-cyan-400 text-white rounded-tl-md border border-blue-500/40"} transition
                `,children:[f.jsxs("div",{className:"text-xs mb-1 opacity-80 flex items-center gap-1 font-mono tracking-tight",children:[f.jsx("span",{children:S?"You":C}),f.jsx("span",{className:"mx-1",children:""}),f.jsx("span",{children:b.sentAt?new Date(b.sentAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),f.jsx("div",{className:"whitespace-pre-wrap break-words break-all leading-tight",children:b.message})]}),S&&f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-500 to-sky-400 flex items-center justify-center font-semibold text-white text-xs shadow border-2 border-sky-200",children:w2(e==null?void 0:e.name,"U")})})]},_)}),f.jsx("div",{ref:n})]}),f.jsxs("form",{className:"flex gap-2 p-4 border-t border-slate-800 bg-slate-900/95 rounded-b-xl shadow-inner",onSubmit:v,autoComplete:"off",children:[f.jsx("input",{className:"flex-1 px-4 py-3 rounded-lg bg-[#263149] text-white focus:outline-none focus:ring-2 focus:ring-sky-400/80 transition shadow-md",value:s,onChange:b=>r(b.target.value),placeholder:"Type your message",disabled:i,maxLength:1e3}),f.jsx("button",{className:"bg-gradient-to-br from-sky-500 to-blue-600 hover:from-sky-400 hover:to-blue-700 px-6 py-3 rounded-lg text-white font-semibold shadow-lg border border-blue-400/50 transition",type:"submit",disabled:i,children:i?"Sending":"Send"})]})]})}function AV(){const[t,e]=k.useState([]),[n,s]=k.useState(!0),[r,i]=k.useState(null),[a,c]=k.useState("Open"),u=["Open","Under Review","Resolved","Closed"],h=u.reduce((g,y)=>(g[y]=t.filter(v=>v.status===y).length,g),{}),p=t.filter(g=>g.status===a);return k.useEffect(()=>{let g=!0,y;const v=async()=>{try{const{data:b}=await ce.get("/complaint");g&&e(b)}catch{g&&e([])}g&&s(!1)};return v(),y=setInterval(v,5e3),()=>{g=!1,clearInterval(y)}},[]),k.useEffect(()=>{p.length?i(p[0]._id):i(null)},[a,t.length]),f.jsx("div",{className:"w-full flex flex-col items-center",children:f.jsxs("div",{className:"w-full max-w-[98vw] flex flex-col mx-auto",style:{height:"74vh",maxHeight:"74vh",minHeight:520},children:[f.jsx("div",{className:"flex justify-center py-2",children:f.jsx("ul",{className:"flex gap-1 bg-[#202a40]/70 px-1.5 py-0.5 rounded-full shadow border border-blue-900/30",children:u.map(g=>f.jsx("li",{children:f.jsxs("button",{type:"button",onClick:()=>c(g),className:`px-3 py-1 rounded-full font-medium text-[14px] transition-all duration-300
                    ${a===g?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow":"text-blue-100/80 hover:text-white hover:bg-blue-900/30"}
                  `,style:{minWidth:70},children:[g,f.jsx("span",{className:"ml-1 font-mono text-xs px-1.5 py-0.5 rounded-full bg-slate-900 text-cyan-200",children:h[g]??0}),a===g&&f.jsx("span",{className:"block h-0.5 w-4/5 rounded-full bg-gradient-to-r from-cyan-400/80 via-blue-400 to-blue-600/70 mx-auto mt-1"})]})},g))})}),f.jsxs("div",{className:"flex flex-1 min-h-0 w-full gap-0",children:[f.jsx("div",{className:"relative w-1/4 min-w-[260px] max-w-[340px] flex-shrink-0 h-full",children:f.jsxs("div",{className:"flex flex-col bg-[#151b29] rounded-l-2xl shadow-2xl h-full border border-slate-800",children:[f.jsx("div",{className:"px-4 py-3 border-b border-slate-800",children:f.jsx("h3",{className:"text-base font-bold text-white tracking-tight",children:"Your Complaints"})}),f.jsx("ul",{className:"flex-1 min-h-0 overflow-y-auto custom-scrollbar",style:{scrollbarWidth:"thin",scrollbarColor:"#4b5563 #151b29",WebkitOverflowScrolling:"touch"},children:n?f.jsx("div",{className:"px-4 py-6 text-slate-400 text-center text-sm",children:"Loading your complaints..."}):p.length===0?f.jsx("div",{className:"px-4 py-6 text-slate-400 text-center text-sm",children:"No complaints in this status."}):p.map(g=>f.jsxs("li",{className:`group cursor-pointer px-4 py-3 border-b border-slate-800 transition-all duration-150 ${r===g._id?"bg-gradient-to-r from-sky-950/70 to-slate-900 border-sky-500 shadow-inner":"hover:bg-slate-800/60"}`,onClick:()=>i(g._id),children:[f.jsxs("div",{className:"flex justify-between items-center mb-1",children:[f.jsx("span",{className:"font-semibold text-blue-200 text-xs",children:g.subject}),f.jsx("span",{className:`text-xs rounded px-2 py-0.5 ${g.status==="Resolved"?"bg-green-700/50 text-green-300":g.status==="Open"?"bg-yellow-700/40 text-yellow-200":g.status==="Closed"?"bg-slate-700 text-slate-200":"bg-blue-800/40 text-sky-200"}`,children:g.status})]}),f.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["Category: ",g.category," "," ",new Date(g.createdAt).toLocaleDateString()]}),f.jsx("div",{className:"text-gray-300 text-xs line-clamp-2",children:g.description}),f.jsx("div",{className:"mt-2",children:f.jsx("span",{className:`text-xs font-medium transition ${r===g._id?"text-sky-400":"text-blue-400 group-hover:text-sky-300"}`,children:r===g._id?"Chat Open":"View Chat"})})]},g._id))})]})}),f.jsx("div",{className:"flex-1 flex flex-col rounded-r-2xl bg-[#161d2b] shadow-2xl ml-0 border-t border-b border-r border-slate-800",style:{height:"100%"},children:r?f.jsx(MV,{complaintId:r}):f.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 text-lg",children:"Select a complaint to view chat."})})]})]})})}function RV(){const[t,e]=k.useState("raise");return f.jsxs("div",{children:[f.jsxs("div",{className:"flex gap-2 mb-6",children:[f.jsx("button",{className:`px-4 py-2 rounded-t font-semibold transition ${t==="raise"?"bg-blue-600 text-white shadow":"bg-slate-800 text-blue-200"}`,onClick:()=>e("raise"),children:"Raise Complaint"}),f.jsx("button",{className:`px-4 py-2 rounded-t font-semibold transition ${t==="list"?"bg-blue-600 text-white shadow":"bg-slate-800 text-blue-200"}`,onClick:()=>e("list"),children:"My Complaints"})]}),f.jsxs("div",{children:[t==="raise"&&f.jsx(PV,{}),t==="list"&&f.jsx(AV,{})]})]})}const DV=()=>{const[t,e]=k.useState(null),[n,s]=Dc(),r=n.get("tab")||"profile",i=u=>{s({tab:u})},a=async()=>{var u,h;try{const p=await ce.get("/users/me");e(p.data)}catch(p){console.error("Failed to load profile:",(h=(u=p.response)==null?void 0:u.data)==null?void 0:h.message)}};k.useEffect(()=>{a()},[]);const c=()=>{if(!t)return f.jsx("p",{children:"Loading profile..."});switch(r){case"profile":return f.jsx(Xg,{user:t,refreshUser:a});case"orders":return f.jsx("p",{className:"text-sm text-gray-600",children:" Orders coming soon..."});case"wishlist":return f.jsx("p",{className:"text-sm text-gray-600",children:" Wishlist coming soon..."});case"raise-complaint":return f.jsx(RV,{});default:return f.jsx("p",{className:"text-sm text-red-500",children:" Unknown section"})}};return f.jsxs("div",{className:"min-h-screen flex flex-col bg-[#0f172a]",children:[" ",f.jsx(Ic,{}),f.jsx(Kg,{activeTab:r,setActiveTab:i,children:f.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[" ",f.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"User Dashboard"}),c()]})})]})},ia=({allowedRoles:t,children:e})=>{const{user:n}=Fs();return n?t.includes(n.role)?e:f.jsx(Fv,{to:"/unauthorized"}):f.jsx(Fv,{to:"/"})};function OV(){const{loading:t}=Fs();return t?f.jsx("div",{className:"p-10 text-center",children:"Checking session..."}):f.jsx("div",{children:f.jsxs(B2,{children:[f.jsx(Kt,{path:"/",element:f.jsx(k6,{})}),f.jsx(Kt,{path:"/reset-password/confirm",element:f.jsx(j6,{})}),f.jsx(Kt,{path:"/verify-email/:token",element:f.jsx(N6,{})}),f.jsx(Kt,{path:"/unauthorized",element:f.jsx(P6,{})}),f.jsx(Kt,{path:"/product/:slug",element:f.jsx(T6,{})}),f.jsx(Kt,{path:"/dashboard/admin/complaints",element:f.jsx(ia,{allowedRoles:["moderator","admin"],children:f.jsx(ny,{})})}),f.jsx(Kt,{path:"/dashboard/admin/complaints/:id",element:f.jsx(ia,{allowedRoles:["moderator","admin"],children:f.jsx(ry,{})})}),f.jsx(Kt,{path:"/dashboard/admin/invoice/*",element:f.jsx(ia,{allowedRoles:["admin"],children:f.jsx(J_,{})})}),f.jsx(Kt,{path:"/dashboard/admin/*",element:f.jsx(ia,{allowedRoles:["admin"],children:f.jsx(NV,{})})}),f.jsx(Kt,{path:"/dashboard/moderator/*",element:f.jsx(ia,{allowedRoles:["moderator","admin"],children:f.jsx(TV,{})})}),f.jsx(Kt,{path:"/dashboard/user/*",element:f.jsx(ia,{allowedRoles:["user","moderator","admin"],children:f.jsx(DV,{})})})]})})}const LV=new uz;FN.createRoot(document.getElementById("root")).render(f.jsx(Ms.StrictMode,{children:f.jsx(JT,{children:f.jsx(mz,{client:LV,children:f.jsx(UE,{children:f.jsx(OV,{})})})})}));
