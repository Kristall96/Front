var u1=Object.defineProperty;var d1=(t,e,n)=>e in t?u1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ge=(t,e,n)=>d1(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Bf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kd={exports:{}},Ao={},Cd={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function f1(){if(Fm)return Le;Fm=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function x(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function _(A,X,se){this.props=A,this.context=X,this.refs=S,this.updater=se||w}_.prototype.isReactComponent={},_.prototype.setState=function(A,X){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,X,"setState")},_.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function C(){}C.prototype=_.prototype;function T(A,X,se){this.props=A,this.context=X,this.refs=S,this.updater=se||w}var P=T.prototype=new C;P.constructor=T,b(P,_.prototype),P.isPureReactComponent=!0;var D=Array.isArray,M=Object.prototype.hasOwnProperty,I={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function V(A,X,se){var be,ve={},Fe=null,Pe=null;if(X!=null)for(be in X.ref!==void 0&&(Pe=X.ref),X.key!==void 0&&(Fe=""+X.key),X)M.call(X,be)&&!B.hasOwnProperty(be)&&(ve[be]=X[be]);var Ee=arguments.length-2;if(Ee===1)ve.children=se;else if(1<Ee){for(var Re=Array(Ee),we=0;we<Ee;we++)Re[we]=arguments[we+2];ve.children=Re}if(A&&A.defaultProps)for(be in Ee=A.defaultProps,Ee)ve[be]===void 0&&(ve[be]=Ee[be]);return{$$typeof:t,type:A,key:Fe,ref:Pe,props:ve,_owner:I.current}}function U(A,X){return{$$typeof:t,type:A.type,key:X,ref:A.ref,props:A.props,_owner:A._owner}}function q(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function te(A){var X={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(se){return X[se]})}var ne=/\/+/g;function ue(A,X){return typeof A=="object"&&A!==null&&A.key!=null?te(""+A.key):X.toString(36)}function K(A,X,se,be,ve){var Fe=typeof A;(Fe==="undefined"||Fe==="boolean")&&(A=null);var Pe=!1;if(A===null)Pe=!0;else switch(Fe){case"string":case"number":Pe=!0;break;case"object":switch(A.$$typeof){case t:case e:Pe=!0}}if(Pe)return Pe=A,ve=ve(Pe),A=be===""?"."+ue(Pe,0):be,D(ve)?(se="",A!=null&&(se=A.replace(ne,"$&/")+"/"),K(ve,X,se,"",function(we){return we})):ve!=null&&(q(ve)&&(ve=U(ve,se+(!ve.key||Pe&&Pe.key===ve.key?"":(""+ve.key).replace(ne,"$&/")+"/")+A)),X.push(ve)),1;if(Pe=0,be=be===""?".":be+":",D(A))for(var Ee=0;Ee<A.length;Ee++){Fe=A[Ee];var Re=be+ue(Fe,Ee);Pe+=K(Fe,X,se,Re,ve)}else if(Re=x(A),typeof Re=="function")for(A=Re.call(A),Ee=0;!(Fe=A.next()).done;)Fe=Fe.value,Re=be+ue(Fe,Ee++),Pe+=K(Fe,X,se,Re,ve);else if(Fe==="object")throw X=String(A),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Pe}function de(A,X,se){if(A==null)return A;var be=[],ve=0;return K(A,be,"","",function(Fe){return X.call(se,Fe,ve++)}),be}function fe(A){if(A._status===-1){var X=A._result;X=X(),X.then(function(se){(A._status===0||A._status===-1)&&(A._status=1,A._result=se)},function(se){(A._status===0||A._status===-1)&&(A._status=2,A._result=se)}),A._status===-1&&(A._status=0,A._result=X)}if(A._status===1)return A._result.default;throw A._result}var ce={current:null},J={transition:null},ie={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:J,ReactCurrentOwner:I};return Le.Children={map:de,forEach:function(A,X,se){de(A,function(){X.apply(this,arguments)},se)},count:function(A){var X=0;return de(A,function(){X++}),X},toArray:function(A){return de(A,function(X){return X})||[]},only:function(A){if(!q(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Le.Component=_,Le.Fragment=n,Le.Profiler=s,Le.PureComponent=T,Le.StrictMode=r,Le.Suspense=d,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Le.cloneElement=function(A,X,se){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var be=b({},A.props),ve=A.key,Fe=A.ref,Pe=A._owner;if(X!=null){if(X.ref!==void 0&&(Fe=X.ref,Pe=I.current),X.key!==void 0&&(ve=""+X.key),A.type&&A.type.defaultProps)var Ee=A.type.defaultProps;for(Re in X)M.call(X,Re)&&!B.hasOwnProperty(Re)&&(be[Re]=X[Re]===void 0&&Ee!==void 0?Ee[Re]:X[Re])}var Re=arguments.length-2;if(Re===1)be.children=se;else if(1<Re){Ee=Array(Re);for(var we=0;we<Re;we++)Ee[we]=arguments[we+2];be.children=Ee}return{$$typeof:t,type:A.type,key:ve,ref:Fe,props:be,_owner:Pe}},Le.createContext=function(A){return A={$$typeof:l,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:a,_context:A},A.Consumer=A},Le.createElement=V,Le.createFactory=function(A){var X=V.bind(null,A);return X.type=A,X},Le.createRef=function(){return{current:null}},Le.forwardRef=function(A){return{$$typeof:c,render:A}},Le.isValidElement=q,Le.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:fe}},Le.memo=function(A,X){return{$$typeof:h,type:A,compare:X===void 0?null:X}},Le.startTransition=function(A){var X=J.transition;J.transition={};try{A()}finally{J.transition=X}},Le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Le.useCallback=function(A,X){return ce.current.useCallback(A,X)},Le.useContext=function(A){return ce.current.useContext(A)},Le.useDebugValue=function(){},Le.useDeferredValue=function(A){return ce.current.useDeferredValue(A)},Le.useEffect=function(A,X){return ce.current.useEffect(A,X)},Le.useId=function(){return ce.current.useId()},Le.useImperativeHandle=function(A,X,se){return ce.current.useImperativeHandle(A,X,se)},Le.useInsertionEffect=function(A,X){return ce.current.useInsertionEffect(A,X)},Le.useLayoutEffect=function(A,X){return ce.current.useLayoutEffect(A,X)},Le.useMemo=function(A,X){return ce.current.useMemo(A,X)},Le.useReducer=function(A,X,se){return ce.current.useReducer(A,X,se)},Le.useRef=function(A){return ce.current.useRef(A)},Le.useState=function(A){return ce.current.useState(A)},Le.useSyncExternalStore=function(A,X,se){return ce.current.useSyncExternalStore(A,X,se)},Le.useTransition=function(){return ce.current.useTransition()},Le.version="18.2.0",Le}var zm;function Uf(){return zm||(zm=1,Cd.exports=f1()),Cd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function h1(){if(Bm)return Ao;Bm=1;var t=Uf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var m,y={},x=null,w=null;h!==void 0&&(x=""+h),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(w=d.ref);for(m in d)r.call(d,m)&&!a.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:x,ref:w,props:y,_owner:s.current}}return Ao.Fragment=n,Ao.jsx=l,Ao.jsxs=l,Ao}var Um;function p1(){return Um||(Um=1,kd.exports=h1()),kd.exports}var f=p1(),E=Uf();const Qn=Bf(E);var Al={},Nd={exports:{}},Xt={},jd={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function m1(){return Hm||(Hm=1,function(t){function e(J,ie){var A=J.length;J.push(ie);e:for(;0<A;){var X=A-1>>>1,se=J[X];if(0<s(se,ie))J[X]=ie,J[A]=se,A=X;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ie=J[0],A=J.pop();if(A!==ie){J[0]=A;e:for(var X=0,se=J.length,be=se>>>1;X<be;){var ve=2*(X+1)-1,Fe=J[ve],Pe=ve+1,Ee=J[Pe];if(0>s(Fe,A))Pe<se&&0>s(Ee,Fe)?(J[X]=Ee,J[Pe]=A,X=Pe):(J[X]=Fe,J[ve]=A,X=ve);else if(Pe<se&&0>s(Ee,A))J[X]=Ee,J[Pe]=A,X=Pe;else break e}}return ie}function s(J,ie){var A=J.sortIndex-ie.sortIndex;return A!==0?A:J.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,y=null,x=3,w=!1,b=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(J){for(var ie=n(h);ie!==null;){if(ie.callback===null)r(h);else if(ie.startTime<=J)r(h),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=n(h)}}function D(J){if(S=!1,P(J),!b)if(n(d)!==null)b=!0,fe(M);else{var ie=n(h);ie!==null&&ce(D,ie.startTime-J)}}function M(J,ie){b=!1,S&&(S=!1,C(V),V=-1),w=!0;var A=x;try{for(P(ie),y=n(d);y!==null&&(!(y.expirationTime>ie)||J&&!te());){var X=y.callback;if(typeof X=="function"){y.callback=null,x=y.priorityLevel;var se=X(y.expirationTime<=ie);ie=t.unstable_now(),typeof se=="function"?y.callback=se:y===n(d)&&r(d),P(ie)}else r(d);y=n(d)}if(y!==null)var be=!0;else{var ve=n(h);ve!==null&&ce(D,ve.startTime-ie),be=!1}return be}finally{y=null,x=A,w=!1}}var I=!1,B=null,V=-1,U=5,q=-1;function te(){return!(t.unstable_now()-q<U)}function ne(){if(B!==null){var J=t.unstable_now();q=J;var ie=!0;try{ie=B(!0,J)}finally{ie?ue():(I=!1,B=null)}}else I=!1}var ue;if(typeof T=="function")ue=function(){T(ne)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,de=K.port2;K.port1.onmessage=ne,ue=function(){de.postMessage(null)}}else ue=function(){_(ne,0)};function fe(J){B=J,I||(I=!0,ue())}function ce(J,ie){V=_(function(){J(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){b||w||(b=!0,fe(M))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(J){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var A=x;x=ie;try{return J()}finally{x=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ie){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var A=x;x=J;try{return ie()}finally{x=A}},t.unstable_scheduleCallback=function(J,ie,A){var X=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?X+A:X):A=X,J){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=A+se,J={id:m++,callback:ie,priorityLevel:J,startTime:A,expirationTime:se,sortIndex:-1},A>X?(J.sortIndex=A,e(h,J),n(d)===null&&J===n(h)&&(S?(C(V),V=-1):S=!0,ce(D,A-X))):(J.sortIndex=se,e(d,J),b||w||(b=!0,fe(M))),J},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(J){var ie=x;return function(){var A=x;x=ie;try{return J.apply(this,arguments)}finally{x=A}}}}(Ed)),Ed}var $m;function g1(){return $m||($m=1,jd.exports=m1()),jd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function y1(){if(Wm)return Xt;Wm=1;var t=Uf(),e=g1();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function x(i){return d.call(y,i)?!0:d.call(m,i)?!1:h.test(i)?y[i]=!0:(m[i]=!0,!1)}function w(i,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,o,u,p){if(o===null||typeof o>"u"||w(i,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(i,o,u,p,g,v,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=k}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];_[o]=new S(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function T(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(C,T);_[o]=new S(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(C,T);_[o]=new S(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(C,T);_[o]=new S(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function P(i,o,u,p){var g=_.hasOwnProperty(o)?_[o]:null;(g!==null?g.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,u,g,p)&&(u=null),p||g===null?x(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,p=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,p?i.setAttributeNS(p,o,u):i.setAttribute(o,u))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),I=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),te=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),J=Symbol.iterator;function ie(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,X;function se(i){if(X===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);X=o&&o[1]||""}return`
`+X+i}var be=!1;function ve(i,o){if(!i||be)return"";be=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(W){var p=W}Reflect.construct(i,[],o)}else{try{o.call()}catch(W){p=W}i.call(o.prototype)}else{try{throw Error()}catch(W){p=W}i()}}catch(W){if(W&&p&&typeof W.stack=="string"){for(var g=W.stack.split(`
`),v=p.stack.split(`
`),k=g.length-1,R=v.length-1;1<=k&&0<=R&&g[k]!==v[R];)R--;for(;1<=k&&0<=R;k--,R--)if(g[k]!==v[R]){if(k!==1||R!==1)do if(k--,R--,0>R||g[k]!==v[R]){var L=`
`+g[k].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=k&&0<=R);break}}}finally{be=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?se(i):""}function Fe(i){switch(i.tag){case 5:return se(i.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return i=ve(i.type,!1),i;case 11:return i=ve(i.type.render,!1),i;case 1:return i=ve(i.type,!0),i;default:return""}}function Pe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case I:return"Portal";case U:return"Profiler";case V:return"StrictMode";case ue:return"Suspense";case K:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case te:return(i.displayName||"Context")+".Consumer";case q:return(i._context.displayName||"Context")+".Provider";case ne:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case de:return o=i.displayName||null,o!==null?o:Pe(i.type)||"Memo";case fe:o=i._payload,i=i._init;try{return Pe(i(o))}catch{}}return null}function Ee(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(o);case 8:return o===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Re(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function we(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function oe(i){var o=we(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(k){p=""+k,v.call(this,k)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(k){p=""+k},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ne(i){i._valueTracker||(i._valueTracker=oe(i))}function Ce(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=we(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function Ae(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Xe(i,o){var u=o.checked;return A({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function ot(i,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=Re(o.value!=null?o.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function at(i,o){o=o.checked,o!=null&&P(i,"checked",o,!1)}function It(i,o){at(i,o);var u=Re(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Xs(i,o.type,u):o.hasOwnProperty("defaultValue")&&Xs(i,o.type,Re(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Cr(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Xs(i,o,u){(o!=="number"||Ae(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Ln=Array.isArray;function pt(i,o,u,p){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&p&&(i[u].defaultSelected=!0)}else{for(u=""+Re(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,p&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function Wi(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return A({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function wa(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Ln(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Re(u)}}function _a(i,o){var u=Re(o.value),p=Re(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function Sa(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ka(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ks(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ka(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ls,Vi=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,p,g)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ls.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Nr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var In={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yi=["Webkit","ms","Moz","O"];Object.keys(In).forEach(function(i){Yi.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),In[o]=In[i]})});function Ca(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||In.hasOwnProperty(i)&&In[i]?(""+o).trim():o+"px"}function Na(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,g=Ca(u,o[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,g):i[u]=g}}var $c=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qi(i,o){if(o){if($c[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Xi(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jr=null;function Ki(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qi=null,Jn=null,er=null;function Qs(i){if(i=xo(i)){if(typeof Qi!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Xa(o),Qi(i.stateNode,i.type,o))}}function ja(i){Jn?er?er.push(i):er=[i]:Jn=i}function Ea(){if(Jn){var i=Jn,o=er;if(er=Jn=null,Qs(i),o)for(i=0;i<o.length;i++)Qs(o[i])}}function Ta(i,o){return i(o)}function Gi(){}var Zi=!1;function Pa(i,o,u){if(Zi)return i(o,u);Zi=!0;try{return Ta(i,o,u)}finally{Zi=!1,(Jn!==null||er!==null)&&(Gi(),Ea())}}function cs(i,o){var u=i.stateNode;if(u===null)return null;var p=Xa(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Er=!1;if(c)try{var us={};Object.defineProperty(us,"passive",{get:function(){Er=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Er=!1}function Wc(i,o,u,p,g,v,k,R,L){var W=Array.prototype.slice.call(arguments,3);try{o.apply(u,W)}catch(Z){this.onError(Z)}}var Tr=!1,Pr=null,Gs=!1,Zs=null,Vc={onError:function(i){Tr=!0,Pr=i}};function Ma(i,o,u,p,g,v,k,R,L){Tr=!1,Pr=null,Wc.apply(Vc,arguments)}function Ra(i,o,u,p,g,v,k,R,L){if(Ma.apply(this,arguments),Tr){if(Tr){var W=Pr;Tr=!1,Pr=null}else throw Error(n(198));Gs||(Gs=!0,Zs=W)}}function Fn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Ji(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Js(i){if(Fn(i)!==i)throw Error(n(188))}function tr(i){var o=i.alternate;if(!o){if(o=Fn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,p=o;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(p=g.return,p!==null){u=p;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return Js(g),i;if(v===p)return Js(g),o;v=v.sibling}throw Error(n(188))}if(u.return!==p.return)u=g,p=v;else{for(var k=!1,R=g.child;R;){if(R===u){k=!0,u=g,p=v;break}if(R===p){k=!0,p=g,u=v;break}R=R.sibling}if(!k){for(R=v.child;R;){if(R===u){k=!0,u=v,p=g;break}if(R===p){k=!0,p=v,u=g;break}R=R.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function Mr(i){return i=tr(i),i!==null?Rr(i):null}function Rr(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Rr(i);if(o!==null)return o;i=i.sibling}return null}var ds=e.unstable_scheduleCallback,ei=e.unstable_cancelCallback,Yc=e.unstable_shouldYield,qc=e.unstable_requestPaint,We=e.unstable_now,Bt=e.unstable_getCurrentPriorityLevel,zn=e.unstable_ImmediatePriority,Sn=e.unstable_UserBlockingPriority,Ut=e.unstable_NormalPriority,fs=e.unstable_LowPriority,nn=e.unstable_IdlePriority,Ht=null,rn=null;function Aa(i){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Ht,i,void 0,(i.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:eo,sn=Math.log,ti=Math.LN2;function eo(i){return i>>>=0,i===0?32:31-(sn(i)/ti|0)|0}var Ar=64,Or=4194304;function nr(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function rr(i,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,g=i.suspendedLanes,v=i.pingedLanes,k=u&268435455;if(k!==0){var R=k&~g;R!==0?p=nr(R):(v&=k,v!==0&&(p=nr(v)))}else k=u&~g,k!==0?p=nr(k):v!==0&&(p=nr(v));if(p===0)return 0;if(o!==0&&o!==p&&(o&g)===0&&(g=p&-p,v=o&-o,g>=v||g===16&&(v&4194240)!==0))return o;if((p&4)!==0&&(p|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=p;0<o;)u=31-jt(o),g=1<<u,p|=i[u],o&=~g;return p}function Bn(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xc(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes;0<v;){var k=31-jt(v),R=1<<k,L=g[k];L===-1?((R&u)===0||(R&p)!==0)&&(g[k]=Bn(R,o)):L<=o&&(i.expiredLanes|=R),v&=~R}}function ni(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ri(){var i=Ar;return Ar<<=1,(Ar&4194240)===0&&(Ar=64),i}function si(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function hs(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-jt(o),i[o]=u}function Kc(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-jt(u),v=1<<g;o[g]=0,p[g]=-1,i[g]=-1,u&=~v}}function N(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-jt(u),g=1<<p;g&o|i[p]&o&&(i[p]|=o),u&=~g}}var j=0;function O(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var $,G,ae,Oe,lt,ct=!1,ft=[],mt=null,Dr=null,Lr=null,to=new Map,no=new Map,Ir=[],Rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bh(i,o){switch(i){case"focusin":case"focusout":mt=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":to.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(o.pointerId)}}function ro(i,o,u,p,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:v,targetContainers:[g]},o!==null&&(o=xo(o),o!==null&&G(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function Av(i,o,u,p,g){switch(o){case"focusin":return mt=ro(mt,i,o,u,p,g),!0;case"dragenter":return Dr=ro(Dr,i,o,u,p,g),!0;case"mouseover":return Lr=ro(Lr,i,o,u,p,g),!0;case"pointerover":var v=g.pointerId;return to.set(v,ro(to.get(v)||null,i,o,u,p,g)),!0;case"gotpointercapture":return v=g.pointerId,no.set(v,ro(no.get(v)||null,i,o,u,p,g)),!0}return!1}function wh(i){var o=ps(i.target);if(o!==null){var u=Fn(o);if(u!==null){if(o=u.tag,o===13){if(o=Ji(u),o!==null){i.blockedOn=o,lt(i.priority,function(){ae(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Oa(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Gc(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);jr=p,u.target.dispatchEvent(p),jr=null}else return o=xo(u),o!==null&&G(o),i.blockedOn=u,!1;o.shift()}return!0}function _h(i,o,u){Oa(i)&&u.delete(o)}function Ov(){ct=!1,mt!==null&&Oa(mt)&&(mt=null),Dr!==null&&Oa(Dr)&&(Dr=null),Lr!==null&&Oa(Lr)&&(Lr=null),to.forEach(_h),no.forEach(_h)}function so(i,o){i.blockedOn===o&&(i.blockedOn=null,ct||(ct=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ov)))}function io(i){function o(g){return so(g,i)}if(0<ft.length){so(ft[0],i);for(var u=1;u<ft.length;u++){var p=ft[u];p.blockedOn===i&&(p.blockedOn=null)}}for(mt!==null&&so(mt,i),Dr!==null&&so(Dr,i),Lr!==null&&so(Lr,i),to.forEach(o),no.forEach(o),u=0;u<Ir.length;u++)p=Ir[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<Ir.length&&(u=Ir[0],u.blockedOn===null);)wh(u),u.blockedOn===null&&Ir.shift()}var ii=D.ReactCurrentBatchConfig,Da=!0;function Dv(i,o,u,p){var g=j,v=ii.transition;ii.transition=null;try{j=1,Qc(i,o,u,p)}finally{j=g,ii.transition=v}}function Lv(i,o,u,p){var g=j,v=ii.transition;ii.transition=null;try{j=4,Qc(i,o,u,p)}finally{j=g,ii.transition=v}}function Qc(i,o,u,p){if(Da){var g=Gc(i,o,u,p);if(g===null)pu(i,o,p,La,u),bh(i,p);else if(Av(g,i,o,u,p))p.stopPropagation();else if(bh(i,p),o&4&&-1<Rv.indexOf(i)){for(;g!==null;){var v=xo(g);if(v!==null&&$(v),v=Gc(i,o,u,p),v===null&&pu(i,o,p,La,u),v===g)break;g=v}g!==null&&p.stopPropagation()}else pu(i,o,p,null,u)}}var La=null;function Gc(i,o,u,p){if(La=null,i=Ki(p),i=ps(i),i!==null)if(o=Fn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Ji(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return La=i,null}function Sh(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bt()){case zn:return 1;case Sn:return 4;case Ut:case fs:return 16;case nn:return 536870912;default:return 16}default:return 16}}var Fr=null,Zc=null,Ia=null;function kh(){if(Ia)return Ia;var i,o=Zc,u=o.length,p,g="value"in Fr?Fr.value:Fr.textContent,v=g.length;for(i=0;i<u&&o[i]===g[i];i++);var k=u-i;for(p=1;p<=k&&o[u-p]===g[v-p];p++);return Ia=g.slice(i,1<p?1-p:void 0)}function Fa(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function za(){return!0}function Ch(){return!1}function on(i){function o(u,p,g,v,k){this._reactName=u,this._targetInst=g,this.type=p,this.nativeEvent=v,this.target=k,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(u=i[R],this[R]=u?u(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?za:Ch,this.isPropagationStopped=Ch,this}return A(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),o}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jc=on(oi),oo=A({},oi,{view:0,detail:0}),Iv=on(oo),eu,tu,ao,Ba=A({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ao&&(ao&&i.type==="mousemove"?(eu=i.screenX-ao.screenX,tu=i.screenY-ao.screenY):tu=eu=0,ao=i),eu)},movementY:function(i){return"movementY"in i?i.movementY:tu}}),Nh=on(Ba),Fv=A({},Ba,{dataTransfer:0}),zv=on(Fv),Bv=A({},oo,{relatedTarget:0}),nu=on(Bv),Uv=A({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Hv=on(Uv),$v=A({},oi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Wv=on($v),Vv=A({},oi,{data:0}),jh=on(Vv),Yv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kv(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Xv[i])?!!o[i]:!1}function ru(){return Kv}var Qv=A({},oo,{key:function(i){if(i.key){var o=Yv[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Fa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?qv[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(i){return i.type==="keypress"?Fa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Gv=on(Qv),Zv=A({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=on(Zv),Jv=A({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),eb=on(Jv),tb=A({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),nb=on(tb),rb=A({},Ba,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),sb=on(rb),ib=[9,13,27,32],su=c&&"CompositionEvent"in window,lo=null;c&&"documentMode"in document&&(lo=document.documentMode);var ob=c&&"TextEvent"in window&&!lo,Th=c&&(!su||lo&&8<lo&&11>=lo),Ph=" ",Mh=!1;function Rh(i,o){switch(i){case"keyup":return ib.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ah(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ai=!1;function ab(i,o){switch(i){case"compositionend":return Ah(o);case"keypress":return o.which!==32?null:(Mh=!0,Ph);case"textInput":return i=o.data,i===Ph&&Mh?null:i;default:return null}}function lb(i,o){if(ai)return i==="compositionend"||!su&&Rh(i,o)?(i=kh(),Ia=Zc=Fr=null,ai=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Th&&o.locale!=="ko"?null:o.data;default:return null}}var cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!cb[i.type]:o==="textarea"}function Dh(i,o,u,p){ja(p),o=Va(o,"onChange"),0<o.length&&(u=new Jc("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var co=null,uo=null;function ub(i){Jh(i,0)}function Ua(i){var o=fi(i);if(Ce(o))return i}function db(i,o){if(i==="change")return o}var Lh=!1;if(c){var iu;if(c){var ou="oninput"in document;if(!ou){var Ih=document.createElement("div");Ih.setAttribute("oninput","return;"),ou=typeof Ih.oninput=="function"}iu=ou}else iu=!1;Lh=iu&&(!document.documentMode||9<document.documentMode)}function Fh(){co&&(co.detachEvent("onpropertychange",zh),uo=co=null)}function zh(i){if(i.propertyName==="value"&&Ua(uo)){var o=[];Dh(o,uo,i,Ki(i)),Pa(ub,o)}}function fb(i,o,u){i==="focusin"?(Fh(),co=o,uo=u,co.attachEvent("onpropertychange",zh)):i==="focusout"&&Fh()}function hb(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ua(uo)}function pb(i,o){if(i==="click")return Ua(o)}function mb(i,o){if(i==="input"||i==="change")return Ua(o)}function gb(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var kn=typeof Object.is=="function"?Object.is:gb;function fo(i,o){if(kn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var g=u[p];if(!d.call(o,g)||!kn(i[g],o[g]))return!1}return!0}function Bh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Uh(i,o){var u=Bh(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Bh(u)}}function Hh(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Hh(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function $h(){for(var i=window,o=Ae();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Ae(i.document)}return o}function au(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function yb(i){var o=$h(),u=i.focusedElem,p=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Hh(u.ownerDocument.documentElement,u)){if(p!==null&&au(u)){if(o=p.start,i=p.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,v=Math.min(p.start,g);p=p.end===void 0?v:Math.min(p.end,g),!i.extend&&v>p&&(g=p,p=v,v=g),g=Uh(u,v);var k=Uh(u,p);g&&k&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),v>p?(i.addRange(o),i.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var xb=c&&"documentMode"in document&&11>=document.documentMode,li=null,lu=null,ho=null,cu=!1;function Wh(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;cu||li==null||li!==Ae(p)||(p=li,"selectionStart"in p&&au(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ho&&fo(ho,p)||(ho=p,p=Va(lu,"onSelect"),0<p.length&&(o=new Jc("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=li)))}function Ha(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ci={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},uu={},Vh={};c&&(Vh=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function $a(i){if(uu[i])return uu[i];if(!ci[i])return i;var o=ci[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Vh)return uu[i]=o[u];return i}var Yh=$a("animationend"),qh=$a("animationiteration"),Xh=$a("animationstart"),Kh=$a("transitionend"),Qh=new Map,Gh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(i,o){Qh.set(i,o),a(o,[i])}for(var du=0;du<Gh.length;du++){var fu=Gh[du],vb=fu.toLowerCase(),bb=fu[0].toUpperCase()+fu.slice(1);zr(vb,"on"+bb)}zr(Yh,"onAnimationEnd"),zr(qh,"onAnimationIteration"),zr(Xh,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Kh,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function Zh(i,o,u){var p=i.type||"unknown-event";i.currentTarget=u,Ra(p,o,void 0,i),i.currentTarget=null}function Jh(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],g=p.event;p=p.listeners;e:{var v=void 0;if(o)for(var k=p.length-1;0<=k;k--){var R=p[k],L=R.instance,W=R.currentTarget;if(R=R.listener,L!==v&&g.isPropagationStopped())break e;Zh(g,R,W),v=L}else for(k=0;k<p.length;k++){if(R=p[k],L=R.instance,W=R.currentTarget,R=R.listener,L!==v&&g.isPropagationStopped())break e;Zh(g,R,W),v=L}}}if(Gs)throw i=Zs,Gs=!1,Zs=null,i}function Ye(i,o){var u=o[bu];u===void 0&&(u=o[bu]=new Set);var p=i+"__bubble";u.has(p)||(ep(o,i,2,!1),u.add(p))}function hu(i,o,u){var p=0;o&&(p|=4),ep(u,i,p,o)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function mo(i){if(!i[Wa]){i[Wa]=!0,r.forEach(function(u){u!=="selectionchange"&&(wb.has(u)||hu(u,!1,i),hu(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Wa]||(o[Wa]=!0,hu("selectionchange",!1,o))}}function ep(i,o,u,p){switch(Sh(o)){case 1:var g=Dv;break;case 4:g=Lv;break;default:g=Qc}u=g.bind(null,o,u,i),g=void 0,!Er||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function pu(i,o,u,p,g){var v=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var R=p.stateNode.containerInfo;if(R===g||R.nodeType===8&&R.parentNode===g)break;if(k===4)for(k=p.return;k!==null;){var L=k.tag;if((L===3||L===4)&&(L=k.stateNode.containerInfo,L===g||L.nodeType===8&&L.parentNode===g))return;k=k.return}for(;R!==null;){if(k=ps(R),k===null)return;if(L=k.tag,L===5||L===6){p=v=k;continue e}R=R.parentNode}}p=p.return}Pa(function(){var W=v,Z=Ki(u),ee=[];e:{var Q=Qh.get(i);if(Q!==void 0){var le=Jc,me=i;switch(i){case"keypress":if(Fa(u)===0)break e;case"keydown":case"keyup":le=Gv;break;case"focusin":me="focus",le=nu;break;case"focusout":me="blur",le=nu;break;case"beforeblur":case"afterblur":le=nu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=zv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=eb;break;case Yh:case qh:case Xh:le=Hv;break;case Kh:le=nb;break;case"scroll":le=Iv;break;case"wheel":le=sb;break;case"copy":case"cut":case"paste":le=Wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Eh}var ye=(o&4)!==0,ut=!ye&&i==="scroll",z=ye?Q!==null?Q+"Capture":null:Q;ye=[];for(var F=W,H;F!==null;){H=F;var re=H.stateNode;if(H.tag===5&&re!==null&&(H=re,z!==null&&(re=cs(F,z),re!=null&&ye.push(go(F,re,H)))),ut)break;F=F.return}0<ye.length&&(Q=new le(Q,me,null,u,Z),ee.push({event:Q,listeners:ye}))}}if((o&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",Q&&u!==jr&&(me=u.relatedTarget||u.fromElement)&&(ps(me)||me[sr]))break e;if((le||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,le?(me=u.relatedTarget||u.toElement,le=W,me=me?ps(me):null,me!==null&&(ut=Fn(me),me!==ut||me.tag!==5&&me.tag!==6)&&(me=null)):(le=null,me=W),le!==me)){if(ye=Nh,re="onMouseLeave",z="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(ye=Eh,re="onPointerLeave",z="onPointerEnter",F="pointer"),ut=le==null?Q:fi(le),H=me==null?Q:fi(me),Q=new ye(re,F+"leave",le,u,Z),Q.target=ut,Q.relatedTarget=H,re=null,ps(Z)===W&&(ye=new ye(z,F+"enter",me,u,Z),ye.target=H,ye.relatedTarget=ut,re=ye),ut=re,le&&me)t:{for(ye=le,z=me,F=0,H=ye;H;H=ui(H))F++;for(H=0,re=z;re;re=ui(re))H++;for(;0<F-H;)ye=ui(ye),F--;for(;0<H-F;)z=ui(z),H--;for(;F--;){if(ye===z||z!==null&&ye===z.alternate)break t;ye=ui(ye),z=ui(z)}ye=null}else ye=null;le!==null&&tp(ee,Q,le,ye,!1),me!==null&&ut!==null&&tp(ee,ut,me,ye,!0)}}e:{if(Q=W?fi(W):window,le=Q.nodeName&&Q.nodeName.toLowerCase(),le==="select"||le==="input"&&Q.type==="file")var xe=db;else if(Oh(Q))if(Lh)xe=mb;else{xe=hb;var _e=fb}else(le=Q.nodeName)&&le.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(xe=pb);if(xe&&(xe=xe(i,W))){Dh(ee,xe,u,Z);break e}_e&&_e(i,Q,W),i==="focusout"&&(_e=Q._wrapperState)&&_e.controlled&&Q.type==="number"&&Xs(Q,"number",Q.value)}switch(_e=W?fi(W):window,i){case"focusin":(Oh(_e)||_e.contentEditable==="true")&&(li=_e,lu=W,ho=null);break;case"focusout":ho=lu=li=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,Wh(ee,u,Z);break;case"selectionchange":if(xb)break;case"keydown":case"keyup":Wh(ee,u,Z)}var Se;if(su)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ai?Rh(i,u)&&(je="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(je="onCompositionStart");je&&(Th&&u.locale!=="ko"&&(ai||je!=="onCompositionStart"?je==="onCompositionEnd"&&ai&&(Se=kh()):(Fr=Z,Zc="value"in Fr?Fr.value:Fr.textContent,ai=!0)),_e=Va(W,je),0<_e.length&&(je=new jh(je,i,null,u,Z),ee.push({event:je,listeners:_e}),Se?je.data=Se:(Se=Ah(u),Se!==null&&(je.data=Se)))),(Se=ob?ab(i,u):lb(i,u))&&(W=Va(W,"onBeforeInput"),0<W.length&&(Z=new jh("onBeforeInput","beforeinput",null,u,Z),ee.push({event:Z,listeners:W}),Z.data=Se))}Jh(ee,o)})}function go(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Va(i,o){for(var u=o+"Capture",p=[];i!==null;){var g=i,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=cs(i,u),v!=null&&p.unshift(go(i,v,g)),v=cs(i,o),v!=null&&p.push(go(i,v,g))),i=i.return}return p}function ui(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function tp(i,o,u,p,g){for(var v=o._reactName,k=[];u!==null&&u!==p;){var R=u,L=R.alternate,W=R.stateNode;if(L!==null&&L===p)break;R.tag===5&&W!==null&&(R=W,g?(L=cs(u,v),L!=null&&k.unshift(go(u,L,R))):g||(L=cs(u,v),L!=null&&k.push(go(u,L,R)))),u=u.return}k.length!==0&&i.push({event:o,listeners:k})}var _b=/\r\n?/g,Sb=/\u0000|\uFFFD/g;function np(i){return(typeof i=="string"?i:""+i).replace(_b,`
`).replace(Sb,"")}function Ya(i,o,u){if(o=np(o),np(i)!==o&&u)throw Error(n(425))}function qa(){}var mu=null,gu=null;function yu(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var xu=typeof setTimeout=="function"?setTimeout:void 0,kb=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(i){return rp.resolve(null).then(i).catch(Nb)}:xu;function Nb(i){setTimeout(function(){throw i})}function vu(i,o){var u=o,p=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(p===0){i.removeChild(g),io(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=g}while(u);io(o)}function Br(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function sp(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var di=Math.random().toString(36).slice(2),Un="__reactFiber$"+di,yo="__reactProps$"+di,sr="__reactContainer$"+di,bu="__reactEvents$"+di,jb="__reactListeners$"+di,Eb="__reactHandles$"+di;function ps(i){var o=i[Un];if(o)return o;for(var u=i.parentNode;u;){if(o=u[sr]||u[Un]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=sp(i);i!==null;){if(u=i[Un])return u;i=sp(i)}return o}i=u,u=i.parentNode}return null}function xo(i){return i=i[Un]||i[sr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function fi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Xa(i){return i[yo]||null}var wu=[],hi=-1;function Ur(i){return{current:i}}function qe(i){0>hi||(i.current=wu[hi],wu[hi]=null,hi--)}function Ve(i,o){hi++,wu[hi]=i.current,i.current=o}var Hr={},Et=Ur(Hr),$t=Ur(!1),ms=Hr;function pi(i,o){var u=i.type.contextTypes;if(!u)return Hr;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in u)g[v]=o[v];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function Wt(i){return i=i.childContextTypes,i!=null}function Ka(){qe($t),qe(Et)}function ip(i,o,u){if(Et.current!==Hr)throw Error(n(168));Ve(Et,o),Ve($t,u)}function op(i,o,u){var p=i.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var g in p)if(!(g in o))throw Error(n(108,Ee(i)||"Unknown",g));return A({},u,p)}function Qa(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Hr,ms=Et.current,Ve(Et,i),Ve($t,$t.current),!0}function ap(i,o,u){var p=i.stateNode;if(!p)throw Error(n(169));u?(i=op(i,o,ms),p.__reactInternalMemoizedMergedChildContext=i,qe($t),qe(Et),Ve(Et,i)):qe($t),Ve($t,u)}var ir=null,Ga=!1,_u=!1;function lp(i){ir===null?ir=[i]:ir.push(i)}function Tb(i){Ga=!0,lp(i)}function $r(){if(!_u&&ir!==null){_u=!0;var i=0,o=j;try{var u=ir;for(j=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}ir=null,Ga=!1}catch(g){throw ir!==null&&(ir=ir.slice(i+1)),ds(zn,$r),g}finally{j=o,_u=!1}}return null}var mi=[],gi=0,Za=null,Ja=0,fn=[],hn=0,gs=null,or=1,ar="";function ys(i,o){mi[gi++]=Ja,mi[gi++]=Za,Za=i,Ja=o}function cp(i,o,u){fn[hn++]=or,fn[hn++]=ar,fn[hn++]=gs,gs=i;var p=or;i=ar;var g=32-jt(p)-1;p&=~(1<<g),u+=1;var v=32-jt(o)+g;if(30<v){var k=g-g%5;v=(p&(1<<k)-1).toString(32),p>>=k,g-=k,or=1<<32-jt(o)+g|u<<g|p,ar=v+i}else or=1<<v|u<<g|p,ar=i}function Su(i){i.return!==null&&(ys(i,1),cp(i,1,0))}function ku(i){for(;i===Za;)Za=mi[--gi],mi[gi]=null,Ja=mi[--gi],mi[gi]=null;for(;i===gs;)gs=fn[--hn],fn[hn]=null,ar=fn[--hn],fn[hn]=null,or=fn[--hn],fn[hn]=null}var an=null,ln=null,Ke=!1,Cn=null;function up(i,o){var u=yn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function dp(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,an=i,ln=Br(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,an=i,ln=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=gs!==null?{id:or,overflow:ar}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=yn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,an=i,ln=null,!0):!1;default:return!1}}function Cu(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Nu(i){if(Ke){var o=ln;if(o){var u=o;if(!dp(i,o)){if(Cu(i))throw Error(n(418));o=Br(u.nextSibling);var p=an;o&&dp(i,o)?up(p,u):(i.flags=i.flags&-4097|2,Ke=!1,an=i)}}else{if(Cu(i))throw Error(n(418));i.flags=i.flags&-4097|2,Ke=!1,an=i}}}function fp(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;an=i}function el(i){if(i!==an)return!1;if(!Ke)return fp(i),Ke=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!yu(i.type,i.memoizedProps)),o&&(o=ln)){if(Cu(i))throw hp(),Error(n(418));for(;o;)up(i,o),o=Br(o.nextSibling)}if(fp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){ln=Br(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}ln=null}}else ln=an?Br(i.stateNode.nextSibling):null;return!0}function hp(){for(var i=ln;i;)i=Br(i.nextSibling)}function yi(){ln=an=null,Ke=!1}function ju(i){Cn===null?Cn=[i]:Cn.push(i)}var Pb=D.ReactCurrentBatchConfig;function Nn(i,o){if(i&&i.defaultProps){o=A({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}var tl=Ur(null),nl=null,xi=null,Eu=null;function Tu(){Eu=xi=nl=null}function Pu(i){var o=tl.current;qe(tl),i._currentValue=o}function Mu(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function vi(i,o){nl=i,Eu=xi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Vt=!0),i.firstContext=null)}function pn(i){var o=i._currentValue;if(Eu!==i)if(i={context:i,memoizedValue:o,next:null},xi===null){if(nl===null)throw Error(n(308));xi=i,nl.dependencies={lanes:0,firstContext:i}}else xi=xi.next=i;return o}var xs=null;function Ru(i){xs===null?xs=[i]:xs.push(i)}function pp(i,o,u,p){var g=o.interleaved;return g===null?(u.next=u,Ru(o)):(u.next=g.next,g.next=u),o.interleaved=u,lr(i,p)}function lr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Wr=!1;function Au(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mp(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function cr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Vr(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Be&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,lr(i,u)}return g=p.interleaved,g===null?(o.next=o,Ru(p)):(o.next=g.next,g.next=o),p.interleaved=o,lr(i,u)}function rl(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,N(i,u)}}function gp(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?g=v=k:v=v.next=k,u=u.next}while(u!==null);v===null?g=v=o:v=v.next=o}else g=v=o;u={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function sl(i,o,u,p){var g=i.updateQueue;Wr=!1;var v=g.firstBaseUpdate,k=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var L=R,W=L.next;L.next=null,k===null?v=W:k.next=W,k=L;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,R=Z.lastBaseUpdate,R!==k&&(R===null?Z.firstBaseUpdate=W:R.next=W,Z.lastBaseUpdate=L))}if(v!==null){var ee=g.baseState;k=0,Z=W=L=null,R=v;do{var Q=R.lane,le=R.eventTime;if((p&Q)===Q){Z!==null&&(Z=Z.next={eventTime:le,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var me=i,ye=R;switch(Q=o,le=u,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){ee=me.call(le,ee,Q);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,Q=typeof me=="function"?me.call(le,ee,Q):me,Q==null)break e;ee=A({},ee,Q);break e;case 2:Wr=!0}}R.callback!==null&&R.lane!==0&&(i.flags|=64,Q=g.effects,Q===null?g.effects=[R]:Q.push(R))}else le={eventTime:le,lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Z===null?(W=Z=le,L=ee):Z=Z.next=le,k|=Q;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;Q=R,R=Q.next,Q.next=null,g.lastBaseUpdate=Q,g.shared.pending=null}}while(!0);if(Z===null&&(L=ee),g.baseState=L,g.firstBaseUpdate=W,g.lastBaseUpdate=Z,o=g.shared.interleaved,o!==null){g=o;do k|=g.lane,g=g.next;while(g!==o)}else v===null&&(g.shared.lanes=0);ws|=k,i.lanes=k,i.memoizedState=ee}}function yp(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var p=i[o],g=p.callback;if(g!==null){if(p.callback=null,p=u,typeof g!="function")throw Error(n(191,g));g.call(p)}}}var xp=new t.Component().refs;function Ou(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:A({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var il={isMounted:function(i){return(i=i._reactInternals)?Fn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var p=zt(),g=Kr(i),v=cr(p,g);v.payload=o,u!=null&&(v.callback=u),o=Vr(i,v,g),o!==null&&(Tn(o,i,g,p),rl(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=zt(),g=Kr(i),v=cr(p,g);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Vr(i,v,g),o!==null&&(Tn(o,i,g,p),rl(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=zt(),p=Kr(i),g=cr(u,p);g.tag=2,o!=null&&(g.callback=o),o=Vr(i,g,p),o!==null&&(Tn(o,i,p,u),rl(o,i,p))}};function vp(i,o,u,p,g,v,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,v,k):o.prototype&&o.prototype.isPureReactComponent?!fo(u,p)||!fo(g,v):!0}function bp(i,o,u){var p=!1,g=Hr,v=o.contextType;return typeof v=="object"&&v!==null?v=pn(v):(g=Wt(o)?ms:Et.current,p=o.contextTypes,v=(p=p!=null)?pi(i,g):Hr),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=il,i.stateNode=o,o._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=v),o}function wp(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&il.enqueueReplaceState(o,o.state,null)}function Du(i,o,u,p){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs=xp,Au(i);var v=o.contextType;typeof v=="object"&&v!==null?g.context=pn(v):(v=Wt(o)?ms:Et.current,g.context=pi(i,v)),g.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Ou(i,o,v,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&il.enqueueReplaceState(g,g.state,null),sl(i,u,g,p),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function vo(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,i));var g=p,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(k){var R=g.refs;R===xp&&(R=g.refs={}),k===null?delete R[v]:R[v]=k},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function ol(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function _p(i){var o=i._init;return o(i._payload)}function Sp(i){function o(z,F){if(i){var H=z.deletions;H===null?(z.deletions=[F],z.flags|=16):H.push(F)}}function u(z,F){if(!i)return null;for(;F!==null;)o(z,F),F=F.sibling;return null}function p(z,F){for(z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function g(z,F){return z=Gr(z,F),z.index=0,z.sibling=null,z}function v(z,F,H){return z.index=H,i?(H=z.alternate,H!==null?(H=H.index,H<F?(z.flags|=2,F):H):(z.flags|=2,F)):(z.flags|=1048576,F)}function k(z){return i&&z.alternate===null&&(z.flags|=2),z}function R(z,F,H,re){return F===null||F.tag!==6?(F=xd(H,z.mode,re),F.return=z,F):(F=g(F,H),F.return=z,F)}function L(z,F,H,re){var xe=H.type;return xe===B?Z(z,F,H.props.children,re,H.key):F!==null&&(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===fe&&_p(xe)===F.type)?(re=g(F,H.props),re.ref=vo(z,F,H),re.return=z,re):(re=Cl(H.type,H.key,H.props,null,z.mode,re),re.ref=vo(z,F,H),re.return=z,re)}function W(z,F,H,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=vd(H,z.mode,re),F.return=z,F):(F=g(F,H.children||[]),F.return=z,F)}function Z(z,F,H,re,xe){return F===null||F.tag!==7?(F=Cs(H,z.mode,re,xe),F.return=z,F):(F=g(F,H),F.return=z,F)}function ee(z,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=xd(""+F,z.mode,H),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case M:return H=Cl(F.type,F.key,F.props,null,z.mode,H),H.ref=vo(z,null,F),H.return=z,H;case I:return F=vd(F,z.mode,H),F.return=z,F;case fe:var re=F._init;return ee(z,re(F._payload),H)}if(Ln(F)||ie(F))return F=Cs(F,z.mode,H,null),F.return=z,F;ol(z,F)}return null}function Q(z,F,H,re){var xe=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return xe!==null?null:R(z,F,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return H.key===xe?L(z,F,H,re):null;case I:return H.key===xe?W(z,F,H,re):null;case fe:return xe=H._init,Q(z,F,xe(H._payload),re)}if(Ln(H)||ie(H))return xe!==null?null:Z(z,F,H,re,null);ol(z,H)}return null}function le(z,F,H,re,xe){if(typeof re=="string"&&re!==""||typeof re=="number")return z=z.get(H)||null,R(F,z,""+re,xe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case M:return z=z.get(re.key===null?H:re.key)||null,L(F,z,re,xe);case I:return z=z.get(re.key===null?H:re.key)||null,W(F,z,re,xe);case fe:var _e=re._init;return le(z,F,H,_e(re._payload),xe)}if(Ln(re)||ie(re))return z=z.get(H)||null,Z(F,z,re,xe,null);ol(F,re)}return null}function me(z,F,H,re){for(var xe=null,_e=null,Se=F,je=F=0,wt=null;Se!==null&&je<H.length;je++){Se.index>je?(wt=Se,Se=null):wt=Se.sibling;var Ue=Q(z,Se,H[je],re);if(Ue===null){Se===null&&(Se=wt);break}i&&Se&&Ue.alternate===null&&o(z,Se),F=v(Ue,F,je),_e===null?xe=Ue:_e.sibling=Ue,_e=Ue,Se=wt}if(je===H.length)return u(z,Se),Ke&&ys(z,je),xe;if(Se===null){for(;je<H.length;je++)Se=ee(z,H[je],re),Se!==null&&(F=v(Se,F,je),_e===null?xe=Se:_e.sibling=Se,_e=Se);return Ke&&ys(z,je),xe}for(Se=p(z,Se);je<H.length;je++)wt=le(Se,z,je,H[je],re),wt!==null&&(i&&wt.alternate!==null&&Se.delete(wt.key===null?je:wt.key),F=v(wt,F,je),_e===null?xe=wt:_e.sibling=wt,_e=wt);return i&&Se.forEach(function(Zr){return o(z,Zr)}),Ke&&ys(z,je),xe}function ye(z,F,H,re){var xe=ie(H);if(typeof xe!="function")throw Error(n(150));if(H=xe.call(H),H==null)throw Error(n(151));for(var _e=xe=null,Se=F,je=F=0,wt=null,Ue=H.next();Se!==null&&!Ue.done;je++,Ue=H.next()){Se.index>je?(wt=Se,Se=null):wt=Se.sibling;var Zr=Q(z,Se,Ue.value,re);if(Zr===null){Se===null&&(Se=wt);break}i&&Se&&Zr.alternate===null&&o(z,Se),F=v(Zr,F,je),_e===null?xe=Zr:_e.sibling=Zr,_e=Zr,Se=wt}if(Ue.done)return u(z,Se),Ke&&ys(z,je),xe;if(Se===null){for(;!Ue.done;je++,Ue=H.next())Ue=ee(z,Ue.value,re),Ue!==null&&(F=v(Ue,F,je),_e===null?xe=Ue:_e.sibling=Ue,_e=Ue);return Ke&&ys(z,je),xe}for(Se=p(z,Se);!Ue.done;je++,Ue=H.next())Ue=le(Se,z,je,Ue.value,re),Ue!==null&&(i&&Ue.alternate!==null&&Se.delete(Ue.key===null?je:Ue.key),F=v(Ue,F,je),_e===null?xe=Ue:_e.sibling=Ue,_e=Ue);return i&&Se.forEach(function(c1){return o(z,c1)}),Ke&&ys(z,je),xe}function ut(z,F,H,re){if(typeof H=="object"&&H!==null&&H.type===B&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case M:e:{for(var xe=H.key,_e=F;_e!==null;){if(_e.key===xe){if(xe=H.type,xe===B){if(_e.tag===7){u(z,_e.sibling),F=g(_e,H.props.children),F.return=z,z=F;break e}}else if(_e.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===fe&&_p(xe)===_e.type){u(z,_e.sibling),F=g(_e,H.props),F.ref=vo(z,_e,H),F.return=z,z=F;break e}u(z,_e);break}else o(z,_e);_e=_e.sibling}H.type===B?(F=Cs(H.props.children,z.mode,re,H.key),F.return=z,z=F):(re=Cl(H.type,H.key,H.props,null,z.mode,re),re.ref=vo(z,F,H),re.return=z,z=re)}return k(z);case I:e:{for(_e=H.key;F!==null;){if(F.key===_e)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){u(z,F.sibling),F=g(F,H.children||[]),F.return=z,z=F;break e}else{u(z,F);break}else o(z,F);F=F.sibling}F=vd(H,z.mode,re),F.return=z,z=F}return k(z);case fe:return _e=H._init,ut(z,F,_e(H._payload),re)}if(Ln(H))return me(z,F,H,re);if(ie(H))return ye(z,F,H,re);ol(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(u(z,F.sibling),F=g(F,H),F.return=z,z=F):(u(z,F),F=xd(H,z.mode,re),F.return=z,z=F),k(z)):u(z,F)}return ut}var bi=Sp(!0),kp=Sp(!1),bo={},Hn=Ur(bo),wo=Ur(bo),_o=Ur(bo);function vs(i){if(i===bo)throw Error(n(174));return i}function Lu(i,o){switch(Ve(_o,o),Ve(wo,i),Ve(Hn,bo),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ks(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Ks(o,i)}qe(Hn),Ve(Hn,o)}function wi(){qe(Hn),qe(wo),qe(_o)}function Cp(i){vs(_o.current);var o=vs(Hn.current),u=Ks(o,i.type);o!==u&&(Ve(wo,i),Ve(Hn,u))}function Iu(i){wo.current===i&&(qe(Hn),qe(wo))}var Ze=Ur(0);function al(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Fu=[];function zu(){for(var i=0;i<Fu.length;i++)Fu[i]._workInProgressVersionPrimary=null;Fu.length=0}var ll=D.ReactCurrentDispatcher,Bu=D.ReactCurrentBatchConfig,bs=0,Je=null,gt=null,vt=null,cl=!1,So=!1,ko=0,Mb=0;function Tt(){throw Error(n(321))}function Uu(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!kn(i[u],o[u]))return!1;return!0}function Hu(i,o,u,p,g,v){if(bs=v,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ll.current=i===null||i.memoizedState===null?Db:Lb,i=u(p,g),So){v=0;do{if(So=!1,ko=0,25<=v)throw Error(n(301));v+=1,vt=gt=null,o.updateQueue=null,ll.current=Ib,i=u(p,g)}while(So)}if(ll.current=fl,o=gt!==null&&gt.next!==null,bs=0,vt=gt=Je=null,cl=!1,o)throw Error(n(300));return i}function $u(){var i=ko!==0;return ko=0,i}function $n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Je.memoizedState=vt=i:vt=vt.next=i,vt}function mn(){if(gt===null){var i=Je.alternate;i=i!==null?i.memoizedState:null}else i=gt.next;var o=vt===null?Je.memoizedState:vt.next;if(o!==null)vt=o,gt=i;else{if(i===null)throw Error(n(310));gt=i,i={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},vt===null?Je.memoizedState=vt=i:vt=vt.next=i}return vt}function Co(i,o){return typeof o=="function"?o(i):o}function Wu(i){var o=mn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=gt,g=p.baseQueue,v=u.pending;if(v!==null){if(g!==null){var k=g.next;g.next=v.next,v.next=k}p.baseQueue=g=v,u.pending=null}if(g!==null){v=g.next,p=p.baseState;var R=k=null,L=null,W=v;do{var Z=W.lane;if((bs&Z)===Z)L!==null&&(L=L.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),p=W.hasEagerState?W.eagerState:i(p,W.action);else{var ee={lane:Z,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};L===null?(R=L=ee,k=p):L=L.next=ee,Je.lanes|=Z,ws|=Z}W=W.next}while(W!==null&&W!==v);L===null?k=p:L.next=R,kn(p,o.memoizedState)||(Vt=!0),o.memoizedState=p,o.baseState=k,o.baseQueue=L,u.lastRenderedState=p}if(i=u.interleaved,i!==null){g=i;do v=g.lane,Je.lanes|=v,ws|=v,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Vu(i){var o=mn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=u.dispatch,g=u.pending,v=o.memoizedState;if(g!==null){u.pending=null;var k=g=g.next;do v=i(v,k.action),k=k.next;while(k!==g);kn(v,o.memoizedState)||(Vt=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,p]}function Np(){}function jp(i,o){var u=Je,p=mn(),g=o(),v=!kn(p.memoizedState,g);if(v&&(p.memoizedState=g,Vt=!0),p=p.queue,Yu(Pp.bind(null,u,p,i),[i]),p.getSnapshot!==o||v||vt!==null&&vt.memoizedState.tag&1){if(u.flags|=2048,No(9,Tp.bind(null,u,p,g,o),void 0,null),bt===null)throw Error(n(349));(bs&30)!==0||Ep(u,o,g)}return g}function Ep(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Je.updateQueue,o===null?(o={lastEffect:null,stores:null},Je.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Tp(i,o,u,p){o.value=u,o.getSnapshot=p,Mp(o)&&Rp(i)}function Pp(i,o,u){return u(function(){Mp(o)&&Rp(i)})}function Mp(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!kn(i,u)}catch{return!0}}function Rp(i){var o=lr(i,1);o!==null&&Tn(o,i,1,-1)}function Ap(i){var o=$n();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:i},o.queue=i,i=i.dispatch=Ob.bind(null,Je,i),[o.memoizedState,i]}function No(i,o,u,p){return i={tag:i,create:o,destroy:u,deps:p,next:null},o=Je.updateQueue,o===null?(o={lastEffect:null,stores:null},Je.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i)),i}function Op(){return mn().memoizedState}function ul(i,o,u,p){var g=$n();Je.flags|=i,g.memoizedState=No(1|o,u,void 0,p===void 0?null:p)}function dl(i,o,u,p){var g=mn();p=p===void 0?null:p;var v=void 0;if(gt!==null){var k=gt.memoizedState;if(v=k.destroy,p!==null&&Uu(p,k.deps)){g.memoizedState=No(o,u,v,p);return}}Je.flags|=i,g.memoizedState=No(1|o,u,v,p)}function Dp(i,o){return ul(8390656,8,i,o)}function Yu(i,o){return dl(2048,8,i,o)}function Lp(i,o){return dl(4,2,i,o)}function Ip(i,o){return dl(4,4,i,o)}function Fp(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function zp(i,o,u){return u=u!=null?u.concat([i]):null,dl(4,4,Fp.bind(null,o,i),u)}function qu(){}function Bp(i,o){var u=mn();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Uu(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function Up(i,o){var u=mn();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Uu(o,p[1])?p[0]:(i=i(),u.memoizedState=[i,o],i)}function Hp(i,o,u){return(bs&21)===0?(i.baseState&&(i.baseState=!1,Vt=!0),i.memoizedState=u):(kn(u,o)||(u=ri(),Je.lanes|=u,ws|=u,i.baseState=!0),o)}function Rb(i,o){var u=j;j=u!==0&&4>u?u:4,i(!0);var p=Bu.transition;Bu.transition={};try{i(!1),o()}finally{j=u,Bu.transition=p}}function $p(){return mn().memoizedState}function Ab(i,o,u){var p=Kr(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},Wp(i))Vp(o,u);else if(u=pp(i,o,u,p),u!==null){var g=zt();Tn(u,i,p,g),Yp(u,o,p)}}function Ob(i,o,u){var p=Kr(i),g={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(Wp(i))Vp(o,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var k=o.lastRenderedState,R=v(k,u);if(g.hasEagerState=!0,g.eagerState=R,kn(R,k)){var L=o.interleaved;L===null?(g.next=g,Ru(o)):(g.next=L.next,L.next=g),o.interleaved=g;return}}catch{}finally{}u=pp(i,o,g,p),u!==null&&(g=zt(),Tn(u,i,p,g),Yp(u,o,p))}}function Wp(i){var o=i.alternate;return i===Je||o!==null&&o===Je}function Vp(i,o){So=cl=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Yp(i,o,u){if((u&4194240)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,N(i,u)}}var fl={readContext:pn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},Db={readContext:pn,useCallback:function(i,o){return $n().memoizedState=[i,o===void 0?null:o],i},useContext:pn,useEffect:Dp,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,ul(4194308,4,Fp.bind(null,o,i),u)},useLayoutEffect:function(i,o){return ul(4194308,4,i,o)},useInsertionEffect:function(i,o){return ul(4,2,i,o)},useMemo:function(i,o){var u=$n();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var p=$n();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},p.queue=i,i=i.dispatch=Ab.bind(null,Je,i),[p.memoizedState,i]},useRef:function(i){var o=$n();return i={current:i},o.memoizedState=i},useState:Ap,useDebugValue:qu,useDeferredValue:function(i){return $n().memoizedState=i},useTransition:function(){var i=Ap(!1),o=i[0];return i=Rb.bind(null,i[1]),$n().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var p=Je,g=$n();if(Ke){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),bt===null)throw Error(n(349));(bs&30)!==0||Ep(p,o,u)}g.memoizedState=u;var v={value:u,getSnapshot:o};return g.queue=v,Dp(Pp.bind(null,p,v,i),[i]),p.flags|=2048,No(9,Tp.bind(null,p,v,u,o),void 0,null),u},useId:function(){var i=$n(),o=bt.identifierPrefix;if(Ke){var u=ar,p=or;u=(p&~(1<<32-jt(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=ko++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Mb++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Lb={readContext:pn,useCallback:Bp,useContext:pn,useEffect:Yu,useImperativeHandle:zp,useInsertionEffect:Lp,useLayoutEffect:Ip,useMemo:Up,useReducer:Wu,useRef:Op,useState:function(){return Wu(Co)},useDebugValue:qu,useDeferredValue:function(i){var o=mn();return Hp(o,gt.memoizedState,i)},useTransition:function(){var i=Wu(Co)[0],o=mn().memoizedState;return[i,o]},useMutableSource:Np,useSyncExternalStore:jp,useId:$p,unstable_isNewReconciler:!1},Ib={readContext:pn,useCallback:Bp,useContext:pn,useEffect:Yu,useImperativeHandle:zp,useInsertionEffect:Lp,useLayoutEffect:Ip,useMemo:Up,useReducer:Vu,useRef:Op,useState:function(){return Vu(Co)},useDebugValue:qu,useDeferredValue:function(i){var o=mn();return gt===null?o.memoizedState=i:Hp(o,gt.memoizedState,i)},useTransition:function(){var i=Vu(Co)[0],o=mn().memoizedState;return[i,o]},useMutableSource:Np,useSyncExternalStore:jp,useId:$p,unstable_isNewReconciler:!1};function _i(i,o){try{var u="",p=o;do u+=Fe(p),p=p.return;while(p);var g=u}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:g,digest:null}}function Xu(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Ku(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Fb=typeof WeakMap=="function"?WeakMap:Map;function qp(i,o,u){u=cr(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){vl||(vl=!0,ud=p),Ku(i,o)},u}function Xp(i,o,u){u=cr(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var g=o.value;u.payload=function(){return p(g)},u.callback=function(){Ku(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Ku(i,o),typeof p!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),u}function Kp(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new Fb;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(u)||(g.add(u),i=Zb.bind(null,i,o,u),o.then(i,i))}function Qp(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Gp(i,o,u,p,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=cr(-1,1),o.tag=2,Vr(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var zb=D.ReactCurrentOwner,Vt=!1;function Ft(i,o,u,p){o.child=i===null?kp(o,null,u,p):bi(o,i.child,u,p)}function Zp(i,o,u,p,g){u=u.render;var v=o.ref;return vi(o,g),p=Hu(i,o,u,p,v,g),u=$u(),i!==null&&!Vt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,ur(i,o,g)):(Ke&&u&&Su(o),o.flags|=1,Ft(i,o,p,g),o.child)}function Jp(i,o,u,p,g){if(i===null){var v=u.type;return typeof v=="function"&&!yd(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,em(i,o,v,p,g)):(i=Cl(u.type,null,p,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&g)===0){var k=v.memoizedProps;if(u=u.compare,u=u!==null?u:fo,u(k,p)&&i.ref===o.ref)return ur(i,o,g)}return o.flags|=1,i=Gr(v,p),i.ref=o.ref,i.return=o,o.child=i}function em(i,o,u,p,g){if(i!==null){var v=i.memoizedProps;if(fo(v,p)&&i.ref===o.ref)if(Vt=!1,o.pendingProps=p=v,(i.lanes&g)!==0)(i.flags&131072)!==0&&(Vt=!0);else return o.lanes=i.lanes,ur(i,o,g)}return Qu(i,o,u,p,g)}function tm(i,o,u){var p=o.pendingProps,g=p.children,v=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(ki,cn),cn|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ve(ki,cn),cn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=v!==null?v.baseLanes:u,Ve(ki,cn),cn|=p}else v!==null?(p=v.baseLanes|u,o.memoizedState=null):p=u,Ve(ki,cn),cn|=p;return Ft(i,o,g,u),o.child}function nm(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Qu(i,o,u,p,g){var v=Wt(u)?ms:Et.current;return v=pi(o,v),vi(o,g),u=Hu(i,o,u,p,v,g),p=$u(),i!==null&&!Vt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,ur(i,o,g)):(Ke&&p&&Su(o),o.flags|=1,Ft(i,o,u,g),o.child)}function rm(i,o,u,p,g){if(Wt(u)){var v=!0;Qa(o)}else v=!1;if(vi(o,g),o.stateNode===null)pl(i,o),bp(o,u,p),Du(o,u,p,g),p=!0;else if(i===null){var k=o.stateNode,R=o.memoizedProps;k.props=R;var L=k.context,W=u.contextType;typeof W=="object"&&W!==null?W=pn(W):(W=Wt(u)?ms:Et.current,W=pi(o,W));var Z=u.getDerivedStateFromProps,ee=typeof Z=="function"||typeof k.getSnapshotBeforeUpdate=="function";ee||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==p||L!==W)&&wp(o,k,p,W),Wr=!1;var Q=o.memoizedState;k.state=Q,sl(o,p,k,g),L=o.memoizedState,R!==p||Q!==L||$t.current||Wr?(typeof Z=="function"&&(Ou(o,u,Z,p),L=o.memoizedState),(R=Wr||vp(o,u,R,p,Q,L,W))?(ee||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=L),k.props=p,k.state=L,k.context=W,p=R):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{k=o.stateNode,mp(i,o),R=o.memoizedProps,W=o.type===o.elementType?R:Nn(o.type,R),k.props=W,ee=o.pendingProps,Q=k.context,L=u.contextType,typeof L=="object"&&L!==null?L=pn(L):(L=Wt(u)?ms:Et.current,L=pi(o,L));var le=u.getDerivedStateFromProps;(Z=typeof le=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==ee||Q!==L)&&wp(o,k,p,L),Wr=!1,Q=o.memoizedState,k.state=Q,sl(o,p,k,g);var me=o.memoizedState;R!==ee||Q!==me||$t.current||Wr?(typeof le=="function"&&(Ou(o,u,le,p),me=o.memoizedState),(W=Wr||vp(o,u,W,p,Q,me,L)||!1)?(Z||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(p,me,L),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(p,me,L)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||R===i.memoizedProps&&Q===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Q===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=me),k.props=p,k.state=me,k.context=L,p=W):(typeof k.componentDidUpdate!="function"||R===i.memoizedProps&&Q===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Q===i.memoizedState||(o.flags|=1024),p=!1)}return Gu(i,o,u,p,v,g)}function Gu(i,o,u,p,g,v){nm(i,o);var k=(o.flags&128)!==0;if(!p&&!k)return g&&ap(o,u,!1),ur(i,o,v);p=o.stateNode,zb.current=o;var R=k&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,i!==null&&k?(o.child=bi(o,i.child,null,v),o.child=bi(o,null,R,v)):Ft(i,o,R,v),o.memoizedState=p.state,g&&ap(o,u,!0),o.child}function sm(i){var o=i.stateNode;o.pendingContext?ip(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ip(i,o.context,!1),Lu(i,o.containerInfo)}function im(i,o,u,p,g){return yi(),ju(g),o.flags|=256,Ft(i,o,u,p),o.child}var Zu={dehydrated:null,treeContext:null,retryLane:0};function Ju(i){return{baseLanes:i,cachePool:null,transitions:null}}function om(i,o,u){var p=o.pendingProps,g=Ze.current,v=!1,k=(o.flags&128)!==0,R;if((R=k)||(R=i!==null&&i.memoizedState===null?!1:(g&2)!==0),R?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Ve(Ze,g&1),i===null)return Nu(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(k=p.children,i=p.fallback,v?(p=o.mode,v=o.child,k={mode:"hidden",children:k},(p&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=k):v=Nl(k,p,0,null),i=Cs(i,p,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Ju(u),o.memoizedState=Zu,i):ed(o,k));if(g=i.memoizedState,g!==null&&(R=g.dehydrated,R!==null))return Bb(i,o,k,p,R,g,u);if(v){v=p.fallback,k=o.mode,g=i.child,R=g.sibling;var L={mode:"hidden",children:p.children};return(k&1)===0&&o.child!==g?(p=o.child,p.childLanes=0,p.pendingProps=L,o.deletions=null):(p=Gr(g,L),p.subtreeFlags=g.subtreeFlags&14680064),R!==null?v=Gr(R,v):(v=Cs(v,k,u,null),v.flags|=2),v.return=o,p.return=o,p.sibling=v,o.child=p,p=v,v=o.child,k=i.child.memoizedState,k=k===null?Ju(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},v.memoizedState=k,v.childLanes=i.childLanes&~u,o.memoizedState=Zu,p}return v=i.child,i=v.sibling,p=Gr(v,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=u),p.return=o,p.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=p,o.memoizedState=null,p}function ed(i,o){return o=Nl({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function hl(i,o,u,p){return p!==null&&ju(p),bi(o,i.child,null,u),i=ed(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Bb(i,o,u,p,g,v,k){if(u)return o.flags&256?(o.flags&=-257,p=Xu(Error(n(422))),hl(i,o,k,p)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=p.fallback,g=o.mode,p=Nl({mode:"visible",children:p.children},g,0,null),v=Cs(v,g,k,null),v.flags|=2,p.return=o,v.return=o,p.sibling=v,o.child=p,(o.mode&1)!==0&&bi(o,i.child,null,k),o.child.memoizedState=Ju(k),o.memoizedState=Zu,v);if((o.mode&1)===0)return hl(i,o,k,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var R=p.dgst;return p=R,v=Error(n(419)),p=Xu(v,p,void 0),hl(i,o,k,p)}if(R=(k&i.childLanes)!==0,Vt||R){if(p=bt,p!==null){switch(k&-k){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|k))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,lr(i,g),Tn(p,i,g,-1))}return gd(),p=Xu(Error(n(421))),hl(i,o,k,p)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=Jb.bind(null,i),g._reactRetry=o,null):(i=v.treeContext,ln=Br(g.nextSibling),an=o,Ke=!0,Cn=null,i!==null&&(fn[hn++]=or,fn[hn++]=ar,fn[hn++]=gs,or=i.id,ar=i.overflow,gs=o),o=ed(o,p.children),o.flags|=4096,o)}function am(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),Mu(i.return,o,u)}function td(i,o,u,p,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=p,v.tail=u,v.tailMode=g)}function lm(i,o,u){var p=o.pendingProps,g=p.revealOrder,v=p.tail;if(Ft(i,o,p.children,u),p=Ze.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&am(i,u,o);else if(i.tag===19)am(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(Ve(Ze,p),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&al(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),td(o,!1,g,u,v);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&al(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}td(o,!0,u,null,v);break;case"together":td(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function pl(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ur(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),ws|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Gr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Gr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Ub(i,o,u){switch(o.tag){case 3:sm(o),yi();break;case 5:Cp(o);break;case 1:Wt(o.type)&&Qa(o);break;case 4:Lu(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,g=o.memoizedProps.value;Ve(tl,p._currentValue),p._currentValue=g;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Ve(Ze,Ze.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?om(i,o,u):(Ve(Ze,Ze.current&1),i=ur(i,o,u),i!==null?i.sibling:null);Ve(Ze,Ze.current&1);break;case 19:if(p=(u&o.childLanes)!==0,(i.flags&128)!==0){if(p)return lm(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ve(Ze,Ze.current),p)break;return null;case 22:case 23:return o.lanes=0,tm(i,o,u)}return ur(i,o,u)}var cm,nd,um,dm;cm=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},nd=function(){},um=function(i,o,u,p){var g=i.memoizedProps;if(g!==p){i=o.stateNode,vs(Hn.current);var v=null;switch(u){case"input":g=Xe(i,g),p=Xe(i,p),v=[];break;case"select":g=A({},g,{value:void 0}),p=A({},p,{value:void 0}),v=[];break;case"textarea":g=Wi(i,g),p=Wi(i,p),v=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=qa)}qi(u,p);var k;u=null;for(W in g)if(!p.hasOwnProperty(W)&&g.hasOwnProperty(W)&&g[W]!=null)if(W==="style"){var R=g[W];for(k in R)R.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(s.hasOwnProperty(W)?v||(v=[]):(v=v||[]).push(W,null));for(W in p){var L=p[W];if(R=g!=null?g[W]:void 0,p.hasOwnProperty(W)&&L!==R&&(L!=null||R!=null))if(W==="style")if(R){for(k in R)!R.hasOwnProperty(k)||L&&L.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in L)L.hasOwnProperty(k)&&R[k]!==L[k]&&(u||(u={}),u[k]=L[k])}else u||(v||(v=[]),v.push(W,u)),u=L;else W==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,R=R?R.__html:void 0,L!=null&&R!==L&&(v=v||[]).push(W,L)):W==="children"?typeof L!="string"&&typeof L!="number"||(v=v||[]).push(W,""+L):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(s.hasOwnProperty(W)?(L!=null&&W==="onScroll"&&Ye("scroll",i),v||R===L||(v=[])):(v=v||[]).push(W,L))}u&&(v=v||[]).push("style",u);var W=v;(o.updateQueue=W)&&(o.flags|=4)}},dm=function(i,o,u,p){u!==p&&(o.flags|=4)};function jo(i,o){if(!Ke)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Pt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function Hb(i,o,u){var p=o.pendingProps;switch(ku(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(o),null;case 1:return Wt(o.type)&&Ka(),Pt(o),null;case 3:return p=o.stateNode,wi(),qe($t),qe(Et),zu(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(el(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Cn!==null&&(hd(Cn),Cn=null))),nd(i,o),Pt(o),null;case 5:Iu(o);var g=vs(_o.current);if(u=o.type,i!==null&&o.stateNode!=null)um(i,o,u,p,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Pt(o),null}if(i=vs(Hn.current),el(o)){p=o.stateNode,u=o.type;var v=o.memoizedProps;switch(p[Un]=o,p[yo]=v,i=(o.mode&1)!==0,u){case"dialog":Ye("cancel",p),Ye("close",p);break;case"iframe":case"object":case"embed":Ye("load",p);break;case"video":case"audio":for(g=0;g<po.length;g++)Ye(po[g],p);break;case"source":Ye("error",p);break;case"img":case"image":case"link":Ye("error",p),Ye("load",p);break;case"details":Ye("toggle",p);break;case"input":ot(p,v),Ye("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!v.multiple},Ye("invalid",p);break;case"textarea":wa(p,v),Ye("invalid",p)}qi(u,v),g=null;for(var k in v)if(v.hasOwnProperty(k)){var R=v[k];k==="children"?typeof R=="string"?p.textContent!==R&&(v.suppressHydrationWarning!==!0&&Ya(p.textContent,R,i),g=["children",R]):typeof R=="number"&&p.textContent!==""+R&&(v.suppressHydrationWarning!==!0&&Ya(p.textContent,R,i),g=["children",""+R]):s.hasOwnProperty(k)&&R!=null&&k==="onScroll"&&Ye("scroll",p)}switch(u){case"input":Ne(p),Cr(p,v,!0);break;case"textarea":Ne(p),Sa(p);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(p.onclick=qa)}p=g,o.updateQueue=p,p!==null&&(o.flags|=4)}else{k=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ka(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=k.createElement(u,{is:p.is}):(i=k.createElement(u),u==="select"&&(k=i,p.multiple?k.multiple=!0:p.size&&(k.size=p.size))):i=k.createElementNS(i,u),i[Un]=o,i[yo]=p,cm(i,o,!1,!1),o.stateNode=i;e:{switch(k=Xi(u,p),u){case"dialog":Ye("cancel",i),Ye("close",i),g=p;break;case"iframe":case"object":case"embed":Ye("load",i),g=p;break;case"video":case"audio":for(g=0;g<po.length;g++)Ye(po[g],i);g=p;break;case"source":Ye("error",i),g=p;break;case"img":case"image":case"link":Ye("error",i),Ye("load",i),g=p;break;case"details":Ye("toggle",i),g=p;break;case"input":ot(i,p),g=Xe(i,p),Ye("invalid",i);break;case"option":g=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},g=A({},p,{value:void 0}),Ye("invalid",i);break;case"textarea":wa(i,p),g=Wi(i,p),Ye("invalid",i);break;default:g=p}qi(u,g),R=g;for(v in R)if(R.hasOwnProperty(v)){var L=R[v];v==="style"?Na(i,L):v==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Vi(i,L)):v==="children"?typeof L=="string"?(u!=="textarea"||L!=="")&&Nr(i,L):typeof L=="number"&&Nr(i,""+L):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?L!=null&&v==="onScroll"&&Ye("scroll",i):L!=null&&P(i,v,L,k))}switch(u){case"input":Ne(i),Cr(i,p,!1);break;case"textarea":Ne(i),Sa(i);break;case"option":p.value!=null&&i.setAttribute("value",""+Re(p.value));break;case"select":i.multiple=!!p.multiple,v=p.value,v!=null?pt(i,!!p.multiple,v,!1):p.defaultValue!=null&&pt(i,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=qa)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Pt(o),null;case 6:if(i&&o.stateNode!=null)dm(i,o,i.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(u=vs(_o.current),vs(Hn.current),el(o)){if(p=o.stateNode,u=o.memoizedProps,p[Un]=o,(v=p.nodeValue!==u)&&(i=an,i!==null))switch(i.tag){case 3:Ya(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ya(p.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Un]=o,o.stateNode=p}return Pt(o),null;case 13:if(qe(Ze),p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ke&&ln!==null&&(o.mode&1)!==0&&(o.flags&128)===0)hp(),yi(),o.flags|=98560,v=!1;else if(v=el(o),p!==null&&p.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Un]=o}else yi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pt(o),v=!1}else Cn!==null&&(hd(Cn),Cn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Ze.current&1)!==0?yt===0&&(yt=3):gd())),o.updateQueue!==null&&(o.flags|=4),Pt(o),null);case 4:return wi(),nd(i,o),i===null&&mo(o.stateNode.containerInfo),Pt(o),null;case 10:return Pu(o.type._context),Pt(o),null;case 17:return Wt(o.type)&&Ka(),Pt(o),null;case 19:if(qe(Ze),v=o.memoizedState,v===null)return Pt(o),null;if(p=(o.flags&128)!==0,k=v.rendering,k===null)if(p)jo(v,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(k=al(i),k!==null){for(o.flags|=128,jo(v,!1),p=k.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)v=u,i=p,v.flags&=14680066,k=v.alternate,k===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=k.childLanes,v.lanes=k.lanes,v.child=k.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=k.memoizedProps,v.memoizedState=k.memoizedState,v.updateQueue=k.updateQueue,v.type=k.type,i=k.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ve(Ze,Ze.current&1|2),o.child}i=i.sibling}v.tail!==null&&We()>Ci&&(o.flags|=128,p=!0,jo(v,!1),o.lanes=4194304)}else{if(!p)if(i=al(k),i!==null){if(o.flags|=128,p=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),jo(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!Ke)return Pt(o),null}else 2*We()-v.renderingStartTime>Ci&&u!==1073741824&&(o.flags|=128,p=!0,jo(v,!1),o.lanes=4194304);v.isBackwards?(k.sibling=o.child,o.child=k):(u=v.last,u!==null?u.sibling=k:o.child=k,v.last=k)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=We(),o.sibling=null,u=Ze.current,Ve(Ze,p?u&1|2:u&1),o):(Pt(o),null);case 22:case 23:return md(),p=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(cn&1073741824)!==0&&(Pt(o),o.subtreeFlags&6&&(o.flags|=8192)):Pt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function $b(i,o){switch(ku(o),o.tag){case 1:return Wt(o.type)&&Ka(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return wi(),qe($t),qe(Et),zu(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Iu(o),null;case 13:if(qe(Ze),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));yi()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return qe(Ze),null;case 4:return wi(),null;case 10:return Pu(o.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var ml=!1,Mt=!1,Wb=typeof WeakSet=="function"?WeakSet:Set,he=null;function Si(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){rt(i,o,p)}else u.current=null}function rd(i,o,u){try{u()}catch(p){rt(i,o,p)}}var fm=!1;function Vb(i,o){if(mu=Da,i=$h(),au(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var g=p.anchorOffset,v=p.focusNode;p=p.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var k=0,R=-1,L=-1,W=0,Z=0,ee=i,Q=null;t:for(;;){for(var le;ee!==u||g!==0&&ee.nodeType!==3||(R=k+g),ee!==v||p!==0&&ee.nodeType!==3||(L=k+p),ee.nodeType===3&&(k+=ee.nodeValue.length),(le=ee.firstChild)!==null;)Q=ee,ee=le;for(;;){if(ee===i)break t;if(Q===u&&++W===g&&(R=k),Q===v&&++Z===p&&(L=k),(le=ee.nextSibling)!==null)break;ee=Q,Q=ee.parentNode}ee=le}u=R===-1||L===-1?null:{start:R,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(gu={focusedElem:i,selectionRange:u},Da=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,ut=me.memoizedState,z=o.stateNode,F=z.getSnapshotBeforeUpdate(o.elementType===o.type?ye:Nn(o.type,ye),ut);z.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(re){rt(o,o.return,re)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return me=fm,fm=!1,me}function Eo(i,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&i)===i){var v=g.destroy;g.destroy=void 0,v!==void 0&&rd(o,u,v)}g=g.next}while(g!==p)}}function gl(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function sd(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function hm(i){var o=i.alternate;o!==null&&(i.alternate=null,hm(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Un],delete o[yo],delete o[bu],delete o[jb],delete o[Eb])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function pm(i){return i.tag===5||i.tag===3||i.tag===4}function mm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||pm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function id(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=qa));else if(p!==4&&(i=i.child,i!==null))for(id(i,o,u),i=i.sibling;i!==null;)id(i,o,u),i=i.sibling}function od(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(od(i,o,u),i=i.sibling;i!==null;)od(i,o,u),i=i.sibling}var _t=null,jn=!1;function Yr(i,o,u){for(u=u.child;u!==null;)gm(i,o,u),u=u.sibling}function gm(i,o,u){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Ht,u)}catch{}switch(u.tag){case 5:Mt||Si(u,o);case 6:var p=_t,g=jn;_t=null,Yr(i,o,u),_t=p,jn=g,_t!==null&&(jn?(i=_t,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):_t.removeChild(u.stateNode));break;case 18:_t!==null&&(jn?(i=_t,u=u.stateNode,i.nodeType===8?vu(i.parentNode,u):i.nodeType===1&&vu(i,u),io(i)):vu(_t,u.stateNode));break;case 4:p=_t,g=jn,_t=u.stateNode.containerInfo,jn=!0,Yr(i,o,u),_t=p,jn=g;break;case 0:case 11:case 14:case 15:if(!Mt&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var v=g,k=v.destroy;v=v.tag,k!==void 0&&((v&2)!==0||(v&4)!==0)&&rd(u,o,k),g=g.next}while(g!==p)}Yr(i,o,u);break;case 1:if(!Mt&&(Si(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(R){rt(u,o,R)}Yr(i,o,u);break;case 21:Yr(i,o,u);break;case 22:u.mode&1?(Mt=(p=Mt)||u.memoizedState!==null,Yr(i,o,u),Mt=p):Yr(i,o,u);break;default:Yr(i,o,u)}}function ym(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Wb),o.forEach(function(p){var g=e1.bind(null,i,p);u.has(p)||(u.add(p),p.then(g,g))})}}function En(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];try{var v=i,k=o,R=k;e:for(;R!==null;){switch(R.tag){case 5:_t=R.stateNode,jn=!1;break e;case 3:_t=R.stateNode.containerInfo,jn=!0;break e;case 4:_t=R.stateNode.containerInfo,jn=!0;break e}R=R.return}if(_t===null)throw Error(n(160));gm(v,k,g),_t=null,jn=!1;var L=g.alternate;L!==null&&(L.return=null),g.return=null}catch(W){rt(g,o,W)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)xm(o,i),o=o.sibling}function xm(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(En(o,i),Wn(i),p&4){try{Eo(3,i,i.return),gl(3,i)}catch(ye){rt(i,i.return,ye)}try{Eo(5,i,i.return)}catch(ye){rt(i,i.return,ye)}}break;case 1:En(o,i),Wn(i),p&512&&u!==null&&Si(u,u.return);break;case 5:if(En(o,i),Wn(i),p&512&&u!==null&&Si(u,u.return),i.flags&32){var g=i.stateNode;try{Nr(g,"")}catch(ye){rt(i,i.return,ye)}}if(p&4&&(g=i.stateNode,g!=null)){var v=i.memoizedProps,k=u!==null?u.memoizedProps:v,R=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{R==="input"&&v.type==="radio"&&v.name!=null&&at(g,v),Xi(R,k);var W=Xi(R,v);for(k=0;k<L.length;k+=2){var Z=L[k],ee=L[k+1];Z==="style"?Na(g,ee):Z==="dangerouslySetInnerHTML"?Vi(g,ee):Z==="children"?Nr(g,ee):P(g,Z,ee,W)}switch(R){case"input":It(g,v);break;case"textarea":_a(g,v);break;case"select":var Q=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var le=v.value;le!=null?pt(g,!!v.multiple,le,!1):Q!==!!v.multiple&&(v.defaultValue!=null?pt(g,!!v.multiple,v.defaultValue,!0):pt(g,!!v.multiple,v.multiple?[]:"",!1))}g[yo]=v}catch(ye){rt(i,i.return,ye)}}break;case 6:if(En(o,i),Wn(i),p&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,v=i.memoizedProps;try{g.nodeValue=v}catch(ye){rt(i,i.return,ye)}}break;case 3:if(En(o,i),Wn(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{io(o.containerInfo)}catch(ye){rt(i,i.return,ye)}break;case 4:En(o,i),Wn(i);break;case 13:En(o,i),Wn(i),g=i.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(cd=We())),p&4&&ym(i);break;case 22:if(Z=u!==null&&u.memoizedState!==null,i.mode&1?(Mt=(W=Mt)||Z,En(o,i),Mt=W):En(o,i),Wn(i),p&8192){if(W=i.memoizedState!==null,(i.stateNode.isHidden=W)&&!Z&&(i.mode&1)!==0)for(he=i,Z=i.child;Z!==null;){for(ee=he=Z;he!==null;){switch(Q=he,le=Q.child,Q.tag){case 0:case 11:case 14:case 15:Eo(4,Q,Q.return);break;case 1:Si(Q,Q.return);var me=Q.stateNode;if(typeof me.componentWillUnmount=="function"){p=Q,u=Q.return;try{o=p,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ye){rt(p,u,ye)}}break;case 5:Si(Q,Q.return);break;case 22:if(Q.memoizedState!==null){wm(ee);continue}}le!==null?(le.return=Q,he=le):wm(ee)}Z=Z.sibling}e:for(Z=null,ee=i;;){if(ee.tag===5){if(Z===null){Z=ee;try{g=ee.stateNode,W?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(R=ee.stateNode,L=ee.memoizedProps.style,k=L!=null&&L.hasOwnProperty("display")?L.display:null,R.style.display=Ca("display",k))}catch(ye){rt(i,i.return,ye)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=W?"":ee.memoizedProps}catch(ye){rt(i,i.return,ye)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===i)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===i)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===i)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:En(o,i),Wn(i),p&4&&ym(i);break;case 21:break;default:En(o,i),Wn(i)}}function Wn(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(pm(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(Nr(g,""),p.flags&=-33);var v=mm(i);od(i,v,g);break;case 3:case 4:var k=p.stateNode.containerInfo,R=mm(i);id(i,R,k);break;default:throw Error(n(161))}}catch(L){rt(i,i.return,L)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Yb(i,o,u){he=i,vm(i)}function vm(i,o,u){for(var p=(i.mode&1)!==0;he!==null;){var g=he,v=g.child;if(g.tag===22&&p){var k=g.memoizedState!==null||ml;if(!k){var R=g.alternate,L=R!==null&&R.memoizedState!==null||Mt;R=ml;var W=Mt;if(ml=k,(Mt=L)&&!W)for(he=g;he!==null;)k=he,L=k.child,k.tag===22&&k.memoizedState!==null?_m(g):L!==null?(L.return=k,he=L):_m(g);for(;v!==null;)he=v,vm(v),v=v.sibling;he=g,ml=R,Mt=W}bm(i)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,he=v):bm(i)}}function bm(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Mt||gl(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Mt)if(u===null)p.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:Nn(o.type,u.memoizedProps);p.componentDidUpdate(g,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&yp(o,v,p);break;case 3:var k=o.updateQueue;if(k!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}yp(o,k,u)}break;case 5:var R=o.stateNode;if(u===null&&o.flags&4){u=R;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&u.focus();break;case"img":L.src&&(u.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var W=o.alternate;if(W!==null){var Z=W.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&io(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||o.flags&512&&sd(o)}catch(Q){rt(o,o.return,Q)}}if(o===i){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function wm(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function _m(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{gl(4,o)}catch(L){rt(o,u,L)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var g=o.return;try{p.componentDidMount()}catch(L){rt(o,g,L)}}var v=o.return;try{sd(o)}catch(L){rt(o,v,L)}break;case 5:var k=o.return;try{sd(o)}catch(L){rt(o,k,L)}}}catch(L){rt(o,o.return,L)}if(o===i){he=null;break}var R=o.sibling;if(R!==null){R.return=o.return,he=R;break}he=o.return}}var qb=Math.ceil,yl=D.ReactCurrentDispatcher,ad=D.ReactCurrentOwner,gn=D.ReactCurrentBatchConfig,Be=0,bt=null,ht=null,St=0,cn=0,ki=Ur(0),yt=0,To=null,ws=0,xl=0,ld=0,Po=null,Yt=null,cd=0,Ci=1/0,dr=null,vl=!1,ud=null,qr=null,bl=!1,Xr=null,wl=0,Mo=0,dd=null,_l=-1,Sl=0;function zt(){return(Be&6)!==0?We():_l!==-1?_l:_l=We()}function Kr(i){return(i.mode&1)===0?1:(Be&2)!==0&&St!==0?St&-St:Pb.transition!==null?(Sl===0&&(Sl=ri()),Sl):(i=j,i!==0||(i=window.event,i=i===void 0?16:Sh(i.type)),i)}function Tn(i,o,u,p){if(50<Mo)throw Mo=0,dd=null,Error(n(185));hs(i,u,p),((Be&2)===0||i!==bt)&&(i===bt&&((Be&2)===0&&(xl|=u),yt===4&&Qr(i,St)),qt(i,p),u===1&&Be===0&&(o.mode&1)===0&&(Ci=We()+500,Ga&&$r()))}function qt(i,o){var u=i.callbackNode;Xc(i,o);var p=rr(i,i===bt?St:0);if(p===0)u!==null&&ei(u),i.callbackNode=null,i.callbackPriority=0;else if(o=p&-p,i.callbackPriority!==o){if(u!=null&&ei(u),o===1)i.tag===0?Tb(km.bind(null,i)):lp(km.bind(null,i)),Cb(function(){(Be&6)===0&&$r()}),u=null;else{switch(O(p)){case 1:u=zn;break;case 4:u=Sn;break;case 16:u=Ut;break;case 536870912:u=nn;break;default:u=Ut}u=Rm(u,Sm.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Sm(i,o){if(_l=-1,Sl=0,(Be&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Ni()&&i.callbackNode!==u)return null;var p=rr(i,i===bt?St:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||o)o=kl(i,p);else{o=p;var g=Be;Be|=2;var v=Nm();(bt!==i||St!==o)&&(dr=null,Ci=We()+500,Ss(i,o));do try{Qb();break}catch(R){Cm(i,R)}while(!0);Tu(),yl.current=v,Be=g,ht!==null?o=0:(bt=null,St=0,o=yt)}if(o!==0){if(o===2&&(g=ni(i),g!==0&&(p=g,o=fd(i,g))),o===1)throw u=To,Ss(i,0),Qr(i,p),qt(i,We()),u;if(o===6)Qr(i,p);else{if(g=i.current.alternate,(p&30)===0&&!Xb(g)&&(o=kl(i,p),o===2&&(v=ni(i),v!==0&&(p=v,o=fd(i,v))),o===1))throw u=To,Ss(i,0),Qr(i,p),qt(i,We()),u;switch(i.finishedWork=g,i.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:ks(i,Yt,dr);break;case 3:if(Qr(i,p),(p&130023424)===p&&(o=cd+500-We(),10<o)){if(rr(i,0)!==0)break;if(g=i.suspendedLanes,(g&p)!==p){zt(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=xu(ks.bind(null,i,Yt,dr),o);break}ks(i,Yt,dr);break;case 4:if(Qr(i,p),(p&4194240)===p)break;for(o=i.eventTimes,g=-1;0<p;){var k=31-jt(p);v=1<<k,k=o[k],k>g&&(g=k),p&=~v}if(p=g,p=We()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*qb(p/1960))-p,10<p){i.timeoutHandle=xu(ks.bind(null,i,Yt,dr),p);break}ks(i,Yt,dr);break;case 5:ks(i,Yt,dr);break;default:throw Error(n(329))}}}return qt(i,We()),i.callbackNode===u?Sm.bind(null,i):null}function fd(i,o){var u=Po;return i.current.memoizedState.isDehydrated&&(Ss(i,o).flags|=256),i=kl(i,o),i!==2&&(o=Yt,Yt=u,o!==null&&hd(o)),i}function hd(i){Yt===null?Yt=i:Yt.push.apply(Yt,i)}function Xb(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var g=u[p],v=g.getSnapshot;g=g.value;try{if(!kn(v(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Qr(i,o){for(o&=~ld,o&=~xl,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-jt(o),p=1<<u;i[u]=-1,o&=~p}}function km(i){if((Be&6)!==0)throw Error(n(327));Ni();var o=rr(i,0);if((o&1)===0)return qt(i,We()),null;var u=kl(i,o);if(i.tag!==0&&u===2){var p=ni(i);p!==0&&(o=p,u=fd(i,p))}if(u===1)throw u=To,Ss(i,0),Qr(i,o),qt(i,We()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,ks(i,Yt,dr),qt(i,We()),null}function pd(i,o){var u=Be;Be|=1;try{return i(o)}finally{Be=u,Be===0&&(Ci=We()+500,Ga&&$r())}}function _s(i){Xr!==null&&Xr.tag===0&&(Be&6)===0&&Ni();var o=Be;Be|=1;var u=gn.transition,p=j;try{if(gn.transition=null,j=1,i)return i()}finally{j=p,gn.transition=u,Be=o,(Be&6)===0&&$r()}}function md(){cn=ki.current,qe(ki)}function Ss(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,kb(u)),ht!==null)for(u=ht.return;u!==null;){var p=u;switch(ku(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ka();break;case 3:wi(),qe($t),qe(Et),zu();break;case 5:Iu(p);break;case 4:wi();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:Pu(p.type._context);break;case 22:case 23:md()}u=u.return}if(bt=i,ht=i=Gr(i.current,null),St=cn=o,yt=0,To=null,ld=xl=ws=0,Yt=Po=null,xs!==null){for(o=0;o<xs.length;o++)if(u=xs[o],p=u.interleaved,p!==null){u.interleaved=null;var g=p.next,v=u.pending;if(v!==null){var k=v.next;v.next=g,p.next=k}u.pending=p}xs=null}return i}function Cm(i,o){do{var u=ht;try{if(Tu(),ll.current=fl,cl){for(var p=Je.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}cl=!1}if(bs=0,vt=gt=Je=null,So=!1,ko=0,ad.current=null,u===null||u.return===null){yt=1,To=o,ht=null;break}e:{var v=i,k=u.return,R=u,L=o;if(o=St,R.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var W=L,Z=R,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var Q=Z.alternate;Q?(Z.updateQueue=Q.updateQueue,Z.memoizedState=Q.memoizedState,Z.lanes=Q.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var le=Qp(k);if(le!==null){le.flags&=-257,Gp(le,k,R,v,o),le.mode&1&&Kp(v,W,o),o=le,L=W;var me=o.updateQueue;if(me===null){var ye=new Set;ye.add(L),o.updateQueue=ye}else me.add(L);break e}else{if((o&1)===0){Kp(v,W,o),gd();break e}L=Error(n(426))}}else if(Ke&&R.mode&1){var ut=Qp(k);if(ut!==null){(ut.flags&65536)===0&&(ut.flags|=256),Gp(ut,k,R,v,o),ju(_i(L,R));break e}}v=L=_i(L,R),yt!==4&&(yt=2),Po===null?Po=[v]:Po.push(v),v=k;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var z=qp(v,L,o);gp(v,z);break e;case 1:R=L;var F=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(qr===null||!qr.has(H)))){v.flags|=65536,o&=-o,v.lanes|=o;var re=Xp(v,R,o);gp(v,re);break e}}v=v.return}while(v!==null)}Em(u)}catch(xe){o=xe,ht===u&&u!==null&&(ht=u=u.return);continue}break}while(!0)}function Nm(){var i=yl.current;return yl.current=fl,i===null?fl:i}function gd(){(yt===0||yt===3||yt===2)&&(yt=4),bt===null||(ws&268435455)===0&&(xl&268435455)===0||Qr(bt,St)}function kl(i,o){var u=Be;Be|=2;var p=Nm();(bt!==i||St!==o)&&(dr=null,Ss(i,o));do try{Kb();break}catch(g){Cm(i,g)}while(!0);if(Tu(),Be=u,yl.current=p,ht!==null)throw Error(n(261));return bt=null,St=0,yt}function Kb(){for(;ht!==null;)jm(ht)}function Qb(){for(;ht!==null&&!Yc();)jm(ht)}function jm(i){var o=Mm(i.alternate,i,cn);i.memoizedProps=i.pendingProps,o===null?Em(i):ht=o,ad.current=null}function Em(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=Hb(u,o,cn),u!==null){ht=u;return}}else{if(u=$b(u,o),u!==null){u.flags&=32767,ht=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{yt=6,ht=null;return}}if(o=o.sibling,o!==null){ht=o;return}ht=o=i}while(o!==null);yt===0&&(yt=5)}function ks(i,o,u){var p=j,g=gn.transition;try{gn.transition=null,j=1,Gb(i,o,u,p)}finally{gn.transition=g,j=p}return null}function Gb(i,o,u,p){do Ni();while(Xr!==null);if((Be&6)!==0)throw Error(n(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Kc(i,v),i===bt&&(ht=bt=null,St=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||bl||(bl=!0,Rm(Ut,function(){return Ni(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=gn.transition,gn.transition=null;var k=j;j=1;var R=Be;Be|=4,ad.current=null,Vb(i,u),xm(u,i),yb(gu),Da=!!mu,gu=mu=null,i.current=u,Yb(u),qc(),Be=R,j=k,gn.transition=v}else i.current=u;if(bl&&(bl=!1,Xr=i,wl=g),v=i.pendingLanes,v===0&&(qr=null),Aa(u.stateNode),qt(i,We()),o!==null)for(p=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],p(g.value,{componentStack:g.stack,digest:g.digest});if(vl)throw vl=!1,i=ud,ud=null,i;return(wl&1)!==0&&i.tag!==0&&Ni(),v=i.pendingLanes,(v&1)!==0?i===dd?Mo++:(Mo=0,dd=i):Mo=0,$r(),null}function Ni(){if(Xr!==null){var i=O(wl),o=gn.transition,u=j;try{if(gn.transition=null,j=16>i?16:i,Xr===null)var p=!1;else{if(i=Xr,Xr=null,wl=0,(Be&6)!==0)throw Error(n(331));var g=Be;for(Be|=4,he=i.current;he!==null;){var v=he,k=v.child;if((he.flags&16)!==0){var R=v.deletions;if(R!==null){for(var L=0;L<R.length;L++){var W=R[L];for(he=W;he!==null;){var Z=he;switch(Z.tag){case 0:case 11:case 15:Eo(8,Z,v)}var ee=Z.child;if(ee!==null)ee.return=Z,he=ee;else for(;he!==null;){Z=he;var Q=Z.sibling,le=Z.return;if(hm(Z),Z===W){he=null;break}if(Q!==null){Q.return=le,he=Q;break}he=le}}}var me=v.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var ut=ye.sibling;ye.sibling=null,ye=ut}while(ye!==null)}}he=v}}if((v.subtreeFlags&2064)!==0&&k!==null)k.return=v,he=k;else e:for(;he!==null;){if(v=he,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Eo(9,v,v.return)}var z=v.sibling;if(z!==null){z.return=v.return,he=z;break e}he=v.return}}var F=i.current;for(he=F;he!==null;){k=he;var H=k.child;if((k.subtreeFlags&2064)!==0&&H!==null)H.return=k,he=H;else e:for(k=F;he!==null;){if(R=he,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:gl(9,R)}}catch(xe){rt(R,R.return,xe)}if(R===k){he=null;break e}var re=R.sibling;if(re!==null){re.return=R.return,he=re;break e}he=R.return}}if(Be=g,$r(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Ht,i)}catch{}p=!0}return p}finally{j=u,gn.transition=o}}return!1}function Tm(i,o,u){o=_i(u,o),o=qp(i,o,1),i=Vr(i,o,1),o=zt(),i!==null&&(hs(i,1,o),qt(i,o))}function rt(i,o,u){if(i.tag===3)Tm(i,i,u);else for(;o!==null;){if(o.tag===3){Tm(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(qr===null||!qr.has(p))){i=_i(u,i),i=Xp(o,i,1),o=Vr(o,i,1),i=zt(),o!==null&&(hs(o,1,i),qt(o,i));break}}o=o.return}}function Zb(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),o=zt(),i.pingedLanes|=i.suspendedLanes&u,bt===i&&(St&u)===u&&(yt===4||yt===3&&(St&130023424)===St&&500>We()-cd?Ss(i,0):ld|=u),qt(i,o)}function Pm(i,o){o===0&&((i.mode&1)===0?o=1:(o=Or,Or<<=1,(Or&130023424)===0&&(Or=4194304)));var u=zt();i=lr(i,o),i!==null&&(hs(i,o,u),qt(i,u))}function Jb(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Pm(i,u)}function e1(i,o){var u=0;switch(i.tag){case 13:var p=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),Pm(i,u)}var Mm;Mm=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||$t.current)Vt=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return Vt=!1,Ub(i,o,u);Vt=(i.flags&131072)!==0}else Vt=!1,Ke&&(o.flags&1048576)!==0&&cp(o,Ja,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;pl(i,o),i=o.pendingProps;var g=pi(o,Et.current);vi(o,u),g=Hu(null,o,p,i,g,u);var v=$u();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Wt(p)?(v=!0,Qa(o)):v=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Au(o),g.updater=il,o.stateNode=g,g._reactInternals=o,Du(o,p,i,u),o=Gu(null,o,p,!0,v,u)):(o.tag=0,Ke&&v&&Su(o),Ft(null,o,g,u),o=o.child),o;case 16:p=o.elementType;e:{switch(pl(i,o),i=o.pendingProps,g=p._init,p=g(p._payload),o.type=p,g=o.tag=n1(p),i=Nn(p,i),g){case 0:o=Qu(null,o,p,i,u);break e;case 1:o=rm(null,o,p,i,u);break e;case 11:o=Zp(null,o,p,i,u);break e;case 14:o=Jp(null,o,p,Nn(p.type,i),u);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:Nn(p,g),Qu(i,o,p,g,u);case 1:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:Nn(p,g),rm(i,o,p,g,u);case 3:e:{if(sm(o),i===null)throw Error(n(387));p=o.pendingProps,v=o.memoizedState,g=v.element,mp(i,o),sl(o,p,null,u);var k=o.memoizedState;if(p=k.element,v.isDehydrated)if(v={element:p,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){g=_i(Error(n(423)),o),o=im(i,o,p,u,g);break e}else if(p!==g){g=_i(Error(n(424)),o),o=im(i,o,p,u,g);break e}else for(ln=Br(o.stateNode.containerInfo.firstChild),an=o,Ke=!0,Cn=null,u=kp(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(yi(),p===g){o=ur(i,o,u);break e}Ft(i,o,p,u)}o=o.child}return o;case 5:return Cp(o),i===null&&Nu(o),p=o.type,g=o.pendingProps,v=i!==null?i.memoizedProps:null,k=g.children,yu(p,g)?k=null:v!==null&&yu(p,v)&&(o.flags|=32),nm(i,o),Ft(i,o,k,u),o.child;case 6:return i===null&&Nu(o),null;case 13:return om(i,o,u);case 4:return Lu(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=bi(o,null,p,u):Ft(i,o,p,u),o.child;case 11:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:Nn(p,g),Zp(i,o,p,g,u);case 7:return Ft(i,o,o.pendingProps,u),o.child;case 8:return Ft(i,o,o.pendingProps.children,u),o.child;case 12:return Ft(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,g=o.pendingProps,v=o.memoizedProps,k=g.value,Ve(tl,p._currentValue),p._currentValue=k,v!==null)if(kn(v.value,k)){if(v.children===g.children&&!$t.current){o=ur(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var R=v.dependencies;if(R!==null){k=v.child;for(var L=R.firstContext;L!==null;){if(L.context===p){if(v.tag===1){L=cr(-1,u&-u),L.tag=2;var W=v.updateQueue;if(W!==null){W=W.shared;var Z=W.pending;Z===null?L.next=L:(L.next=Z.next,Z.next=L),W.pending=L}}v.lanes|=u,L=v.alternate,L!==null&&(L.lanes|=u),Mu(v.return,u,o),R.lanes|=u;break}L=L.next}}else if(v.tag===10)k=v.type===o.type?null:v.child;else if(v.tag===18){if(k=v.return,k===null)throw Error(n(341));k.lanes|=u,R=k.alternate,R!==null&&(R.lanes|=u),Mu(k,u,o),k=v.sibling}else k=v.child;if(k!==null)k.return=v;else for(k=v;k!==null;){if(k===o){k=null;break}if(v=k.sibling,v!==null){v.return=k.return,k=v;break}k=k.return}v=k}Ft(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,p=o.pendingProps.children,vi(o,u),g=pn(g),p=p(g),o.flags|=1,Ft(i,o,p,u),o.child;case 14:return p=o.type,g=Nn(p,o.pendingProps),g=Nn(p.type,g),Jp(i,o,p,g,u);case 15:return em(i,o,o.type,o.pendingProps,u);case 17:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:Nn(p,g),pl(i,o),o.tag=1,Wt(p)?(i=!0,Qa(o)):i=!1,vi(o,u),bp(o,p,g),Du(o,p,g,u),Gu(null,o,p,!0,i,u);case 19:return lm(i,o,u);case 22:return tm(i,o,u)}throw Error(n(156,o.tag))};function Rm(i,o){return ds(i,o)}function t1(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(i,o,u,p){return new t1(i,o,u,p)}function yd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function n1(i){if(typeof i=="function")return yd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ne)return 11;if(i===de)return 14}return 2}function Gr(i,o){var u=i.alternate;return u===null?(u=yn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Cl(i,o,u,p,g,v){var k=2;if(p=i,typeof i=="function")yd(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case B:return Cs(u.children,g,v,o);case V:k=8,g|=8;break;case U:return i=yn(12,u,o,g|2),i.elementType=U,i.lanes=v,i;case ue:return i=yn(13,u,o,g),i.elementType=ue,i.lanes=v,i;case K:return i=yn(19,u,o,g),i.elementType=K,i.lanes=v,i;case ce:return Nl(u,g,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:k=10;break e;case te:k=9;break e;case ne:k=11;break e;case de:k=14;break e;case fe:k=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=yn(k,u,o,g),o.elementType=i,o.type=p,o.lanes=v,o}function Cs(i,o,u,p){return i=yn(7,i,p,o),i.lanes=u,i}function Nl(i,o,u,p){return i=yn(22,i,p,o),i.elementType=ce,i.lanes=u,i.stateNode={isHidden:!1},i}function xd(i,o,u){return i=yn(6,i,null,o),i.lanes=u,i}function vd(i,o,u){return o=yn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function r1(i,o,u,p,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=si(0),this.expirationTimes=si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function bd(i,o,u,p,g,v,k,R,L){return i=new r1(i,o,u,R,L),o===1?(o=1,v===!0&&(o|=8)):o=0,v=yn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Au(v),i}function s1(i,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:p==null?null:""+p,children:i,containerInfo:o,implementation:u}}function Am(i){if(!i)return Hr;i=i._reactInternals;e:{if(Fn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Wt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Wt(u))return op(i,u,o)}return o}function Om(i,o,u,p,g,v,k,R,L){return i=bd(u,p,!0,i,g,v,k,R,L),i.context=Am(null),u=i.current,p=zt(),g=Kr(u),v=cr(p,g),v.callback=o??null,Vr(u,v,g),i.current.lanes=g,hs(i,g,p),qt(i,p),i}function jl(i,o,u,p){var g=o.current,v=zt(),k=Kr(g);return u=Am(u),o.context===null?o.context=u:o.pendingContext=u,o=cr(v,k),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=Vr(g,o,k),i!==null&&(Tn(i,g,k,v),rl(i,g,k)),k}function El(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Dm(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function wd(i,o){Dm(i,o),(i=i.alternate)&&Dm(i,o)}function i1(){return null}var Lm=typeof reportError=="function"?reportError:function(i){console.error(i)};function _d(i){this._internalRoot=i}Tl.prototype.render=_d.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));jl(i,o,null,null)},Tl.prototype.unmount=_d.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;_s(function(){jl(null,i,null,null)}),o[sr]=null}};function Tl(i){this._internalRoot=i}Tl.prototype.unstable_scheduleHydration=function(i){if(i){var o=Oe();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ir.length&&o!==0&&o<Ir[u].priority;u++);Ir.splice(u,0,i),u===0&&wh(i)}};function Sd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Pl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Im(){}function o1(i,o,u,p,g){if(g){if(typeof p=="function"){var v=p;p=function(){var W=El(k);v.call(W)}}var k=Om(o,p,i,0,null,!1,!1,"",Im);return i._reactRootContainer=k,i[sr]=k.current,mo(i.nodeType===8?i.parentNode:i),_s(),k}for(;g=i.lastChild;)i.removeChild(g);if(typeof p=="function"){var R=p;p=function(){var W=El(L);R.call(W)}}var L=bd(i,0,!1,null,null,!1,!1,"",Im);return i._reactRootContainer=L,i[sr]=L.current,mo(i.nodeType===8?i.parentNode:i),_s(function(){jl(o,L,u,p)}),L}function Ml(i,o,u,p,g){var v=u._reactRootContainer;if(v){var k=v;if(typeof g=="function"){var R=g;g=function(){var L=El(k);R.call(L)}}jl(o,k,i,g)}else k=o1(u,o,i,g,p);return El(k)}$=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=nr(o.pendingLanes);u!==0&&(N(o,u|1),qt(o,We()),(Be&6)===0&&(Ci=We()+500,$r()))}break;case 13:_s(function(){var p=lr(i,1);if(p!==null){var g=zt();Tn(p,i,1,g)}}),wd(i,1)}},G=function(i){if(i.tag===13){var o=lr(i,134217728);if(o!==null){var u=zt();Tn(o,i,134217728,u)}wd(i,134217728)}},ae=function(i){if(i.tag===13){var o=Kr(i),u=lr(i,o);if(u!==null){var p=zt();Tn(u,i,o,p)}wd(i,o)}},Oe=function(){return j},lt=function(i,o){var u=j;try{return j=i,o()}finally{j=u}},Qi=function(i,o,u){switch(o){case"input":if(It(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var g=Xa(p);if(!g)throw Error(n(90));Ce(p),It(p,g)}}}break;case"textarea":_a(i,u);break;case"select":o=u.value,o!=null&&pt(i,!!u.multiple,o,!1)}},Ta=pd,Gi=_s;var a1={usingClientEntryPoint:!1,Events:[xo,fi,Xa,ja,Ea,pd]},Ro={findFiberByHostInstance:ps,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},l1={bundleType:Ro.bundleType,version:Ro.version,rendererPackageName:Ro.rendererPackageName,rendererConfig:Ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Mr(i),i===null?null:i.stateNode},findFiberByHostInstance:Ro.findFiberByHostInstance||i1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{Ht=Rl.inject(l1),rn=Rl}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a1,Xt.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sd(o))throw Error(n(200));return s1(i,o,null,u)},Xt.createRoot=function(i,o){if(!Sd(i))throw Error(n(299));var u=!1,p="",g=Lm;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=bd(i,1,!1,null,null,u,!1,p,g),i[sr]=o.current,mo(i.nodeType===8?i.parentNode:i),new _d(o)},Xt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Mr(o),i=i===null?null:i.stateNode,i},Xt.flushSync=function(i){return _s(i)},Xt.hydrate=function(i,o,u){if(!Pl(o))throw Error(n(200));return Ml(null,i,o,!0,u)},Xt.hydrateRoot=function(i,o,u){if(!Sd(i))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,g=!1,v="",k=Lm;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),o=Om(o,null,i,1,u??null,g,!1,v,k),i[sr]=o.current,mo(i),p)for(i=0;i<p.length;i++)u=p[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new Tl(o)},Xt.render=function(i,o,u){if(!Pl(o))throw Error(n(200));return Ml(null,i,o,!1,u)},Xt.unmountComponentAtNode=function(i){if(!Pl(i))throw Error(n(40));return i._reactRootContainer?(_s(function(){Ml(null,null,i,!1,function(){i._reactRootContainer=null,i[sr]=null})}),!0):!1},Xt.unstable_batchedUpdates=pd,Xt.unstable_renderSubtreeIntoContainer=function(i,o,u,p){if(!Pl(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Ml(i,o,u,!1,p)},Xt.version="18.2.0-next-9e3b772b8-20220608",Xt}var Vm;function x1(){if(Vm)return Nd.exports;Vm=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nd.exports=y1(),Nd.exports}var Ym;function v1(){if(Ym)return Al;Ym=1;var t=x1();return Al.createRoot=t.createRoot,Al.hydrateRoot=t.hydrateRoot,Al}var b1=v1();const w1=Bf(b1);var Oo={},qm;function _1(){if(qm)return Oo;qm=1,Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.parse=l,Oo.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,w){const b=new a,S=x.length;if(S<2)return b;const _=(w==null?void 0:w.decode)||m;let C=0;do{const T=x.indexOf("=",C);if(T===-1)break;const P=x.indexOf(";",C),D=P===-1?S:P;if(T>D){C=x.lastIndexOf(";",T-1)+1;continue}const M=c(x,C,T),I=d(x,T,M),B=x.slice(M,I);if(b[B]===void 0){let V=c(x,T+1,D),U=d(x,D,V);const q=_(x.slice(V,U));b[B]=q}C=D+1}while(C<S);return b}function c(x,w,b){do{const S=x.charCodeAt(w);if(S!==32&&S!==9)return w}while(++w<b);return b}function d(x,w,b){for(;w>b;){const S=x.charCodeAt(--w);if(S!==32&&S!==9)return w+1}return b}function h(x,w,b){const S=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const _=S(w);if(!e.test(_))throw new TypeError(`argument val is invalid: ${w}`);let C=x+"="+_;if(!b)return C;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);C+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);C+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);C+="; Path="+b.path}if(b.expires){if(!y(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);C+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(C+="; HttpOnly"),b.secure&&(C+="; Secure"),b.partitioned&&(C+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return C}function m(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function y(x){return s.call(x)==="[object Date]"}return Oo}_1();var Xm="popstate";function S1(t={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return lf("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ta(s)}return C1(e,n,null,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _n(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k1(){return Math.random().toString(36).substring(2,10)}function Km(t,e){return{usr:t.state,key:t.key,idx:e}}function lf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Li(e):e,state:n,key:e&&e.key||r||k1()}}function ta({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Li(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function C1(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function y(){c="POP";let _=m(),C=_==null?null:_-h;h=_,d&&d({action:c,location:S.location,delta:C})}function x(_,C){c="PUSH";let T=lf(S.location,_,C);h=m()+1;let P=Km(T,h),D=S.createHref(T);try{l.pushState(P,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(D)}a&&d&&d({action:c,location:S.location,delta:1})}function w(_,C){c="REPLACE";let T=lf(S.location,_,C);h=m();let P=Km(T,h),D=S.createHref(T);l.replaceState(P,"",D),a&&d&&d({action:c,location:S.location,delta:0})}function b(_){return N1(_)}let S={get action(){return c},get location(){return t(s,l)},listen(_){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Xm,y),d=_,()=>{s.removeEventListener(Xm,y),d=null}},createHref(_){return e(s,_)},createURL:b,encodeLocation(_){let C=b(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:w,go(_){return l.go(_)}};return S}function N1(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ta(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function cy(t,e,n="/"){return j1(t,e,n,!1)}function j1(t,e,n,r){let s=typeof e=="string"?Li(e):e,a=_r(s.pathname||"/",n);if(a==null)return null;let l=uy(t);E1(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=z1(a);c=I1(l[d],h,r)}return c}function uy(t,e=[],n=[],r=""){let s=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Ge(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=br([r,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(Ge(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),uy(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:D1(h,a.index),routesMeta:m})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let d of dy(a.path))s(a,l,d)}),e}function dy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=dy(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function E1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:L1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var T1=/^:[\w-]+$/,P1=3,M1=2,R1=1,A1=10,O1=-2,Qm=t=>t==="*";function D1(t,e){let n=t.split("/"),r=n.length;return n.some(Qm)&&(r+=O1),e&&(r+=M1),n.filter(s=>!Qm(s)).reduce((s,a)=>s+(T1.test(a)?P1:a===""?R1:A1),r)}function L1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function I1(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=fc({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),x=d.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=fc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:br([a,y.pathname]),pathnameBase:$1(br([a,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(a=br([a,y.pathnameBase]))}return l}function fc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=F1(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:y},x)=>{if(m==="*"){let b=c[x]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const w=c[x];return y&&!w?h[m]=void 0:h[m]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function F1(t,e=!1,n=!0){_n(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function z1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _n(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function _r(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function B1(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Li(t):t;return{pathname:n?n.startsWith("/")?n:U1(n,e):e,search:W1(r),hash:V1(s)}}function U1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Td(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function H1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hf(t){let e=H1(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function $f(t,e,n,r=!1){let s;typeof t=="string"?s=Li(t):(s={...t},Ge(!s.pathname||!s.pathname.includes("?"),Td("?","pathname","search",s)),Ge(!s.pathname||!s.pathname.includes("#"),Td("#","pathname","hash",s)),Ge(!s.search||!s.search.includes("#"),Td("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;s.pathname=x.join("/")}c=y>=0?e[y]:"/"}let d=B1(s,c),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var br=t=>t.join("/").replace(/\/\/+/g,"/"),$1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),W1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Y1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var fy=["POST","PUT","PATCH","DELETE"];new Set(fy);var q1=["GET",...fy];new Set(q1);var Ii=E.createContext(null);Ii.displayName="DataRouter";var Nc=E.createContext(null);Nc.displayName="DataRouterState";var hy=E.createContext({isTransitioning:!1});hy.displayName="ViewTransition";var X1=E.createContext(new Map);X1.displayName="Fetchers";var K1=E.createContext(null);K1.displayName="Await";var Rn=E.createContext(null);Rn.displayName="Navigation";var fa=E.createContext(null);fa.displayName="Location";var An=E.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var Wf=E.createContext(null);Wf.displayName="RouteError";function Q1(t,{relative:e}={}){Ge(Fi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Rn),{hash:s,pathname:a,search:l}=ha(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:br([n,a])),r.createHref({pathname:c,search:l,hash:s})}function Fi(){return E.useContext(fa)!=null}function Sr(){return Ge(Fi(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(fa).location}var py="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function my(t){E.useContext(Rn).static||E.useLayoutEffect(t)}function kr(){let{isDataRoute:t}=E.useContext(An);return t?cw():G1()}function G1(){Ge(Fi(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Ii),{basename:e,navigator:n}=E.useContext(Rn),{matches:r}=E.useContext(An),{pathname:s}=Sr(),a=JSON.stringify(Hf(r)),l=E.useRef(!1);return my(()=>{l.current=!0}),E.useCallback((d,h={})=>{if(_n(l.current,py),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=$f(d,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:br([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,s,t])}E.createContext(null);function gy(){let{matches:t}=E.useContext(An),e=t[t.length-1];return e?e.params:{}}function ha(t,{relative:e}={}){let{matches:n}=E.useContext(An),{pathname:r}=Sr(),s=JSON.stringify(Hf(n));return E.useMemo(()=>$f(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Z1(t,e){return yy(t,e)}function yy(t,e,n,r){var C;Ge(Fi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(Rn),{matches:a}=E.useContext(An),l=a[a.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let T=m&&m.path||"";xy(d,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=Sr(),x;if(e){let T=typeof e=="string"?Li(e):e;Ge(h==="/"||((C=T.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),x=T}else x=y;let w=x.pathname||"/",b=w;if(h!=="/"){let T=h.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=cy(t,{pathname:b});_n(m||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),_n(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=rw(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:br([h,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:br([h,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,n,r);return e&&_?E.createElement(fa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},_):_}function J1(){let t=lw(),e=Y1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,l)}var ew=E.createElement(J1,null),tw=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(An.Provider,{value:this.props.routeContext},E.createElement(Wf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nw({routeContext:t,match:e,children:n}){let r=E.useContext(Ii);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(An.Provider,{value:t},n)}function rw(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Ge(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:y}=n,x=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,m)=>{let y,x=!1,w=null,b=null;n&&(y=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||ew,l&&(c<0&&m===0?(xy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,b=null):c===m&&(x=!0,b=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,m+1)),_=()=>{let C;return y?C=w:x?C=b:h.route.Component?C=E.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,E.createElement(nw,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?E.createElement(tw,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}function Vf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sw(t){let e=E.useContext(Ii);return Ge(e,Vf(t)),e}function iw(t){let e=E.useContext(Nc);return Ge(e,Vf(t)),e}function ow(t){let e=E.useContext(An);return Ge(e,Vf(t)),e}function Yf(t){let e=ow(t),n=e.matches[e.matches.length-1];return Ge(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function aw(){return Yf("useRouteId")}function lw(){var r;let t=E.useContext(Wf),e=iw("useRouteError"),n=Yf("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function cw(){let{router:t}=sw("useNavigate"),e=Yf("useNavigate"),n=E.useRef(!1);return my(()=>{n.current=!0}),E.useCallback(async(s,a={})=>{_n(n.current,py),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Gm={};function xy(t,e,n){!e&&!Gm[t]&&(Gm[t]=!0,_n(!1,n))}E.memo(uw);function uw({routes:t,future:e,state:n}){return yy(t,void 0,n,e)}function Zm({to:t,replace:e,state:n,relative:r}){Ge(Fi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=E.useContext(Rn);_n(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(An),{pathname:l}=Sr(),c=kr(),d=$f(t,Hf(a),l,r==="path"),h=JSON.stringify(d);return E.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:r})},[c,h,r,e,n]),null}function Gt(t){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dw({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){Ge(!Fi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Li(n));let{pathname:d="/",search:h="",hash:m="",state:y=null,key:x="default"}=n,w=E.useMemo(()=>{let b=_r(d,l);return b==null?null:{location:{pathname:b,search:h,hash:m,state:y,key:x},navigationType:r}},[l,d,h,m,y,x,r]);return _n(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(Rn.Provider,{value:c},E.createElement(fa.Provider,{children:e,value:w}))}function vy({children:t,location:e}){return Z1(cf(t),e)}function cf(t,e=[]){let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let a=[...e,s];if(r.type===E.Fragment){n.push.apply(n,cf(r.props.children,a));return}Ge(r.type===Gt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=cf(r.props.children,a)),n.push(l)}),n}var rc="get",sc="application/x-www-form-urlencoded";function jc(t){return t!=null&&typeof t.tagName=="string"}function fw(t){return jc(t)&&t.tagName.toLowerCase()==="button"}function hw(t){return jc(t)&&t.tagName.toLowerCase()==="form"}function pw(t){return jc(t)&&t.tagName.toLowerCase()==="input"}function mw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gw(t,e){return t.button===0&&(!e||e==="_self")&&!mw(t)}function uf(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function yw(t,e){let n=uf(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(a=>{n.append(s,a)})}),n}var Ol=null;function xw(){if(Ol===null)try{new FormData(document.createElement("form"),0),Ol=!1}catch{Ol=!0}return Ol}var vw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pd(t){return t!=null&&!vw.has(t)?(_n(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sc}"`),null):t}function bw(t,e){let n,r,s,a,l;if(hw(t)){let c=t.getAttribute("action");r=c?_r(c,e):null,n=t.getAttribute("method")||rc,s=Pd(t.getAttribute("enctype"))||sc,a=new FormData(t)}else if(fw(t)||pw(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?_r(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||rc,s=Pd(t.getAttribute("formenctype"))||Pd(c.getAttribute("enctype"))||sc,a=new FormData(c,t),!xw()){let{name:h,type:m,value:y}=t;if(m==="image"){let x=h?`${h}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else h&&a.append(h,y)}}else{if(jc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rc,r=null,s=sc,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function qf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function ww(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _w(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Sw(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await ww(a,n);return l.links?l.links():[]}return[]}));return jw(r.flat(1).filter(_w).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Jm(t,e,n,r,s,a){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var m;return n[h].pathname!==d.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):a==="data"?e.filter((d,h)=>{var y;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function kw(t,e,{includeHydrateFallback:n}={}){return Cw(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Cw(t){return[...new Set(t)]}function Nw(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function jw(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(Nw(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ew=new Set([100,101,204,205]);function Tw(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&_r(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function by(){let t=E.useContext(Ii);return qf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Pw(){let t=E.useContext(Nc);return qf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xf=E.createContext(void 0);Xf.displayName="FrameworkContext";function wy(){let t=E.useContext(Xf);return qf(t,"You must render this element inside a <HydratedRouter> element"),t}function Mw(t,e){let n=E.useContext(Xf),[r,s]=E.useState(!1),[a,l]=E.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,x=E.useRef(null);E.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=C=>{C.forEach(T=>{l(T.isIntersecting)})},_=new IntersectionObserver(S,{threshold:.5});return x.current&&_.observe(x.current),()=>{_.disconnect()}}},[t]),E.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let w=()=>{s(!0)},b=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:Do(c,w),onBlur:Do(d,b),onMouseEnter:Do(h,w),onMouseLeave:Do(m,b),onTouchStart:Do(y,w)}]:[!1,x,{}]}function Do(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Rw({page:t,...e}){let{router:n}=by(),r=E.useMemo(()=>cy(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(Ow,{page:t,matches:r,...e}):null}function Aw(t){let{manifest:e,routeModules:n}=wy(),[r,s]=E.useState([]);return E.useEffect(()=>{let a=!1;return Sw(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function Ow({page:t,matches:e,...n}){let r=Sr(),{manifest:s,routeModules:a}=wy(),{basename:l}=by(),{loaderData:c,matches:d}=Pw(),h=E.useMemo(()=>Jm(t,e,d,s,r,"data"),[t,e,d,s,r]),m=E.useMemo(()=>Jm(t,e,d,s,r,"assets"),[t,e,d,s,r]),y=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,S=!1;if(e.forEach(C=>{var P;let T=s.routes[C.route.id];!T||!T.hasLoader||(!h.some(D=>D.route.id===C.route.id)&&C.route.id in c&&((P=a[C.route.id])!=null&&P.shouldRevalidate)||T.hasClientLoader?S=!0:b.add(C.route.id))}),b.size===0)return[];let _=Tw(t,l);return S&&b.size>0&&_.searchParams.set("_routes",e.filter(C=>b.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[l,c,r,s,h,e,t,a]),x=E.useMemo(()=>kw(m,s),[m,s]),w=Aw(m);return E.createElement(E.Fragment,null,y.map(b=>E.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),x.map(b=>E.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),w.map(({key:b,link:S})=>E.createElement("link",{key:b,...S})))}function Dw(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_y&&(window.__reactRouterVersion="7.6.2")}catch{}function Lw({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=S1({window:n,v5Compat:!0}));let s=r.current,[a,l]=E.useState({action:s.action,location:s.location}),c=E.useCallback(d=>{E.startTransition(()=>l(d))},[l]);return E.useLayoutEffect(()=>s.listen(c),[s,c]),E.createElement(dw,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var Sy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:d,to:h,preventScrollReset:m,viewTransition:y,...x},w){let{basename:b}=E.useContext(Rn),S=typeof h=="string"&&Sy.test(h),_,C=!1;if(typeof h=="string"&&S&&(_=h,_y))try{let U=new URL(window.location.href),q=h.startsWith("//")?new URL(U.protocol+h):new URL(h),te=_r(q.pathname,b);q.origin===U.origin&&te!=null?h=te+q.search+q.hash:C=!0}catch{_n(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Q1(h,{relative:s}),[P,D,M]=Mw(r,x),I=Bw(h,{replace:l,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:y});function B(U){e&&e(U),U.defaultPrevented||I(U)}let V=E.createElement("a",{...x,...M,href:_||T,onClick:C||a?e:B,ref:Dw(w,D),target:d,"data-discover":!S&&n==="render"?"true":void 0});return P&&!S?E.createElement(E.Fragment,null,V,E.createElement(Rw,{page:T})):V});Pn.displayName="Link";var Iw=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:d,...h},m){let y=ha(l,{relative:h.relative}),x=Sr(),w=E.useContext(Nc),{navigator:b,basename:S}=E.useContext(Rn),_=w!=null&&Vw(y)&&c===!0,C=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,T=x.pathname,P=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(T=T.toLowerCase(),P=P?P.toLowerCase():null,C=C.toLowerCase()),P&&S&&(P=_r(P,S)||P);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let M=T===C||!s&&T.startsWith(C)&&T.charAt(D)==="/",I=P!=null&&(P===C||!s&&P.startsWith(C)&&P.charAt(C.length)==="/"),B={isActive:M,isPending:I,isTransitioning:_},V=M?e:void 0,U;typeof r=="function"?U=r(B):U=[r,M?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let q=typeof a=="function"?a(B):a;return E.createElement(Pn,{...h,"aria-current":V,className:U,ref:m,style:q,to:l,viewTransition:c},typeof d=="function"?d(B):d)});Iw.displayName="NavLink";var Fw=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=rc,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:y,...x},w)=>{let b=$w(),S=Ww(c,{relative:h}),_=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&Sy.test(c),T=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let D=P.nativeEvent.submitter,M=(D==null?void 0:D.getAttribute("formmethod"))||l;b(D||P.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:s,state:a,relative:h,preventScrollReset:m,viewTransition:y})};return E.createElement("form",{ref:w,method:_,action:S,onSubmit:r?d:T,...x,"data-discover":!C&&t==="render"?"true":void 0})});Fw.displayName="Form";function zw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ky(t){let e=E.useContext(Ii);return Ge(e,zw(t)),e}function Bw(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=kr(),d=Sr(),h=ha(t,{relative:a});return E.useCallback(m=>{if(gw(m,e)){m.preventDefault();let y=n!==void 0?n:ta(d)===ta(h);c(t,{replace:y,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,c,h,n,r,e,t,s,a,l])}function pa(t){_n(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=E.useRef(uf(t)),n=E.useRef(!1),r=Sr(),s=E.useMemo(()=>yw(r.search,n.current?null:e.current),[r.search]),a=kr(),l=E.useCallback((c,d)=>{const h=uf(typeof c=="function"?c(s):c);n.current=!0,a("?"+h,d)},[a,s]);return[s,l]}var Uw=0,Hw=()=>`__${String(++Uw)}__`;function $w(){let{router:t}=ky("useSubmit"),{basename:e}=E.useContext(Rn),n=aw();return E.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:d,body:h}=bw(r,e);if(s.navigate===!1){let m=s.fetcherKey||Hw();await t.fetch(m,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Ww(t,{relative:e}={}){let{basename:n}=E.useContext(Rn),r=E.useContext(An);Ge(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...ha(t||".",{relative:e})},l=Sr();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:br([n,a.pathname])),ta(a)}function Vw(t,e={}){let n=E.useContext(hy);Ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ky("useViewTransitionState"),s=ha(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=_r(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=_r(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fc(s.pathname,l)!=null||fc(s.pathname,a)!=null}[...Ew];function Cy(t,e){return function(){return t.apply(e,arguments)}}const{toString:Yw}=Object.prototype,{getPrototypeOf:Kf}=Object,{iterator:Ec,toStringTag:Ny}=Symbol,Tc=(t=>e=>{const n=Yw.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),On=t=>(t=t.toLowerCase(),e=>Tc(e)===t),Pc=t=>e=>typeof e===t,{isArray:zi}=Array,na=Pc("undefined");function qw(t){return t!==null&&!na(t)&&t.constructor!==null&&!na(t.constructor)&&en(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jy=On("ArrayBuffer");function Xw(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jy(t.buffer),e}const Kw=Pc("string"),en=Pc("function"),Ey=Pc("number"),Mc=t=>t!==null&&typeof t=="object",Qw=t=>t===!0||t===!1,ic=t=>{if(Tc(t)!=="object")return!1;const e=Kf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Ny in t)&&!(Ec in t)},Gw=On("Date"),Zw=On("File"),Jw=On("Blob"),e2=On("FileList"),t2=t=>Mc(t)&&en(t.pipe),n2=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||en(t.append)&&((e=Tc(t))==="formdata"||e==="object"&&en(t.toString)&&t.toString()==="[object FormData]"))},r2=On("URLSearchParams"),[s2,i2,o2,a2]=["ReadableStream","Request","Response","Headers"].map(On),l2=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ma(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),zi(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let c;for(r=0;r<l;r++)c=a[r],e.call(null,t[c],c,t)}}function Ty(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Rs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Py=t=>!na(t)&&t!==Rs;function df(){const{caseless:t}=Py(this)&&this||{},e={},n=(r,s)=>{const a=t&&Ty(e,s)||s;ic(e[a])&&ic(r)?e[a]=df(e[a],r):ic(r)?e[a]=df({},r):zi(r)?e[a]=r.slice():e[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&ma(arguments[r],n);return e}const c2=(t,e,n,{allOwnKeys:r}={})=>(ma(e,(s,a)=>{n&&en(s)?t[a]=Cy(s,n):t[a]=s},{allOwnKeys:r}),t),u2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),d2=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},f2=(t,e,n,r)=>{let s,a,l;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)l=s[a],(!r||r(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&Kf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},h2=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},p2=t=>{if(!t)return null;if(zi(t))return t;let e=t.length;if(!Ey(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},m2=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Kf(Uint8Array)),g2=(t,e)=>{const r=(t&&t[Ec]).call(t);let s;for(;(s=r.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},y2=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},x2=On("HTMLFormElement"),v2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),eg=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),b2=On("RegExp"),My=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ma(n,(s,a)=>{let l;(l=e(s,a,t))!==!1&&(r[a]=l||s)}),Object.defineProperties(t,r)},w2=t=>{My(t,(e,n)=>{if(en(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(en(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},_2=(t,e)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return zi(t)?r(t):r(String(t).split(e)),n},S2=()=>{},k2=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function C2(t){return!!(t&&en(t.append)&&t[Ny]==="FormData"&&t[Ec])}const N2=t=>{const e=new Array(10),n=(r,s)=>{if(Mc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const a=zi(r)?[]:{};return ma(r,(l,c)=>{const d=n(l,s+1);!na(d)&&(a[c]=d)}),e[s]=void 0,a}}return r};return n(t,0)},j2=On("AsyncFunction"),E2=t=>t&&(Mc(t)||en(t))&&en(t.then)&&en(t.catch),Ry=((t,e)=>t?setImmediate:e?((n,r)=>(Rs.addEventListener("message",({source:s,data:a})=>{s===Rs&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Rs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",en(Rs.postMessage)),T2=typeof queueMicrotask<"u"?queueMicrotask.bind(Rs):typeof process<"u"&&process.nextTick||Ry,P2=t=>t!=null&&en(t[Ec]),Y={isArray:zi,isArrayBuffer:jy,isBuffer:qw,isFormData:n2,isArrayBufferView:Xw,isString:Kw,isNumber:Ey,isBoolean:Qw,isObject:Mc,isPlainObject:ic,isReadableStream:s2,isRequest:i2,isResponse:o2,isHeaders:a2,isUndefined:na,isDate:Gw,isFile:Zw,isBlob:Jw,isRegExp:b2,isFunction:en,isStream:t2,isURLSearchParams:r2,isTypedArray:m2,isFileList:e2,forEach:ma,merge:df,extend:c2,trim:l2,stripBOM:u2,inherits:d2,toFlatObject:f2,kindOf:Tc,kindOfTest:On,endsWith:h2,toArray:p2,forEachEntry:g2,matchAll:y2,isHTMLForm:x2,hasOwnProperty:eg,hasOwnProp:eg,reduceDescriptors:My,freezeMethods:w2,toObjectSet:_2,toCamelCase:v2,noop:S2,toFiniteNumber:k2,findKey:Ty,global:Rs,isContextDefined:Py,isSpecCompliantForm:C2,toJSONObject:N2,isAsyncFn:j2,isThenable:E2,setImmediate:Ry,asap:T2,isIterable:P2};function Me(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Y.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const Ay=Me.prototype,Oy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Oy[t]={value:t}});Object.defineProperties(Me,Oy);Object.defineProperty(Ay,"isAxiosError",{value:!0});Me.from=(t,e,n,r,s,a)=>{const l=Object.create(Ay);return Y.toFlatObject(t,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Me.call(l,t.message,e,n,r,s),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const M2=null;function ff(t){return Y.isPlainObject(t)||Y.isArray(t)}function Dy(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}function tg(t,e,n){return t?t.concat(e).map(function(s,a){return s=Dy(s),!n&&a?"["+s+"]":s}).join(n?".":""):e}function R2(t){return Y.isArray(t)&&!t.some(ff)}const A2=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function Rc(t,e,n){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,_){return!Y.isUndefined(_[S])});const r=n.metaTokens,s=n.visitor||m,a=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(s))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(Y.isDate(b))return b.toISOString();if(Y.isBoolean(b))return b.toString();if(!d&&Y.isBlob(b))throw new Me("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(b)||Y.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function m(b,S,_){let C=b;if(b&&!_&&typeof b=="object"){if(Y.endsWith(S,"{}"))S=r?S:S.slice(0,-2),b=JSON.stringify(b);else if(Y.isArray(b)&&R2(b)||(Y.isFileList(b)||Y.endsWith(S,"[]"))&&(C=Y.toArray(b)))return S=Dy(S),C.forEach(function(P,D){!(Y.isUndefined(P)||P===null)&&e.append(l===!0?tg([S],D,a):l===null?S:S+"[]",h(P))}),!1}return ff(b)?!0:(e.append(tg(_,S,a),h(b)),!1)}const y=[],x=Object.assign(A2,{defaultVisitor:m,convertValue:h,isVisitable:ff});function w(b,S){if(!Y.isUndefined(b)){if(y.indexOf(b)!==-1)throw Error("Circular reference detected in "+S.join("."));y.push(b),Y.forEach(b,function(C,T){(!(Y.isUndefined(C)||C===null)&&s.call(e,C,Y.isString(T)?T.trim():T,S,x))===!0&&w(C,S?S.concat(T):[T])}),y.pop()}}if(!Y.isObject(t))throw new TypeError("data must be an object");return w(t),e}function ng(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Qf(t,e){this._pairs=[],t&&Rc(t,this,e)}const Ly=Qf.prototype;Ly.append=function(e,n){this._pairs.push([e,n])};Ly.toString=function(e){const n=e?function(r){return e.call(this,r,ng)}:ng;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function O2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Iy(t,e,n){if(!e)return t;const r=n&&n.encode||O2;Y.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(e,n):a=Y.isURLSearchParams(e)?e.toString():new Qf(e,n).toString(r),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class rg{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Fy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},D2=typeof URLSearchParams<"u"?URLSearchParams:Qf,L2=typeof FormData<"u"?FormData:null,I2=typeof Blob<"u"?Blob:null,F2={isBrowser:!0,classes:{URLSearchParams:D2,FormData:L2,Blob:I2},protocols:["http","https","file","blob","url","data"]},Gf=typeof window<"u"&&typeof document<"u",hf=typeof navigator=="object"&&navigator||void 0,z2=Gf&&(!hf||["ReactNative","NativeScript","NS"].indexOf(hf.product)<0),B2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",U2=Gf&&window.location.href||"http://localhost",H2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gf,hasStandardBrowserEnv:z2,hasStandardBrowserWebWorkerEnv:B2,navigator:hf,origin:U2},Symbol.toStringTag,{value:"Module"})),At={...H2,...F2};function $2(t,e){return Rc(t,new At.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,a){return At.isNode&&Y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function W2(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function V2(t){const e={},n=Object.keys(t);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],e[a]=t[a];return e}function zy(t){function e(n,r,s,a){let l=n[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=a>=n.length;return l=!l&&Y.isArray(s)?s.length:l,d?(Y.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!c):((!s[l]||!Y.isObject(s[l]))&&(s[l]=[]),e(n,r,s[l],a)&&Y.isArray(s[l])&&(s[l]=V2(s[l])),!c)}if(Y.isFormData(t)&&Y.isFunction(t.entries)){const n={};return Y.forEachEntry(t,(r,s)=>{e(W2(r),s,n,0)}),n}return null}function Y2(t,e,n){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const ga={transitional:Fy,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=Y.isObject(e);if(a&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return s?JSON.stringify(zy(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $2(e,this.formSerializer).toString();if((c=Y.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Rc(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),Y2(e)):e}],transformResponse:[function(e){const n=this.transitional||ga.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?Me.from(c,Me.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:At.classes.FormData,Blob:At.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],t=>{ga.headers[t]={}});const q2=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X2=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||e[n]&&q2[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},sg=Symbol("internals");function Lo(t){return t&&String(t).trim().toLowerCase()}function oc(t){return t===!1||t==null?t:Y.isArray(t)?t.map(oc):String(t)}function K2(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Q2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Md(t,e,n,r,s){if(Y.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!Y.isString(e)){if(Y.isString(r))return e.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(e)}}function G2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Z2(t,e){const n=Y.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,a,l){return this[r].call(this,e,s,a,l)},configurable:!0})})}let tn=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function a(c,d,h){const m=Lo(d);if(!m)throw new Error("header name must be a non-empty string");const y=Y.findKey(s,m);(!y||s[y]===void 0||h===!0||h===void 0&&s[y]!==!1)&&(s[y||d]=oc(c))}const l=(c,d)=>Y.forEach(c,(h,m)=>a(h,m,d));if(Y.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(Y.isString(e)&&(e=e.trim())&&!Q2(e))l(X2(e),n);else if(Y.isObject(e)&&Y.isIterable(e)){let c={},d,h;for(const m of e){if(!Y.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(d=c[h])?Y.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}l(c,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=Lo(e),e){const r=Y.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return K2(s);if(Y.isFunction(n))return n.call(this,s,r);if(Y.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Lo(e),e){const r=Y.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Md(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function a(l){if(l=Lo(l),l){const c=Y.findKey(r,l);c&&(!n||Md(r,r[c],c,n))&&(delete r[c],s=!0)}}return Y.isArray(e)?e.forEach(a):a(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!e||Md(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const n=this,r={};return Y.forEach(this,(s,a)=>{const l=Y.findKey(r,a);if(l){n[l]=oc(s),delete n[a];return}const c=e?G2(a):String(a).trim();c!==a&&delete n[a],n[c]=oc(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Y.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&Y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[sg]=this[sg]={accessors:{}}).accessors,s=this.prototype;function a(l){const c=Lo(l);r[c]||(Z2(s,l),r[c]=!0)}return Y.isArray(e)?e.forEach(a):a(e),this}};tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(tn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Y.freezeMethods(tn);function Rd(t,e){const n=this||ga,r=e||n,s=tn.from(r.headers);let a=r.data;return Y.forEach(t,function(c){a=c.call(n,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function By(t){return!!(t&&t.__CANCEL__)}function Bi(t,e,n){Me.call(this,t??"canceled",Me.ERR_CANCELED,e,n),this.name="CanceledError"}Y.inherits(Bi,Me,{__CANCEL__:!0});function Uy(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Me("Request failed with status code "+n.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function J2(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function e_(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,a=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[a];l||(l=h),n[s]=d,r[s]=h;let y=a,x=0;for(;y!==s;)x+=n[y++],y=y%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),h-l<e)return;const w=m&&h-m;return w?Math.round(x*1e3/w):void 0}}function t_(t,e){let n=0,r=1e3/e,s,a;const l=(h,m=Date.now())=>{n=m,s=null,a&&(clearTimeout(a),a=null),t.apply(null,h)};return[(...h)=>{const m=Date.now(),y=m-n;y>=r?l(h,m):(s=h,a||(a=setTimeout(()=>{a=null,l(s)},r-y)))},()=>s&&l(s)]}const hc=(t,e,n=3)=>{let r=0;const s=e_(50,250);return t_(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,d=l-r,h=s(d),m=l<=c;r=l;const y={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&m?(c-l)/h:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(y)},n)},ig=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},og=t=>(...e)=>Y.asap(()=>t(...e)),n_=At.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,At.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(At.origin),At.navigator&&/(msie|trident)/i.test(At.navigator.userAgent)):()=>!0,r_=At.hasStandardBrowserEnv?{write(t,e,n,r,s,a){const l=[t+"="+encodeURIComponent(e)];Y.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),Y.isString(r)&&l.push("path="+r),Y.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function s_(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function i_(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Hy(t,e,n){let r=!s_(e);return t&&(r||n==!1)?i_(t,e):e}const ag=t=>t instanceof tn?{...t}:t;function Fs(t,e){e=e||{};const n={};function r(h,m,y,x){return Y.isPlainObject(h)&&Y.isPlainObject(m)?Y.merge.call({caseless:x},h,m):Y.isPlainObject(m)?Y.merge({},m):Y.isArray(m)?m.slice():m}function s(h,m,y,x){if(Y.isUndefined(m)){if(!Y.isUndefined(h))return r(void 0,h,y,x)}else return r(h,m,y,x)}function a(h,m){if(!Y.isUndefined(m))return r(void 0,m)}function l(h,m){if(Y.isUndefined(m)){if(!Y.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function c(h,m,y){if(y in e)return r(h,m);if(y in t)return r(void 0,h)}const d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,m,y)=>s(ag(h),ag(m),y,!0)};return Y.forEach(Object.keys(Object.assign({},t,e)),function(m){const y=d[m]||s,x=y(t[m],e[m],m);Y.isUndefined(x)&&y!==c||(n[m]=x)}),n}const $y=t=>{const e=Fs({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:c}=e;e.headers=l=tn.from(l),e.url=Iy(Hy(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(Y.isFormData(n)){if(At.hasStandardBrowserEnv||At.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...m]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...m].join("; "))}}if(At.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(e)),r||r!==!1&&n_(e.url))){const h=s&&a&&r_.read(a);h&&l.set(s,h)}return e},o_=typeof XMLHttpRequest<"u",a_=o_&&function(t){return new Promise(function(n,r){const s=$y(t);let a=s.data;const l=tn.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=s,m,y,x,w,b;function S(){w&&w(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let _=new XMLHttpRequest;_.open(s.method.toUpperCase(),s.url,!0),_.timeout=s.timeout;function C(){if(!_)return;const P=tn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),M={data:!c||c==="text"||c==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:P,config:t,request:_};Uy(function(B){n(B),S()},function(B){r(B),S()},M),_=null}"onloadend"in _?_.onloadend=C:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(C)},_.onabort=function(){_&&(r(new Me("Request aborted",Me.ECONNABORTED,t,_)),_=null)},_.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const M=s.transitional||Fy;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),r(new Me(D,M.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,t,_)),_=null},a===void 0&&l.setContentType(null),"setRequestHeader"in _&&Y.forEach(l.toJSON(),function(D,M){_.setRequestHeader(M,D)}),Y.isUndefined(s.withCredentials)||(_.withCredentials=!!s.withCredentials),c&&c!=="json"&&(_.responseType=s.responseType),h&&([x,b]=hc(h,!0),_.addEventListener("progress",x)),d&&_.upload&&([y,w]=hc(d),_.upload.addEventListener("progress",y),_.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(m=P=>{_&&(r(!P||P.type?new Bi(null,t,_):P),_.abort(),_=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const T=J2(s.url);if(T&&At.protocols.indexOf(T)===-1){r(new Me("Unsupported protocol "+T+":",Me.ERR_BAD_REQUEST,t));return}_.send(a||null)})},l_=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const a=function(h){if(!s){s=!0,c();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Me?m:new Bi(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,a(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:d}=r;return d.unsubscribe=()=>Y.asap(c),d}},c_=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},u_=async function*(t,e){for await(const n of d_(t))yield*c_(n,e)},d_=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},lg=(t,e,n,r)=>{const s=u_(t,e);let a=0,l,c=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await s.next();if(h){c(),d.close();return}let y=m.byteLength;if(n){let x=a+=y;n(x)}d.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},Ac=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Wy=Ac&&typeof ReadableStream=="function",f_=Ac&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Vy=(t,...e)=>{try{return!!t(...e)}catch{return!1}},h_=Wy&&Vy(()=>{let t=!1;const e=new Request(At.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),cg=64*1024,pf=Wy&&Vy(()=>Y.isReadableStream(new Response("").body)),pc={stream:pf&&(t=>t.body)};Ac&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!pc[e]&&(pc[e]=Y.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const p_=async t=>{if(t==null)return 0;if(Y.isBlob(t))return t.size;if(Y.isSpecCompliantForm(t))return(await new Request(At.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(t)||Y.isArrayBuffer(t))return t.byteLength;if(Y.isURLSearchParams(t)&&(t=t+""),Y.isString(t))return(await f_(t)).byteLength},m_=async(t,e)=>{const n=Y.toFiniteNumber(t.getContentLength());return n??p_(e)},g_=Ac&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:a,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:h,headers:m,withCredentials:y="same-origin",fetchOptions:x}=$y(t);h=h?(h+"").toLowerCase():"text";let w=l_([s,a&&a.toAbortSignal()],l),b;const S=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let _;try{if(d&&h_&&n!=="get"&&n!=="head"&&(_=await m_(m,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),I;if(Y.isFormData(r)&&(I=M.headers.get("content-type"))&&m.setContentType(I),M.body){const[B,V]=ig(_,hc(og(d)));r=lg(M.body,cg,B,V)}}Y.isString(y)||(y=y?"include":"omit");const C="credentials"in Request.prototype;b=new Request(e,{...x,signal:w,method:n.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:C?y:void 0});let T=await fetch(b,x);const P=pf&&(h==="stream"||h==="response");if(pf&&(c||P&&S)){const M={};["status","statusText","headers"].forEach(U=>{M[U]=T[U]});const I=Y.toFiniteNumber(T.headers.get("content-length")),[B,V]=c&&ig(I,hc(og(c),!0))||[];T=new Response(lg(T.body,cg,B,()=>{V&&V(),S&&S()}),M)}h=h||"text";let D=await pc[Y.findKey(pc,h)||"text"](T,t);return!P&&S&&S(),await new Promise((M,I)=>{Uy(M,I,{data:D,headers:tn.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:b})})}catch(C){throw S&&S(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,t,b),{cause:C.cause||C}):Me.from(C,C&&C.code,t,b)}}),mf={http:M2,xhr:a_,fetch:g_};Y.forEach(mf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ug=t=>`- ${t}`,y_=t=>Y.isFunction(t)||t===null||t===!1,Yy={getAdapter:t=>{t=Y.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let a=0;a<e;a++){n=t[a];let l;if(r=n,!y_(n)&&(r=mf[(l=String(n)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+a]=r}if(!r){const a=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(ug).join(`
`):" "+ug(a[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:mf};function Ad(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Bi(null,t)}function dg(t){return Ad(t),t.headers=tn.from(t.headers),t.data=Rd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Yy.getAdapter(t.adapter||ga.adapter)(t).then(function(r){return Ad(t),r.data=Rd.call(t,t.transformResponse,r),r.headers=tn.from(r.headers),r},function(r){return By(r)||(Ad(t),r&&r.response&&(r.response.data=Rd.call(t,t.transformResponse,r.response),r.response.headers=tn.from(r.response.headers))),Promise.reject(r)})}const qy="1.10.0",Oc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Oc[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const fg={};Oc.transitional=function(e,n,r){function s(a,l){return"[Axios v"+qy+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,c)=>{if(e===!1)throw new Me(s(l," has been removed"+(n?" in "+n:"")),Me.ERR_DEPRECATED);return n&&!fg[l]&&(fg[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,l,c):!0}};Oc.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function x_(t,e,n){if(typeof t!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const a=r[s],l=e[a];if(l){const c=t[a],d=c===void 0||l(c,a,t);if(d!==!0)throw new Me("option "+a+" must be "+d,Me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Me("Unknown option "+a,Me.ERR_BAD_OPTION)}}const ac={assertOptions:x_,validators:Oc},Vn=ac.validators;let Os=class{constructor(e){this.defaults=e||{},this.interceptors={request:new rg,response:new rg}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Fs(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&ac.assertOptions(r,{silentJSONParsing:Vn.transitional(Vn.boolean),forcedJSONParsing:Vn.transitional(Vn.boolean),clarifyTimeoutError:Vn.transitional(Vn.boolean)},!1),s!=null&&(Y.isFunction(s)?n.paramsSerializer={serialize:s}:ac.assertOptions(s,{encode:Vn.function,serialize:Vn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ac.assertOptions(n,{baseUrl:Vn.spelling("baseURL"),withXsrfToken:Vn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&Y.merge(a.common,a[n.method]);a&&Y.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),n.headers=tn.concat(l,a);const c=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(d=d&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let m,y=0,x;if(!d){const b=[dg.bind(this),void 0];for(b.unshift.apply(b,c),b.push.apply(b,h),x=b.length,m=Promise.resolve(n);y<x;)m=m.then(b[y++],b[y++]);return m}x=c.length;let w=n;for(y=0;y<x;){const b=c[y++],S=c[y++];try{w=b(w)}catch(_){S.call(this,_);break}}try{m=dg.call(this,w)}catch(b){return Promise.reject(b)}for(y=0,x=h.length;y<x;)m=m.then(h[y++],h[y++]);return m}getUri(e){e=Fs(this.defaults,e);const n=Hy(e.baseURL,e.url,e.allowAbsoluteUrls);return Iy(n,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){Os.prototype[e]=function(n,r){return this.request(Fs(r||{},{method:e,url:n,data:(r||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function n(r){return function(a,l,c){return this.request(Fs(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Os.prototype[e]=n(),Os.prototype[e+"Form"]=n(!0)});let v_=class Xy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(c=>{r.subscribe(c),a=c}).then(s);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,c){r.reason||(r.reason=new Bi(a,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Xy(function(s){e=s}),cancel:e}}};function b_(t){return function(n){return t.apply(null,n)}}function w_(t){return Y.isObject(t)&&t.isAxiosError===!0}const gf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gf).forEach(([t,e])=>{gf[e]=t});function Ky(t){const e=new Os(t),n=Cy(Os.prototype.request,e);return Y.extend(n,Os.prototype,e,{allOwnKeys:!0}),Y.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Ky(Fs(t,s))},n}const it=Ky(ga);it.Axios=Os;it.CanceledError=Bi;it.CancelToken=v_;it.isCancel=By;it.VERSION=qy;it.toFormData=Rc;it.AxiosError=Me;it.Cancel=it.CanceledError;it.all=function(e){return Promise.all(e)};it.spread=b_;it.isAxiosError=w_;it.mergeConfig=Fs;it.AxiosHeaders=tn;it.formToJSON=t=>zy(Y.isHTMLForm(t)?new FormData(t):t);it.getAdapter=Yy.getAdapter;it.HttpStatusCode=gf;it.default=it;const{Axios:rT,AxiosError:sT,CanceledError:iT,isCancel:oT,CancelToken:aT,VERSION:lT,all:cT,Cancel:uT,isAxiosError:dT,spread:fT,toFormData:hT,AxiosHeaders:pT,HttpStatusCode:mT,formToJSON:gT,getAdapter:yT,mergeConfig:xT}=it;let Qy="",yf=null;const xf=t=>{Qy=t},__=()=>Qy,S_=t=>{yf=t},k_=async()=>{if(yf)return await yf();try{const t=await it.post("/api/auth/refresh",{},{withCredentials:!0}),{accessToken:e}=t.data;return xf(e),e}catch(t){throw xf(""),t}},pe=it.create({baseURL:"/api",withCredentials:!0});pe.interceptors.request.use(t=>{const e=__();return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));let Od=!1,vf=[];const hg=(t,e=null)=>{vf.forEach(n=>{t?n.reject(t):n.resolve(e)}),vf=[]};pe.interceptors.response.use(t=>t,async t=>{var n;const e=t.config;if(((n=t.response)==null?void 0:n.status)===401&&!e._retry&&!e.url.includes("/auth/refresh")){if(e._retry=!0,Od)return new Promise((r,s)=>{vf.push({resolve:a=>{e.headers.Authorization=`Bearer ${a}`,r(pe(e))},reject:a=>s(a)})});Od=!0;try{const r=await k_();return hg(null,r),e.headers.Authorization=`Bearer ${r}`,pe(e)}catch(r){return hg(r,null),Promise.reject(r)}finally{Od=!1}}return Promise.reject(t)});const Gy=E.createContext(null),C_=({children:t})=>{const[e,n]=E.useState(null),[r,s]=E.useState(""),[a,l]=E.useState(!0);E.useEffect(()=>{xf(r)},[r]),E.useEffect(()=>{S_(c)},[]),E.useEffect(()=>{(async()=>{try{const x=await pe.post("/auth/refresh",{},{withCredentials:!0}),{user:w,accessToken:b}=x.data;n(w),s(b)}catch{n(null),s("")}finally{l(!1)}})()},[]);const c=async()=>{const y=await pe.post("/auth/refresh",{},{withCredentials:!0});return s(y.data.accessToken),n(y.data.user),y.data.accessToken},d=async(y,x)=>{const w=await pe.post("/auth/login",{email:y,password:x},{withCredentials:!0});n(w.data.user),s(w.data.accessToken)},h=async y=>{const x=await pe.post("/auth/register",y,{withCredentials:!0});n(x.data.user),s(x.data.accessToken)},m=async()=>{try{await pe.post("/auth/logout",{},{withCredentials:!0})}catch{}finally{n(null),s("")}};return a?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:f.jsx("span",{className:"text-sm text-gray-400",children:"Checking session..."})}):f.jsx(Gy.Provider,{value:{user:e,accessToken:r,login:d,register:h,logout:m,loading:a,isAuthenticated:!!e},children:t})},Ui=()=>{const t=E.useContext(Gy);if(!t)throw new Error("useAuth must be used inside <AuthProvider>");return t},N_=({email:t,setEmail:e,setStep:n})=>{const[r,s]=E.useState(""),[a,l]=E.useState(!1),c=async d=>{var h,m;d.preventDefault(),s(""),l(!0);try{(await pe.get(`/auth/check-email?email=${encodeURIComponent(t)}`)).data.exists?n("login"):n("register")}catch(y){s(((m=(h=y.response)==null?void 0:h.data)==null?void 0:m.message)||"Something went wrong checking the email.")}finally{l(!1)}};return f.jsxs("form",{onSubmit:c,className:"w-full bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg space-y-4",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Enter your email"}),f.jsx("input",{type:"email",value:t,required:!0,onChange:d=>e(d.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition",placeholder:"you@example.com"}),r&&f.jsx("p",{className:"text-red-500 text-sm",children:r}),f.jsx("button",{type:"submit",disabled:a,className:`w-full py-2 rounded-md font-medium transition ${a?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:a?"Checking...":"Continue"})]})},j_=({email:t,onSuccess:e,onSwitchToRegister:n,onForgotPassword:r})=>{const{login:s}=Ui(),[a,l]=E.useState(""),[c,d]=E.useState(""),[h,m]=E.useState(!1),y=async x=>{var w,b;x.preventDefault(),d(""),m(!0);try{await s(t,a),e==null||e()}catch(S){d(((b=(w=S.response)==null?void 0:w.data)==null?void 0:b.message)||"Login failed")}finally{m(!1)}};return f.jsxs("form",{onSubmit:y,className:"space-y-4 bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Welcome back"}),f.jsx("p",{className:"text-sm text-gray-400 mb-2",children:t}),f.jsx("input",{type:"password",placeholder:"Enter your password",value:a,onChange:x=>l(x.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),c&&f.jsx("p",{className:"text-sm text-red-500",children:c}),f.jsx("button",{type:"submit",disabled:h,className:`w-full py-2 rounded-md font-medium transition ${h?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:h?"Logging in...":"Login"}),f.jsxs("div",{className:"flex flex-col gap-2 text-sm mt-2",children:[f.jsx("button",{type:"button",onClick:n,className:"text-blue-400 hover:text-blue-300 underline",children:"Not your account? Create a new one"}),f.jsx("button",{type:"button",onClick:r,className:"text-blue-400 hover:text-blue-300 underline",children:"Forgot your password?"})]})]})},E_=({email:t,onSuccess:e,onSwitchToLogin:n})=>{const[r,s]=E.useState({username:"",email:t||"",password:""}),[a,l]=E.useState(""),[c,d]=E.useState(""),[h,m]=E.useState(!1),y=w=>{s({...r,[w.target.name]:w.target.value})},x=async w=>{var b,S;w.preventDefault(),l(""),d(""),m(!0);try{const _=await pe.post("/auth/register",r);d(_.data.message),e==null||e()}catch(_){l(((S=(b=_.response)==null?void 0:b.data)==null?void 0:S.message)||"Registration failed")}finally{m(!1)}};return f.jsxs("form",{onSubmit:x,className:"space-y-3",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"Create an account"}),f.jsx("p",{className:"text-sm text-gray-600",children:r.email}),f.jsx("input",{type:"text",name:"username",placeholder:"Username",value:r.username,onChange:y,className:"w-full p-2 border rounded",required:!0}),f.jsx("input",{type:"email",name:"email",placeholder:"Email",value:r.email,onChange:y,className:"w-full p-2 border rounded",required:!0}),f.jsx("input",{type:"password",name:"password",placeholder:"Password",value:r.password,onChange:y,className:"w-full p-2 border rounded",required:!0}),c&&f.jsx("p",{className:"text-green-600 text-sm",children:c}),a&&f.jsx("p",{className:"text-red-500 text-sm",children:a}),f.jsx("button",{type:"submit",disabled:h,className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700",children:h?"Creating...":"Create Account"}),f.jsx("button",{type:"button",onClick:n,className:"text-sm text-blue-600 underline mt-2",children:"Already have an account? Login"})]})},T_=({onClose:t})=>{const e=kr(),[n]=pa(),r=n.get("token"),[s,a]=E.useState(""),[l,c]=E.useState(""),[d,h]=E.useState(""),[m,y]=E.useState(!1),[x,w]=E.useState(""),[b,S]=E.useState(""),_=async T=>{var P,D;T.preventDefault(),w(""),S(""),y(!0);try{await pe.post("/auth/reset-password",{email:s}),w("If this email exists, a reset link has been sent.")}catch(M){S(((D=(P=M.response)==null?void 0:P.data)==null?void 0:D.message)||"Failed to request reset.")}finally{y(!1)}},C=async T=>{var P,D;if(T.preventDefault(),w(""),S(""),l!==d)return S("Passwords do not match");y(!0);try{const M=await pe.post("/auth/reset",{token:r,newPassword:l});w(M.data.message),setTimeout(()=>{t(),e("/login")},2500)}catch(M){S(((D=(P=M.response)==null?void 0:P.data)==null?void 0:D.message)||"Reset failed")}finally{y(!1)}};return f.jsxs("form",{onSubmit:r?C:_,className:"space-y-4 bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg",children:[f.jsx("h2",{className:"text-xl font-bold mb-2",children:r?"Reset Password":"Forgot your password?"}),r?f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"password",placeholder:"New Password",value:l,onChange:T=>c(T.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700",required:!0}),f.jsx("input",{type:"password",placeholder:"Confirm Password",value:d,onChange:T=>h(T.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700",required:!0})]}):f.jsx("input",{type:"email",placeholder:"Enter your email",value:s,onChange:T=>a(T.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),x&&f.jsx("p",{className:"text-green-500 text-sm",children:x}),b&&f.jsx("p",{className:"text-red-500 text-sm",children:b}),f.jsx("button",{type:"submit",disabled:m,className:`w-full py-2 rounded-md font-medium text-white transition ${m?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:m?r?"Resetting...":"Sending...":r?"Reset Password":"Send Reset Link"})]})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M_=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),pg=t=>{const e=M_(t);return e.charAt(0).toUpperCase()+e.slice(1)},Zy=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),R_=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...c},d)=>E.createElement("svg",{ref:d,...A_,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Zy("lucide",s),...!a&&!R_(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>E.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=(t,e)=>{const n=E.forwardRef(({className:r,...s},a)=>E.createElement(O_,{ref:a,iconNode:e,className:Zy(`lucide-${P_(pg(t))}`,`lucide-${t}`,r),...s}));return n.displayName=pg(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],L_=Nt("chart-no-axes-column-increasing",D_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],F_=Nt("chevron-left",I_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],B_=Nt("chevron-right",z_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],H_=Nt("circle-alert",U_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],W_=Nt("file-text",$_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Dd=Nt("heart",V_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],q_=Nt("layout-dashboard",Y_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],K_=Nt("menu",X_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],mg=Nt("package",Q_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Jy=Nt("pencil",G_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ex=Nt("plus",Z_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],eS=Nt("save",J_);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nS=Nt("shield-check",tS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ld=Nt("shopping-cart",rS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Id=Nt("user",sS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oS=Nt("users",iS);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zf=Nt("x",aS),lS=({onClose:t})=>{const[e,n]=E.useState("check-email"),[r,s]=E.useState(""),a=kr(),l=()=>{t(),a("/")};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:f.jsxs("div",{className:"relative bg-neutral-900 text-white rounded-xl shadow-2xl w-full max-w-md px-6 py-8 animate-fade-in",children:[f.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-white transition","aria-label":"Close",children:f.jsx(Zf,{size:20})}),e==="check-email"&&f.jsx(N_,{setStep:n,email:r,setEmail:s}),e==="login"&&f.jsx(j_,{email:r,onSuccess:l,onSwitchToRegister:()=>n("register"),onForgotPassword:()=>n("reset-password")}),e==="register"&&f.jsx(E_,{email:r,onSuccess:l,onSwitchToLogin:()=>n("login")}),e==="reset-password"&&f.jsx(T_,{onClose:t})]})})},gg=()=>{const{logout:t}=Ui(),e=kr(),n=async()=>{try{await t(),e("/")}catch(r){console.error("Logout failed",r)}};return f.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors shadow-sm font-medium",children:"Logout"})},ya=()=>{const{user:t,loading:e}=Ui(),[n,r]=E.useState(!1),[s,a]=E.useState(!1),l=[{label:"Home",path:"/"},{label:"Shop",path:"/shop"},{label:"Blog",path:"/blog"},{label:"Contact",path:"/contact"}],c=()=>{if(!t)return"/";switch(t.role){case"admin":return"/dashboard/admin";case"moderator":return"/dashboard/moderator";default:return"/dashboard/user"}};return e?null:f.jsxs("header",{className:"bg-[#0b1222] text-white shadow-md border-b border-[#1f2937]",children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[f.jsx(Pn,{to:"/",className:"text-2xl font-bold tracking-tight text-white",children:"MyApp"}),f.jsx("div",{className:"hidden md:flex justify-center flex-1 relative",children:f.jsx("nav",{className:"absolute left-1/2 -translate-x-1/2 flex items-center space-x-6",children:l.map(d=>f.jsx(Pn,{to:d.path,className:"text-sm font-medium text-gray-300 hover:text-pink-400 transition-colors",children:d.label},d.path))})}),f.jsx("div",{className:"hidden md:flex items-center space-x-4",children:t?f.jsxs(f.Fragment,{children:[f.jsx(Pn,{to:c(),className:"bg-[#1c2433] hover:bg-[#2d3a50] text-sm px-4 py-2 rounded-full transition-colors",children:"Dashboard"}),f.jsx(gg,{})]}):f.jsx("button",{onClick:()=>r(!0),className:"bg-pink-600 hover:bg-pink-700 px-4 py-2 text-sm rounded-full text-white transition-colors",children:"Sign In"})}),f.jsx("button",{onClick:()=>a(!s),className:"md:hidden text-white",children:s?f.jsx(Zf,{size:24}):f.jsx(K_,{size:24})})]}),s&&f.jsxs("div",{className:"md:hidden bg-[#0b1222] border-t border-[#1f2937] px-4 pb-4 space-y-2",children:[l.map(d=>f.jsx(Pn,{to:d.path,onClick:()=>a(!1),className:"block py-2 text-gray-300 hover:text-pink-400",children:d.label},d.path)),t?f.jsxs(f.Fragment,{children:[f.jsx(Pn,{to:c(),onClick:()=>a(!1),className:"block py-2 text-gray-300 hover:text-pink-400",children:"Dashboard"}),f.jsx(gg,{})]}):f.jsx("button",{onClick:()=>{r(!0),a(!1)},className:"mt-2 w-full bg-pink-600 hover:bg-pink-700 px-4 py-2 rounded-full text-white transition-colors",children:"Sign In"})]}),n&&f.jsx(lS,{onClose:()=>r(!1)})]})},cS=()=>f.jsxs("div",{className:"min-h-screen bg-neutral-950 text-gray-100",children:[f.jsx(ya,{}),f.jsxs("main",{className:"max-w-md mx-auto py-12 px-6 text-center",children:[f.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:"Welcome to Umbrella Auth"}),f.jsx("p",{className:"text-gray-400 mb-6",children:"Use the links below to test the password reset flow."}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx(Pn,{to:"/reset-password",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition",children:"🔁 Request Password Reset"}),f.jsx(Pn,{to:"/reset-password/confirm?token=EXAMPLE",className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition",children:"🔐 Reset Password (with Token)"})]}),f.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"You can replace the token in the URL with a real one from your email."})]})]}),uS=()=>{const[t]=pa(),e=kr(),n=t.get("token"),[r,s]=E.useState(""),[a,l]=E.useState(""),[c,d]=E.useState(""),[h,m]=E.useState(""),[y,x]=E.useState(!1),w=async b=>{var S,_;if(b.preventDefault(),d(""),m(""),r!==a)return d("Passwords do not match");x(!0);try{const C=await pe.post("/auth/reset",{token:n,newPassword:r});m(C.data.message||"Password reset successful!"),setTimeout(()=>e("/login"),2500)}catch(C){console.error("❌ Reset error:",C.response||C.message),d(((_=(S=C.response)==null?void 0:S.data)==null?void 0:_.message)||"Something went wrong")}finally{x(!1)}};return f.jsx("div",{className:"flex justify-center items-center min-h-screen bg-neutral-950 px-4",children:f.jsxs("form",{onSubmit:w,className:"w-full max-w-md bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg space-y-4",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Reset Your Password"}),f.jsx("p",{className:"text-sm text-gray-400",children:"Enter your new password below to complete the reset."}),f.jsx("input",{type:"password",placeholder:"New Password",value:r,onChange:b=>s(b.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),f.jsx("input",{type:"password",placeholder:"Confirm New Password",value:a,onChange:b=>l(b.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),c&&f.jsx("p",{className:"text-sm text-red-500",children:c}),h&&f.jsx("p",{className:"text-sm text-green-500",children:h}),f.jsx("button",{type:"submit",disabled:y,className:`w-full py-2 rounded-md font-medium transition ${y?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:y?"Resetting...":"Reset Password"})]})})},dS=()=>{const{token:t}=gy(),e=kr(),[n,r]=E.useState("Verifying email..."),[s,a]=E.useState(null);return E.useEffect(()=>{(async()=>{var c,d;try{const h=await pe.get(`/auth/verify-email/${t}`);r(h.data.message||"Email verified successfully."),setTimeout(()=>e("/"),2500)}catch(h){const m=((d=(c=h.response)==null?void 0:c.data)==null?void 0:d.message)||h.message||"Verification failed.";a(m),r("Email verification failed.")}})()},[t,e]),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white font-sans px-4",children:f.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-semibold mb-4 text-teal-400",children:n}),s?f.jsx("p",{className:"text-red-400",children:s}):f.jsx("p",{className:"text-zinc-300",children:"You will be redirected to the login page shortly..."})]})})},fS=()=>{var x,w,b;const{slug:t}=gy(),[e,n]=E.useState(null),[r,s]=E.useState(null),[a,l]=E.useState(""),[c,d]=E.useState(!0),[h,m]=E.useState("");if(E.useEffect(()=>{(async()=>{var _,C,T,P;try{const M=(await pe.get(`/products/slug/${t}`)).data,I=((_=M.variants)==null?void 0:_.filter(V=>V==null?void 0:V.variantId))||[];n(M),s(I[0]||null);const B=M.thumbnail||((C=M.images)==null?void 0:C[0])||"";l(B)}catch(D){m(((P=(T=D.response)==null?void 0:T.data)==null?void 0:P.message)||"Product not found")}finally{d(!1)}})()},[t]),c)return f.jsx("div",{className:"p-10 text-center text-gray-500 text-lg",children:"Loading..."});if(h)return f.jsx("div",{className:"p-10 text-center text-red-600 font-semibold",children:h});if(!e)return null;const y=S=>{const _=e.variants.find(C=>C.variantId===S);s(_),_!=null&&_.preview&&l(_.preview)};return f.jsxs(f.Fragment,{children:[f.jsx(ya,{}),f.jsx("div",{className:"max-w-5xl mx-auto px-4 py-10",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-10",children:[f.jsxs("div",{className:"w-full md:w-1/2",children:[f.jsx("div",{className:"border rounded-lg bg-white p-2 shadow-sm",children:f.jsx("img",{src:a||"/placeholder.jpg",alt:e.title,className:"w-full h-[400px] object-contain rounded"})}),((x=e.images)==null?void 0:x.length)>1&&f.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto",children:e.images.map((S,_)=>f.jsx("img",{src:S,onClick:()=>l(S),className:`w-16 h-16 object-cover rounded cursor-pointer border-2 ${S===a?"border-blue-500":"border-transparent"}`,alt:`thumbnail-${_}`},_))})]}),f.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-between space-y-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:e.title}),f.jsxs("p",{className:"text-xl text-blue-600 font-semibold",children:["$",(r==null?void 0:r.retail_price)||((w=e.price)==null?void 0:w.toFixed(2))]}),f.jsx("p",{className:"mt-4 text-gray-600 text-sm leading-relaxed",children:e.description}),((b=e.variants)==null?void 0:b.length)>0&&f.jsxs("div",{className:"mt-6",children:[f.jsx("label",{htmlFor:"variant-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Choose Variant"}),f.jsx("select",{id:"variant-select",className:"w-full border rounded-md p-2 text-sm focus:ring focus:ring-blue-200",value:(r==null?void 0:r.variantId)||"",onChange:S=>y(S.target.value),children:e.variants.filter(S=>S.variantId&&S.size&&S.color).map(S=>{var _;return f.jsxs("option",{value:S.variantId,children:[S.size," • ",S.color," • $",(_=S.retail_price)==null?void 0:_.toFixed(2)]},S.variantId)})})]})]}),f.jsx("div",{className:"mt-6",children:f.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg text-lg font-medium hover:bg-blue-700 transition",disabled:!r,children:"Add to Cart (coming soon)"})})]})]})})]})},Jf=({children:t,activeTab:e,setActiveTab:n})=>{const{user:r}=Ui(),[s,a]=E.useState(!1),c={admin:[{key:"profile",label:"My Profile",icon:f.jsx(Id,{size:18})},{key:"orders",label:"My Orders",icon:f.jsx(Ld,{size:18})},{key:"wishlist",label:"Wishlist",icon:f.jsx(Dd,{size:18})},{key:"overview",label:"Overview",icon:f.jsx(L_,{size:18})},{key:"products",label:"Products",icon:f.jsx(mg,{size:18})},{key:"products-management",label:"Products Management",icon:f.jsx(mg,{size:18})},{key:"users",label:"Manage Users",icon:f.jsx(oS,{size:18})},{key:"blog",label:"Blog Management",icon:f.jsx(Jy,{size:18})},{key:"invoices",label:"Invoices",icon:f.jsx(W_,{size:18})}],moderator:[{key:"profile",label:"My Profile",icon:f.jsx(Id,{size:18})},{key:"orders",label:"My Orders",icon:f.jsx(Ld,{size:18})},{key:"wishlist",label:"Wishlist",icon:f.jsx(Dd,{size:18})},{key:"panel",label:"Moderation Panel",icon:f.jsx(nS,{size:18})},{key:"complaints",label:"Complaints",icon:f.jsx(H_,{size:18})}],user:[{key:"profile",label:"My Profile",icon:f.jsx(Id,{size:18})},{key:"orders",label:"My Orders",icon:f.jsx(Ld,{size:18})},{key:"wishlist",label:"Wishlist",icon:f.jsx(Dd,{size:18})}]}[r==null?void 0:r.role]||[];return f.jsxs("div",{className:"flex min-h-screen bg-[#0f172a] text-white",children:[f.jsxs("aside",{className:`relative transition-all duration-300 ease-in-out flex flex-col ${s?"w-[80px]":"w-64"} bg-[#0f172a] border-r border-gray-800`,children:[f.jsx("div",{className:"absolute top-5 right-[-12px] z-30",children:f.jsx("button",{onClick:()=>a(!s),className:"bg-slate-800 hover:bg-slate-700 text-white p-2 rounded-full ring-1 ring-slate-600 hover:ring-blue-400 transition-all",children:s?f.jsx(B_,{size:18}):f.jsx(F_,{size:18})})}),f.jsxs("div",{className:"px-4 py-5 border-b border-slate-700 flex items-center space-x-2",children:[f.jsx(q_,{size:20,className:"text-slate-300"}),f.jsx("h2",{className:`text-xl font-bold transition-all origin-left ${s?"opacity-0 scale-90 w-0":"opacity-100 scale-100"}`,children:"Dashboard"})]}),f.jsx("nav",{className:"mt-4 space-y-1 px-2",children:c.map(d=>f.jsxs("button",{onClick:()=>n(d.key),className:`flex items-center w-full px-3 py-2 rounded-lg text-sm font-medium ${e===d.key?"bg-slate-800 text-white font-semibold":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[f.jsx("span",{className:"mr-3",children:d.icon}),f.jsx("span",{className:`transition-all duration-300 origin-left ${s?"opacity-0 scale-90 w-0":"opacity-100 scale-100"}`,children:d.label})]},d.key))})]}),f.jsx("main",{className:"flex-1 p-6 sm:p-8 overflow-y-auto bg-[#0f172a]",children:t})]})},eh=({user:t,refreshUser:e})=>{const[n,r]=E.useState({}),[s,a]=E.useState(""),[l,c]=E.useState(!1);E.useEffect(()=>{t&&r({...t})},[t]);const d=y=>{const{name:x,value:w}=y.target;r(b=>({...b,[x]:w}))},h=async y=>{var x,w;y.preventDefault(),a(""),c(!0);try{const{data:b}=await pe.put("/users/me",n);a("✅ Profile updated successfully!"),e==null||e()}catch(b){const S=((w=(x=b.response)==null?void 0:x.data)==null?void 0:w.message)||"❌ Failed to update profile.";a(S)}finally{c(!1)}},m=y=>f.jsx("input",{...y,className:"w-full px-4 py-2 rounded-md bg-[#1e2633] text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"});return f.jsx("div",{className:"flex justify-center items-start px-4 py-10 bg-[#131a25] min-h-screen",children:f.jsxs("form",{onSubmit:h,className:"w-full max-w-5xl space-y-10 bg-[#1b2431] p-10 rounded-2xl shadow-xl border border-gray-700 text-white",children:[f.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[f.jsx("img",{src:n.profileImage||"https://example.com/default-avatar.png",alt:"Profile Avatar",className:"w-24 h-24 rounded-full border-2 border-blue-500 shadow"}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-bold mb-1",children:"Edit Your Profile"}),f.jsxs("p",{className:"text-sm text-gray-300 font-medium",children:["Level: ",n.level||1]}),n.badge&&f.jsxs("span",{className:"inline-block mt-1 px-3 py-1 text-xs bg-blue-600 text-white rounded-full shadow-sm",children:["Badge: ",n.badge]})]})]}),f.jsxs("fieldset",{className:"border border-gray-600 p-6 rounded-lg",children:[f.jsx("legend",{className:"font-semibold text-xl mb-4",children:"Identity Info"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m({name:"username",value:n.username||"",onChange:d,placeholder:"Username"}),m({name:"firstName",value:n.firstName||"",onChange:d,placeholder:"First Name"}),m({name:"middleName",value:n.middleName||"",onChange:d,placeholder:"Middle Name"}),m({name:"lastName",value:n.lastName||"",onChange:d,placeholder:"Last Name"}),f.jsx("textarea",{name:"bio",value:n.bio||"",onChange:d,placeholder:"Bio",rows:2,className:"w-full px-4 py-2 rounded-md bg-[#1e2633] text-white border border-gray-600 col-span-full resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),f.jsxs("fieldset",{className:"border border-gray-600 p-6 rounded-lg",children:[f.jsx("legend",{className:"font-semibold text-xl mb-4",children:"Contact Info"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m({name:"email",value:n.email||"",onChange:d,placeholder:"Email"}),m({name:"secondaryEmail",value:n.secondaryEmail||"",onChange:d,placeholder:"Secondary Email"}),m({name:"phone",value:n.phone||"",onChange:d,placeholder:"Phone"}),m({name:"secondaryPhone",value:n.secondaryPhone||"",onChange:d,placeholder:"Secondary Phone"})]})]}),f.jsxs("fieldset",{className:"border border-gray-600 p-6 rounded-lg",children:[f.jsx("legend",{className:"font-semibold text-xl mb-4",children:"Permanent Address"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m({name:"continent",value:n.continent||"",onChange:d,placeholder:"Continent"}),m({name:"country",value:n.country||"",onChange:d,placeholder:"Country"}),m({name:"region",value:n.region||"",onChange:d,placeholder:"Region"}),m({name:"city",value:n.city||"",onChange:d,placeholder:"City"}),m({name:"postalCode",value:n.postalCode||"",onChange:d,placeholder:"Postal Code"}),m({name:"streetAddress",value:n.streetAddress||"",onChange:d,placeholder:"Street Address"}),m({name:"apartment",value:n.apartment||"",onChange:d,placeholder:"Apartment/Suite"})]})]}),f.jsxs("fieldset",{className:"border border-gray-600 p-6 rounded-lg",children:[f.jsx("legend",{className:"font-semibold text-xl mb-4",children:"Delivery Address"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m({name:"deliveryFirstName",value:n.deliveryFirstName||"",onChange:d,placeholder:"First Name"}),m({name:"deliveryMiddleName",value:n.deliveryMiddleName||"",onChange:d,placeholder:"Middle Name"}),m({name:"deliveryLastName",value:n.deliveryLastName||"",onChange:d,placeholder:"Last Name"}),m({name:"deliveryPhone",value:n.deliveryPhone||"",onChange:d,placeholder:"Phone"}),m({name:"deliveryEmail",value:n.deliveryEmail||"",onChange:d,placeholder:"Email"}),m({name:"deliveryAddressLine1",value:n.deliveryAddressLine1||"",onChange:d,placeholder:"Address Line 1"}),m({name:"deliveryAddressLine2",value:n.deliveryAddressLine2||"",onChange:d,placeholder:"Address Line 2"}),m({name:"deliveryCity",value:n.deliveryCity||"",onChange:d,placeholder:"City"}),m({name:"deliveryState",value:n.deliveryState||"",onChange:d,placeholder:"State"}),m({name:"deliveryPostalCode",value:n.deliveryPostalCode||"",onChange:d,placeholder:"Postal Code"}),m({name:"deliveryCountryCode",value:n.deliveryCountryCode||"",onChange:d,placeholder:"Country Code"})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{type:"submit",disabled:l,className:`px-6 py-2 font-semibold rounded-md text-white transition duration-200 ${l?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:l?"Saving...":"Save Changes"}),s&&f.jsx("span",{className:`text-sm font-medium ${s.startsWith("✅")?"text-green-500":"text-red-500"}`,children:s})]})]})})},hS=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(!0),[s,a]=E.useState(""),[l,c]=E.useState(null),[d,h]=E.useState({}),[m,y]=E.useState(!1);E.useEffect(()=>{x()},[]);const x=async()=>{var _,C;try{const T=await pe.get("/admin/users");e(T.data)}catch(T){a("Failed to load users",((C=(_=T.response)==null?void 0:_.data)==null?void 0:C.message)||"Unknown error")}finally{r(!1)}},w=_=>{c(_),h({..._})},b=_=>{const{name:C,value:T}=_.target;h(P=>({...P,[C]:T}))},S=async()=>{var _,C;y(!0);try{const T=await pe.put(`/admin/users/${l._id}`,d);e(P=>P.map(D=>D._id===l._id?T.data.user:D)),c(null)}catch(T){alert("❌ Failed to update user",((C=(_=T.response)==null?void 0:_.data)==null?void 0:C.message)||"Unknown error")}finally{y(!1)}};return f.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-8 border border-gray-700 text-white",children:[f.jsx("h2",{className:"text-2xl font-bold flex items-center gap-2",children:"👤 User Management"}),n?f.jsx("p",{className:"text-gray-300",children:"Loading users..."}):s?f.jsx("p",{className:"text-red-500",children:s}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full text-sm bg-[#1b2431] rounded-md",children:[f.jsx("thead",{className:"bg-[#2a3444] text-gray-300",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left",children:"Username"}),f.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),f.jsx("th",{className:"px-4 py-3 text-left",children:"Role"}),f.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),f.jsx("tbody",{children:t.map(_=>f.jsxs("tr",{className:"border-t border-gray-600",children:[f.jsx("td",{className:"px-4 py-2",children:_.username}),f.jsx("td",{className:"px-4 py-2",children:_.email}),f.jsx("td",{className:"px-4 py-2 capitalize",children:_.role}),f.jsx("td",{className:"px-4 py-2",children:f.jsxs("button",{className:"inline-flex items-center gap-1 px-3 py-1 rounded bg-blue-600 hover:bg-blue-700 text-white text-sm",onClick:()=>w(_),children:[f.jsx(Jy,{size:16})," Edit"]})})]},_._id))})]})}),l&&f.jsxs("div",{className:"bg-[#1b2431] p-6 border border-gray-600 rounded-lg shadow-md",children:[f.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Edit: ",l.username]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("input",{name:"username",value:d.username||"",onChange:b,placeholder:"Username",className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none"}),f.jsx("input",{name:"email",value:d.email||"",onChange:b,placeholder:"Email",className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none"}),f.jsxs("select",{name:"role",value:d.role||"user",onChange:b,className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none",children:[f.jsx("option",{value:"user",children:"User"}),f.jsx("option",{value:"moderator",children:"Moderator"}),f.jsx("option",{value:"admin",children:"Admin"})]}),f.jsxs("select",{name:"badge",value:d.badge||"None",onChange:b,className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none",children:[f.jsx("option",{children:"None"}),f.jsx("option",{children:"Bronze"}),f.jsx("option",{children:"Silver"}),f.jsx("option",{children:"Gold"}),f.jsx("option",{children:"VIP"}),f.jsx("option",{children:"Loyalist"}),f.jsx("option",{children:"Supporter"}),f.jsx("option",{children:"Beta Tester"}),f.jsx("option",{children:"Top Reviewer"})]})]}),f.jsxs("div",{className:"mt-6 flex gap-4",children:[f.jsxs("button",{onClick:S,disabled:m,className:"inline-flex items-center gap-1 px-4 py-2 rounded-md bg-green-600 hover:bg-green-700 text-white disabled:opacity-50",children:[f.jsx(eS,{size:16})," ",m?"Saving...":"Save Changes"]}),f.jsxs("button",{onClick:()=>c(null),className:"inline-flex items-center gap-1 px-4 py-2 rounded-md bg-gray-600 hover:bg-gray-500 text-white",children:[f.jsx(Zf,{size:16})," Cancel"]})]})]})]})},pS=({product:t,onDelete:e})=>{const{_id:n,title:r,finalPrice:s,imageUrl:a,variants:l,slug:c,source:d,isPublished:h,isFeatured:m,category:y,brand:x,stock:w,discountPercentage:b}=t;return f.jsxs("div",{className:"rounded-xl overflow-hidden border bg-white shadow-sm hover:shadow-md transition duration-200",children:[f.jsx(Pn,{to:`/product/${c}`,className:"block",children:f.jsx("img",{src:a||"/placeholder.jpg",alt:r,className:"w-full h-48 object-contain bg-gray-50",loading:"lazy"})}),f.jsxs("div",{className:"p-4 space-y-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 truncate",children:r}),f.jsxs("p",{className:"text-sm text-gray-700",children:["€",s==null?void 0:s.toFixed(2)," ",b>0&&f.jsxs("span",{className:"text-xs text-red-500",children:["(",b,"% OFF)"]})]}),f.jsxs("p",{className:"text-xs text-gray-500",children:[(y==null?void 0:y.name)||"No Category"," | ",(x==null?void 0:x.name)||"No Brand"]}),f.jsxs("div",{className:"flex gap-2 mt-1 text-xs",children:[h&&f.jsx("span",{className:"px-2 py-0.5 rounded bg-green-600 text-white",children:"Published"}),m&&f.jsx("span",{className:"px-2 py-0.5 rounded bg-yellow-400 text-black",children:"Featured"}),!h&&!m&&f.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-400 text-white",children:"Draft"})]}),f.jsxs("p",{className:"text-xs text-gray-400",children:[(l==null?void 0:l.length)||0," variant",(l==null?void 0:l.length)!==1?"s":""," |"," ",w??0," in stock"]}),f.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[f.jsx(Pn,{to:`/product/${c}`,className:"flex-1 text-center bg-blue-600 text-white px-3 py-1 text-sm rounded hover:bg-blue-700 transition",children:"View"}),f.jsx("button",{className:"flex-1 text-center bg-yellow-400 text-white px-3 py-1 text-sm rounded hover:bg-yellow-500 transition",disabled:!0,children:"Edit"}),f.jsx("button",{onClick:()=>e&&e(n),className:`flex-1 text-center text-white px-3 py-1 text-sm rounded transition ${d==="printful"?"bg-gray-300 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,disabled:d==="printful",children:"Delete"})]})]})]})},mS=({isOpen:t,onClose:e,onSuccess:n,editProduct:r})=>{var T;const[s,a]=E.useState({title:"",slug:"",category:"",description:"",price:"",images:[],thumbnail:"",variants:[],quantity:0,published:!1,lowStockThreshold:3}),[l,c]=E.useState({size:"",color:"",retail_price:"",quantity:0,previewFile:null,previewUrl:""}),[d,h]=E.useState(!1),[m,y]=E.useState(!1),[x,w]=E.useState("");if(E.useEffect(()=>{r&&a({...r,price:r.price||"",quantity:r.quantity||0,lowStockThreshold:r.lowStockThreshold||3})},[r]),!t)return null;const b=async P=>{const D=P.target.files[0];if(D){y(!0);try{const M=new FormData;M.append("file",D);const B=(await pe.post("/upload/cloudinary",M)).data.secure_url;a(V=>({...V,images:[...V.images,B],thumbnail:V.images.length===0?B:V.thumbnail}))}catch(M){console.error("Image upload failed",M),w("Image upload failed")}finally{y(!1)}}},S=async P=>{const D=new FormData;return D.append("file",P),(await pe.post("/upload/cloudinary",D)).data.secure_url},_=async()=>{if(!(!l.size||!l.color||!l.retail_price)){y(!0);try{let P=l.previewUrl;l.previewFile&&(P=await S(l.previewFile)),a(D=>{const M=P&&!D.images.includes(P)?[...D.images,P]:[...D.images];return{...D,variants:[...D.variants,{size:l.size,color:l.color,retail_price:l.retail_price,quantity:parseInt(l.quantity)||0,preview:P,variantId:crypto.randomUUID()}],images:M}}),c({size:"",color:"",retail_price:"",quantity:0,previewFile:null,previewUrl:""})}catch(P){console.error("Failed to upload variant image",P),w("Failed to upload variant image")}finally{y(!1)}}},C=async P=>{var D,M;P.preventDefault(),h(!0),w("");try{const I={...s,price:parseFloat(s.price),quantity:parseInt(s.quantity),lowStockThreshold:parseInt(s.lowStockThreshold),variants:s.variants.map(B=>({...B,retail_price:parseFloat(B.retail_price),quantity:parseInt(B.quantity)||0})),imageUrl:s.thumbnail,source:"manual"};r?await pe.put(`/products/${r._id}`,I):await pe.post("/products",I),n(),e()}catch(I){w(((M=(D=I.response)==null?void 0:D.data)==null?void 0:M.message)||"Failed to save product.")}finally{h(!1)}};return f.jsx("div",{className:"fixed inset-0 backdrop-blur-md bg-black/60 z-50 flex items-center justify-center",children:f.jsxs("div",{className:"bg-[#1a1a1a] text-white p-6 w-full max-w-3xl rounded-xl shadow-lg space-y-6 relative",children:[f.jsx("button",{onClick:e,className:"absolute top-3 right-4 text-2xl font-bold text-gray-400 hover:text-red-500",children:"×"}),f.jsx("h2",{className:"text-2xl font-semibold",children:"📦 Upload Manual Product"}),x&&f.jsx("p",{className:"text-red-400 text-sm",children:x}),f.jsxs("form",{onSubmit:C,className:"space-y-5",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Title",value:s.title,onChange:P=>a({...s,title:P.target.value,slug:P.target.value.toLowerCase().replace(/\s+/g,"-")})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Category",value:s.category,onChange:P=>a({...s,category:P.target.value})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Base Price",type:"number",value:s.price,onChange:P=>a({...s,price:P.target.value})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Quantity",type:"number",min:0,value:s.quantity,onChange:P=>a({...s,quantity:P.target.value})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Low Stock Threshold",type:"number",min:1,value:s.lowStockThreshold,onChange:P=>a({...s,lowStockThreshold:P.target.value})})]}),f.jsx("textarea",{className:"w-full bg-black border border-gray-600 p-2 rounded",placeholder:"Description",rows:3,value:s.description,onChange:P=>a({...s,description:P.target.value})}),f.jsxs("label",{className:"inline-flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",checked:s.published,onChange:P=>a({...s,published:P.target.checked})}),f.jsx("span",{className:"text-sm",children:"Publish immediately"})]}),f.jsxs("div",{className:"bg-[#2a2a2a] p-4 rounded space-y-3",children:[f.jsx("h3",{className:"font-semibold",children:"🖼️ Product Images"}),f.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"block w-full text-sm text-white file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700",disabled:m}),m&&f.jsx("p",{className:"text-sm text-blue-400",children:"Uploading..."}),s.images.length>0&&f.jsx("div",{className:"flex flex-wrap gap-3",children:s.images.map((P,D)=>f.jsxs("label",{className:"flex flex-col items-center gap-1",children:[f.jsx("input",{type:"radio",name:"thumbnail",checked:s.thumbnail===P,onChange:()=>a({...s,thumbnail:P})}),f.jsx("img",{src:P,alt:`thumb-${D}`,className:"w-14 h-14 rounded object-cover border border-gray-500"})]},D))})]}),f.jsxs("div",{className:"bg-[#2a2a2a] p-4 rounded space-y-3",children:[f.jsx("h3",{className:"font-semibold",children:"🎨 Add Variant"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Size",value:l.size,onChange:P=>c({...l,size:P.target.value})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Color",value:l.color,onChange:P=>c({...l,color:P.target.value})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Retail Price",type:"number",value:l.retail_price,onChange:P=>c({...l,retail_price:P.target.value})}),f.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Quantity",type:"number",value:l.quantity,onChange:P=>c({...l,quantity:P.target.value})}),f.jsx("input",{type:"file",accept:"image/*",onChange:P=>c({...l,previewFile:P.target.files[0]}),className:"text-white text-sm"}),f.jsx("div",{className:"text-xs text-gray-400 self-center truncate",children:((T=l.previewFile)==null?void 0:T.name)||"No file chosen"})]}),f.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 mt-2 bg-blue-700 hover:bg-blue-800 text-white rounded",disabled:m,children:"Add Variant"})]}),f.jsx("button",{type:"submit",className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg",disabled:d,children:d?"Saving...":r?"Update Product":"Create Product"})]})]})})},gS=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(!0),[s,a]=E.useState(!1),[l,c]=E.useState(""),[d,h]=E.useState(""),[m,y]=E.useState(1),[x,w]=E.useState(1),[b,S]=E.useState(!1),_=8,C=async()=>{var P,D;r(!0);try{const M=await pe.get("/products",{params:{page:m,limit:_,search:d,showAll:!0,isPublished:!0}});e(M.data.products||[]),w(M.data.pages||1)}catch(M){c(((D=(P=M.response)==null?void 0:P.data)==null?void 0:D.message)||"❌ Failed to fetch products")}finally{r(!1)}},T=async()=>{var P,D;if(confirm("Syncing will pull all products from Printful. Proceed?")){a(!0);try{await pe.post("/admin/products/sync"),await C(),alert("✅ Synced Printful products successfully")}catch(M){alert("❌ Sync failed: "+(((D=(P=M.response)==null?void 0:P.data)==null?void 0:D.message)||M.message))}finally{a(!1)}}};return E.useEffect(()=>{C()},[m,d]),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[f.jsx("h2",{className:"text-3xl font-bold text-black",children:"Product Management"}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:T,disabled:s,className:`px-4 py-2 rounded text-white font-medium ${s?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:s?"Syncing...":"Sync from Printful"}),f.jsx("button",{onClick:()=>S(!0),className:"px-4 py-2 rounded text-white bg-gray-600 hover:bg-gray-700",children:"Upload Manual Product"})]})]}),f.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[f.jsx("input",{type:"text",placeholder:"Search products...",value:d,onChange:P=>{h(P.target.value),y(1)},className:"w-full md:w-1/3 px-3 py-2 border border-gray-300 rounded"}),d&&f.jsx("button",{onClick:()=>h(""),className:"text-sm text-blue-600 hover:underline",children:"Reset"})]}),n?f.jsx("p",{children:"Loading products..."}):l?f.jsx("p",{className:"text-red-500",children:l}):f.jsxs(f.Fragment,{children:[t.length===0?f.jsx("p",{children:"No products found."}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(P=>f.jsx(pS,{product:P},P._id))}),x>1&&f.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:Array.from({length:x}).map((P,D)=>f.jsx("button",{onClick:()=>y(D+1),className:`px-3 py-1 rounded border text-sm ${m===D+1?"bg-blue-600 text-white":"bg-white hover:bg-gray-100"}`,children:D+1},D))})]}),b&&f.jsx(mS,{isOpen:b,onClose:()=>S(!1),onSuccess:()=>{C(),S(!1)}})]})};function yS(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}yS(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var th=t=>typeof t=="number"&&!isNaN(t),ra=t=>typeof t=="string",tx=t=>typeof t=="function",xS=t=>ra(t)||th(t),vS=t=>E.isValidElement(t)||ra(t)||tx(t)||th(t),bS=1,nx=()=>`${bS++}`,Gn=new Map,bf=[],yg=new Set,rx=()=>Gn.size>0,wS=(t,{containerId:e})=>{var n;return(n=Gn.get(e||1))==null?void 0:n.toasts.get(t)};function _S(t,e){var n;if(e)return!!((n=Gn.get(e))!=null&&n.isToastActive(t));let r=!1;return Gn.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function SS(t){if(!rx()){bf=bf.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||xS(t))Gn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Gn.get(t.containerId);e?e.removeToast(t.id):Gn.forEach(n=>{n.removeToast(t.id)})}}var kS=(t={})=>{Gn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function CS(t,e){vS(t)&&(rx()||bf.push({content:t,options:e}),Gn.forEach(n=>{n.buildToast(t,e)}))}function sx(t,e){Gn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function NS(t){return yg.add(t),()=>{yg.delete(t)}}function jS(t){return t&&(ra(t.toastId)||th(t.toastId))?t.toastId:nx()}function xa(t,e){return CS(t,e),e.toastId}function Dc(t,e){return{...e,type:e&&e.type||t,toastId:jS(e)}}function Lc(t){return(e,n)=>xa(e,Dc(t,n))}function He(t,e){return xa(t,Dc("default",e))}He.loading=(t,e)=>xa(t,Dc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function ES(t,{pending:e,error:n,success:r},s){let a;e&&(a=ra(e)?He.loading(e,s):He.loading(e.render,{...s,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(h,m,y)=>{if(m==null){He.dismiss(a);return}let x={type:h,...l,...s,data:y},w=ra(m)?{render:m}:m;return a?He.update(a,{...x,...w}):He(w.render,{...x,...w}),y},d=tx(t)?t():t;return d.then(h=>c("success",r,h)).catch(h=>c("error",n,h)),d}He.promise=ES;He.success=Lc("success");He.info=Lc("info");He.error=Lc("error");He.warning=Lc("warning");He.warn=He.warning;He.dark=(t,e)=>xa(t,Dc("default",{theme:"dark",...e}));function TS(t){SS(t)}He.dismiss=TS;He.clearWaitingQueue=kS;He.isActive=_S;He.update=(t,e={})=>{let n=wS(t,e);if(n){let{props:r,content:s}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:nx()};a.toastId!==t&&(a.staleId=t);let l=a.render||s;delete a.render,xa(l,a)}};He.done=t=>{He.update(t,{progress:1})};He.onChange=NS;He.play=t=>sx(!0,t);He.pause=t=>sx(!1,t);const Io=({label:t,name:e,value:n,onChange:r,placeholder:s,type:a="text",error:l})=>{const c=`w-full px-3 py-2 text-sm rounded-md bg-[#1e2633] text-white border ${l?"border-red-500":"border-gray-600"} focus:outline-none focus:ring-2 focus:ring-blue-500`;return f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{htmlFor:e,className:"text-sm text-gray-300 font-medium",children:t}),f.jsx("input",{id:e,type:a,name:e,value:n,onChange:r,placeholder:s,className:`${c} [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none`,inputMode:a==="number"?"decimal":void 0}),l&&f.jsx("p",{className:"text-xs text-red-500 mt-1",children:l})]})},Dl=({label:t,name:e,options:n,value:r,onChange:s,error:a,defaultOption:l="Select an option"})=>{const[c,d]=E.useState(!1),h=E.useRef(null),m=n.find(x=>x._id===r);E.useEffect(()=>{const x=w=>{h.current&&!h.current.contains(w.target)&&d(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const y=x=>{s({target:{name:e,value:x._id}}),d(!1)};return f.jsxs("div",{className:"mb-4 relative",ref:h,children:[f.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:t}),f.jsxs("button",{type:"button",onClick:()=>d(!c),className:`w-full text-left px-4 py-2.5 pr-10 rounded-md text-sm
        bg-[#2a3142] text-white border relative
        ${a?"border-red-500":"border-gray-600"}
        focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[m?m.name:l,f.jsx("span",{className:"absolute right-3 top-3 pointer-events-none",children:f.jsx("svg",{className:`w-4 h-4 transform transition-transform duration-300 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]}),f.jsx("ul",{className:`absolute z-10 mt-1 w-full bg-[#2a3142] text-white border border-gray-600 rounded-md shadow-lg max-h-60 overflow-hidden
        transition-all duration-395 origin-top
        ${c?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}`,children:n.map((x,w)=>f.jsx("li",{onClick:()=>y(x),className:`px-4 py-2 cursor-pointer hover:bg-blue-600 text-white
  transform transition-all duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)]
  ${c?"opacity-100 rotate-0 translate-y-0":"opacity-0 rotate-6 translate-y-6"}`,style:{transitionDelay:c?`${w*60}ms`:"0ms"},children:x.name},x._id))}),a&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:a})]})},Fd={title:"",description:"",basePrice:"",salePrice:"",discountPercentage:"",stock:"",category:"",subcategory:"",brand:"",images:[],thumbnail:"",variants:[{variantCategory:"",value:""}],isPublished:!1,isFeatured:!1,editReason:""},ix=({onSuccess:t,initialData:e=null})=>{var B,V;const[n,r]=E.useState(Fd),[s,a]=E.useState({}),[l,c]=E.useState([]),[d,h]=E.useState([]),[m,y]=E.useState([]);E.useEffect(()=>{var U,q,te,ne;r(e?{...Fd,...e,editReason:"",category:((U=e.category)==null?void 0:U._id)||e.category,brand:((q=e.brand)==null?void 0:q._id)||e.brand,subcategory:((te=e.subcategory)==null?void 0:te.slug)||"",variants:(ne=e.variants)!=null&&ne.length?e.variants.map(ue=>{var K;return{variantCategory:((K=ue.variantCategory)==null?void 0:K._id)||ue.variantCategory||"",value:ue.value||"",preview:ue.previewImage||""}}):[{variantCategory:"",value:""}]}:Fd),a({})},[e]),E.useEffect(()=>{(async()=>{var q,te;try{const[ne,ue,K]=await Promise.all([pe.get("/admin/categories"),pe.get("/admin/brands"),pe.get("/admin/variant-categories")]);c(ne.data.categories||[]),h(ue.data.brands||[]),y(K.data.categories||[])}catch(ne){He.error(((te=(q=ne.response)==null?void 0:q.data)==null?void 0:te.message)||"Failed to load form data.")}})()},[]);const x=U=>{const{name:q,value:te,type:ne,checked:ue}=U.target;if(ne==="checkbox"){if(q==="isPublished"||q==="isFeatured"){const K=q==="isPublished"?"isFeatured":"isPublished";r(de=>({...de,[q]:ue,[K]:ue?!1:de[K]}));return}r(K=>({...K,[q]:ue}))}else r(K=>({...K,[q]:te}))},w=(U,q,te)=>{const ne=[...n.variants];ne[U][q]=te,r(ue=>({...ue,variants:ne}))},b=()=>{r(U=>({...U,variants:[...U.variants,{variantCategory:"",value:""}]}))},S=U=>{r(q=>({...q,thumbnail:U}))},_=async U=>{var te,ne,ue;if(!U.length)return;const q=[];try{for(const K of U){const de=new FormData;de.append("images",K);const fe=await pe.post("/upload/product-images",de);if((ne=(te=fe.data)==null?void 0:te.uploaded)!=null&&ne[0])q.push(fe.data.uploaded[0]);else throw new Error("No URL returned.")}r(K=>({...K,images:[...K.images,...q],thumbnail:K.thumbnail||q[0]}))}catch(K){He.error("Image upload failed."),console.error(((ue=K.response)==null?void 0:ue.data)||K.message)}},C=U=>{U.preventDefault(),_(Array.from(U.dataTransfer.files))},T=U=>{_(Array.from(U.target.files))},P=async(U,q)=>{try{const te=new FormData;te.append("image",q);const ue=(await pe.post("/upload/variant-preview",te)).data.uploaded;r(K=>{const de=[...K.variants];return de[U].preview=ue,{...K,variants:de}})}catch(te){He.error("Variant image upload failed."),console.error(te)}},[D,M]=E.useState(!1),I=async U=>{var te,ne,ue,K,de,fe,ce;if(U.preventDefault(),D)return;M(!0),a({});const q=!!(e!=null&&e._id);try{const J=l.find(se=>se._id===n.category),ie=(te=J==null?void 0:J.subcategories)==null?void 0:te.find(se=>se.slug===n.subcategory);if(q&&!((ne=n.editReason)!=null&&ne.trim())){a(se=>({...se,editReason:"Edit reason is required."})),He.error("Please provide a reason for this edit."),M(!1);return}const A={...n,editReason:q?n.editReason.trim():void 0,subcategory:ie?{name:ie.name,slug:ie.slug}:{name:n.subcategory,slug:n.subcategory},basePrice:Number(n.basePrice),salePrice:n.salePrice?Number(n.salePrice):null,discountPercentage:n.discountPercentage?Number(n.discountPercentage):0,stock:n.stock?Number(n.stock):0,isPublished:!!n.isPublished,isFeatured:!!n.isFeatured,variants:[...n.variants].map(se=>{var be,ve;return{variantCategory:String(se.variantCategory).trim(),value:String(se.value).trim(),previewImage:((ve=(be=se.preview)==null?void 0:be.trim)==null?void 0:ve.call(be))||""}}).sort((se,be)=>se.variantCategory.localeCompare(be.variantCategory)||se.value.localeCompare(be.value))};console.log("📤 Submitting payload:",A);const X=q?await pe.put(`/admin/products/${e._id}`,A):await pe.post("/admin/products",A);He.success(q?"✅ Product updated!":"✅ Product created!"),t==null||t(X.data.product),r(se=>({...se,editReason:""}))}catch(J){console.log("❌ Full error response:",(ue=J.response)==null?void 0:ue.data);const ie=(de=(K=J.response)==null?void 0:K.data)==null?void 0:de.errors;if(ie){const A={};Object.keys(ie).forEach(X=>{if(X.startsWith("variants.")){const[,se,be]=X.split("."),ve=parseInt(se);A.variantsFields||(A.variantsFields={}),A.variantsFields[ve]||(A.variantsFields[ve]={}),A.variantsFields[ve][be]=ie[X]}else X==="publishOrFeature"?A.publishOrFeature=ie[X]:A[X]=ie[X]}),a(A),He.error("Please fix validation errors.")}else He.error(((ce=(fe=J.response)==null?void 0:fe.data)==null?void 0:ce.message)||"Failed to save product.")}finally{M(!1)}};return f.jsxs("form",{onSubmit:I,className:"space-y-8 bg-[#1a1f2b] text-white p-8 rounded-2xl shadow-2xl border border-gray-700",children:[f.jsx("section",{children:f.jsx(Io,{label:"Product Title",name:"title",value:n.title,onChange:x,error:s.title,placeholder:"Product title"})}),f.jsxs("section",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),f.jsx("textarea",{name:"description",rows:4,value:n.description,onChange:x,placeholder:"Enter detailed product description",className:"w-full bg-[#2a3142] border border-gray-600 rounded-lg px-4 py-3"}),s.description&&f.jsx("p",{className:"text-red-500 text-xs mt-2",children:s.description})]}),f.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx(Dl,{label:"Select Category",name:"category",value:n.category,onChange:x,options:l,error:s.category,defaultOption:"-- Choose Category --"}),n.category&&f.jsx(Dl,{label:"Select Subcategory",name:"subcategory",value:n.subcategory,onChange:x,options:((V=(B=l.find(U=>U._id===n.category))==null?void 0:B.subcategories)==null?void 0:V.map(U=>({_id:U.slug,name:U.name})))||[],error:s.subcategory,defaultOption:"-- Choose Subcategory --"}),f.jsx(Dl,{label:"Select Brand",name:"brand",value:n.brand,onChange:x,options:d,error:s.brand,defaultOption:"-- Choose Brand --"})]}),f.jsxs("section",{children:[f.jsxs("div",{onDrop:C,onDragOver:U=>U.preventDefault(),className:"border-2 border-dashed border-gray-600 p-6 rounded-lg text-center bg-[#1f2634]",children:[f.jsx("p",{className:"mb-3 text-sm",children:"Drag and drop images here or"}),f.jsx("label",{htmlFor:"fileInput",className:"inline-block px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-sm cursor-pointer",children:"Upload Images"}),f.jsx("input",{id:"fileInput",type:"file",multiple:!0,accept:"image/*",onChange:T,className:"hidden"}),s.images&&f.jsx("p",{className:"text-red-500 text-xs mt-2",children:s.images})]}),n.images.length>0&&f.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3 mt-4",children:n.images.map(U=>f.jsxs("div",{onClick:()=>S(U),className:`rounded-lg overflow-hidden cursor-pointer border-2 ${n.thumbnail===U?"border-blue-500 ring-2 ring-blue-400":"border-gray-700"}`,children:[f.jsx("img",{src:U,alt:"Uploaded",className:"w-full h-24 object-cover"}),n.thumbnail===U&&f.jsx("p",{className:"text-xs text-center text-blue-300 py-1 bg-gray-800",children:"Thumbnail"})]},U))})]}),f.jsxs("section",{className:"space-y-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:"🧬 Variant Options"}),n.variants.map((U,q)=>{var te,ne,ue,K,de,fe;return f.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-6 bg-[#1a1f2b] border border-gray-700 rounded-xl p-5 shadow-sm",children:[f.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[f.jsx(Dl,{label:"Variant Category",name:`variantCategory-${q}`,value:U.variantCategory,onChange:ce=>w(q,"variantCategory",ce.target.value),options:m,error:(ne=(te=s.variantsFields)==null?void 0:te[q])==null?void 0:ne.variantCategory,defaultOption:"Select Category"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Variant Value"}),f.jsx("input",{type:"text",value:U.value,placeholder:"e.g. Black, XL, 128GB",onChange:ce=>w(q,"value",ce.target.value),className:`w-full bg-[#111827] border px-4 py-2.5 rounded-md text-white text-sm
              transition-all duration-200 ease-in-out
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
              ${(K=(ue=s.variantsFields)==null?void 0:ue[q])!=null&&K.value?"border-red-500":"border-gray-600"}`}),((fe=(de=s.variantsFields)==null?void 0:de[q])==null?void 0:fe.value)&&f.jsx("p",{className:"text-xs text-red-500 mt-1",children:s.variantsFields[q].value})]})]}),f.jsxs("div",{className:"flex flex-col items-center gap-3 min-w-[100px]",children:[f.jsxs("label",{htmlFor:`variant-file-${q}`,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm cursor-pointer transition",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v16h16M4 4l16 16"})}),"Upload"]}),f.jsx("input",{id:`variant-file-${q}`,type:"file",accept:"image/*",onChange:ce=>P(q,ce.target.files[0]),className:"hidden"}),U.preview?f.jsx("img",{src:U.preview,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border border-gray-500"}):f.jsx("div",{className:"w-20 h-20 bg-[#111827] border border-gray-600 rounded-lg flex items-center justify-center text-gray-500 text-xs",children:"No Image"})]})]},q)}),s.variants&&f.jsx("p",{className:"text-sm text-red-500",children:s.variants}),f.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 rounded-md text-white bg-green-600 hover:bg-green-700 transition text-sm",children:"+ Add Variant"})]}),f.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx(Io,{label:"Base Price (€)",name:"basePrice",type:"number",value:n.basePrice,onChange:x,error:s.basePrice,placeholder:"Enter base price"}),f.jsx(Io,{label:"Sale Price (€)",name:"salePrice",type:"number",value:n.salePrice,onChange:x,error:s.salePrice,placeholder:"Optional sale price"}),f.jsx(Io,{label:"Discount Percentage (%)",name:"discountPercentage",type:"number",value:n.discountPercentage,onChange:x,error:s.discountPercentage,placeholder:"Optional discount (e.g. 10)"}),f.jsx(Io,{label:"Stock Quantity",name:"stock",type:"number",value:n.stock,onChange:x,error:s.stock,placeholder:"Number of items in stock"})]}),f.jsxs("section",{className:"pt-4",children:[f.jsx("label",{className:"block text-sm text-white font-medium mb-1",children:"Choose product visibility"}),f.jsxs("p",{className:"text-gray-400 text-xs mb-2",children:[f.jsx("strong",{children:"Published"}),": visible in the store. ",f.jsx("br",{}),f.jsx("strong",{children:"Featured"}),": highlighted or promoted on the home page."]}),f.jsxs("div",{className:"flex items-center gap-6 mb-1",children:[f.jsxs("label",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",name:"isPublished",checked:n.isPublished,onChange:x}),f.jsx("span",{className:"text-sm",children:"Published"})]}),f.jsxs("label",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"checkbox",name:"isFeatured",checked:n.isFeatured,onChange:x}),f.jsx("span",{className:"text-sm",children:"Featured"})]})]}),s.publishOrFeature&&f.jsx("p",{className:"text-red-500 text-xs",children:s.publishOrFeature})]}),(e==null?void 0:e._id)&&f.jsxs("div",{className:"mt-4",children:[f.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-200",children:["Reason for Edit ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("textarea",{name:"editReason",rows:3,value:n.editReason,onChange:x,placeholder:"Explain what was changed and why",className:`w-full bg-[#2a3142] border ${s.editReason?"border-red-500":"border-gray-600"} rounded-md px-4 py-2 text-sm`}),s.editReason&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.editReason})]}),f.jsx("div",{className:"pt-6 text-right",children:f.jsx("button",{type:"submit",disabled:D,className:`bg-emerald-600 hover:bg-emerald-700 px-6 py-2 rounded text-white shadow ${D?"opacity-50 cursor-not-allowed":""}`,children:D?e!=null&&e._id?"Updating...":"Creating...":e!=null&&e._id?"Update Product":"Create Product"})})]})};function PS({title:t,titleId:e,...n},r){return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?E.createElement("title",{id:e},t):null,E.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const MS=E.forwardRef(PS),RS=({viewingProduct:t,setViewingProduct:e,isEditing:n,setIsEditing:r,fetchProducts:s})=>{const[a,l]=E.useState([]),[c,d]=E.useState(!1),[h,m]=E.useState("history"),[y,x]=E.useState({}),[w,b]=E.useState({}),[S,_]=E.useState({}),[C,T]=E.useState({}),[P,D]=E.useState(null);if(E.useEffect(()=>{(async()=>{var Ne,Ce;try{const Ae=await pe.get("/admin/brands"),Xe={};(Ce=(Ne=Ae.data)==null?void 0:Ne.brands)==null||Ce.forEach(ot=>{Xe[ot._id]=ot.name}),T(Xe)}catch(Ae){console.error("❌ Failed to fetch brands",Ae)}})()},[]),E.useEffect(()=>{(async()=>{var Ne,Ce;try{const Ae=await pe.get("/admin/categories"),Xe={},ot={};(Ce=(Ne=Ae.data)==null?void 0:Ne.categories)==null||Ce.forEach(at=>{var It;Xe[at._id]=at.name,(It=at.subcategories)==null||It.forEach(Cr=>{ot[Cr.slug]=Cr.name})}),b(Xe),_(ot)}catch(Ae){console.error("❌ Failed to fetch categories",Ae)}})()},[]),E.useEffect(()=>{(async()=>{var Ne;try{const Ae=(Ne=(await pe.get("/admin/variant-categories")).data)==null?void 0:Ne.categories;if(console.log("🧩 Variant categories:",Ae),!Array.isArray(Ae))throw new TypeError("Expected categories to be an array");const Xe={};Ae.forEach(ot=>{Xe[ot._id]=ot.name}),x(Xe)}catch(Ce){console.error("❌ Failed to fetch variant categories",Ce)}})()},[]),E.useEffect(()=>{(async()=>{var Ne;if(t!=null&&t._id){d(!0);try{const Ce=await pe.get(`/admin/products/${t._id}/history`),Ae=((Ne=Ce.data)==null?void 0:Ne.history)||[];console.log("🧾 Raw edit history response:",Ce.data),console.log("✅ Parsed editHistory:",Ae),l(Array.isArray(Ae)?Ae:[])}catch(Ce){console.error("❌ Failed to fetch edit history",Ce),l([])}finally{d(!1)}}})()},[t==null?void 0:t._id]),E.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),E.useEffect(()=>{if(P){const oe=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${oe}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.overflow="hidden",document.body.style.width="100%",()=>{const Ne=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.overflow="",document.body.style.width="",window.scrollTo(0,parseInt(Ne||"0")*-1)}}},[P]),!t)return null;const{title:M,description:I,brand:B,category:V,subcategory:U,images:q,thumbnail:te,variants:ne,basePrice:ue,salePrice:K,discountPercentage:de,stock:fe,lowStockAlert:ce,averageRating:J,ratingCount:ie,isPublished:A,isFeatured:X,source:se,createdAt:be,updatedAt:ve,currentPrice:Fe,margin:Pe}=t,Ee=(oe,Ne)=>{if(!oe)return"—";try{if(Ne==="subcategory"){const Ce=typeof oe=="string"?JSON.parse(oe):oe;return S[Ce==null?void 0:Ce.slug]||(Ce==null?void 0:Ce.name)||"—"}if(Ne==="category"){const Ce=typeof oe=="string"?oe:oe==null?void 0:oe._id;return w[Ce]||Ce}if(Ne==="brand"){const Ce=typeof oe=="string"?oe:oe==null?void 0:oe._id;return C[Ce]||Ce}return typeof oe=="object"?JSON.stringify(oe,null,2):typeof oe=="string"&&(oe.startsWith("{")||oe.startsWith("["))?JSON.stringify(JSON.parse(oe),null,2):oe}catch(Ce){return String(oe,Ce)}},Re=oe=>{try{const Ne=typeof oe=="string"?JSON.parse(oe):oe;return Array.isArray(Ne)?Ne.map(Ce=>{const Ae=typeof Ce.variantCategory=="object"?Ce.variantCategory.$oid:Ce.variantCategory;return`${y[Ae]||Ae}: ${Ce.value}`}).join(", "):"—"}catch(Ne){return String(oe,Ne)}},we=({label:oe,value:Ne})=>f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"text-[11px] text-gray-400 uppercase tracking-wide mb-1 leading-tight",children:oe}),f.jsx("div",{className:"text-[17px] text-gray-100 font-semibold break-words",children:Ne||"—"})]});return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 z-50 backdrop-blur-md bg-black/70 flex justify-center items-start p-10 overflow-y-auto",children:f.jsxs("div",{className:"bg-[#1e293b] w-full max-w-7xl p-6 rounded-2xl shadow-2xl relative text-white border border-gray-700",children:[f.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[f.jsx("button",{onClick:()=>r(!n),className:`px-4 py-1.5 rounded-md font-semibold text-sm transition duration-200 ${n?"bg-gray-600 hover:bg-gray-500":"bg-blue-600 hover:bg-blue-700"}`,children:n?"Cancel Edit":"✏️ Edit Product"}),f.jsx("button",{onClick:()=>{e(null),r(!1)},className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-red-600 text-white text-lg font-bold flex items-center justify-center transition-all duration-200 shadow-md",title:"Close","aria-label":"Close modal",children:"×"})]}),f.jsx("h2",{className:"text-3xl font-bold mb-6",children:n?"Edit Product":"🧾 Product Overview"}),n?f.jsx(ix,{initialData:t,onSuccess:()=>{r(!1),e(null),s()}}):f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl border border-gray-700 shadow-md text-gray-200",children:[f.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-700 mb-6",children:f.jsx("img",{src:te,alt:M,className:"w-full h-74 object-cover transition duration-300 hover:scale-[1.01]"})}),f.jsxs("div",{className:"text-center pb-4 border-b border-gray-700",children:[f.jsx("h2",{className:"text-4xl font-bold text-white tracking-tight",children:M}),f.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Detailed product information"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-5 text-sm mt-6",children:[f.jsx(we,{label:"Brand",value:(B==null?void 0:B.name)||B}),f.jsx(we,{label:"Category",value:(V==null?void 0:V.name)||V}),f.jsx(we,{label:"Subcategory",value:(U==null?void 0:U.name)||U}),f.jsx(we,{label:"Stock",value:fe}),f.jsx(we,{label:"Low Stock Alert",value:ce?"⚠️ Yes":"No"}),f.jsx(we,{label:"Base Price",value:`€${ue}`}),f.jsx(we,{label:"Sale Price",value:K?`€${K}`:"—"}),f.jsx(we,{label:"Discount %",value:`${de||0}%`}),f.jsx(we,{label:"Current Price",value:`€${Fe}`}),f.jsx(we,{label:"Margin",value:`€${Pe}`}),f.jsx(we,{label:"Avg Rating",value:`${J} (${ie})`}),f.jsx(we,{label:"Published",value:A?"✅ Yes":"❌ No"}),f.jsx(we,{label:"Featured",value:X?"🌟 Yes":"—"}),f.jsx(we,{label:"Source",value:se}),f.jsx(we,{label:"Created",value:new Date(be).toLocaleString()}),f.jsx(we,{label:"Updated",value:new Date(ve).toLocaleString()})]})]}),f.jsxs("div",{className:"bg-gray-800 p-5 rounded-xl border border-gray-700 shadow-sm",children:[f.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:["📝 ",f.jsx("span",{children:"Description"})]}),f.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-line",children:I})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"rounded-xl border border-gray-700 bg-gray-800 p-4 shadow-sm space-y-4",children:[f.jsx("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:"🖼️ Images"}),f.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-5 gap-3",children:q==null?void 0:q.map((oe,Ne)=>f.jsxs("div",{className:"relative group rounded-md overflow-hidden border border-gray-600 hover:border-gray-400 transition cursor-pointer",onClick:()=>D(oe),title:"Click to enlarge",children:[f.jsx("img",{src:oe,alt:`Image ${Ne+1}`,className:"w-full h-24 object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 flex items-center justify-center text-xs text-gray-200 font-medium transition",children:"Preview"})]},Ne))})]}),f.jsxs("div",{className:"rounded-xl border border-gray-700 bg-gray-800 p-4 shadow-sm space-y-4",children:[f.jsx("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:"🎨 Variants"}),f.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:ne==null?void 0:ne.map((oe,Ne)=>f.jsxs("li",{className:"flex items-center gap-3 p-2 rounded-md border border-gray-700 hover:border-gray-500 transition",children:[f.jsx("img",{src:oe.previewImage,alt:oe.value,className:"w-16 h-16 object-cover rounded border border-gray-600"}),f.jsxs("div",{className:"text-[11px] text-gray-300 leading-snug space-y-0.5",children:[f.jsxs("div",{className:"flex gap-1",children:[f.jsx("span",{className:"uppercase text-gray-500 tracking-wide",children:"Category:"}),f.jsx("span",{className:"font-medium text-white",children:y[oe.variantCategory]||oe.variantCategory})]}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("span",{className:"uppercase text-gray-500 tracking-wide",children:"Value:"}),f.jsx("span",{className:"font-medium text-white",children:oe.value})]})]})]},oe._id||Ne))})]}),f.jsxs("div",{className:"border border-gray-700 rounded-xl bg-gray-900",children:[f.jsxs("div",{className:"grid grid-cols-2 border-b border-gray-700 bg-gray-800 rounded-t-xl overflow-hidden",children:[f.jsx("button",{onClick:()=>m("history"),className:`p-4 font-semibold text-left transition-colors duration-200 ${h==="history"?"text-white border-b-2 border-emerald-400 bg-gray-900":"text-gray-400 hover:text-white"}`,children:"🕓 Edit History"}),f.jsx("button",{onClick:()=>m("notes"),className:`p-4 font-semibold text-left transition-colors duration-200 ${h==="notes"?"text-white border-b-2 border-emerald-400 bg-gray-900":"text-gray-400 hover:text-white"}`,children:"📝 Notes"})]}),f.jsx("div",{className:"p-6 text-[15px] space-y-6 max-h-[150vh] overflow-y-auto",children:h==="history"?c?f.jsx("p",{className:"text-gray-400",children:"Loading history..."}):a.length===0?f.jsx("p",{className:"text-gray-400",children:"No edits made yet."}):[...a].sort((oe,Ne)=>new Date(Ne.editedAt)-new Date(oe.editedAt)).map((oe,Ne)=>{var Ce;return!oe||!oe.editedBy?null:f.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700 shadow-md space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("p",{className:"text-white font-semibold tracking-wide",children:[oe.editedBy.firstName||"Unknown"," ",oe.editedBy.lastName||""," ",f.jsxs("span",{className:"text-sm text-gray-400 font-normal",children:["– ",oe.editedBy.role]})]}),f.jsx("span",{className:"text-xs italic text-gray-400",children:new Date(oe.editedAt).toLocaleString()})]}),f.jsx("div",{className:"divide-y divide-gray-700",children:(Ce=oe.changes)==null?void 0:Ce.map((Ae,Xe)=>{const ot=Ae.from,at=Ae.to;return JSON.stringify(ot)===JSON.stringify(at)?null:f.jsxs("div",{className:"py-3",children:[f.jsx("div",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wider mb-2",children:Ae.field}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 block text-[11px] uppercase tracking-wide mb-1",children:"From"}),f.jsx("div",{className:"bg-slate-900 p-2 rounded-md text-rose-300 border border-rose-500 whitespace-pre-wrap break-words",children:Ae.field==="variants"?Re(ot):Ee(ot,Ae.field)})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-400 block text-[11px] uppercase tracking-wide mb-1",children:"To"}),f.jsx("div",{className:"bg-slate-900 p-2 rounded-md text-emerald-300 border border-emerald-500 whitespace-pre-wrap break-words",children:Ae.field==="variants"?Re(at):Ee(at,Ae.field)})]})]})]},Xe)})})]},Ne)}):a.length===0?f.jsx("p",{className:"text-gray-400",children:"No notes yet."}):[...a].sort((oe,Ne)=>new Date(Ne.editedAt)-new Date(oe.editedAt)).map((oe,Ne)=>{var Ce,Ae,Xe;return f.jsxs("div",{className:"bg-gray-800 rounded-xl p-5 border border-gray-700 shadow-sm transition duration-200",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[f.jsxs("p",{className:"text-white font-semibold text-sm",children:[((Ce=oe.editedBy.firstName)==null?void 0:Ce.trim())||"Admin"," ",((Ae=oe.editedBy.lastName)==null?void 0:Ae.trim())||"",oe.editedBy.role&&f.jsxs("span",{className:"text-gray-400 font-normal",children:[" ","(",oe.editedBy.role,")"]})]}),f.jsx("span",{className:"text-xs italic text-gray-400",children:new Date(oe.editedAt).toLocaleString()})]}),f.jsx("p",{className:"italic text-emerald-300 text-sm mt-2 leading-snug",children:((Xe=oe.reason)==null?void 0:Xe.trim())||"No reason provided."})]},Ne)})})]})]})]})]})}),P&&f.jsxs("div",{className:"fixed inset-0 z-[999] bg-black/80 flex items-center justify-center overflow-hidden",children:[f.jsx("div",{className:"fixed inset-0 bg-black/80 z-[-1]"}),f.jsxs("div",{className:"relative bg-gray-900 border border-gray-700 rounded-lg p-4 max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[f.jsx("button",{onClick:()=>D(null),className:"absolute top-3 right-3 bg-red-600 hover:bg-red-700 w-8 h-8 rounded-full flex items-center justify-center","aria-label":"Close preview",title:"Close",children:f.jsx(MS,{className:"h-4 w-4 text-white"})}),f.jsx("img",{src:P,alt:"Full Preview",className:"w-full max-h-[80vh] object-contain rounded"})]})]})]})},AS=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(null),[s,a]=E.useState(!1),[l,c]=E.useState(null),[d,h]=E.useState(!1),m=async()=>{var b;try{const S=await pe.get("/admin/products");e(S.data.products||[])}catch(S){console.error("❌ Failed to fetch products:",(b=S.response)==null?void 0:b.data)}},y=()=>{r(null),a(!0)},x=async b=>{var S;if(window.confirm("Are you sure you want to delete this product?"))try{await pe.delete(`/admin/products/${b}`),m()}catch(_){console.error("❌ Delete failed:",(S=_.response)==null?void 0:S.data)}},w=b=>{c(b),h(!1)};return E.useEffect(()=>{m()},[]),f.jsxs("div",{className:"bg-[#131a25] text-white p-6 rounded-xl shadow-md border border-gray-700",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"📿 All Products"}),f.jsx("button",{onClick:y,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition",children:"+ New Product"})]}),s&&f.jsx("div",{className:"mb-10",children:f.jsx(ix,{initialData:n,onSuccess:()=>{a(!1),r(null),m()}})}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"w-full border border-gray-700 text-white text-sm",children:[f.jsx("thead",{className:"bg-[#1e293b] text-left",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Image"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Title"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Category"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Subcategory"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Brand"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Current Price"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Base Price"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Sale Price"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Discount %"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Stock"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Published"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Featured"}),f.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Actions"})]})}),f.jsx("tbody",{children:t.length>0?t.map(b=>{var S,_,C,T,P;return f.jsxs(E.Fragment,{children:[f.jsxs("tr",{className:"hover:bg-[#1f2a3b] transition",children:[f.jsx("td",{className:"px-4 py-3",children:b.thumbnail?f.jsx("img",{src:b.thumbnail,alt:b.title,className:"w-12 h-12 object-cover rounded-md border border-gray-600"}):f.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-md flex items-center justify-center text-sm",children:"N/A"})}),f.jsx("td",{className:"px-4 py-3",children:b.title}),f.jsx("td",{className:"px-4 py-3",children:((S=b.category)==null?void 0:S.name)||"—"}),f.jsx("td",{className:"px-4 py-3",children:typeof b.subcategory=="string"?b.subcategory.charAt(0).toUpperCase()+b.subcategory.slice(1):((_=b.subcategory)==null?void 0:_.name)||"—"}),f.jsx("td",{className:"px-4 py-3",children:((C=b.brand)==null?void 0:C.name)||"—"}),f.jsxs("td",{className:"px-4 py-3 text-green-400 font-bold",children:["€",(T=b.currentPrice)==null?void 0:T.toFixed(2)]}),f.jsxs("td",{className:"px-4 py-3 text-gray-400 text-sm",children:["€",(P=b.basePrice)==null?void 0:P.toFixed(2)]}),f.jsx("td",{className:"px-4 py-3 text-blue-400 text-sm",children:b.salePrice?`€${b.salePrice.toFixed(2)}`:"—"}),f.jsx("td",{className:"px-4 py-3 text-yellow-400 text-sm",children:b.discountPercentage>0?`−${b.discountPercentage}%`:"—"}),f.jsx("td",{className:`px-4 py-3 ${b.stock===0?"text-red-500 font-bold":""}`,children:b.stock}),f.jsx("td",{className:"px-4 py-3",children:b.isPublished?"✅":"❌"}),f.jsx("td",{className:"px-4 py-3",children:b.isFeatured?"🌟":"—"}),f.jsx("td",{className:"px-4 py-3",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>w(b),className:"border border-gray-500 text-gray-400 hover:bg-gray-700 hover:text-white px-3 py-1 rounded-md",children:"View"}),f.jsx("button",{onClick:()=>x(b._id),className:"border border-red-500 text-red-400 hover:bg-red-500 hover:text-white px-3 py-1 rounded-md",children:"Delete"})]})})]}),f.jsx("tr",{style:{height:"8px"}})]},b._id)}):f.jsx("tr",{children:f.jsx("td",{colSpan:"12",className:"text-center py-6 text-gray-400 italic",children:"No products found."})})})]}),f.jsx(RS,{viewingProduct:l,setViewingProduct:c,isEditing:d,setIsEditing:h,fetchProducts:m})]})]})},zd=t=>t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),lc=({label:t,icon:e,onClick:n,color:r="gray",disabled:s})=>f.jsxs("button",{onClick:n,disabled:s,className:`flex items-center gap-2 text-sm px-3 py-1 rounded-md
      ${r==="red"?"bg-red-600 hover:bg-red-700":""}
      ${r==="blue"?"bg-blue-600 hover:bg-blue-700":""}
      ${r==="gray"?"bg-gray-700 hover:bg-gray-600":""}
      ${s?"opacity-50 cursor-not-allowed":""}
      text-white transition`,children:[e," ",t]}),OS=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(""),[s,a]=E.useState(null),[l,c]=E.useState(!1),[d,h]=E.useState("");E.useEffect(()=>{m()},[]);const m=async()=>{try{const _=await pe.get("/admin/categories");e(_.data.categories||[])}catch(_){console.error("Failed to fetch categories",_)}},y=async()=>{var C,T;if(!n.trim())return;const _=zd(n);c(!0),h("");try{await pe.post("/admin/categories",{name:n,slug:_}),r(""),await m()}catch(P){h(((T=(C=P==null?void 0:P.response)==null?void 0:C.data)==null?void 0:T.message)||"Failed to create category.")}finally{c(!1)}},x=async(_,C)=>{if(!C.trim())return;const T=zd(C);try{await pe.put(`/admin/categories/${_}`,{name:C,slug:T}),a(null),await m()}catch(P){console.error("Failed to edit category",P)}},w=async _=>{if(window.confirm("Are you sure you want to delete this category?"))try{await pe.delete(`/admin/categories/${_}`),await m()}catch(T){console.error("Failed to delete category",T)}},b=async(_,C)=>{if(!C.trim())return;const T=zd(C);try{await pe.post(`/admin/categories/${_}/subcategories`,{name:C,slug:T}),await m()}catch(P){console.error("Failed to add subcategory",P)}},S=async(_,C)=>{try{await pe.delete(`/admin/categories/${_}/subcategories/${C}`),await m()}catch(T){console.error("Failed to delete subcategory",T)}};return f.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-6 border border-gray-700",children:[f.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:"📁 Manage Categories"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{value:n,onChange:_=>r(_.target.value),placeholder:"New category name",className:"w-full px-4 py-2 rounded-md bg-[#1e2633] text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsx(lc,{label:l?"Adding...":"Add",icon:f.jsx("span",{className:"text-lg",children:"➕"}),onClick:y,color:"blue",disabled:l})]}),d&&f.jsx("p",{className:"text-sm text-red-400",children:d}),t.map(_=>f.jsxs("div",{className:"bg-[#1b2431] rounded-lg p-4 text-white space-y-2",children:[f.jsx("div",{className:"flex justify-between items-center",children:s===_._id?f.jsxs("div",{className:"flex gap-2 w-full",children:[f.jsx("input",{defaultValue:_.name,onKeyDown:C=>{C.key==="Enter"&&x(_._id,C.target.value)},className:"w-full p-2 rounded-md bg-[#2a3444] text-white border border-gray-600 focus:outline-none"}),f.jsx("button",{onClick:()=>a(null),className:"text-sm text-gray-400 hover:text-red-400",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"font-medium",children:_.name}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(lc,{label:"Edit",icon:f.jsx("span",{className:"text-sm",children:"✏️"}),onClick:()=>a(_._id)}),f.jsx(lc,{label:"Delete",icon:f.jsx("span",{className:"text-sm",children:"🗑️"}),onClick:()=>w(_._id),color:"red"})]})]})}),f.jsxs("div",{className:"pl-4 mt-2 border-l border-dashed border-gray-500",children:[_.subcategories.map(C=>f.jsxs("div",{className:"flex justify-between items-center py-1",children:[f.jsx("span",{className:"text-sm text-gray-200",children:C.name}),f.jsx("button",{onClick:()=>S(_._id,C.slug),className:"text-xs text-red-500 hover:text-red-300",title:"Delete subcategory",children:"🗑️"})]},C._id)),f.jsx(DS,{onAdd:C=>b(_._id,C)})]})]},_._id))]})},DS=({onAdd:t})=>{const[e,n]=E.useState(""),r=()=>{e.trim()&&(t(e.trim()),n(""))};return f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsx("input",{type:"text",value:e,placeholder:"Add subcategory",onChange:s=>n(s.target.value),onKeyDown:s=>s.key==="Enter"&&r(),className:"w-full px-3 py-2 rounded-md bg-[#2a3444] text-white border border-gray-600 focus:outline-none"}),f.jsx(lc,{label:"Add",icon:f.jsx("span",{className:"text-sm",children:"➕"}),onClick:r})]})},LS=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(""),[s,a]=E.useState(null),[l,c]=E.useState(""),[d,h]=E.useState(!1),[m,y]=E.useState("");E.useEffect(()=>{x()},[]);const x=async()=>{try{const _=await pe.get("/admin/brands");e(_.data.brands||[])}catch(_){console.error("Fetch error:",_),y("Failed to load brands.")}},w=async()=>{var _,C;if(n.trim()){h(!0),y("");try{await pe.post("/admin/brands",{name:n.trim()}),r(""),x()}catch(T){console.error("Create error:",T),y(((C=(_=T==null?void 0:T.response)==null?void 0:_.data)==null?void 0:C.message)||"Create failed")}finally{h(!1)}}},b=async()=>{if(l.trim())try{await pe.put(`/admin/brands/${s}`,{name:l.trim()}),a(null),c(""),x()}catch(_){console.error("Update error:",_),y("Update failed")}},S=async _=>{if(confirm("Delete this brand?"))try{await pe.delete(`/admin/brands/${_}`),x()}catch(C){console.error("Delete error:",C),y("Delete failed")}};return f.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-6 border border-gray-700",children:[f.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:"🏷️ Manage Brands"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{value:n,onChange:_=>r(_.target.value),placeholder:"New brand name",disabled:d,className:"w-full p-2 rounded-md bg-[#1e2633] text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsxs("button",{onClick:w,disabled:d,className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition disabled:opacity-50",children:[f.jsx(ex,{size:16})," Add"]})]}),m&&f.jsx("p",{className:"text-sm text-red-400",children:m}),t.map(_=>f.jsxs("div",{className:"bg-[#1b2431] rounded-lg p-4 text-white flex justify-between items-center shadow-sm",children:[s===_._id?f.jsx("input",{value:l,onChange:C=>c(C.target.value),onKeyDown:C=>{C.key==="Enter"&&b()},className:"w-full px-4 py-2 rounded-md bg-[#2a3444] text-white border border-gray-600 focus:outline-none mr-4"}):f.jsx("span",{className:"font-medium text-lg",children:_.name}),f.jsx("div",{className:"flex gap-3 ml-4",children:s===_._id?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:b,className:"px-3 py-1 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition",children:"Save"}),f.jsx("button",{onClick:()=>{a(null),c("")},className:"px-3 py-1 rounded-md bg-gray-600 text-white hover:bg-gray-500 transition",children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>{a(_._id),c(_.name)},className:"px-3 py-1 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition",children:"Edit"}),f.jsx("button",{onClick:()=>S(_._id),className:"px-3 py-1 rounded-md bg-red-600 text-white hover:bg-red-700 transition",children:"Delete"})]})})]},_._id))]})},IS=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(""),[s,a]=E.useState(null),[l,c]=E.useState(!1),[d,h]=E.useState(""),[m,y]=E.useState("");E.useEffect(()=>{x()},[]);const x=async()=>{var C;try{const T=await pe.get("/admin/variant-categories");console.log("Fetched variant categories:",T.data);const P=Array.isArray((C=T.data)==null?void 0:C.categories)?T.data.categories:[];e(P)}catch(T){console.error("Failed to load variant categories:",T),h("Failed to load variant categories."),e([])}},w=C=>C.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-_]/g,""),b=async()=>{var C,T;if(n.trim()){c(!0),h(""),y("");try{const P=w(n);await pe.post("/admin/variant-categories",{name:n,slug:P}),r(""),await x()}catch(P){const D=(C=P==null?void 0:P.response)==null?void 0:C.data;h((D==null?void 0:D.error)||"Add failed"),y(((T=D==null?void 0:D.details)==null?void 0:T.name)||""),console.error("Failed to add variant category:",D)}finally{c(!1)}}},S=async(C,T)=>{var P,D;if(T.trim()){c(!0),h(""),y("");try{await pe.put(`/admin/variant-categories/${C}`,{name:T.trim(),slug:w(T)}),a(null),await x()}catch(M){const I=(P=M==null?void 0:M.response)==null?void 0:P.data;h((I==null?void 0:I.error)||"Update failed"),y(((D=I==null?void 0:I.details)==null?void 0:D.name)||""),console.error("Update failed:",I)}finally{c(!1)}}},_=async C=>{if(window.confirm("Delete this variant category?"))try{await pe.delete(`/admin/variant-categories/${C}`),await x()}catch(T){console.error("Delete failed:",T),h("Delete failed")}};return f.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-6 border border-gray-700",children:[f.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:"🧩 Variant Categories"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{value:n,onChange:C=>r(C.target.value),placeholder:"e.g. Size, Color",className:`w-full px-4 py-2 rounded-md bg-[#1e2633] text-white border focus:outline-none focus:ring-2 focus:ring-blue-500 ${m?"border-red-500":"border-gray-600"}`}),f.jsxs("button",{onClick:b,disabled:l,className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition disabled:opacity-50",children:[f.jsx(ex,{size:16})," Add"]})]}),d&&f.jsx("p",{className:"text-sm text-red-500 mt-1",children:d}),m&&f.jsx("p",{className:"text-sm text-red-400 mt-1",children:m}),Array.isArray(t)&&t.length>0?t.map(C=>f.jsxs("div",{className:"bg-[#1b2431] rounded-lg p-4 text-white flex justify-between items-center shadow-sm",children:[s===C._id?f.jsx("input",{defaultValue:C.name,onKeyDown:T=>{T.key==="Enter"&&S(C._id,T.target.value)},className:`w-full px-4 py-2 rounded-md bg-[#2a3444] text-white border focus:outline-none mr-4 ${m?"border-red-500":"border-gray-600"}`}):f.jsx("span",{className:"font-medium text-lg",children:C.name}),f.jsxs("div",{className:"flex gap-3 ml-4",children:[s===C._id?f.jsx("button",{onClick:()=>a(null),className:"px-3 py-1 rounded-md bg-gray-600 text-white hover:bg-gray-500 transition",children:"Cancel"}):f.jsx("button",{onClick:()=>a(C._id),className:"px-3 py-1 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition",children:"Edit"}),f.jsx("button",{onClick:()=>_(C._id),className:"px-3 py-1 rounded-md bg-red-600 text-white hover:bg-red-700 transition",children:"Delete"})]})]},C._id)):f.jsx("p",{className:"text-sm text-gray-400 italic",children:"No variant categories found."})]})},FS=()=>{const[t,e]=E.useState("products"),n=[{key:"products",label:"🛒 Products"},{key:"categories",label:"📂 Categories"},{key:"brands",label:"🏷 Brands"},{key:"variants",label:"🎨 Variants"}],r={products:"All Products",categories:"Manage Categories",brands:"Manage Brands",variants:"Manage Variants"};return f.jsxs("section",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-700 dark:text-white mb-6",children:r[t]}),f.jsx("nav",{className:"flex flex-wrap gap-2 mb-4",role:"tablist","aria-label":"Product Management Tabs",children:n.map(s=>f.jsx("button",{onClick:()=>e(s.key),className:`px-4 py-2 rounded-md font-medium transition-all
              ${t===s.key?"bg-blue-600 text-white shadow":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600"}`,role:"tab","aria-selected":t===s.key,children:s.label},s.key))}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow border dark:border-gray-700",children:[t==="products"&&f.jsx(AS,{}),t==="categories"&&f.jsx(OS,{}),t==="brands"&&f.jsx(LS,{}),t==="variants"&&f.jsx(IS,{})]})]})},zS=()=>{const t=kr();return f.jsxs("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-md",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 flex items-center gap-2",children:"📚 Blog Posts"}),f.jsx("button",{onClick:()=>t("/dashboard/admin?tab=blog-editor"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"➕ New Post"})]}),f.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-gray-300 rounded bg-gray-50 text-gray-500",children:["📝 No blog posts yet. ",f.jsx("br",{}),f.jsx("span",{className:"text-sm",children:"Click “New Post” to create your first article."})]})]})},BS=()=>f.jsx("div",{className:"bg-white p-4 rounded shadow",children:f.jsx(zS,{})}),$s=(t,e=null)=>{document.execCommand(t,!1,e)},US=()=>$s("bold"),HS=()=>$s("italic"),$S=()=>$s("underline"),WS=()=>$s("strikeThrough"),VS=()=>$s("hiliteColor","yellow"),YS=()=>$s("superscript"),qS=()=>$s("subscript"),ox=(t="span",e="")=>{const n=window.getSelection();if(!n||n.rangeCount===0)return;const r=n.getRangeAt(0);if(r.collapsed||!r.toString().trim())return;const a=e.trim().split(/\s+/),l=["text-left","text-center","text-right"],c=r.commonAncestorContainer,d=c.nodeType===3?c.parentElement:c;if(d&&d.tagName.toLowerCase()===t.toLowerCase()){const x=new Set(d.className.trim().split(/\s+/));l.forEach(w=>x.delete(w)),a.forEach(w=>{x.has(w)?x.delete(w):x.add(w)}),d.className=Array.from(x).join(" ");return}const h=document.createElement(t);h.classList.add(...a);const m=r.extractContents();h.appendChild(m),r.insertNode(h);const y=document.createRange();y.setStartAfter(h),y.collapse(!0),n.removeAllRanges(),n.addRange(y)},XS=()=>ox("span","text-xs text-gray-600"),ax=(t=null,e=null)=>{const n=window.getSelection();if(!n||n.rangeCount===0)return;const r=n.getRangeAt(0);if(r.collapsed)return;t==="*"&&(t=null,e=null);const s=r.cloneContents(),a=c=>{if(c.nodeType===1){const d=(!t||c.nodeName.toLowerCase()===t.toLowerCase())&&(!e||c.classList.contains(e)),h=document.createElement("span");if(h.textContent=c.textContent,d)return h;const m=document.createElement(c.nodeName.toLowerCase());return Array.from(c.attributes).forEach(y=>m.setAttribute(y.name,y.value)),c.childNodes.forEach(y=>{m.appendChild(a(y))}),m}return c.cloneNode(!0)},l=document.createDocumentFragment();s.childNodes.forEach(c=>l.appendChild(a(c))),r.deleteContents(),r.insertNode(l)},lx=(t,e="")=>{const n=window.getSelection();if(!n||n.rangeCount===0)return!1;let r=n.focusNode;for(;r;){if(r.nodeType===1&&r.nodeName.toLowerCase()===t.toLowerCase()&&(!e||r.classList.contains(e)))return!0;r=r.parentNode}return!1},Ws=(t,e="")=>{let n="";typeof e=="string"?n=e:e&&typeof e=="object"&&"class"in e&&(n=e.class),lx(t)?ax():ox(t,n)},KS=()=>Ws("code","font-mono bg-gray-200 px-1 rounded text-sm"),QS=(t=1)=>{const e={1:"text-3xl font-bold",2:"text-2xl font-semibold",3:"text-xl font-medium",4:"text-lg font-medium",5:"text-base font-semibold",6:"text-sm font-semibold text-gray-600"};Ws("h"+t,{class:e[t]||"text-lg"})},GS=()=>{Ws("p","text-base leading-relaxed mb-3")},ZS=()=>{Ws("blockquote","border-l-4 border-gray-400 pl-4 italic text-gray-700")},JS=()=>{Ws("pre","bg-gray-100 p-2 rounded text-sm font-mono whitespace-pre-wrap")},cx=t=>{const e=window.getSelection();if(!e||e.rangeCount===0)return;const r=e.getRangeAt(0).commonAncestorContainer;let s=r.nodeType===3?r.parentNode:r;for(;s&&s.nodeName.toLowerCase()!==t.toLowerCase();)s=s.parentNode;if(s&&s.nodeName.toLowerCase()===t.toLowerCase()){const a=document.createDocumentFragment(),l=Array.from(s.childNodes);l.forEach(d=>a.appendChild(d));const c=document.createRange();c.setStartBefore(l[0]),c.setEndAfter(l[l.length-1]),s.replaceWith(a),e.removeAllRanges(),e.addRange(c)}},xg=(t="ul")=>{const e=t==="ol"?"ol":"ul";lx(e)?cx(e):Ws(e,e==="ul"?"list-disc pl-6":"list-decimal pl-6")},Bd=(t="left")=>{Ws("div",{class:{left:"text-left",center:"text-center",right:"text-right"}[t]})},ek=()=>{const t=window.getSelection();if(!t||t.rangeCount===0)return;const e=t.focusNode,n=[];let r=e;for(;r&&r!==document.body;)r.nodeType===1&&n.unshift(`${r.nodeName.toLowerCase()}.${[...r.classList].join(".")}`),r=r.parentNode;console.log("🔍 Selection Path:",n.join(" > "))},tk=()=>cx("a"),nk=()=>{const t=[];let e=-1;return{save:(a,l)=>{t.splice(e+1),t.push({content:a,selection:l}),e=t.length-1},undo:()=>e>0?(e--,t[e]):null,redo:()=>e<t.length-1?(e++,t[e]):null}},rk=t=>{const e=window.getSelection();if(!e.rangeCount)return null;const n=e.getRangeAt(0);return t.contains(n.startContainer)?{startOffset:n.startOffset,endOffset:n.endOffset,startContainerPath:bg(t,n.startContainer),endContainerPath:bg(t,n.endContainer)}:null},vg=(t,{content:e,selection:n})=>{if(t.innerHTML=e,n){const r=document.createRange(),s=wg(t,n.startContainerPath),a=wg(t,n.endContainerPath);if(s&&a){r.setStart(s,n.startOffset),r.setEnd(a,n.endOffset);const l=window.getSelection();l.removeAllRanges(),l.addRange(r)}}},bg=(t,e)=>{const n=[];for(;e!==t&&e!=null;){const r=e.parentNode;if(!r)break;const s=Array.from(r.childNodes).indexOf(e);n.unshift(s),e=r}return n},wg=(t,e)=>{let n=t;for(let r of e){if(!n||!n.childNodes[r])return null;n=n.childNodes[r]}return n},sk=t=>{t.querySelectorAll("span").forEach(n=>{if(!n.getAttribute("class")&&!n.getAttribute("style")){const r=document.createDocumentFragment();for(;n.firstChild;)r.appendChild(n.firstChild);n.replaceWith(r)}})},ik=t=>{t!=null&&t.current&&sk(t.current)};var ux={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_g=Qn.createContext&&Qn.createContext(ux),ok=["attr","size","title"];function ak(t,e){if(t==null)return{};var n=lk(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lk(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}function Sg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sg(Object(n),!0).forEach(function(r){ck(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ck(t,e,n){return e=uk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uk(t){var e=dk(t,"string");return typeof e=="symbol"?e:e+""}function dk(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dx(t){return t&&t.map((e,n)=>Qn.createElement(e.tag,gc({key:n},e.attr),dx(e.child)))}function Lt(t){return e=>Qn.createElement(fk,mc({attr:gc({},t.attr)},e),dx(t.child))}function fk(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=ak(t,ok),c=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Qn.createElement("svg",mc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:d,style:gc(gc({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Qn.createElement("title",null,a),t.children)};return _g!==void 0?Qn.createElement(_g.Consumer,null,n=>e(n)):e(ux)}function hk(t){return Lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM108.1 96h231.81A12.09 12.09 0 0 0 352 83.9V44.09A12.09 12.09 0 0 0 339.91 32H108.1A12.09 12.09 0 0 0 96 44.09V83.9A12.1 12.1 0 0 0 108.1 96zm231.81 256A12.09 12.09 0 0 0 352 339.9v-39.81A12.09 12.09 0 0 0 339.91 288H108.1A12.09 12.09 0 0 0 96 300.09v39.81a12.1 12.1 0 0 0 12.1 12.1z"},child:[]}]})(t)}function pk(t){return Lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function mk(t){return Lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 224h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm416 192H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm3.17-384H172.83A12.82 12.82 0 0 0 160 44.83v38.34A12.82 12.82 0 0 0 172.83 96h262.34A12.82 12.82 0 0 0 448 83.17V44.83A12.82 12.82 0 0 0 435.17 32zm0 256H172.83A12.82 12.82 0 0 0 160 300.83v38.34A12.82 12.82 0 0 0 172.83 352h262.34A12.82 12.82 0 0 0 448 339.17v-38.34A12.82 12.82 0 0 0 435.17 288z"},child:[]}]})(t)}function gk(t){return Lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"},child:[]}]})(t)}function kg(t){return Lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(t)}function yk(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 96v320h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H320a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V288H160v128h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V96H32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-32v128h192V96h-32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16z"},child:[]}]})(t)}function xk(t){return Lt({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"},child:[]}]})(t)}function vk(t){return Lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"},child:[]}]})(t)}function bk(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"},child:[]}]})(t)}function wk(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function _k(t){return Lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 48v32a16 16 0 0 1-16 16h-48v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V96h-32v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V352h-32a160 160 0 0 1 0-320h240a16 16 0 0 1 16 16z"},child:[]}]})(t)}function Sk(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function kk(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 224H293.9l-87.17-26.83A43.55 43.55 0 0 1 219.55 112h66.79A49.89 49.89 0 0 1 331 139.58a16 16 0 0 0 21.46 7.15l42.94-21.47a16 16 0 0 0 7.16-21.46l-.53-1A128 128 0 0 0 287.51 32h-68a123.68 123.68 0 0 0-123 135.64c2 20.89 10.1 39.83 21.78 56.36H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-180.24 96A43 43 0 0 1 336 356.45 43.59 43.59 0 0 1 292.45 400h-66.79A49.89 49.89 0 0 1 181 372.42a16 16 0 0 0-21.46-7.15l-42.94 21.47a16 16 0 0 0-7.16 21.46l.53 1A128 128 0 0 0 224.49 480h68a123.68 123.68 0 0 0 123-135.64 114.25 114.25 0 0 0-5.34-24.36z"},child:[]}]})(t)}function Ck(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 448h-16V304a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 400 352h16v96h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM336 64h-67a16 16 0 0 0-13.14 6.87l-79.9 115-79.9-115A16 16 0 0 0 83 64H16A16 16 0 0 0 0 80v48a16 16 0 0 0 16 16h33.48l77.81 112-77.81 112H16a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h67a16 16 0 0 0 13.14-6.87l79.9-115 79.9 115A16 16 0 0 0 269 448h67a16 16 0 0 0 16-16v-48a16 16 0 0 0-16-16h-33.48l-77.81-112 77.81-112H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16z"},child:[]}]})(t)}function Nk(t){return Lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 160h-16V16a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 400 64h16v96h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM336 64h-67a16 16 0 0 0-13.14 6.87l-79.9 115-79.9-115A16 16 0 0 0 83 64H16A16 16 0 0 0 0 80v48a16 16 0 0 0 16 16h33.48l77.81 112-77.81 112H16a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h67a16 16 0 0 0 13.14-6.87l79.9-115 79.9 115A16 16 0 0 0 269 448h67a16 16 0 0 0 16-16v-48a16 16 0 0 0-16-16h-33.48l-77.81-112 77.81-112H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16z"},child:[]}]})(t)}function jk(t){return Lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}const Ek=({editorRef:t,onUndo:e,onRedo:n})=>{const r=s=>()=>{s(),t!=null&&t.current&&ik(t)};return f.jsxs("div",{className:"flex flex-wrap gap-2 p-2 bg-slate-100 border rounded",children:[f.jsx(et,{icon:f.jsx(gk,{}),onClick:r(US),title:"Bold"}),f.jsx(et,{icon:f.jsx(vk,{}),onClick:r(HS),title:"Italic"}),f.jsx(et,{icon:f.jsx(jk,{}),onClick:r($S),title:"Underline"}),f.jsx(et,{icon:f.jsx(kk,{}),onClick:r(WS),title:"Strikethrough"}),f.jsx(et,{icon:f.jsx(xk,{}),onClick:r(VS),title:"Highlight"}),f.jsx(et,{icon:f.jsx(Nk,{}),onClick:r(YS),title:"Superscript"}),f.jsx(et,{icon:f.jsx(Ck,{}),onClick:r(qS),title:"Subscript"}),f.jsx(et,{icon:f.jsx("span",{className:"text-xs",children:"aA"}),onClick:r(XS),title:"Small Text"}),f.jsx(et,{icon:f.jsx(kg,{}),onClick:r(KS),title:"Inline Code"}),[1,2,3].map(s=>f.jsx(et,{icon:f.jsx(yk,{}),onClick:r(()=>QS(s)),title:`H${s}`},s)),f.jsx(et,{icon:f.jsx(_k,{}),onClick:r(GS),title:"Paragraph"}),f.jsx(et,{icon:f.jsx(Sk,{}),onClick:r(ZS),title:"Blockquote"}),f.jsx(et,{icon:f.jsx(kg,{}),onClick:r(JS),title:"Code Block"}),f.jsx(et,{icon:f.jsx(wk,{}),onClick:r(()=>xg("ul")),title:"Bullet List"}),f.jsx(et,{icon:f.jsx(bk,{}),onClick:r(()=>xg("ol")),title:"Numbered List"}),f.jsx(et,{icon:f.jsx(pk,{}),onClick:r(()=>Bd("left")),title:"Align Left"}),f.jsx(et,{icon:f.jsx(hk,{}),onClick:r(()=>Bd("center")),title:"Align Center"}),f.jsx(et,{icon:f.jsx(mk,{}),onClick:r(()=>Bd("right")),title:"Align Right"}),f.jsx(et,{icon:f.jsx("span",{children:"🔍"}),onClick:r(ek),title:"Inspect Selection"}),f.jsx(et,{icon:f.jsx("span",{children:"🔗✖️"}),onClick:r(tk),title:"Remove Link"}),f.jsx(et,{icon:f.jsx("span",{children:"🧹"}),onClick:r(()=>ax("*")),title:"Clear All Formatting"}),f.jsx(et,{icon:f.jsx("span",{children:"↩️"}),onClick:e,title:"Undo"}),f.jsx(et,{icon:f.jsx("span",{children:"↪️"}),onClick:n,title:"Redo"})]})},et=({icon:t,onClick:e,title:n})=>f.jsx("button",{type:"button",title:n,onClick:r=>{r.preventDefault(),e()},className:"flex items-center justify-center w-10 h-10 rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100 active:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150",children:t}),Ud=nk(),Tk=()=>{const t=E.useRef(null),[,e]=E.useState(0),n=()=>{if(!t.current)return;const a=rk(t.current);Ud.save(t.current.innerHTML,a)},r=()=>{const a=Ud.undo();a&&t.current&&(vg(t.current,a),e(l=>l+1))},s=()=>{const a=Ud.redo();a&&t.current&&(vg(t.current,a),e(l=>l+1))};return E.useEffect(()=>{const a=t.current;if(!a)return;const l=new MutationObserver(()=>{n()});return l.observe(a,{childList:!0,subtree:!0,characterData:!0}),n(),()=>l.disconnect()},[]),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ek,{editorRef:t,onUndo:r,onRedo:s}),f.jsx("div",{ref:t,contentEditable:!0,className:"min-h-[300px] border p-4 bg-white text-slate-800 rounded shadow-sm prose focus:outline-none"})]})},sa=t=>new Date(t).toLocaleDateString("en-GB"),Pk=[{code:"USD",name:"US Dollar"},{code:"EUR",name:"Euro"}],Cg=()=>({description:"",quantity:1,price:0,taxRate:0}),yc=({invoice:t,onClose:e,onSaved:n})=>{var P,D,M;const[r,s]=E.useState({invoiceNumber:(t==null?void 0:t.invoiceNumber)||"",type:(t==null?void 0:t.type)||"",clientCompany:typeof(t==null?void 0:t.clientCompany)=="object"?((P=t==null?void 0:t.clientCompany)==null?void 0:P._id)||"":(t==null?void 0:t.clientCompany)||"",supplierCompany:typeof(t==null?void 0:t.supplierCompany)=="object"?((D=t==null?void 0:t.supplierCompany)==null?void 0:D._id)||"":(t==null?void 0:t.supplierCompany)||"",client:(t==null?void 0:t.client)||"",supplier:(t==null?void 0:t.supplier)||"",currency:(t==null?void 0:t.currency)||"USD",dateIssued:t!=null&&t.dateIssued?t.dateIssued.slice(0,10):"",dueDate:t!=null&&t.dueDate?t.dueDate.slice(0,10):"",status:(t==null?void 0:t.status)||"unpaid",imageFile:null,category:(t==null?void 0:t.category)||"",tags:t!=null&&t.tags?t.tags.join(", "):"",notes:(t==null?void 0:t.notes)||"",items:t!=null&&t.items&&t.items.length>0?t.items.map(I=>({...I,price:I.price||0,quantity:I.quantity||1,taxRate:I.taxRate||0})):[Cg()]}),[a,l]=E.useState(null);E.useEffect(()=>{if(t!=null&&t.lastEditedBy){const I=typeof t.lastEditedBy=="object"?t.lastEditedBy._id:t.lastEditedBy;I?pe.get(`/users/${I}`).then(B=>l(B.data)).catch(()=>l(null)):l(null)}else l(null)},[t]);const[c,d]=E.useState([]);E.useEffect(()=>{pe.get("/companies").then(I=>d(Array.isArray(I.data)?I.data:I.data.companies||[])).catch(()=>d([]))},[]);const h=()=>s(I=>({...I,items:[...I.items,Cg()]})),m=I=>s(B=>({...B,items:B.items.length>1?B.items.filter((V,U)=>U!==I):B.items})),y=(I,B,V)=>s(U=>({...U,items:U.items.map((q,te)=>te===I?{...q,[B]:V}:q)})),x=I=>{const{name:B,value:V,type:U}=I.target;s(q=>({...q,[B]:U==="number"?parseFloat(V):V}))},w=(I,B)=>{s(V=>({...V,[I]:B,[I==="clientCompany"?"client":"supplier"]:""}))},b=I=>{s(B=>({...B,imageFile:I.target.files[0]}))},S=r.items.reduce((I,B)=>I+parseFloat(B.price||0)*parseFloat(B.quantity||1),0),_=r.items.reduce((I,B)=>I+parseFloat(B.price||0)*parseFloat(B.quantity||1)*(parseFloat(B.taxRate||0)/100),0),C=S+_,T=async I=>{var te;I.preventDefault();const B=r.tags?r.tags.split(",").map(ne=>ne.trim()).filter(Boolean):[],V={invoiceNumber:r.invoiceNumber,type:r.type,clientCompany:typeof r.clientCompany=="object"?r.clientCompany._id:r.clientCompany||void 0,supplierCompany:typeof r.supplierCompany=="object"?r.supplierCompany._id:r.supplierCompany||void 0,client:r.client,supplier:r.supplier,currency:r.currency,dateIssued:r.dateIssued,dueDate:r.dueDate||void 0,status:r.status,category:r.category,tags:B,notes:r.notes,subtotal:S,totalTax:_,totalAmount:C,items:r.items};let U,q;r.imageFile?(U=new FormData,Object.entries(V).forEach(([ne,ue])=>{ne==="items"||ne==="tags"?U.append(ne,JSON.stringify(ue)):ue!==void 0&&U.append(ne,ue)}),U.append("file",r.imageFile),q=void 0):(U=V,q=void 0);try{t!=null&&t._id?await pe.put(`/invoices/${t._id}`,U,q?{headers:q}:void 0):await pe.post("/invoices",U,q?{headers:q}:void 0),n()}catch(ne){console.error("Error saving invoice:",((te=ne==null?void 0:ne.response)==null?void 0:te.data)||ne.message)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:f.jsxs("form",{onSubmit:T,className:"w-full max-w-md max-h-[90vh] overflow-y-auto bg-[#1c1e2b] text-white p-4 md:p-6 rounded-lg shadow-2xl space-y-3 text-sm",encType:r.imageFile?"multipart/form-data":"application/json",children:[t&&f.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Last Edited:"," ",t.updatedAt?new Date(t.updatedAt).toLocaleString():"—"]}),a&&f.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Edited by: ",(a==null?void 0:a.name)||(a==null?void 0:a.email)||(t==null?void 0:t.lastEditedBy)]}),f.jsxs("div",{children:[f.jsx("input",{name:"invoiceNumber",value:r.invoiceNumber,onChange:x,placeholder:"Invoice Number",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 mb-2",required:!0}),f.jsxs("select",{name:"type",value:r.type,onChange:x,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2",required:!0,children:[f.jsx("option",{value:"",children:"Select Type"}),f.jsx("option",{value:"income",children:"Income (You will receive money)"}),f.jsx("option",{value:"outcome",children:"Expense (You will pay money)"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Client"}),f.jsxs("select",{name:"clientCompany",value:r.clientCompany||"",onChange:I=>w("clientCompany",I.target.value),className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 mb-1",children:[f.jsx("option",{value:"",children:"— Company —"}),c.map(I=>f.jsx("option",{value:I._id,children:I.name},I._id))]}),!r.clientCompany&&f.jsx("input",{name:"client",value:r.client,onChange:x,placeholder:"Or enter client name",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Supplier"}),f.jsxs("select",{name:"supplierCompany",value:r.supplierCompany||"",onChange:I=>w("supplierCompany",I.target.value),className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 mb-1",children:[f.jsx("option",{value:"",children:"— Company —"}),c.map(I=>f.jsx("option",{value:I._id,children:I.name},I._id))]}),!r.supplierCompany&&f.jsx("input",{name:"supplier",value:r.supplier,onChange:x,placeholder:"Or enter supplier name",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Date Issued"}),f.jsx("input",{name:"dateIssued",type:"date",value:r.dateIssued,onChange:x,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Due Date"}),f.jsx("input",{name:"dueDate",type:"date",value:r.dueDate,onChange:x,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("input",{name:"category",value:r.category,onChange:x,placeholder:"Category",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"}),f.jsx("input",{name:"tags",value:r.tags,onChange:x,placeholder:"Tags",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsx("select",{name:"currency",value:r.currency,onChange:x,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:Pk.map(({code:I,name:B})=>f.jsxs("option",{value:I,children:[I," — ",B]},I))}),f.jsxs("select",{name:"status",value:r.status,onChange:x,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2",children:[f.jsx("option",{value:"unpaid",children:"Unpaid"}),f.jsx("option",{value:"paid",children:"Paid"}),f.jsx("option",{value:"draft",children:"Draft"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Products or Services"}),r.items.map((I,B)=>f.jsxs("div",{className:"flex gap-1 mb-2",children:[f.jsx("input",{type:"text",placeholder:"Product/Service",value:I.description,onChange:V=>y(B,"description",V.target.value),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-2/5",required:!0}),f.jsx("input",{type:"number",placeholder:"Qty",min:1,value:I.quantity,onChange:V=>y(B,"quantity",parseFloat(V.target.value)),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-1/6",required:!0}),f.jsx("input",{type:"number",placeholder:"Unit Price",min:0,step:"0.01",value:I.price,onChange:V=>y(B,"price",parseFloat(V.target.value)),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-1/5",required:!0}),f.jsx("input",{type:"number",placeholder:"Tax %",min:0,step:"0.01",value:I.taxRate,onChange:V=>y(B,"taxRate",parseFloat(V.target.value)),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-1/6"}),f.jsx("button",{type:"button",onClick:()=>m(B),className:"text-red-400 hover:text-red-600 ml-1",title:"Remove",disabled:r.items.length===1,children:"✖"})]},B)),f.jsx("button",{type:"button",onClick:h,className:"w-full py-1 bg-blue-700 hover:bg-blue-800 rounded text-xs",children:"+ Add Product/Service"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-400",children:"Subtotal"}),f.jsx("input",{type:"number",value:S.toFixed(2),readOnly:!0,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-2 py-1 opacity-70",tabIndex:-1})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-400",children:"Total Tax"}),f.jsx("input",{type:"number",value:_.toFixed(2),readOnly:!0,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-2 py-1 opacity-70",tabIndex:-1})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"text-xs text-gray-400",children:"Total Amount"}),f.jsx("input",{type:"number",value:C.toFixed(2),readOnly:!0,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-2 py-1 opacity-70",tabIndex:-1})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Notes"}),f.jsx("textarea",{name:"notes",value:r.notes,onChange:x,placeholder:"Add any notes or comments",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 min-h-[48px]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Invoice Image"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{htmlFor:"invoiceImage",className:"cursor-pointer px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",children:r.imageFile?"Change Image":"Upload Image"}),f.jsx("input",{id:"invoiceImage",type:"file",accept:"image/*",onChange:b,className:"hidden"}),f.jsx("span",{className:"text-xs text-gray-400 truncate max-w-xs",children:((M=r.imageFile)==null?void 0:M.name)||(t==null?void 0:t.imageUrl)&&"Existing image"})]}),(r.imageFile||(t==null?void 0:t.imageUrl))&&f.jsx("img",{src:r.imageFile?URL.createObjectURL(r.imageFile):t.imageUrl,alt:"Invoice preview",className:"mt-2 max-h-24 border border-gray-600 rounded"})]}),f.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[f.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-500 text-gray-300 rounded hover:bg-gray-700",children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Save"})]})]})})},Mk={name:"",vatNumber:"",address:"",email:"",phone:"",country:"",website:"",notes:""},Rk=({onClose:t,onSaved:e})=>{const[n,r]=E.useState(Mk),[s,a]=E.useState(!1),[l,c]=E.useState(""),d=m=>{const{name:y,value:x}=m.target;r(w=>({...w,[y]:x}))},h=async m=>{var y,x,w;m.preventDefault(),a(!0),c("");try{await pe.post("/companies",n),e()}catch(b){c(((x=(y=b==null?void 0:b.response)==null?void 0:y.data)==null?void 0:x.message)||((w=b==null?void 0:b.response)==null?void 0:w.data)||b.message||"Failed to create company")}finally{a(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:f.jsxs("form",{onSubmit:h,className:"w-full max-w-md bg-[#23263a] text-white p-6 rounded-lg shadow-xl space-y-4",children:[f.jsx("h2",{className:"text-xl font-bold mb-2",children:"+ New Company"}),l&&f.jsx("div",{className:"text-red-400 mb-2 text-sm",children:l}),f.jsx("input",{name:"name",value:n.name,onChange:d,placeholder:"Company Name *",required:!0,className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("input",{name:"vatNumber",value:n.vatNumber,onChange:d,placeholder:"VAT Number",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("input",{name:"address",value:n.address,onChange:d,placeholder:"Address",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("input",{name:"email",value:n.email,onChange:d,placeholder:"Email",type:"email",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("input",{name:"phone",value:n.phone,onChange:d,placeholder:"Phone",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("input",{name:"country",value:n.country,onChange:d,placeholder:"Country",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("input",{name:"website",value:n.website,onChange:d,placeholder:"Website",type:"url",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),f.jsx("textarea",{name:"notes",value:n.notes,onChange:d,placeholder:"Notes",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full min-h-[50px]"}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-500 text-gray-300 rounded hover:bg-gray-700",disabled:s,children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",disabled:s,children:s?"Saving...":"Save"})]})]})})},Ak=["jpg","jpeg","png","webp","gif","bmp"],Ok=["pdf"];function fx(t="",e="pdf"){var r;const n=(r=t.split(".").pop().split("?")[0])==null?void 0:r.toLowerCase();return!n||n.length>5?e:n}function Dk(t=""){const e=fx(t);return Ak.includes(e)?"image":Ok.includes(e)?"pdf":"other"}function Lk(t,e){const n=fx(e);return`${(t==null?void 0:t.invoiceNumber)||(t==null?void 0:t.systemInvoiceNumber)||"invoice-file"}.${n}`}const wf=({invoice:t,onClose:e})=>{const{invoiceNumber:n,systemInvoiceNumber:r,type:s,clientCompany:a,supplierCompany:l,client:c,supplier:d,currency:h,dateIssued:m,dueDate:y,status:x,category:w,tags:b,notes:S,items:_=[],subtotal:C,totalTax:T,totalAmount:P,imageUrl:D}=t,[M,I]=E.useState(!1),B=Dk(D),V=Lk(t,D),U=D?`/api/download?url=${encodeURIComponent(D)}&name=${encodeURIComponent(V)}`:"";return f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[M&&B==="image"&&f.jsx("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/80",onClick:()=>I(!1),children:f.jsx("img",{src:D,alt:"Invoice Preview",className:"max-w-4xl max-h-[90vh] rounded-lg border-2 border-white shadow-xl",onClick:q=>q.stopPropagation()})}),f.jsxs("div",{className:`\r
        bg-[#23263a] text-white rounded-2xl shadow-2xl\r
        flex flex-col md:flex-row relative min-h-[600px] overflow-hidden\r
        w-[90vw] max-w-[1400px] min-w-[900px]\r
        p-0\r
      `,children:[f.jsx("button",{onClick:e,className:"absolute top-4 right-6 text-gray-400 hover:text-gray-200 text-2xl font-bold z-10",children:"×"}),f.jsxs("div",{className:"basis-1/2 min-w-0 p-8 flex flex-col overflow-y-auto max-h-[80vh]",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Invoice Details"}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Invoice #:"})," ",n||r]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Type:"})," ",s]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Status:"})," ",x]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Date Issued:"})," ",sa(m)]}),y&&f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Due Date:"})," ",sa(y)]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Currency:"})," ",h]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Category:"})," ",w||"—"]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("span",{className:"font-semibold",children:"Tags:"})," ",(b==null?void 0:b.length)>0?b.join(", "):"—"]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("span",{className:"font-semibold",children:"Notes:"})," ",S||"—"]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("span",{className:"font-semibold",children:"Client:"})," ",a?f.jsxs(f.Fragment,{children:[a.name,a.vatNumber?` (VAT: ${a.vatNumber})`:""]}):f.jsx("span",{children:c||"—"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("span",{className:"font-semibold",children:"Supplier:"})," ",l?f.jsxs(f.Fragment,{children:[l.name,l.vatNumber?` (VAT: ${l.vatNumber})`:""]}):f.jsx("span",{children:d||"—"})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("div",{className:"font-semibold mb-2",children:"Products:"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm border border-gray-700 rounded",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-[#252a3a]",children:[f.jsx("th",{className:"p-2 text-left",children:"Description"}),f.jsx("th",{className:"p-2 text-right",children:"Qty"}),f.jsx("th",{className:"p-2 text-right",children:"Unit Price"}),f.jsx("th",{className:"p-2 text-right",children:"Tax %"}),f.jsx("th",{className:"p-2 text-right",children:"Total"})]})}),f.jsx("tbody",{children:_.map((q,te)=>f.jsxs("tr",{className:"border-t border-gray-700",children:[f.jsx("td",{className:"p-2 text-left",children:q.description}),f.jsx("td",{className:"p-2 text-right",children:q.quantity}),f.jsx("td",{className:"p-2 text-right",children:q.price}),f.jsx("td",{className:"p-2 text-right",children:q.taxRate}),f.jsx("td",{className:"p-2 text-right",children:(Number(q.price||0)*Number(q.quantity||1)*(1+Number(q.taxRate||0)/100)).toFixed(2)})]},te))})]})})]}),f.jsxs("div",{className:"flex flex-col gap-2 border-t border-gray-700 pt-2 mt-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Subtotal:"})," ",Number(C).toFixed(2)," ",h]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Total Tax:"})," ",Number(T).toFixed(2)," ",h]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-semibold",children:"Total Amount:"})," ",Number(P).toFixed(2)," ",h]})]})]}),f.jsxs("div",{className:"basis-1/2 min-w-0 p-8 flex flex-col items-center justify-start gap-4",children:[f.jsx("div",{className:"font-semibold mb-2 mt-1 md:mt-0 text-lg w-full text-center",children:"Invoice File:"}),D&&(B==="image"?f.jsxs(f.Fragment,{children:[f.jsx("img",{src:D,alt:"Invoice",className:"w-full max-w-[540px] max-h-[600px] border border-gray-600 rounded-lg cursor-zoom-in hover:shadow-lg transition",title:"Click to preview",onClick:()=>I(!0),style:{objectFit:"contain"}}),f.jsx("a",{href:U,className:"bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded transition text-sm mt-2",children:"Download Image"})]}):B==="pdf"?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"border border-gray-700 rounded-lg bg-white w-full flex justify-center items-center",style:{minHeight:540,height:540,maxWidth:"100%"},children:f.jsx("iframe",{src:`/api/download?url=${encodeURIComponent(D)}&inline=true`,title:"PDF Preview",className:"w-full h-full rounded-lg",style:{minHeight:530,height:530},frameBorder:0,allowFullScreen:!0})}),f.jsx("div",{className:"flex gap-2 mt-2",children:f.jsx("a",{href:U,className:"bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded transition text-sm",children:"Download PDF"})})]}):f.jsx("a",{href:U,className:"bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded transition text-sm",children:"Download File"}))]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function va(t){return t+.5|0}const es=(t,e,n)=>Math.max(Math.min(t,n),e);function Wo(t){return es(va(t*2.55),0,255)}function rs(t){return es(va(t*255),0,255)}function mr(t){return es(va(t/2.55)/100,0,1)}function Ng(t){return es(va(t*100),0,100)}const xn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_f=[..."0123456789ABCDEF"],Ik=t=>_f[t&15],Fk=t=>_f[(t&240)>>4]+_f[t&15],Ll=t=>(t&240)>>4===(t&15),zk=t=>Ll(t.r)&&Ll(t.g)&&Ll(t.b)&&Ll(t.a);function Bk(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&xn[t[1]]*17,g:255&xn[t[2]]*17,b:255&xn[t[3]]*17,a:e===5?xn[t[4]]*17:255}:(e===7||e===9)&&(n={r:xn[t[1]]<<4|xn[t[2]],g:xn[t[3]]<<4|xn[t[4]],b:xn[t[5]]<<4|xn[t[6]],a:e===9?xn[t[7]]<<4|xn[t[8]]:255})),n}const Uk=(t,e)=>t<255?e(t):"";function Hk(t){var e=zk(t)?Ik:Fk;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Uk(t.a,e):void 0}const $k=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hx(t,e,n){const r=e*Math.min(n,1-n),s=(a,l=(a+t/30)%12)=>n-r*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function Wk(t,e,n){const r=(s,a=(s+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function Vk(t,e,n){const r=hx(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function Yk(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function nh(t){const n=t.r/255,r=t.g/255,s=t.b/255,a=Math.max(n,r,s),l=Math.min(n,r,s),c=(a+l)/2;let d,h,m;return a!==l&&(m=a-l,h=c>.5?m/(2-a-l):m/(a+l),d=Yk(n,r,s,m,a),d=d*60+.5),[d|0,h||0,c]}function rh(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(rs)}function sh(t,e,n){return rh(hx,t,e,n)}function qk(t,e,n){return rh(Vk,t,e,n)}function Xk(t,e,n){return rh(Wk,t,e,n)}function px(t){return(t%360+360)%360}function Kk(t){const e=$k.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Wo(+e[5]):rs(+e[5]));const s=px(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=qk(s,a,l):e[1]==="hsv"?r=Xk(s,a,l):r=sh(s,a,l),{r:r[0],g:r[1],b:r[2],a:n}}function Qk(t,e){var n=nh(t);n[0]=px(n[0]+e),n=sh(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Gk(t){if(!t)return;const e=nh(t),n=e[0],r=Ng(e[1]),s=Ng(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${mr(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const jg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Eg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Zk(){const t={},e=Object.keys(Eg),n=Object.keys(jg);let r,s,a,l,c;for(r=0;r<e.length;r++){for(l=c=e[r],s=0;s<n.length;s++)a=n[s],c=c.replace(a,jg[a]);a=parseInt(Eg[l],16),t[c]=[a>>16&255,a>>8&255,a&255]}return t}let Il;function Jk(t){Il||(Il=Zk(),Il.transparent=[0,0,0,0]);const e=Il[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const eC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function tC(t){const e=eC.exec(t);let n=255,r,s,a;if(e){if(e[7]!==r){const l=+e[7];n=e[8]?Wo(l):es(l*255,0,255)}return r=+e[1],s=+e[3],a=+e[5],r=255&(e[2]?Wo(r):es(r,0,255)),s=255&(e[4]?Wo(s):es(s,0,255)),a=255&(e[6]?Wo(a):es(a,0,255)),{r,g:s,b:a,a:n}}}function nC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${mr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Hd=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ji=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function rC(t,e,n){const r=ji(mr(t.r)),s=ji(mr(t.g)),a=ji(mr(t.b));return{r:rs(Hd(r+n*(ji(mr(e.r))-r))),g:rs(Hd(s+n*(ji(mr(e.g))-s))),b:rs(Hd(a+n*(ji(mr(e.b))-a))),a:t.a+n*(e.a-t.a)}}function Fl(t,e,n){if(t){let r=nh(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=sh(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function mx(t,e){return t&&Object.assign(e||{},t)}function Tg(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=rs(t[3]))):(e=mx(t,{r:0,g:0,b:0,a:1}),e.a=rs(e.a)),e}function sC(t){return t.charAt(0)==="r"?tC(t):Kk(t)}class ia{constructor(e){if(e instanceof ia)return e;const n=typeof e;let r;n==="object"?r=Tg(e):n==="string"&&(r=Bk(e)||Jk(e)||sC(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=mx(this._rgb);return e&&(e.a=mr(e.a)),e}set rgb(e){this._rgb=Tg(e)}rgbString(){return this._valid?nC(this._rgb):void 0}hexString(){return this._valid?Hk(this._rgb):void 0}hslString(){return this._valid?Gk(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let a;const l=n===a?.5:n,c=2*l-1,d=r.a-s.a,h=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;a=1-h,r.r=255&h*r.r+a*s.r+.5,r.g=255&h*r.g+a*s.g+.5,r.b=255&h*r.b+a*s.b+.5,r.a=l*r.a+(1-l)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=rC(this._rgb,e._rgb,n)),this}clone(){return new ia(this.rgb)}alpha(e){return this._rgb.a=rs(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=va(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Fl(this._rgb,2,e),this}darken(e){return Fl(this._rgb,2,-e),this}saturate(e){return Fl(this._rgb,1,e),this}desaturate(e){return Fl(this._rgb,1,-e),this}rotate(e){return Qk(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function fr(){}const iC=(()=>{let t=0;return()=>t++})();function ze(t){return t==null}function dt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ie(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Dt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Yn(t,e){return Dt(t)?t:e}function Te(t,e){return typeof t>"u"?e:t}const oC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,gx=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ke(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function De(t,e,n,r){let s,a,l;if(dt(t))for(a=t.length,s=0;s<a;s++)e.call(n,t[s],s);else if(Ie(t))for(l=Object.keys(t),a=l.length,s=0;s<a;s++)e.call(n,t[l[s]],l[s])}function xc(t,e){let n,r,s,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],a=e[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function vc(t){if(dt(t))return t.map(vc);if(Ie(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=vc(t[n[s]]);return e}return t}function yx(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function aC(t,e,n,r){if(!yx(t))return;const s=e[t],a=n[t];Ie(s)&&Ie(a)?Zn(s,a,r):e[t]=vc(a)}function Zn(t,e,n){const r=dt(e)?e:[e],s=r.length;if(!Ie(t))return t;n=n||{};const a=n.merger||aC;let l;for(let c=0;c<s;++c){if(l=r[c],!Ie(l))continue;const d=Object.keys(l);for(let h=0,m=d.length;h<m;++h)a(d[h],t,l,n)}return t}function qo(t,e){return Zn(t,e,{merger:lC})}function lC(t,e,n){if(!yx(t))return;const r=e[t],s=n[t];Ie(r)&&Ie(s)?qo(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=vc(s))}const Pg={"":t=>t,x:t=>t.x,y:t=>t.y};function cC(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function uC(t){const e=cC(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function zs(t,e){return(Pg[e]||(Pg[e]=uC(e)))(t)}function ih(t){return t.charAt(0).toUpperCase()+t.slice(1)}const oa=t=>typeof t<"u",ss=t=>typeof t=="function",Mg=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function dC(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const $e=Math.PI,tt=2*$e,fC=tt+$e,bc=Number.POSITIVE_INFINITY,hC=$e/180,xt=$e/2,Ns=$e/4,Rg=$e*2/3,xx=Math.log10,wn=Math.sign;function Ds(t,e,n){return Math.abs(t-e)<n}function Ag(t){const e=Math.round(t);t=Ds(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(xx(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function pC(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,a)=>s-a).pop(),e}function mC(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function aa(t){return!mC(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function gC(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function yC(t,e,n){let r,s,a;for(r=0,s=t.length;r<s;r++)a=t[r][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function gr(t){return t*($e/180)}function xC(t){return t*(180/$e)}function Og(t){if(!Dt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function vx(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*$e&&(a+=tt),{angle:a,distance:s}}function Sf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vC(t,e){return(t-e+fC)%tt-$e}function un(t){return(t%tt+tt)%tt}function la(t,e,n,r){const s=un(t),a=un(e),l=un(n),c=un(a-s),d=un(l-s),h=un(s-a),m=un(s-l);return s===a||s===l||r&&a===l||c>d&&h<m}function Ot(t,e,n){return Math.max(e,Math.min(n,t))}function bC(t){return Ot(t,-32768,32767)}function yr(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function oh(t,e,n){n=n||(l=>t[l]<e);let r=t.length-1,s=0,a;for(;r-s>1;)a=s+r>>1,n(a)?s=a:r=a;return{lo:s,hi:r}}const As=(t,e,n,r)=>oh(t,n,r?s=>{const a=t[s][e];return a<n||a===n&&t[s+1][e]===n}:s=>t[s][e]<n),wC=(t,e,n)=>oh(t,n,r=>t[r][e]>=n);function _C(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const bx=["push","pop","shift","splice","unshift"];function SC(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),bx.forEach(n=>{const r="_onData"+ih(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return t._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...a)}),l}})})}function Dg(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(bx.forEach(a=>{delete t[a]}),delete t._chartjs)}function wx(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const _x=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Sx(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,_x.call(window,()=>{r=!1,t.apply(e,n)}))}}function kC(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const ah=t=>t==="start"?"left":t==="end"?"right":"center",Rt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,CC=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function NC(t,e,n){const r=e.length;let s=0,a=r;if(t._sorted){const{iScale:l,vScale:c,_parsed:d}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,m=l.axis,{min:y,max:x,minDefined:w,maxDefined:b}=l.getUserBounds();if(w){if(s=Math.min(As(d,m,y).lo,n?r:As(e,m,l.getPixelForValue(y)).lo),h){const S=d.slice(0,s+1).reverse().findIndex(_=>!ze(_[c.axis]));s-=Math.max(0,S)}s=Ot(s,0,r-1)}if(b){let S=Math.max(As(d,l.axis,x,!0).hi+1,n?0:As(e,m,l.getPixelForValue(x),!0).hi+1);if(h){const _=d.slice(S-1).findIndex(C=>!ze(C[c.axis]));S+=Math.max(0,_)}a=Ot(S,s,r)-s}else a=r-s}return{start:s,count:a}}function jC(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const a=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),a}const zl=t=>t===0||t===1,Lg=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*tt/n)),Ig=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*tt/n)+1,Xo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*xt)+1,easeOutSine:t=>Math.sin(t*xt),easeInOutSine:t=>-.5*(Math.cos($e*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>zl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>zl(t)?t:Lg(t,.075,.3),easeOutElastic:t=>zl(t)?t:Ig(t,.075,.3),easeInOutElastic(t){return zl(t)?t:t<.5?.5*Lg(t*2,.1125,.45):.5+.5*Ig(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Xo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Xo.easeInBounce(t*2)*.5:Xo.easeOutBounce(t*2-1)*.5+.5};function lh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Fg(t){return lh(t)?t:new ia(t)}function $d(t){return lh(t)?t:new ia(t).saturate(.5).darken(.1).hexString()}const EC=["x","y","borderWidth","radius","tension"],TC=["color","borderColor","backgroundColor"];function PC(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:TC},numbers:{type:"number",properties:EC}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function MC(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zg=new Map;function RC(t,e){e=e||{};const n=t+JSON.stringify(e);let r=zg.get(n);return r||(r=new Intl.NumberFormat(t,e),zg.set(n,r)),r}function ch(t,e,n){return RC(e,n).format(t)}const AC={values(t){return dt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,a=t;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),a=OC(t,n)}const l=xx(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),ch(t,r,d)}};function OC(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var kx={formatters:AC};function DC(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Bs=Object.create(null),kf=Object.create(null);function Ko(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const a=n[r];t=t[a]||(t[a]=Object.create(null))}return t}function Wd(t,e,n){return typeof e=="string"?Zn(Ko(t,e),n):Zn(Ko(t,""),e)}class LC{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>$d(s.backgroundColor),this.hoverBorderColor=(r,s)=>$d(s.borderColor),this.hoverColor=(r,s)=>$d(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Wd(this,e,n)}get(e){return Ko(this,e)}describe(e,n){return Wd(kf,e,n)}override(e,n){return Wd(Bs,e,n)}route(e,n,r,s){const a=Ko(this,e),l=Ko(this,r),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const d=this[c],h=l[s];return Ie(d)?Object.assign({},h,d):Te(d,h)},set(d){this[c]=d}}})}apply(e){e.forEach(n=>n(this))}}var st=new LC({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[PC,MC,DC]);function IC(t){return!t||ze(t.size)||ze(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Bg(t,e,n,r,s){let a=e[s];return a||(a=e[s]=t.measureText(s).width,n.push(s)),a>r&&(r=a),r}function js(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Ug(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Cf(t,e,n,r){Cx(t,e,n,r,null)}function Cx(t,e,n,r,s){let a,l,c,d,h,m,y,x;const w=e.pointStyle,b=e.rotation,S=e.radius;let _=(b||0)*hC;if(w&&typeof w=="object"&&(a=w.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(_),t.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),w){default:s?t.ellipse(n,r,s/2,S,0,0,tt):t.arc(n,r,S,0,tt),t.closePath();break;case"triangle":m=s?s/2:S,t.moveTo(n+Math.sin(_)*m,r-Math.cos(_)*S),_+=Rg,t.lineTo(n+Math.sin(_)*m,r-Math.cos(_)*S),_+=Rg,t.lineTo(n+Math.sin(_)*m,r-Math.cos(_)*S),t.closePath();break;case"rectRounded":h=S*.516,d=S-h,l=Math.cos(_+Ns)*d,y=Math.cos(_+Ns)*(s?s/2-h:d),c=Math.sin(_+Ns)*d,x=Math.sin(_+Ns)*(s?s/2-h:d),t.arc(n-y,r-c,h,_-$e,_-xt),t.arc(n+x,r-l,h,_-xt,_),t.arc(n+y,r+c,h,_,_+xt),t.arc(n-x,r+l,h,_+xt,_+$e),t.closePath();break;case"rect":if(!b){d=Math.SQRT1_2*S,m=s?s/2:d,t.rect(n-m,r-d,2*m,2*d);break}_+=Ns;case"rectRot":y=Math.cos(_)*(s?s/2:S),l=Math.cos(_)*S,c=Math.sin(_)*S,x=Math.sin(_)*(s?s/2:S),t.moveTo(n-y,r-c),t.lineTo(n+x,r-l),t.lineTo(n+y,r+c),t.lineTo(n-x,r+l),t.closePath();break;case"crossRot":_+=Ns;case"cross":y=Math.cos(_)*(s?s/2:S),l=Math.cos(_)*S,c=Math.sin(_)*S,x=Math.sin(_)*(s?s/2:S),t.moveTo(n-y,r-c),t.lineTo(n+y,r+c),t.moveTo(n+x,r-l),t.lineTo(n-x,r+l);break;case"star":y=Math.cos(_)*(s?s/2:S),l=Math.cos(_)*S,c=Math.sin(_)*S,x=Math.sin(_)*(s?s/2:S),t.moveTo(n-y,r-c),t.lineTo(n+y,r+c),t.moveTo(n+x,r-l),t.lineTo(n-x,r+l),_+=Ns,y=Math.cos(_)*(s?s/2:S),l=Math.cos(_)*S,c=Math.sin(_)*S,x=Math.sin(_)*(s?s/2:S),t.moveTo(n-y,r-c),t.lineTo(n+y,r+c),t.moveTo(n+x,r-l),t.lineTo(n-x,r+l);break;case"line":l=s?s/2:Math.cos(_)*S,c=Math.sin(_)*S,t.moveTo(n-l,r-c),t.lineTo(n+l,r+c);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(_)*(s?s/2:S),r+Math.sin(_)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ai(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ic(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Fc(t){t.restore()}function FC(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function zC(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function BC(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ze(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function UC(t,e,n,r,s){if(s.strikethrough||s.underline){const a=t.measureText(r),l=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,d=n-a.actualBoundingBoxAscent,h=n+a.actualBoundingBoxDescent,m=s.strikethrough?(d+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(l,m),t.lineTo(c,m),t.stroke()}}function HC(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ca(t,e,n,r,s,a={}){const l=dt(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let d,h;for(t.save(),t.font=s.string,BC(t,a),d=0;d<l.length;++d)h=l[d],a.backdrop&&HC(t,a.backdrop),c&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),ze(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(h,n,r,a.maxWidth)),t.fillText(h,n,r,a.maxWidth),UC(t,n,r,h,a),r+=Number(s.lineHeight);t.restore()}function wc(t,e){const{x:n,y:r,w:s,h:a,radius:l}=e;t.arc(n+l.topLeft,r+l.topLeft,l.topLeft,1.5*$e,$e,!0),t.lineTo(n,r+a-l.bottomLeft),t.arc(n+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,$e,xt,!0),t.lineTo(n+s-l.bottomRight,r+a),t.arc(n+s-l.bottomRight,r+a-l.bottomRight,l.bottomRight,xt,0,!0),t.lineTo(n+s,r+l.topRight),t.arc(n+s-l.topRight,r+l.topRight,l.topRight,0,-xt,!0),t.lineTo(n+l.topLeft,r)}const $C=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,WC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function VC(t,e){const n=(""+t).match($C);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const YC=t=>+t||0;function uh(t,e){const n={},r=Ie(e),s=r?Object.keys(e):e,a=Ie(t)?r?l=>Te(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of s)n[l]=YC(a(l));return n}function Nx(t){return uh(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Pi(t){return uh(t,["topLeft","topRight","bottomLeft","bottomRight"])}function dn(t){const e=Nx(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ct(t,e){t=t||{},e=e||st.font;let n=Te(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Te(t.style,e.style);r&&!(""+r).match(WC)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Te(t.family,e.family),lineHeight:VC(Te(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Te(t.weight,e.weight),string:""};return s.string=IC(s),s}function Qe(t,e,n,r){let s,a,l;for(s=0,a=t.length;s<a;++s)if(l=t[s],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e)),n!==void 0&&dt(l)&&(l=l[n%l.length]),l!==void 0))return l}function qC(t,e,n){const{min:r,max:s}=t,a=gx(e,(s-r)/2),l=(c,d)=>n&&c===0?0:c+d;return{min:l(r,-Math.abs(a)),max:l(s,a)}}function Vs(t,e){return Object.assign(Object.create(t),e)}function dh(t,e=[""],n,r,s=()=>t[0]){const a=n||t;typeof r>"u"&&(r=Px("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:r,_getTarget:s,override:c=>dh([c,...t],e,a,r)};return new Proxy(l,{deleteProperty(c,d){return delete c[d],delete c._keys,delete t[0][d],!0},get(c,d){return Ex(c,d,()=>tN(d,e,t,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,d){return $g(c).includes(d)},ownKeys(c){return $g(c)},set(c,d,h){const m=c._storage||(c._storage=s());return c[d]=m[d]=h,delete c._keys,!0}})}function Oi(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:jx(t,r),setContext:a=>Oi(t,a,n,r),override:a=>Oi(t.override(a),e,n,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete t[l],!0},get(a,l,c){return Ex(a,l,()=>KC(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(a,l,c){return t[l]=c,delete a[l],!0}})}function jx(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:ss(n)?n:()=>n,isIndexable:ss(r)?r:()=>r}}const XC=(t,e)=>t?t+ih(e):e,fh=(t,e)=>Ie(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ex(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function KC(t,e,n){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=t;let c=r[e];return ss(c)&&l.isScriptable(e)&&(c=QC(e,c,t,n)),dt(c)&&c.length&&(c=GC(e,c,t,l.isIndexable)),fh(e,c)&&(c=Oi(c,s,a&&a[e],l)),c}function QC(t,e,n,r){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let d=e(a,l||r);return c.delete(t),fh(t,d)&&(d=hh(s._scopes,s,t,d)),d}function GC(t,e,n,r){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=n;if(typeof a.index<"u"&&r(t))return e[a.index%e.length];if(Ie(e[0])){const d=e,h=s._scopes.filter(m=>m!==d);e=[];for(const m of d){const y=hh(h,s,t,m);e.push(Oi(y,a,l&&l[t],c))}}return e}function Tx(t,e,n){return ss(t)?t(e,n):t}const ZC=(t,e)=>t===!0?e:typeof t=="string"?zs(e,t):void 0;function JC(t,e,n,r,s){for(const a of e){const l=ZC(n,a);if(l){t.add(l);const c=Tx(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==r)return c}else if(l===!1&&typeof r<"u"&&n!==r)return null}return!1}function hh(t,e,n,r){const s=e._rootScopes,a=Tx(e._fallback,n,r),l=[...t,...s],c=new Set;c.add(r);let d=Hg(c,l,n,a||n,r);return d===null||typeof a<"u"&&a!==n&&(d=Hg(c,l,a,d,r),d===null)?!1:dh(Array.from(c),[""],s,a,()=>eN(e,n,r))}function Hg(t,e,n,r,s){for(;n;)n=JC(t,e,n,r,s);return n}function eN(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return dt(s)&&Ie(n)?n:s||{}}function tN(t,e,n,r){let s;for(const a of e)if(s=Px(XC(a,t),n),typeof s<"u")return fh(t,s)?hh(n,r,t,s):s}function Px(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function $g(t){let e=t._keys;return e||(e=t._keys=nN(t._scopes)),e}function nN(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const rN=Number.EPSILON||1e-14,Di=(t,e)=>e<t.length&&!t[e].skip&&t[e],Mx=t=>t==="x"?"y":"x";function sN(t,e,n,r){const s=t.skip?e:t,a=e,l=n.skip?e:n,c=Sf(a,s),d=Sf(l,a);let h=c/(c+d),m=d/(c+d);h=isNaN(h)?0:h,m=isNaN(m)?0:m;const y=r*h,x=r*m;return{previous:{x:a.x-y*(l.x-s.x),y:a.y-y*(l.y-s.y)},next:{x:a.x+x*(l.x-s.x),y:a.y+x*(l.y-s.y)}}}function iN(t,e,n){const r=t.length;let s,a,l,c,d,h=Di(t,0);for(let m=0;m<r-1;++m)if(d=h,h=Di(t,m+1),!(!d||!h)){if(Ds(e[m],0,rN)){n[m]=n[m+1]=0;continue}s=n[m]/e[m],a=n[m+1]/e[m],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),n[m]=s*l*e[m],n[m+1]=a*l*e[m])}}function oN(t,e,n="x"){const r=Mx(n),s=t.length;let a,l,c,d=Di(t,0);for(let h=0;h<s;++h){if(l=c,c=d,d=Di(t,h+1),!c)continue;const m=c[n],y=c[r];l&&(a=(m-l[n])/3,c[`cp1${n}`]=m-a,c[`cp1${r}`]=y-a*e[h]),d&&(a=(d[n]-m)/3,c[`cp2${n}`]=m+a,c[`cp2${r}`]=y+a*e[h])}}function aN(t,e="x"){const n=Mx(e),r=t.length,s=Array(r).fill(0),a=Array(r);let l,c,d,h=Di(t,0);for(l=0;l<r;++l)if(c=d,d=h,h=Di(t,l+1),!!d){if(h){const m=h[e]-d[e];s[l]=m!==0?(h[n]-d[n])/m:0}a[l]=c?h?wn(s[l-1])!==wn(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}iN(t,s,a),oN(t,a,e)}function Bl(t,e,n){return Math.max(Math.min(t,n),e)}function lN(t,e){let n,r,s,a,l,c=Ai(t[0],e);for(n=0,r=t.length;n<r;++n)l=a,a=c,c=n<r-1&&Ai(t[n+1],e),a&&(s=t[n],l&&(s.cp1x=Bl(s.cp1x,e.left,e.right),s.cp1y=Bl(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=Bl(s.cp2x,e.left,e.right),s.cp2y=Bl(s.cp2y,e.top,e.bottom)))}function cN(t,e,n,r,s){let a,l,c,d;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")aN(t,s);else{let h=r?t[t.length-1]:t[0];for(a=0,l=t.length;a<l;++a)c=t[a],d=sN(h,c,t[Math.min(a+1,l-(r?0:1))%l],e.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,h=c}e.capBezierPoints&&lN(t,n)}function ph(){return typeof window<"u"&&typeof document<"u"}function mh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _c(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const zc=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function uN(t,e){return zc(t).getPropertyValue(e)}const dN=["top","right","bottom","left"];function Ls(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=dN[s];r[a]=parseFloat(t[e+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const fN=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function hN(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:a}=r;let l=!1,c,d;if(fN(s,a,t.target))c=s,d=a;else{const h=e.getBoundingClientRect();c=r.clientX-h.left,d=r.clientY-h.top,l=!0}return{x:c,y:d,box:l}}function Kn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=zc(n),a=s.boxSizing==="border-box",l=Ls(s,"padding"),c=Ls(s,"border","width"),{x:d,y:h,box:m}=hN(t,n),y=l.left+(m&&c.left),x=l.top+(m&&c.top);let{width:w,height:b}=e;return a&&(w-=l.width+c.width,b-=l.height+c.height),{x:Math.round((d-y)/w*n.width/r),y:Math.round((h-x)/b*n.height/r)}}function pN(t,e,n){let r,s;if(e===void 0||n===void 0){const a=t&&mh(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const l=a.getBoundingClientRect(),c=zc(a),d=Ls(c,"border","width"),h=Ls(c,"padding");e=l.width-h.width-d.width,n=l.height-h.height-d.height,r=_c(c.maxWidth,a,"clientWidth"),s=_c(c.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:r||bc,maxHeight:s||bc}}const Ul=t=>Math.round(t*10)/10;function mN(t,e,n,r){const s=zc(t),a=Ls(s,"margin"),l=_c(s.maxWidth,t,"clientWidth")||bc,c=_c(s.maxHeight,t,"clientHeight")||bc,d=pN(t,e,n);let{width:h,height:m}=d;if(s.boxSizing==="content-box"){const x=Ls(s,"border","width"),w=Ls(s,"padding");h-=w.width+x.width,m-=w.height+x.height}return h=Math.max(0,h-a.width),m=Math.max(0,r?h/r:m-a.height),h=Ul(Math.min(h,l,d.maxWidth)),m=Ul(Math.min(m,c,d.maxHeight)),h&&!m&&(m=Ul(h/2)),(e!==void 0||n!==void 0)&&r&&d.height&&m>d.height&&(m=d.height,h=Ul(Math.floor(m*r))),{width:h,height:m}}function Wg(t,e,n){const r=e||1,s=Math.floor(t.height*r),a=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||l.height!==s||l.width!==a?(t.currentDevicePixelRatio=r,l.height=s,l.width=a,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const gN=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ph()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Vg(t,e){const n=uN(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ms(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function yN(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function xN(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},l=Ms(t,s,n),c=Ms(s,a,n),d=Ms(a,e,n),h=Ms(l,c,n),m=Ms(c,d,n);return Ms(h,m,n)}const vN=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},bN=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Mi(t,e,n){return t?vN(e,n):bN()}function Rx(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Ax(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Ox(t){return t==="angle"?{between:la,compare:vC,normalize:un}:{between:yr,compare:(e,n)=>e-n,normalize:e=>e}}function Yg({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function wN(t,e,n){const{property:r,start:s,end:a}=n,{between:l,normalize:c}=Ox(r),d=e.length;let{start:h,end:m,loop:y}=t,x,w;if(y){for(h+=d,m+=d,x=0,w=d;x<w&&l(c(e[h%d][r]),s,a);++x)h--,m--;h%=d,m%=d}return m<h&&(m+=d),{start:h,end:m,loop:y,style:t.style}}function Dx(t,e,n){if(!n)return[t];const{property:r,start:s,end:a}=n,l=e.length,{compare:c,between:d,normalize:h}=Ox(r),{start:m,end:y,loop:x,style:w}=wN(t,e,n),b=[];let S=!1,_=null,C,T,P;const D=()=>d(s,P,C)&&c(s,P)!==0,M=()=>c(a,C)===0||d(a,P,C),I=()=>S||D(),B=()=>!S||M();for(let V=m,U=m;V<=y;++V)T=e[V%l],!T.skip&&(C=h(T[r]),C!==P&&(S=d(C,s,a),_===null&&I()&&(_=c(C,s)===0?V:U),_!==null&&B()&&(b.push(Yg({start:_,end:V,loop:x,count:l,style:w})),_=null),U=V,P=C));return _!==null&&b.push(Yg({start:_,end:y,loop:x,count:l,style:w})),b}function Lx(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const a=Dx(r[s],t.points,e);a.length&&n.push(...a)}return n}function _N(t,e,n,r){let s=0,a=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(a+=s);a>s&&t[a%e].skip;)a--;return a%=e,{start:s,end:a}}function SN(t,e,n,r){const s=t.length,a=[];let l=e,c=t[e],d;for(d=e+1;d<=n;++d){const h=t[d%s];h.skip||h.stop?c.skip||(r=!1,a.push({start:e%s,end:(d-1)%s,loop:r}),e=l=h.stop?d:null):(l=d,c.skip&&(e=d)),c=h}return l!==null&&a.push({start:e%s,end:l%s,loop:r}),a}function kN(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const a=!!t._loop,{start:l,end:c}=_N(n,s,a,r);if(r===!0)return qg(t,[{start:l,end:c,loop:a}],n,e);const d=c<l?c+s:c,h=!!t._fullLoop&&l===0&&c===s-1;return qg(t,SN(n,l,d,h),n,e)}function qg(t,e,n,r){return!r||!r.setContext||!n?e:CN(t,e,n,r)}function CN(t,e,n,r){const s=t._chart.getContext(),a=Xg(t.options),{_datasetIndex:l,options:{spanGaps:c}}=t,d=n.length,h=[];let m=a,y=e[0].start,x=y;function w(b,S,_,C){const T=c?-1:1;if(b!==S){for(b+=d;n[b%d].skip;)b-=T;for(;n[S%d].skip;)S+=T;b%d!==S%d&&(h.push({start:b%d,end:S%d,loop:_,style:C}),m=C,y=S%d)}}for(const b of e){y=c?y:b.start;let S=n[y%d],_;for(x=y+1;x<=b.end;x++){const C=n[x%d];_=Xg(r.setContext(Vs(s,{type:"segment",p0:S,p1:C,p0DataIndex:(x-1)%d,p1DataIndex:x%d,datasetIndex:l}))),NN(_,m)&&w(y,x-1,b.loop,m),S=C,m=_}y<x-1&&w(y,x-1,b.loop,m)}return h}function Xg(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function NN(t,e){if(!e)return!1;const n=[],r=function(s,a){return lh(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Hl(t,e,n){return t.options.clip?t[n]:e[n]}function jN(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Hl(n,e,"left"),right:Hl(n,e,"right"),top:Hl(r,e,"top"),bottom:Hl(r,e,"bottom")}:e}function Ix(t,e){const n=e._clip;if(n.disabled)return!1;const r=jN(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class EN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const a=n.listeners[s],l=n.duration;a.forEach(c=>c({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(r-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=_x.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,c=!1,d;for(;l>=0;--l)d=a[l],d._active?(d._total>r.duration&&(r.duration=d._total),d.tick(e),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,r,e,"progress")),a.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var hr=new EN;const Kg="transparent",TN={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Fg(t||Kg),s=r.valid&&Fg(e||Kg);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class PN{constructor(e,n,r,s){const a=n[r];s=Qe([e.to,s,a,e.from]);const l=Qe([e.from,a,s]);this._active=!0,this._fn=e.fn||TN[e.type||typeof l],this._easing=Xo[e.easing]||Xo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Qe([e.to,n,s,e.from]),this._from=Qe([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let d;if(this._active=a!==c&&(l||n<r),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=a;return}d=n/r%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(a,c,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class Fx{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ie(e))return;const n=Object.keys(st.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!Ie(a))return;const l={};for(const c of n)l[c]=a[c];(dt(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!r.has(c))&&r.set(c,l)})})}_animateOptions(e,n){const r=n.options,s=RN(e,r);if(!s)return[];const a=this._createAnimations(s,r);return r.$shared&&MN(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,n){const r=this._properties,s=[],a=e.$animations||(e.$animations={}),l=Object.keys(n),c=Date.now();let d;for(d=l.length-1;d>=0;--d){const h=l[d];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(e,n));continue}const m=n[h];let y=a[h];const x=r.get(h);if(y)if(x&&y.active()){y.update(x,m,c);continue}else y.cancel();if(!x||!x.duration){e[h]=m;continue}a[h]=y=new PN(x,e,h,m),s.push(y)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return hr.add(this._chart,r),!0}}function MN(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const a=t[r[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function RN(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Qg(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:r?a:s,end:r?s:a}}function AN(t,e,n){if(n===!1)return!1;const r=Qg(t,n),s=Qg(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function ON(t){let e,n,r,s;return Ie(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function zx(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,a;for(s=0,a=r.length;s<a;++s)n.push(r[s].index);return n}function Gg(t,e,n,r={}){const s=t.keys,a=r.mode==="single";let l,c,d,h;if(e===null)return;let m=!1;for(l=0,c=s.length;l<c;++l){if(d=+s[l],d===n){if(m=!0,r.all)continue;break}h=t.values[d],Dt(h)&&(a||e===0||wn(e)===wn(h))&&(e+=h)}return!m&&!r.all?0:e}function DN(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(t),c=new Array(l.length);let d,h,m;for(d=0,h=l.length;d<h;++d)m=l[d],c[d]={[s]:m,[a]:t[m]};return c}function Vd(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function LN(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function IN(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function FN(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Zg(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const a=t[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function Jg(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:c}=r,d=a.axis,h=l.axis,m=LN(a,l,r),y=e.length;let x;for(let w=0;w<y;++w){const b=e[w],{[d]:S,[h]:_}=b,C=b._stacks||(b._stacks={});x=C[h]=FN(s,m,S),x[c]=_,x._top=Zg(x,l,!0,r.type),x._bottom=Zg(x,l,!1,r.type);const T=x._visualValues||(x._visualValues={});T[c]=_}}function Yd(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function zN(t,e){return Vs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function BN(t,e,n){return Vs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Fo(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const a=s._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const qd=t=>t==="reset"||t==="none",e0=(t,e)=>e?t:Object.assign({},t),UN=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:zx(n,!0),values:null};class Is{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Vd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Fo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(y,x,w,b)=>y==="x"?x:y==="r"?b:w,a=n.xAxisID=Te(r.xAxisID,Yd(e,"x")),l=n.yAxisID=Te(r.yAxisID,Yd(e,"y")),c=n.rAxisID=Te(r.rAxisID,Yd(e,"r")),d=n.indexAxis,h=n.iAxisID=s(d,a,l,c),m=n.vAxisID=s(d,l,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Dg(this._data,this),e._stacked&&Fo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ie(n)){const s=this._cachedMeta;this._data=DN(n,s)}else if(r!==n){if(r){Dg(r,this);const s=this._cachedMeta;Fo(s),s._parsed=[]}n&&Object.isExtensible(n)&&SC(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=Vd(n.vScale,n),n.stack!==r.stack&&(s=!0,Fo(n),n.stack=r.stack),this._resyncElements(e),(s||a!==n._stacked)&&(Jg(this,n._parsed),n._stacked=Vd(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:l}=r,c=a.axis;let d=e===0&&n===s.length?!0:r._sorted,h=e>0&&r._parsed[e-1],m,y,x;if(this._parsing===!1)r._parsed=s,r._sorted=!0,x=s;else{dt(s[e])?x=this.parseArrayData(r,s,e,n):Ie(s[e])?x=this.parseObjectData(r,s,e,n):x=this.parsePrimitiveData(r,s,e,n);const w=()=>y[c]===null||h&&y[c]<h[c];for(m=0;m<n;++m)r._parsed[m+e]=y=x[m],d&&(w()&&(d=!1),h=y);r._sorted=d}l&&Jg(this,x)}parsePrimitiveData(e,n,r,s){const{iScale:a,vScale:l}=e,c=a.axis,d=l.axis,h=a.getLabels(),m=a===l,y=new Array(s);let x,w,b;for(x=0,w=s;x<w;++x)b=x+r,y[x]={[c]:m||a.parse(h[b],b),[d]:l.parse(n[b],b)};return y}parseArrayData(e,n,r,s){const{xScale:a,yScale:l}=e,c=new Array(s);let d,h,m,y;for(d=0,h=s;d<h;++d)m=d+r,y=n[m],c[d]={x:a.parse(y[0],m),y:l.parse(y[1],m)};return c}parseObjectData(e,n,r,s){const{xScale:a,yScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=new Array(s);let m,y,x,w;for(m=0,y=s;m<y;++m)x=m+r,w=n[x],h[m]={x:a.parse(zs(w,c),x),y:l.parse(zs(w,d),x)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,a=this._cachedMeta,l=n[e.axis],c={keys:zx(s,!0),values:n._stacks[e.axis]._visualValues};return Gg(c,l,a.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const a=r[n.axis];let l=a===null?NaN:a;const c=s&&r._stacks[n.axis];s&&c&&(s.values=c,l=Gg(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&e===r.iScale,l=s.length,c=this._getOtherScale(e),d=UN(n,r,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:y}=IN(c);let x,w;function b(){w=s[x];const S=w[c.axis];return!Dt(w[e.axis])||m>S||y<S}for(x=0;x<l&&!(!b()&&(this.updateRangeFromParsed(h,e,w,d),a));++x);if(a){for(x=l-1;x>=0;--x)if(!b()){this.updateRangeFromParsed(h,e,w,d);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][e.axis],Dt(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=ON(Te(this.options.clip,AN(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],a=n.chartArea,l=[],c=this._drawStart||0,d=this._drawCount||s.length-c,h=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(e,a,c,d),m=c;m<c+d;++m){const y=s[m];y.hidden||(y.active&&h?l.push(y):y.draw(e,a))}for(m=0;m<l.length;++m)l[m].draw(e,a)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=BN(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=zN(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",a=this._cachedDataOpts,l=e+"-"+n,c=a[l],d=this.enableOptionSharing&&oa(r);if(c)return e0(c,d);const h=this.chart.config,m=h.datasetElementScopeKeys(this._type,e),y=s?[`${e}Hover`,"hover",e,""]:[e,""],x=h.getOptionScopes(this.getDataset(),m),w=Object.keys(st.elements[e]),b=()=>this.getContext(r,s,n),S=h.resolveNamedOptions(x,w,b,y);return S.$shared&&(S.$shared=d,a[l]=Object.freeze(e0(S,d))),S}_resolveAnimations(e,n,r){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,c=a[l];if(c)return c;let d;if(s.options.animation!==!1){const m=this.chart.config,y=m.datasetAnimationScopeKeys(this._type,n),x=m.getOptionScopes(this.getDataset(),y);d=m.createResolver(x,this.getContext(e,r,n))}const h=new Fx(s,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||qd(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:l}}updateElement(e,n,r,s){qd(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!qd(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[c,d,h]of this._syncList)this[c](d,h);this._syncList=[];const s=r.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,n,r=!0){const s=this._cachedMeta,a=s.data,l=e+n;let c;const d=h=>{for(h.length+=n,c=h.length-1;c>=l;c--)h[c]=h[c-n]};for(d(a),c=e;c<l;++c)a[c]=new this.dataElementType;this._parsing&&d(s._parsed),this.parse(e,n),r&&this.updateElements(a,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Fo(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ge(Is,"defaults",{}),ge(Is,"datasetElementType",null),ge(Is,"dataElementType",null);function HN(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,a=n.length;s<a;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=wx(r.sort((s,a)=>s-a))}return t._cache.$bar}function $N(t){const e=t.iScale,n=HN(e,t.type);let r=e._length,s,a,l,c;const d=()=>{l===32767||l===-32768||(oa(c)&&(r=Math.min(r,Math.abs(l-c)||r)),c=l)};for(s=0,a=n.length;s<a;++s)l=e.getPixelForValue(n[s]),d();for(c=void 0,s=0,a=e.ticks.length;s<a;++s)l=e.getPixelForTick(s),d();return r}function WN(t,e,n,r){const s=n.barThickness;let a,l;return ze(s)?(a=e.min*n.categoryPercentage,l=n.barPercentage):(a=s*r,l=1),{chunk:a/r,ratio:l,start:e.pixels[t]-a/2}}function VN(t,e,n,r){const s=e.pixels,a=s[t];let l=t>0?s[t-1]:null,c=t<s.length-1?s[t+1]:null;const d=n.categoryPercentage;l===null&&(l=a-(c===null?e.end-e.start:c-a)),c===null&&(c=a+a-l);const h=a-(a-Math.min(l,c))/2*d;return{chunk:Math.abs(c-l)/2*d/r,ratio:n.barPercentage,start:h}}function YN(t,e,n,r){const s=n.parse(t[0],r),a=n.parse(t[1],r),l=Math.min(s,a),c=Math.max(s,a);let d=l,h=c;Math.abs(l)>Math.abs(c)&&(d=c,h=l),e[n.axis]=h,e._custom={barStart:d,barEnd:h,start:s,end:a,min:l,max:c}}function Bx(t,e,n,r){return dt(t)?YN(t,e,n,r):e[n.axis]=n.parse(t,r),e}function t0(t,e,n,r){const s=t.iScale,a=t.vScale,l=s.getLabels(),c=s===a,d=[];let h,m,y,x;for(h=n,m=n+r;h<m;++h)x=e[h],y={},y[s.axis]=c||s.parse(l[h],h),d.push(Bx(x,y,a,h));return d}function Xd(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function qN(t,e,n){return t!==0?wn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function XN(t){let e,n,r,s,a;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",a="start"):(s="start",a="end"),{start:n,end:r,reverse:e,top:s,bottom:a}}function KN(t,e,n,r){let s=e.borderSkipped;const a={};if(!s){t.borderSkipped=a;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:d,top:h,bottom:m}=XN(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=h:(n._bottom||0)===r?s=m:(a[n0(m,l,c,d)]=!0,s=h)),a[n0(s,l,c,d)]=!0,t.borderSkipped=a}function n0(t,e,n,r){return r?(t=QN(t,e,n),t=r0(t,n,e)):t=r0(t,e,n),t}function QN(t,e,n){return t===e?n:t===n?e:t}function r0(t,e,n){return t==="start"?e:t==="end"?n:t}function GN(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Qo extends Is{parsePrimitiveData(e,n,r,s){return t0(e,n,r,s)}parseArrayData(e,n,r,s){return t0(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:a,vScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=a.axis==="x"?c:d,m=l.axis==="x"?c:d,y=[];let x,w,b,S;for(x=r,w=r+s;x<w;++x)S=n[x],b={},b[a.axis]=a.parse(zs(S,h),x),y.push(Bx(zs(S,m),b,l,x));return y}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const a=r._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,a=this.getParsed(e),l=a._custom,c=Xd(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),h=c.isHorizontal(),m=this._getRuler(),{sharedOptions:y,includeOptions:x}=this._getSharedOptions(n,s);for(let w=n;w<n+r;w++){const b=this.getParsed(w),S=a||ze(b[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(w),_=this._calculateBarIndexPixels(w,m),C=(b._stacks||{})[c.axis],T={horizontal:h,base:S.base,enableBorderRadius:!C||Xd(b._custom)||l===C._top||l===C._bottom,x:h?S.head:_.center,y:h?_.center:S.head,height:h?_.size:Math.abs(S.size),width:h?Math.abs(S.size):_.size};x&&(T.options=y||this.resolveDataElementOptions(w,e[w].active?"active":s));const P=T.options||e[w].options;KN(T,P,C,l),GN(T,P,m.ratio),this.updateElement(e[w],w,T,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),a=r.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),d=c&&c[r.axis],h=m=>{const y=m._parsed.find(w=>w[r.axis]===d),x=y&&y[m.vScale.axis];if(ze(x)||isNaN(x))return!0};for(const m of s)if(!(n!==void 0&&h(m))&&((a===!1||l.indexOf(m.stack)===-1||a===void 0&&m.stack===void 0)&&l.push(m.stack),m.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Te(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let a,l;for(a=0,l=n.data.length;a<l;++a)s.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const c=e.barThickness;return{min:c||$N(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,d=this.getParsed(e),h=d._custom,m=Xd(h);let y=d[n.axis],x=0,w=r?this.applyStack(n,d,r):y,b,S;w!==y&&(x=w-y,w=y),m&&(y=h.barStart,w=h.barEnd-h.barStart,y!==0&&wn(y)!==wn(h.barEnd)&&(x=0),x+=y);const _=!ze(a)&&!m?a:x;let C=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?b=n.getPixelForValue(x+w):b=C,S=b-C,Math.abs(S)<l){S=qN(S,n,c)*l,y===c&&(C-=S/2);const T=n.getPixelForDecimal(0),P=n.getPixelForDecimal(1),D=Math.min(T,P),M=Math.max(T,P);C=Math.max(Math.min(C,M),D),b=C+S,r&&!m&&(d._stacks[n.axis]._visualValues[s]=n.getValueForPixel(b)-n.getValueForPixel(C))}if(C===n.getPixelForValue(c)){const T=wn(S)*n.getLineWidthForValue(c)/2;C+=T,S-=T}return{size:S,base:C,head:b,center:b+S/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,a=s.skipNull,l=Te(s.maxBarThickness,1/0);let c,d;const h=this._getAxisCount();if(n.grouped){const m=a?this._getStackCount(e):n.stackCount,y=s.barThickness==="flex"?VN(e,n,s,m*h):WN(e,n,s,m*h),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(Te(x,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+w;c=y.start+y.chunk*b+y.chunk/2,d=Math.min(l,y.chunk*y.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),d=Math.min(l,n.min*n.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}ge(Qo,"id","bar"),ge(Qo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ge(Qo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function ZN(t,e,n){let r=1,s=1,a=0,l=0;if(e<tt){const c=t,d=c+e,h=Math.cos(c),m=Math.sin(c),y=Math.cos(d),x=Math.sin(d),w=(P,D,M)=>la(P,c,d,!0)?1:Math.max(D,D*n,M,M*n),b=(P,D,M)=>la(P,c,d,!0)?-1:Math.min(D,D*n,M,M*n),S=w(0,h,y),_=w(xt,m,x),C=b($e,h,y),T=b($e+xt,m,x);r=(S-C)/2,s=(_-T)/2,a=-(S+C)/2,l=-(_+T)/2}return{ratioX:r,ratioY:s,offsetX:a,offsetY:l}}class Ti extends Is{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let a=d=>+r[d];if(Ie(r[e])){const{key:d="value"}=this._parsing;a=h=>+zs(r[h],d)}let l,c;for(l=e,c=e+n;l<c;++l)s._parsed[l]=a(l)}}_getRotation(){return gr(this.options.rotation-90)}_getCircumference(){return gr(this.options.circumference)}_getRotationExtents(){let e=tt,n=-tt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),l=s._getCircumference();e=Math.min(e,a),n=Math.max(n,a+l)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-l)/2,0),d=Math.min(oC(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:m,rotation:y}=this._getRotationExtents(),{ratioX:x,ratioY:w,offsetX:b,offsetY:S}=ZN(y,m,d),_=(r.width-l)/x,C=(r.height-l)/w,T=Math.max(Math.min(_,C)/2,0),P=gx(this.options.radius,T),D=Math.max(P*d,0),M=(P-D)/this._getVisibleDatasetWeightTotal();this.offsetX=b*P,this.offsetY=S*P,s.total=this.calculateTotal(),this.outerRadius=P-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*h,0),this.updateElements(a,0,a.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/tt)}updateElements(e,n,r,s){const a=s==="reset",l=this.chart,c=l.chartArea,h=l.options.animation,m=(c.left+c.right)/2,y=(c.top+c.bottom)/2,x=a&&h.animateScale,w=x?0:this.innerRadius,b=x?0:this.outerRadius,{sharedOptions:S,includeOptions:_}=this._getSharedOptions(n,s);let C=this._getRotation(),T;for(T=0;T<n;++T)C+=this._circumference(T,a);for(T=n;T<n+r;++T){const P=this._circumference(T,a),D=e[T],M={x:m+this.offsetX,y:y+this.offsetY,startAngle:C,endAngle:C+P,circumference:P,outerRadius:b,innerRadius:w};_&&(M.options=S||this.resolveDataElementOptions(T,D.active?"active":s)),C+=P,this.updateElement(D,T,M,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const a=e._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?tt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],a=ch(n._parsed[e],r.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,a,l,c,d;if(!e){for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){l=r.getDatasetMeta(s),e=l.data,c=l.controller;break}}if(!e)return 0;for(s=0,a=e.length;s<a;++s)d=c.resolveDataElementOptions(s),d.borderAlign!=="inner"&&(n=Math.max(n,d.borderWidth||0,d.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Te(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ge(Ti,"id","doughnut"),ge(Ti,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ge(Ti,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ge(Ti,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((a,l)=>{const d=e.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:s,lineWidth:d.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class cc extends Is{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:a}=n,l=this.chart._animationsDisabled;let{start:c,count:d}=NC(n,s,l);this._drawStart=c,this._drawCount=d,jC(n)&&(c=0,d=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=s;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:h},e),this.updateElements(s,c,d,e)}updateElements(e,n,r,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(n,s),x=l.axis,w=c.axis,{spanGaps:b,segment:S}=this.options,_=aa(b)?b:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||a||s==="none",T=n+r,P=e.length;let D=n>0&&this.getParsed(n-1);for(let M=0;M<P;++M){const I=e[M],B=C?I:{};if(M<n||M>=T){B.skip=!0;continue}const V=this.getParsed(M),U=ze(V[w]),q=B[x]=l.getPixelForValue(V[x],M),te=B[w]=a||U?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,V,d):V[w],M);B.skip=isNaN(q)||isNaN(te)||U,B.stop=M>0&&Math.abs(V[x]-D[x])>_,S&&(B.parsed=V,B.raw=h.data[M]),y&&(B.options=m||this.resolveDataElementOptions(M,I.active?"active":s)),C||this.updateElement(I,M,B,s),D=V}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ge(cc,"id","line"),ge(cc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ge(cc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Nf extends Ti{}ge(Nf,"id","pie"),ge(Nf,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Es(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class gh{constructor(e){ge(this,"options");this.options=e||{}}static override(e){Object.assign(gh.prototype,e)}init(){}formats(){return Es()}parse(){return Es()}format(){return Es()}add(){return Es()}diff(){return Es()}startOf(){return Es()}endOf(){return Es()}}var JN={_date:gh};function ej(t,e,n,r){const{controller:s,data:a,_sorted:l}=t,c=s._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&a.length){const h=c._reversePixels?wC:As;if(r){if(s._sharedOptions){const m=a[0],y=typeof m.getRange=="function"&&m.getRange(e);if(y){const x=h(a,e,n-y),w=h(a,e,n+y);return{lo:x.lo,hi:w.hi}}}}else{const m=h(a,e,n);if(d){const{vScale:y}=s._cachedMeta,{_parsed:x}=t,w=x.slice(0,m.lo+1).reverse().findIndex(S=>!ze(S[y.axis]));m.lo-=Math.max(0,w);const b=x.slice(m.hi).findIndex(S=>!ze(S[y.axis]));m.hi+=Math.max(0,b)}return m}}return{lo:0,hi:a.length-1}}function Bc(t,e,n,r,s){const a=t.getSortedVisibleDatasetMetas(),l=n[e];for(let c=0,d=a.length;c<d;++c){const{index:h,data:m}=a[c],{lo:y,hi:x}=ej(a[c],e,l,s);for(let w=y;w<=x;++w){const b=m[w];b.skip||r(b,h,w)}}}function tj(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const a=e?Math.abs(r.x-s.x):0,l=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Kd(t,e,n,r,s){const a=[];return!s&&!t.isPointInArea(e)||Bc(t,n,e,function(c,d,h){!s&&!Ai(c,t.chartArea,0)||c.inRange(e.x,e.y,r)&&a.push({element:c,datasetIndex:d,index:h})},!0),a}function nj(t,e,n,r){let s=[];function a(l,c,d){const{startAngle:h,endAngle:m}=l.getProps(["startAngle","endAngle"],r),{angle:y}=vx(l,{x:e.x,y:e.y});la(y,h,m)&&s.push({element:l,datasetIndex:c,index:d})}return Bc(t,n,e,a),s}function rj(t,e,n,r,s,a){let l=[];const c=tj(n);let d=Number.POSITIVE_INFINITY;function h(m,y,x){const w=m.inRange(e.x,e.y,s);if(r&&!w)return;const b=m.getCenterPoint(s);if(!(!!a||t.isPointInArea(b))&&!w)return;const _=c(e,b);_<d?(l=[{element:m,datasetIndex:y,index:x}],d=_):_===d&&l.push({element:m,datasetIndex:y,index:x})}return Bc(t,n,e,h),l}function Qd(t,e,n,r,s,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!r?nj(t,e,n,s):rj(t,e,n,r,s,a)}function s0(t,e,n,r,s){const a=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return Bc(t,n,e,(d,h,m)=>{d[l]&&d[l](e[n],s)&&(a.push({element:d,datasetIndex:h,index:m}),c=c||d.inRange(e.x,e.y,s))}),r&&!c?[]:a}var sj={modes:{index(t,e,n,r){const s=Kn(e,t),a=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?Kd(t,s,a,r,l):Qd(t,s,a,!1,r,l),d=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const m=c[0].index,y=h.data[m];y&&!y.skip&&d.push({element:y,datasetIndex:h.index,index:m})}),d):[]},dataset(t,e,n,r){const s=Kn(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?Kd(t,s,a,r,l):Qd(t,s,a,!1,r,l);if(c.length>0){const d=c[0].datasetIndex,h=t.getDatasetMeta(d).data;c=[];for(let m=0;m<h.length;++m)c.push({element:h[m],datasetIndex:d,index:m})}return c},point(t,e,n,r){const s=Kn(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Kd(t,s,a,r,l)},nearest(t,e,n,r){const s=Kn(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Qd(t,s,a,n.intersect,r,l)},x(t,e,n,r){const s=Kn(e,t);return s0(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Kn(e,t);return s0(t,s,"y",n.intersect,r)}}};const Ux=["left","top","right","bottom"];function zo(t,e){return t.filter(n=>n.pos===e)}function i0(t,e){return t.filter(n=>Ux.indexOf(n.pos)===-1&&n.box.axis===e)}function Bo(t,e){return t.sort((n,r)=>{const s=e?r:n,a=e?n:r;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function ij(t){const e=[];let n,r,s,a,l,c;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:a,options:{stack:l,stackWeight:c=1}}=s,e.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return e}function oj(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:a}=n;if(!r||!Ux.includes(s))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function aj(t,e){const n=oj(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let a,l,c;for(a=0,l=t.length;a<l;++a){c=t[a];const{fullSize:d}=c.box,h=n[c.stack],m=h&&c.stackWeight/h.weight;c.horizontal?(c.width=m?m*r:d&&e.availableWidth,c.height=s):(c.width=r,c.height=m?m*s:d&&e.availableHeight)}return n}function lj(t){const e=ij(t),n=Bo(e.filter(h=>h.box.fullSize),!0),r=Bo(zo(e,"left"),!0),s=Bo(zo(e,"right")),a=Bo(zo(e,"top"),!0),l=Bo(zo(e,"bottom")),c=i0(e,"x"),d=i0(e,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:s.concat(d).concat(l).concat(c),chartArea:zo(e,"chartArea"),vertical:r.concat(s).concat(d),horizontal:a.concat(l).concat(c)}}function o0(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Hx(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function cj(t,e,n,r){const{pos:s,box:a}=n,l=t.maxPadding;if(!Ie(s)){n.size&&(t[s]-=n.size);const y=r[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?a.height:a.width),n.size=y.size/y.count,t[s]+=n.size}a.getPadding&&Hx(l,a.getPadding());const c=Math.max(0,e.outerWidth-o0(l,t,"left","right")),d=Math.max(0,e.outerHeight-o0(l,t,"top","bottom")),h=c!==t.w,m=d!==t.h;return t.w=c,t.h=d,n.horizontal?{same:h,other:m}:{same:m,other:h}}function uj(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function dj(t,e){const n=e.maxPadding;function r(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(e[l],n[l])}),a}return r(t?["left","right"]:["top","bottom"])}function Vo(t,e,n,r){const s=[];let a,l,c,d,h,m;for(a=0,l=t.length,h=0;a<l;++a){c=t[a],d=c.box,d.update(c.width||e.w,c.height||e.h,dj(c.horizontal,e));const{same:y,other:x}=cj(e,n,c,r);h|=y&&s.length,m=m||x,d.fullSize||s.push(c)}return h&&Vo(s,e,n,r)||m}function $l(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function a0(t,e,n,r){const s=n.padding;let{x:a,y:l}=e;for(const c of t){const d=c.box,h=r[c.stack]||{placed:0,weight:1},m=c.stackWeight/h.weight||1;if(c.horizontal){const y=e.w*m,x=h.size||d.height;oa(h.start)&&(l=h.start),d.fullSize?$l(d,s.left,l,n.outerWidth-s.right-s.left,x):$l(d,e.left+h.placed,l,y,x),h.start=l,h.placed+=y,l=d.bottom}else{const y=e.h*m,x=h.size||d.width;oa(h.start)&&(a=h.start),d.fullSize?$l(d,a,s.top,x,n.outerHeight-s.bottom-s.top):$l(d,a,e.top+h.placed,x,y),h.start=a,h.placed+=y,a=d.right}}e.x=a,e.y=l}var bn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=dn(t.options.layout.padding),a=Math.max(e-s.width,0),l=Math.max(n-s.height,0),c=lj(t.boxes),d=c.vertical,h=c.horizontal;De(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const m=d.reduce((S,_)=>_.box.options&&_.box.options.display===!1?S:S+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/m,hBoxMaxHeight:l/2}),x=Object.assign({},s);Hx(x,dn(r));const w=Object.assign({maxPadding:x,w:a,h:l,x:s.left,y:s.top},s),b=aj(d.concat(h),y);Vo(c.fullSize,w,y,b),Vo(d,w,y,b),Vo(h,w,y,b)&&Vo(d,w,y,b),uj(w),a0(c.leftAndTop,w,y,b),w.x+=w.w,w.y+=w.h,a0(c.rightAndBottom,w,y,b),t.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},De(c.chartArea,S=>{const _=S.box;Object.assign(_,t.chartArea),_.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class $x{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class fj extends $x{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const uc="$chartjs",hj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},l0=t=>t===null||t==="";function pj(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[uc]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",l0(s)){const a=Vg(t,"width");a!==void 0&&(t.width=a)}if(l0(r))if(t.style.height==="")t.height=t.width/(e||2);else{const a=Vg(t,"height");a!==void 0&&(t.height=a)}return t}const Wx=gN?{passive:!0}:!1;function mj(t,e,n){t&&t.addEventListener(e,n,Wx)}function gj(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Wx)}function yj(t,e){const n=hj[t.type]||t.type,{x:r,y:s}=Kn(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Sc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function xj(t,e,n){const r=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Sc(c.addedNodes,r),l=l&&!Sc(c.removedNodes,r);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function vj(t,e,n){const r=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Sc(c.removedNodes,r),l=l&&!Sc(c.addedNodes,r);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ua=new Map;let c0=0;function Vx(){const t=window.devicePixelRatio;t!==c0&&(c0=t,ua.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function bj(t,e){ua.size||window.addEventListener("resize",Vx),ua.set(t,e)}function wj(t){ua.delete(t),ua.size||window.removeEventListener("resize",Vx)}function _j(t,e,n){const r=t.canvas,s=r&&mh(r);if(!s)return;const a=Sx((c,d)=>{const h=s.clientWidth;n(c,d),h<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const d=c[0],h=d.contentRect.width,m=d.contentRect.height;h===0&&m===0||a(h,m)});return l.observe(s),bj(t,a),l}function Gd(t,e,n){n&&n.disconnect(),e==="resize"&&wj(t)}function Sj(t,e,n){const r=t.canvas,s=Sx(a=>{t.ctx!==null&&n(yj(a,t))},t);return mj(r,e,s),s}class kj extends $x{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(pj(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[uc])return!1;const r=n[uc].initial;["height","width"].forEach(a=>{const l=r[a];ze(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=r.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[uc],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),l={attach:xj,detach:vj,resize:_j}[n]||Sj;s[n]=l(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Gd,detach:Gd,resize:Gd}[n]||gj)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return mN(e,n,r,s)}isAttached(e){const n=e&&mh(e);return!!(n&&n.isConnected)}}function Cj(t){return!ph()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?fj:kj}class Mn{constructor(){ge(this,"x");ge(this,"y");ge(this,"active",!1);ge(this,"options");ge(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return aa(this.x)&&aa(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(a=>{s[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),s}}ge(Mn,"defaults",{}),ge(Mn,"defaultRoutes");function Nj(t,e){const n=t.options.ticks,r=jj(t),s=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?Tj(e):[],l=a.length,c=a[0],d=a[l-1],h=[];if(l>s)return Pj(e,h,a,l/s),h;const m=Ej(a,e,s);if(l>0){let y,x;const w=l>1?Math.round((d-c)/(l-1)):null;for(Wl(e,h,m,ze(w)?0:c-w,c),y=0,x=l-1;y<x;y++)Wl(e,h,m,a[y],a[y+1]);return Wl(e,h,m,d,ze(w)?e.length:d+w),h}return Wl(e,h,m),h}function jj(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function Ej(t,e,n){const r=Mj(t),s=e.length/n;if(!r)return Math.max(s,1);const a=pC(r);for(let l=0,c=a.length-1;l<c;l++){const d=a[l];if(d>s)return d}return Math.max(s,1)}function Tj(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Pj(t,e,n,r){let s=0,a=n[0],l;for(r=Math.ceil(r),l=0;l<t.length;l++)l===a&&(e.push(t[l]),s++,a=n[s*r])}function Wl(t,e,n,r,s){const a=Te(r,0),l=Math.min(Te(s,t.length),t.length);let c=0,d,h,m;for(n=Math.ceil(n),s&&(d=s-r,n=d/Math.floor(d/n)),m=a;m<0;)c++,m=Math.round(a+c*n);for(h=Math.max(a,0);h<l;h++)h===m&&(e.push(t[h]),c++,m=Math.round(a+c*n))}function Mj(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Rj=t=>t==="left"?"right":t==="right"?"left":t,u0=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,d0=(t,e)=>Math.min(e||t,t);function f0(t,e){const n=[],r=t.length/e,s=t.length;let a=0;for(;a<s;a+=r)n.push(t[Math.floor(a)]);return n}function Aj(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),a=t._startPixel,l=t._endPixel,c=1e-6;let d=t.getPixelForTick(s),h;if(!(n&&(r===1?h=Math.max(d-a,l-d):e===0?h=(t.getPixelForTick(1)-d)/2:h=(d-t.getPixelForTick(s-1))/2,d+=s<e?h:-h,d<a-c||d>l+c)))return d}function Oj(t,e){De(t,n=>{const r=n.gc,s=r.length/2;let a;if(s>e){for(a=0;a<s;++a)delete n.data[r[a]];r.splice(0,s)}})}function Uo(t){return t.drawTicks?t.tickLength:0}function h0(t,e){if(!t.display)return 0;const n=Ct(t.font,e),r=dn(t.padding);return(dt(t.text)?t.text.length:1)*n.lineHeight+r.height}function Dj(t,e){return Vs(t,{scale:e,type:"scale"})}function Lj(t,e,n){return Vs(t,{tick:n,index:e,type:"tick"})}function Ij(t,e,n){let r=ah(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Rj(r)),r}function Fj(t,e,n,r){const{top:s,left:a,bottom:l,right:c,chart:d}=t,{chartArea:h,scales:m}=d;let y=0,x,w,b;const S=l-s,_=c-a;if(t.isHorizontal()){if(w=Rt(r,a,c),Ie(n)){const C=Object.keys(n)[0],T=n[C];b=m[C].getPixelForValue(T)+S-e}else n==="center"?b=(h.bottom+h.top)/2+S-e:b=u0(t,n,e);x=c-a}else{if(Ie(n)){const C=Object.keys(n)[0],T=n[C];w=m[C].getPixelForValue(T)-_+e}else n==="center"?w=(h.left+h.right)/2-_+e:w=u0(t,n,e);b=Rt(r,l,s),y=n==="left"?-xt:xt}return{titleX:w,titleY:b,maxWidth:x,rotation:y}}class Hi extends Mn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Yn(e,Number.POSITIVE_INFINITY),n=Yn(n,Number.NEGATIVE_INFINITY),r=Yn(r,Number.POSITIVE_INFINITY),s=Yn(s,Number.NEGATIVE_INFINITY),{min:Yn(e,r),max:Yn(n,s),minDefined:Dt(e),maxDefined:Dt(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:r};const c=this.getMatchingVisibleMetas();for(let d=0,h=c.length;d<h;++d)l=c[d].controller.getMinMax(this,e),s||(n=Math.min(n,l.min)),a||(r=Math.max(r,l.max));return n=a&&n>r?r:n,r=s&&n>r?n:r,{min:Yn(n,Yn(r,n)),max:Yn(r,Yn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ke(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qC(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?f0(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Nj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ke(this.options.afterUpdate,[this])}beforeSetDimensions(){ke(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ke(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ke(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ke(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,a;for(r=0,s=e.length;r<s;r++)a=e[r],a.label=ke(n.callback,[a.value,r,e],this)}afterTickToLabelConversion(){ke(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ke(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=d0(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,c,d,h;if(!this._isVisible()||!n.display||s>=a||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const m=this._getLabelSizes(),y=m.widest.width,x=m.highest.height,w=Ot(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/r:w/(r-1),y+6>c&&(c=w/(r-(e.offset?.5:1)),d=this.maxHeight-Uo(e.grid)-n.padding-h0(e.title,this.chart.options.font),h=Math.sqrt(y*y+x*x),l=xC(Math.min(Math.asin(Ot((m.highest.height+6)/c,-1,1)),Math.asin(Ot(d/h,-1,1))-Math.asin(Ot(x/h,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){ke(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ke(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const d=h0(s,n.options.font);if(c?(e.width=this.maxWidth,e.height=Uo(a)+d):(e.height=this.maxHeight,e.width=Uo(a)+d),r.display&&this.ticks.length){const{first:h,last:m,widest:y,highest:x}=this._getLabelSizes(),w=r.padding*2,b=gr(this.labelRotation),S=Math.cos(b),_=Math.sin(b);if(c){const C=r.mirror?0:_*y.width+S*x.height;e.height=Math.min(this.maxHeight,e.height+C+w)}else{const C=r.mirror?0:S*y.width+_*x.height;e.width=Math.min(this.maxWidth,e.width+C+w)}this._calculatePadding(h,m,_,S)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:a,padding:l},position:c}=this.options,d=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,w=0;d?h?(x=s*e.width,w=r*n.height):(x=r*e.height,w=s*n.width):a==="start"?w=n.width:a==="end"?x=e.width:a!=="inner"&&(x=e.width/2,w=n.width/2),this.paddingLeft=Math.max((x-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((w-y+l)*this.width/(this.width-y),0)}else{let m=n.height/2,y=e.height/2;a==="start"?(m=0,y=e.height):a==="end"&&(m=n.height,y=0),this.paddingTop=m+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ke(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ze(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=f0(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],d=Math.floor(n/d0(n,r));let h=0,m=0,y,x,w,b,S,_,C,T,P,D,M;for(y=0;y<n;y+=d){if(b=e[y].label,S=this._resolveTickFontOptions(y),s.font=_=S.string,C=a[_]=a[_]||{data:{},gc:[]},T=S.lineHeight,P=D=0,!ze(b)&&!dt(b))P=Bg(s,C.data,C.gc,P,b),D=T;else if(dt(b))for(x=0,w=b.length;x<w;++x)M=b[x],!ze(M)&&!dt(M)&&(P=Bg(s,C.data,C.gc,P,M),D+=T);l.push(P),c.push(D),h=Math.max(P,h),m=Math.max(D,m)}Oj(a,n);const I=l.indexOf(h),B=c.indexOf(m),V=U=>({width:l[U]||0,height:c[U]||0});return{first:V(0),last:V(n-1),widest:V(I),highest:V(B),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return bC(this._alignToPixels?js(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Lj(this.getContext(),e,r))}return this.$context||(this.$context=Dj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=gr(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,c=a?a.widest.width+l:0,d=a?a.highest.height+l:0;return this.isHorizontal()?d*r>c*s?c/r:d/s:d*s<c*r?d/r:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:a,position:l,border:c}=s,d=a.offset,h=this.isHorizontal(),y=this.ticks.length+(d?1:0),x=Uo(a),w=[],b=c.setContext(this.getContext()),S=b.display?b.width:0,_=S/2,C=function(fe){return js(r,fe,S)};let T,P,D,M,I,B,V,U,q,te,ne,ue;if(l==="top")T=C(this.bottom),B=this.bottom-x,U=T-_,te=C(e.top)+_,ue=e.bottom;else if(l==="bottom")T=C(this.top),te=e.top,ue=C(e.bottom)-_,B=T+_,U=this.top+x;else if(l==="left")T=C(this.right),I=this.right-x,V=T-_,q=C(e.left)+_,ne=e.right;else if(l==="right")T=C(this.left),q=e.left,ne=C(e.right)-_,I=T+_,V=this.left+x;else if(n==="x"){if(l==="center")T=C((e.top+e.bottom)/2+.5);else if(Ie(l)){const fe=Object.keys(l)[0],ce=l[fe];T=C(this.chart.scales[fe].getPixelForValue(ce))}te=e.top,ue=e.bottom,B=T+_,U=B+x}else if(n==="y"){if(l==="center")T=C((e.left+e.right)/2);else if(Ie(l)){const fe=Object.keys(l)[0],ce=l[fe];T=C(this.chart.scales[fe].getPixelForValue(ce))}I=T-_,V=I-x,q=e.left,ne=e.right}const K=Te(s.ticks.maxTicksLimit,y),de=Math.max(1,Math.ceil(y/K));for(P=0;P<y;P+=de){const fe=this.getContext(P),ce=a.setContext(fe),J=c.setContext(fe),ie=ce.lineWidth,A=ce.color,X=J.dash||[],se=J.dashOffset,be=ce.tickWidth,ve=ce.tickColor,Fe=ce.tickBorderDash||[],Pe=ce.tickBorderDashOffset;D=Aj(this,P,d),D!==void 0&&(M=js(r,D,ie),h?I=V=q=ne=M:B=U=te=ue=M,w.push({tx1:I,ty1:B,tx2:V,ty2:U,x1:q,y1:te,x2:ne,y2:ue,width:ie,color:A,borderDash:X,borderDashOffset:se,tickWidth:be,tickColor:ve,tickBorderDash:Fe,tickBorderDashOffset:Pe}))}return this._ticksLength=y,this._borderValue=T,w}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:a}=r,l=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:h,padding:m,mirror:y}=a,x=Uo(r.grid),w=x+m,b=y?-m:w,S=-gr(this.labelRotation),_=[];let C,T,P,D,M,I,B,V,U,q,te,ne,ue="middle";if(s==="top")I=this.bottom-b,B=this._getXAxisLabelAlignment();else if(s==="bottom")I=this.top+b,B=this._getXAxisLabelAlignment();else if(s==="left"){const de=this._getYAxisLabelAlignment(x);B=de.textAlign,M=de.x}else if(s==="right"){const de=this._getYAxisLabelAlignment(x);B=de.textAlign,M=de.x}else if(n==="x"){if(s==="center")I=(e.top+e.bottom)/2+w;else if(Ie(s)){const de=Object.keys(s)[0],fe=s[de];I=this.chart.scales[de].getPixelForValue(fe)+w}B=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")M=(e.left+e.right)/2-w;else if(Ie(s)){const de=Object.keys(s)[0],fe=s[de];M=this.chart.scales[de].getPixelForValue(fe)}B=this._getYAxisLabelAlignment(x).textAlign}n==="y"&&(d==="start"?ue="top":d==="end"&&(ue="bottom"));const K=this._getLabelSizes();for(C=0,T=c.length;C<T;++C){P=c[C],D=P.label;const de=a.setContext(this.getContext(C));V=this.getPixelForTick(C)+a.labelOffset,U=this._resolveTickFontOptions(C),q=U.lineHeight,te=dt(D)?D.length:1;const fe=te/2,ce=de.color,J=de.textStrokeColor,ie=de.textStrokeWidth;let A=B;l?(M=V,B==="inner"&&(C===T-1?A=this.options.reverse?"left":"right":C===0?A=this.options.reverse?"right":"left":A="center"),s==="top"?h==="near"||S!==0?ne=-te*q+q/2:h==="center"?ne=-K.highest.height/2-fe*q+q:ne=-K.highest.height+q/2:h==="near"||S!==0?ne=q/2:h==="center"?ne=K.highest.height/2-fe*q:ne=K.highest.height-te*q,y&&(ne*=-1),S!==0&&!de.showLabelBackdrop&&(M+=q/2*Math.sin(S))):(I=V,ne=(1-te)*q/2);let X;if(de.showLabelBackdrop){const se=dn(de.backdropPadding),be=K.heights[C],ve=K.widths[C];let Fe=ne-se.top,Pe=0-se.left;switch(ue){case"middle":Fe-=be/2;break;case"bottom":Fe-=be;break}switch(B){case"center":Pe-=ve/2;break;case"right":Pe-=ve;break;case"inner":C===T-1?Pe-=ve:C>0&&(Pe-=ve/2);break}X={left:Pe,top:Fe,width:ve+se.width,height:be+se.height,color:de.backdropColor}}_.push({label:D,font:U,textOffset:ne,options:{rotation:S,color:ce,strokeColor:J,strokeWidth:ie,textAlign:A,textBaseline:ue,translation:[M,I],backdrop:X}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-gr(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=e+a,d=l.widest.width;let h,m;return n==="left"?s?(m=this.right+a,r==="near"?h="left":r==="center"?(h="center",m+=d/2):(h="right",m+=d)):(m=this.right-c,r==="near"?h="right":r==="center"?(h="center",m-=d/2):(h="left",m=this.left)):n==="right"?s?(m=this.left+a,r==="near"?h="right":r==="center"?(h="center",m-=d/2):(h="left",m-=d)):(m=this.left+c,r==="near"?h="left":r==="center"?(h="center",m+=d/2):(h="right",m=this.right)):h="right",{textAlign:h,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:a,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,a,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const c=(d,h,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(d.x,d.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const d=s[a];n.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),n.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let h,m,y,x;this.isHorizontal()?(h=js(e,this.left,l)-l/2,m=js(e,this.right,c)+c/2,y=x=d):(y=js(e,this.top,l)-l/2,x=js(e,this.bottom,c)+c/2,h=m=d),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(h,y),n.lineTo(m,x),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Ic(r,s);const a=this.getLabelItems(e);for(const l of a){const c=l.options,d=l.font,h=l.label,m=l.textOffset;ca(r,h,0,m,d,c)}s&&Fc(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const a=Ct(r.font),l=dn(r.padding),c=r.align;let d=a.lineHeight/2;n==="bottom"||n==="center"||Ie(n)?(d+=l.bottom,dt(r.text)&&(d+=a.lineHeight*(r.text.length-1))):d+=l.top;const{titleX:h,titleY:m,maxWidth:y,rotation:x}=Fj(this,d,n,c);ca(e,r.text,0,0,a,{color:r.color,maxWidth:y,rotation:x,textAlign:Ij(c,n,s),textBaseline:"middle",translation:[h,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Te(e.grid&&e.grid.z,-1),s=Te(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Hi.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const c=n[a];c[r]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ct(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Vl{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Uj(n)&&(r=this.register(n));const s=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,zj(e,l,r),this.override&&st.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in st[s]&&(delete st[s][r],this.override&&delete Bs[r])}}function zj(t,e,n){const r=Zn(Object.create(null),[n?st.get(n):{},st.get(e),t.defaults]);st.set(e,r),t.defaultRoutes&&Bj(e,t.defaultRoutes),t.descriptors&&st.describe(e,t.descriptors)}function Bj(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),a=[t].concat(r).join("."),l=e[n].split("."),c=l.pop(),d=l.join(".");st.route(a,s,d,c)})}function Uj(t){return"id"in t&&"defaults"in t}class Hj{constructor(){this.controllers=new Vl(Is,"datasets",!0),this.elements=new Vl(Mn,"elements"),this.plugins=new Vl(Object,"plugins"),this.scales=new Vl(Hi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const a=r||this._getRegistryForType(s);r||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):De(s,l=>{const c=r||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,n,r){const s=ih(e);ke(r["before"+s],[],r),n[e](r),ke(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Xn=new Hj;class $j{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(a,e,n,r);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,r,s){s=s||{};for(const a of e){const l=a.plugin,c=l[r],d=[n,s,a.options];if(ke(c,d,l)===!1&&s.cancelable)return!1}return!0}invalidate(){ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Te(r.options&&r.options.plugins,{}),a=Wj(r);return s===!1&&!n?[]:Yj(e,a,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(a,l)=>a.filter(c=>!l.some(d=>c.plugin.id===d.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function Wj(t){const e={},n=[],r=Object.keys(Xn.plugins.items);for(let a=0;a<r.length;a++)n.push(Xn.getPlugin(r[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function Vj(t,e){return!e&&t===!1?null:t===!0?{}:t}function Yj(t,{plugins:e,localIds:n},r,s){const a=[],l=t.getContext();for(const c of e){const d=c.id,h=Vj(r[d],s);h!==null&&a.push({plugin:c,options:qj(t.config,{plugin:c,local:n[d]},h,l)})}return a}function qj(t,{plugin:e,local:n},r,s){const a=t.pluginScopeKeys(e),l=t.getOptionScopes(r,a);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jf(t,e){const n=st.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Xj(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Kj(t,e){return t===e?"_index_":"_value_"}function p0(t){if(t==="x"||t==="y"||t==="r")return t}function Qj(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ef(t,...e){if(p0(t))return t;for(const n of e){const r=n.axis||Qj(n.position)||t.length>1&&p0(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function m0(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Gj(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return m0(t,"x",n[0])||m0(t,"y",n[0])}return{}}function Zj(t,e){const n=Bs[t.type]||{scales:{}},r=e.scales||{},s=jf(t.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!Ie(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=Ef(l,c,Gj(l,t),st.scales[c.type]),h=Kj(d,s),m=n.scales||{};a[l]=qo(Object.create(null),[{axis:d},c,m[d],m[h]])}),t.data.datasets.forEach(l=>{const c=l.type||t.type,d=l.indexAxis||jf(c,e),m=(Bs[c]||{}).scales||{};Object.keys(m).forEach(y=>{const x=Xj(y,d),w=l[x+"AxisID"]||x;a[w]=a[w]||Object.create(null),qo(a[w],[{axis:x},r[w],m[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];qo(c,[st.scales[c.type],st.scale])}),a}function Yx(t){const e=t.options||(t.options={});e.plugins=Te(e.plugins,{}),e.scales=Zj(t,e)}function qx(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Jj(t){return t=t||{},t.data=qx(t.data),Yx(t),t}const g0=new Map,Xx=new Set;function Yl(t,e){let n=g0.get(t);return n||(n=e(),g0.set(t,n),Xx.add(n)),n}const Ho=(t,e,n)=>{const r=zs(e,n);r!==void 0&&t.add(r)};class e6{constructor(e){this._config=Jj(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Yx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Yl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Yl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Yl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Yl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:a}=this,l=this._cachedScopes(e,r),c=l.get(n);if(c)return c;const d=new Set;n.forEach(m=>{e&&(d.add(e),m.forEach(y=>Ho(d,e,y))),m.forEach(y=>Ho(d,s,y)),m.forEach(y=>Ho(d,Bs[a]||{},y)),m.forEach(y=>Ho(d,st,y)),m.forEach(y=>Ho(d,kf,y))});const h=Array.from(d);return h.length===0&&h.push(Object.create(null)),Xx.has(n)&&l.set(n,h),h}chartOptionScopes(){const{options:e,type:n}=this;return[e,Bs[n]||{},st.datasets[n]||{},{type:n},st,kf]}resolveNamedOptions(e,n,r,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=y0(this._resolverCache,e,s);let d=l;if(n6(l,n)){a.$shared=!1,r=ss(r)?r():r;const h=this.createResolver(e,r,c);d=Oi(l,r,h)}for(const h of n)a[h]=d[h];return a}createResolver(e,n,r=[""],s){const{resolver:a}=y0(this._resolverCache,e,r);return Ie(n)?Oi(a,n,void 0,s):a}}function y0(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let a=r.get(s);return a||(a={resolver:dh(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},r.set(s,a)),a}const t6=t=>Ie(t)&&Object.getOwnPropertyNames(t).some(e=>ss(t[e]));function n6(t,e){const{isScriptable:n,isIndexable:r}=jx(t);for(const s of e){const a=n(s),l=r(s),c=(l||a)&&t[s];if(a&&(ss(c)||t6(c))||l&&dt(c))return!0}return!1}var r6="4.5.0";const s6=["top","bottom","left","right","chartArea"];function x0(t,e){return t==="top"||t==="bottom"||s6.indexOf(t)===-1&&e==="x"}function v0(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function b0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ke(n&&n.onComplete,[t],e)}function i6(t){const e=t.chart,n=e.options.animation;ke(n&&n.onProgress,[t],e)}function Kx(t){return ph()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const dc={},w0=t=>{const e=Kx(t);return Object.values(dc).filter(n=>n.canvas===e).pop()};function o6(t,e,n){const r=Object.keys(t);for(const s of r){const a=+s;if(a>=e){const l=t[s];delete t[s],(n>0||a>e)&&(t[a+n]=l)}}}function a6(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var Jr;let Dn=(Jr=class{static register(...e){Xn.add(...e),_0()}static unregister(...e){Xn.remove(...e),_0()}constructor(e,n){const r=this.config=new e6(n),s=Kx(e),a=w0(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Cj(s)),this.platform.updateConfig(r);const c=this.platform.acquireContext(s,l.aspectRatio),d=c&&c.canvas,h=d&&d.height,m=d&&d.width;if(this.id=iC(),this.ctx=c,this.canvas=d,this.width=m,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $j,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=kC(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],dc[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}hr.listen(this,"complete",b0),hr.listen(this,"progress",i6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:a}=this;return ze(e)?n&&a?a:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Xn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Wg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ug(this.canvas,this.ctx),this}stop(){return hr.stop(this),this}resize(e,n){hr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,n,a),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Wg(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),ke(r.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};De(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const c=n[l],d=Ef(l,c),h=d==="r",m=d==="x";return{options:c,dposition:h?"chartArea":m?"bottom":"left",dtype:h?"radialLinear":m?"category":"linear"}}))),De(a,l=>{const c=l.options,d=c.id,h=Ef(d,c),m=Te(c.type,l.dtype);(c.position===void 0||x0(c.position,h)!==x0(l.dposition))&&(c.position=l.dposition),s[d]=!0;let y=null;if(d in r&&r[d].type===m)y=r[d];else{const x=Xn.getScale(m);y=new x({id:d,type:m,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(c,e)}),De(s,(l,c)=>{l||delete r[c]}),De(r,l=>{bn.configure(this,l,l.options),bn.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,a)=>s.index-a.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(v0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const a=n[r];let l=this.getDatasetMeta(r);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=a.indexAxis||jf(c,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const d=Xn.getController(c),{datasetElementType:h,dataElementType:m}=st.datasets[c];Object.assign(d,{dataElementType:Xn.getElement(m),datasetElementType:h&&Xn.getElement(h)}),l.controller=new d(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){De(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,m=this.data.datasets.length;h<m;h++){const{controller:y}=this.getDatasetMeta(h),x=!s&&a.indexOf(y)===-1;y.buildOrUpdateElements(x),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),s||De(a,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(v0("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){De(this.scales,e=>{bn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Mg(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:a}of n){const l=r==="_removeElements"?-a:a;o6(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=r(0);for(let a=1;a<n;a++)if(!Mg(s,r(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;bn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],De(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ss(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(hr.has(this)?this.attached&&!hr.running(this)&&hr.start(this):(this.draw(),b0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=Ix(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Ic(n,s),e.controller.draw(),s&&Fc(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ai(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const a=sj.modes[n];return typeof a=="function"?a(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Vs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,s);oa(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),hr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ug(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete dc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(a,l)=>{n.addEventListener(this,a,l),e[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};De(this.options.events,a=>r(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(d,h)=>{n.addEventListener(this,d,h),e[d]=h},s=(d,h)=>{e[d]&&(n.removeEventListener(this,d,h),delete e[d])},a=(d,h)=>{this.canvas&&this.resize(d,h)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),r("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){De(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},De(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let a,l,c,d;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){l=e[c];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!xc(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,a=(d,h)=>d.filter(m=>!h.some(y=>m.datasetIndex===y.datasetIndex&&m.index===y.index)),l=a(n,e),c=r?e:a(e,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const a=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(a||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:a}=this,l=n,c=this._getActiveElements(e,s,r,l),d=dC(e),h=a6(e,this._lastEvent,r,d);r&&(this._lastEvent=null,ke(a.onHover,[e,c,this],this),d&&ke(a.onClick,[e,c,this],this));const m=!xc(c,s);return(m||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=h,m}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}},ge(Jr,"defaults",st),ge(Jr,"instances",dc),ge(Jr,"overrides",Bs),ge(Jr,"registry",Xn),ge(Jr,"version",r6),ge(Jr,"getChart",w0),Jr);function _0(){return De(Dn.instances,t=>t._plugins.invalidate())}function l6(t,e,n){const{startAngle:r,x:s,y:a,outerRadius:l,innerRadius:c,options:d}=e,{borderWidth:h,borderJoinStyle:m}=d,y=Math.min(h/l,un(r-n));if(t.beginPath(),t.arc(s,a,l-h/2,r+y/2,n-y/2),c>0){const x=Math.min(h/c,un(r-n));t.arc(s,a,c+h/2,n-x/2,r+x/2,!0)}else{const x=Math.min(h/2,l*un(r-n));if(m==="round")t.arc(s,a,x,n-$e/2,r+$e/2,!0);else if(m==="bevel"){const w=2*x*x,b=-w*Math.cos(n+$e/2)+s,S=-w*Math.sin(n+$e/2)+a,_=w*Math.cos(r+$e/2)+s,C=w*Math.sin(r+$e/2)+a;t.lineTo(b,S),t.lineTo(_,C)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function c6(t,e,n){const{startAngle:r,pixelMargin:s,x:a,y:l,outerRadius:c,innerRadius:d}=e;let h=s/c;t.beginPath(),t.arc(a,l,c,r-h,n+h),d>s?(h=s/d,t.arc(a,l,d,n+h,r-h,!0)):t.arc(a,l,s,n+xt,r-xt),t.closePath(),t.clip()}function u6(t){return uh(t,["outerStart","outerEnd","innerStart","innerEnd"])}function d6(t,e,n,r){const s=u6(t.options.borderRadius),a=(n-e)/2,l=Math.min(a,r*e/2),c=d=>{const h=(n-Math.min(a,d))*r/2;return Ot(d,0,Math.min(a,h))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Ot(s.innerStart,0,l),innerEnd:Ot(s.innerEnd,0,l)}}function Ei(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function kc(t,e,n,r,s,a){const{x:l,y:c,startAngle:d,pixelMargin:h,innerRadius:m}=e,y=Math.max(e.outerRadius+r+n-h,0),x=m>0?m+r+n+h:0;let w=0;const b=s-d;if(r){const de=m>0?m-r:0,fe=y>0?y-r:0,ce=(de+fe)/2,J=ce!==0?b*ce/(ce+r):b;w=(b-J)/2}const S=Math.max(.001,b*y-n/$e)/y,_=(b-S)/2,C=d+_+w,T=s-_-w,{outerStart:P,outerEnd:D,innerStart:M,innerEnd:I}=d6(e,x,y,T-C),B=y-P,V=y-D,U=C+P/B,q=T-D/V,te=x+M,ne=x+I,ue=C+M/te,K=T-I/ne;if(t.beginPath(),a){const de=(U+q)/2;if(t.arc(l,c,y,U,de),t.arc(l,c,y,de,q),D>0){const ie=Ei(V,q,l,c);t.arc(ie.x,ie.y,D,q,T+xt)}const fe=Ei(ne,T,l,c);if(t.lineTo(fe.x,fe.y),I>0){const ie=Ei(ne,K,l,c);t.arc(ie.x,ie.y,I,T+xt,K+Math.PI)}const ce=(T-I/x+(C+M/x))/2;if(t.arc(l,c,x,T-I/x,ce,!0),t.arc(l,c,x,ce,C+M/x,!0),M>0){const ie=Ei(te,ue,l,c);t.arc(ie.x,ie.y,M,ue+Math.PI,C-xt)}const J=Ei(B,C,l,c);if(t.lineTo(J.x,J.y),P>0){const ie=Ei(B,U,l,c);t.arc(ie.x,ie.y,P,C-xt,U)}}else{t.moveTo(l,c);const de=Math.cos(U)*y+l,fe=Math.sin(U)*y+c;t.lineTo(de,fe);const ce=Math.cos(q)*y+l,J=Math.sin(q)*y+c;t.lineTo(ce,J)}t.closePath()}function f6(t,e,n,r,s){const{fullCircles:a,startAngle:l,circumference:c}=e;let d=e.endAngle;if(a){kc(t,e,n,r,d,s);for(let h=0;h<a;++h)t.fill();isNaN(c)||(d=l+(c%tt||tt))}return kc(t,e,n,r,d,s),t.fill(),d}function h6(t,e,n,r,s){const{fullCircles:a,startAngle:l,circumference:c,options:d}=e,{borderWidth:h,borderJoinStyle:m,borderDash:y,borderDashOffset:x,borderRadius:w}=d,b=d.borderAlign==="inner";if(!h)return;t.setLineDash(y||[]),t.lineDashOffset=x,b?(t.lineWidth=h*2,t.lineJoin=m||"round"):(t.lineWidth=h,t.lineJoin=m||"bevel");let S=e.endAngle;if(a){kc(t,e,n,r,S,s);for(let _=0;_<a;++_)t.stroke();isNaN(c)||(S=l+(c%tt||tt))}b&&c6(t,e,S),d.selfJoin&&S-l>=$e&&w===0&&m!=="miter"&&l6(t,e,S),a||(kc(t,e,n,r,S,s),t.stroke())}class ts extends Mn{constructor(n){super();ge(this,"circumference");ge(this,"endAngle");ge(this,"fullCircles");ge(this,"innerRadius");ge(this,"outerRadius");ge(this,"pixelMargin");ge(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const a=this.getProps(["x","y"],s),{angle:l,distance:c}=vx(a,{x:n,y:r}),{startAngle:d,endAngle:h,innerRadius:m,outerRadius:y,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),w=(this.options.spacing+this.options.borderWidth)/2,b=Te(x,h-d),S=la(l,d,h)&&d!==h,_=b>=tt||S,C=yr(c,m+w,y+w);return _&&C}getCenterPoint(n){const{x:r,y:s,startAngle:a,endAngle:l,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:m}=this.options,y=(a+l)/2,x=(c+d+m+h)/2;return{x:r+Math.cos(y)*x,y:s+Math.sin(y)*x}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,a=(r.offset||0)/4,l=(r.spacing||0)/2,c=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>tt?Math.floor(s/tt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const d=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(d)*a,Math.sin(d)*a);const h=1-Math.sin(Math.min($e,s||0)),m=a*h;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,f6(n,this,m,l,c),h6(n,this,m,l,c),n.restore()}}ge(ts,"id","arc"),ge(ts,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ge(ts,"defaultRoutes",{backgroundColor:"backgroundColor"}),ge(ts,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Qx(t,e,n=e){t.lineCap=Te(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Te(n.borderDash,e.borderDash)),t.lineDashOffset=Te(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Te(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Te(n.borderWidth,e.borderWidth),t.strokeStyle=Te(n.borderColor,e.borderColor)}function p6(t,e,n){t.lineTo(n.x,n.y)}function m6(t){return t.stepped?FC:t.tension||t.cubicInterpolationMode==="monotone"?zC:p6}function Gx(t,e,n={}){const r=t.length,{start:s=0,end:a=r-1}=n,{start:l,end:c}=e,d=Math.max(s,l),h=Math.min(a,c),m=s<l&&a<l||s>c&&a>c;return{count:r,start:d,loop:e.loop,ilen:h<d&&!m?r+h-d:h-d}}function g6(t,e,n,r){const{points:s,options:a}=e,{count:l,start:c,loop:d,ilen:h}=Gx(s,n,r),m=m6(a);let{move:y=!0,reverse:x}=r||{},w,b,S;for(w=0;w<=h;++w)b=s[(c+(x?h-w:w))%l],!b.skip&&(y?(t.moveTo(b.x,b.y),y=!1):m(t,S,b,x,a.stepped),S=b);return d&&(b=s[(c+(x?h:0))%l],m(t,S,b,x,a.stepped)),!!d}function y6(t,e,n,r){const s=e.points,{count:a,start:l,ilen:c}=Gx(s,n,r),{move:d=!0,reverse:h}=r||{};let m=0,y=0,x,w,b,S,_,C;const T=D=>(l+(h?c-D:D))%a,P=()=>{S!==_&&(t.lineTo(m,_),t.lineTo(m,S),t.lineTo(m,C))};for(d&&(w=s[T(0)],t.moveTo(w.x,w.y)),x=0;x<=c;++x){if(w=s[T(x)],w.skip)continue;const D=w.x,M=w.y,I=D|0;I===b?(M<S?S=M:M>_&&(_=M),m=(y*m+D)/++y):(P(),t.lineTo(D,M),b=I,y=0,S=_=M),C=M}P()}function Tf(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?y6:g6}function x6(t){return t.stepped?yN:t.tension||t.cubicInterpolationMode==="monotone"?xN:Ms}function v6(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),Qx(t,e.options),t.stroke(s)}function b6(t,e,n,r){const{segments:s,options:a}=e,l=Tf(e);for(const c of s)Qx(t,a,c.style),t.beginPath(),l(t,e,c,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const w6=typeof Path2D=="function";function _6(t,e,n,r){w6&&!e.options.segment?v6(t,e,n,r):b6(t,e,n,r)}class xr extends Mn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;cN(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=kN(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],a=this.points,l=Lx(this,{property:n,start:s,end:s});if(!l.length)return;const c=[],d=x6(r);let h,m;for(h=0,m=l.length;h<m;++h){const{start:y,end:x}=l[h],w=a[y],b=a[x];if(w===b){c.push(w);continue}const S=Math.abs((s-w[n])/(b[n]-w[n])),_=d(w,b,S,r.stepped);_[n]=e[n],c.push(_)}return c.length===1?c[0]:c}pathSegment(e,n,r){return Tf(this)(e,this,n,r)}path(e,n,r){const s=this.segments,a=Tf(this);let l=this._loop;n=n||0,r=r||this.points.length-n;for(const c of s)l&=a(e,this,c,{start:n,end:n+r-1});return!!l}draw(e,n,r,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),_6(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ge(xr,"id","line"),ge(xr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ge(xr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ge(xr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function S0(t,e,n,r){const s=t.options,{[n]:a}=t.getProps([n],r);return Math.abs(e-a)<s.radius+s.hitRadius}class Ri extends Mn{constructor(n){super();ge(this,"parsed");ge(this,"skip");ge(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const a=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(n-l,2)+Math.pow(r-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(n,r){return S0(this,n,"x",r)}inYRange(n,r){return S0(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!Ai(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Cf(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ge(Ri,"id","point"),ge(Ri,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ge(Ri,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Zx(t,e){const{x:n,y:r,base:s,width:a,height:l}=t.getProps(["x","y","base","width","height"],e);let c,d,h,m,y;return t.horizontal?(y=l/2,c=Math.min(n,s),d=Math.max(n,s),h=r-y,m=r+y):(y=a/2,c=n-y,d=n+y,h=Math.min(r,s),m=Math.max(r,s)),{left:c,top:h,right:d,bottom:m}}function ns(t,e,n,r){return t?0:Ot(e,n,r)}function S6(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,a=Nx(r);return{t:ns(s.top,a.top,0,n),r:ns(s.right,a.right,0,e),b:ns(s.bottom,a.bottom,0,n),l:ns(s.left,a.left,0,e)}}function k6(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,a=Pi(s),l=Math.min(e,n),c=t.borderSkipped,d=r||Ie(s);return{topLeft:ns(!d||c.top||c.left,a.topLeft,0,l),topRight:ns(!d||c.top||c.right,a.topRight,0,l),bottomLeft:ns(!d||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:ns(!d||c.bottom||c.right,a.bottomRight,0,l)}}function C6(t){const e=Zx(t),n=e.right-e.left,r=e.bottom-e.top,s=S6(t,n/2,r/2),a=k6(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Zd(t,e,n,r){const s=e===null,a=n===null,c=t&&!(s&&a)&&Zx(t,r);return c&&(s||yr(e,c.left,c.right))&&(a||yr(n,c.top,c.bottom))}function N6(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function j6(t,e){t.rect(e.x,e.y,e.w,e.h)}function Jd(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-r,l=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+a,h:t.h+l,radius:t.radius}}class wr extends Mn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:a,outer:l}=C6(this),c=N6(l.radius)?wc:j6;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),c(e,Jd(l,n,a)),e.clip(),c(e,Jd(a,-n,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,Jd(a,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return Zd(this,e,n,r)}inXRange(e,n){return Zd(this,e,null,n)}inYRange(e,n){return Zd(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+s)/2:n,y:a?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ge(wr,"id","bar"),ge(wr,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ge(wr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function E6(t,e,n){const r=t.segments,s=t.points,a=e.points,l=[];for(const c of r){let{start:d,end:h}=c;h=Uc(d,h,s);const m=Pf(n,s[d],s[h],c.loop);if(!e.segments){l.push({source:c,target:m,start:s[d],end:s[h]});continue}const y=Lx(e,m);for(const x of y){const w=Pf(n,a[x.start],a[x.end],x.loop),b=Dx(c,s,w);for(const S of b)l.push({source:S,target:x,start:{[n]:k0(m,w,"start",Math.max)},end:{[n]:k0(m,w,"end",Math.min)}})}}return l}function Pf(t,e,n,r){if(r)return;let s=e[t],a=n[t];return t==="angle"&&(s=un(s),a=un(a)),{property:t,start:s,end:a}}function T6(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,a=[];return e.segments.forEach(({start:l,end:c})=>{c=Uc(l,c,s);const d=s[l],h=s[c];r!==null?(a.push({x:d.x,y:r}),a.push({x:h.x,y:r})):n!==null&&(a.push({x:n,y:d.y}),a.push({x:n,y:h.y}))}),a}function Uc(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function k0(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function Jx(t,e){let n=[],r=!1;return dt(t)?(r=!0,n=t):n=T6(t,e),n.length?new xr({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function C0(t){return t&&t.fill!==!1}function P6(t,e,n){let s=t[e].fill;const a=[e];let l;if(!n)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!Dt(s))return s;if(l=t[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function M6(t,e,n){const r=D6(t);if(Ie(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return Dt(s)&&Math.floor(s)===s?R6(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function R6(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function A6(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ie(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function O6(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Ie(t)?r=t.value:r=e.getBaseValue(),r}function D6(t){const e=t.options,n=e.fill;let r=Te(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function L6(t){const{scale:e,index:n,line:r}=t,s=[],a=r.segments,l=r.points,c=I6(e,n);c.push(Jx({x:null,y:e.bottom},r));for(let d=0;d<a.length;d++){const h=a[d];for(let m=h.start;m<=h.end;m++)F6(s,l[m],c)}return new xr({points:s,options:{}})}function I6(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const a=r[s];if(a.index===e)break;a.hidden||n.unshift(a.dataset)}return n}function F6(t,e,n){const r=[];for(let s=0;s<n.length;s++){const a=n[s],{first:l,last:c,point:d}=z6(a,e,"x");if(!(!d||l&&c)){if(l)r.unshift(d);else if(t.push(d),!c)break}}t.push(...r)}function z6(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],a=t.segments,l=t.points;let c=!1,d=!1;for(let h=0;h<a.length;h++){const m=a[h],y=l[m.start][n],x=l[m.end][n];if(yr(s,y,x)){c=s===y,d=s===x;break}}return{first:c,last:d,point:r}}class ev{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:a,radius:l}=this;return n=n||{start:0,end:tt},e.arc(s,a,l,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,a=e.angle;return{x:n+Math.cos(a)*s,y:r+Math.sin(a)*s,angle:a}}}function B6(t){const{chart:e,fill:n,line:r}=t;if(Dt(n))return U6(e,n);if(n==="stack")return L6(t);if(n==="shape")return!0;const s=H6(t);return s instanceof ev?s:Jx(s,r)}function U6(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function H6(t){return(t.scale||{}).getPointPositionForValue?W6(t):$6(t)}function $6(t){const{scale:e={},fill:n}=t,r=A6(n,e);if(Dt(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function W6(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,a=r.reverse?e.max:e.min,l=O6(n,e,a),c=[];if(r.grid.circular){const d=e.getPointPositionForValue(0,a);return new ev({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(l)})}for(let d=0;d<s;++d)c.push(e.getPointPositionForValue(d,l));return c}function ef(t,e,n){const r=B6(e),{chart:s,index:a,line:l,scale:c,axis:d}=e,h=l.options,m=h.fill,y=h.backgroundColor,{above:x=y,below:w=y}=m||{},b=s.getDatasetMeta(a),S=Ix(s,b);r&&l.points.length&&(Ic(t,n),V6(t,{line:l,target:r,above:x,below:w,area:n,scale:c,axis:d,clip:S}),Fc(t))}function V6(t,e){const{line:n,target:r,above:s,below:a,area:l,scale:c,clip:d}=e,h=n._loop?"angle":e.axis;t.save();let m=a;a!==s&&(h==="x"?(N0(t,r,l.top),tf(t,{line:n,target:r,color:s,scale:c,property:h,clip:d}),t.restore(),t.save(),N0(t,r,l.bottom)):h==="y"&&(j0(t,r,l.left),tf(t,{line:n,target:r,color:a,scale:c,property:h,clip:d}),t.restore(),t.save(),j0(t,r,l.right),m=s)),tf(t,{line:n,target:r,color:m,scale:c,property:h,clip:d}),t.restore()}function N0(t,e,n){const{segments:r,points:s}=e;let a=!0,l=!1;t.beginPath();for(const c of r){const{start:d,end:h}=c,m=s[d],y=s[Uc(d,h,s)];a?(t.moveTo(m.x,m.y),a=!1):(t.lineTo(m.x,n),t.lineTo(m.x,m.y)),l=!!e.pathSegment(t,c,{move:l}),l?t.closePath():t.lineTo(y.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function j0(t,e,n){const{segments:r,points:s}=e;let a=!0,l=!1;t.beginPath();for(const c of r){const{start:d,end:h}=c,m=s[d],y=s[Uc(d,h,s)];a?(t.moveTo(m.x,m.y),a=!1):(t.lineTo(n,m.y),t.lineTo(m.x,m.y)),l=!!e.pathSegment(t,c,{move:l}),l?t.closePath():t.lineTo(n,y.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function tf(t,e){const{line:n,target:r,property:s,color:a,scale:l,clip:c}=e,d=E6(n,r,s);for(const{source:h,target:m,start:y,end:x}of d){const{style:{backgroundColor:w=a}={}}=h,b=r!==!0;t.save(),t.fillStyle=w,Y6(t,l,c,b&&Pf(s,y,x)),t.beginPath();const S=!!n.pathSegment(t,h);let _;if(b){S?t.closePath():E0(t,r,x,s);const C=!!r.pathSegment(t,m,{move:S,reverse:!0});_=S&&C,_||E0(t,r,y,s)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function Y6(t,e,n,r){const s=e.chart.chartArea,{property:a,start:l,end:c}=r||{};if(a==="x"||a==="y"){let d,h,m,y;a==="x"?(d=l,h=s.top,m=c,y=s.bottom):(d=s.left,h=l,m=s.right,y=c),t.beginPath(),n&&(d=Math.max(d,n.left),m=Math.min(m,n.right),h=Math.max(h,n.top),y=Math.min(y,n.bottom)),t.rect(d,h,m-d,y-h),t.clip()}}function E0(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var tv={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let a,l,c,d;for(l=0;l<r;++l)a=t.getDatasetMeta(l),c=a.dataset,d=null,c&&c.options&&c instanceof xr&&(d={visible:t.isDatasetVisible(l),index:l,fill:M6(c,l,r),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=d,s.push(d);for(l=0;l<r;++l)d=s[l],!(!d||d.fill===!1)&&(d.fill=P6(s,l,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),r&&c.fill&&ef(t.ctx,c,a))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const a=r[s].$filler;C0(a)&&ef(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!C0(r)||n.drawTime!=="beforeDatasetDraw"||ef(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const T0=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},q6=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class P0 extends Mn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ke(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=Ct(r.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=T0(r,a);let h,m;n.font=s.string,this.isHorizontal()?(h=this.maxWidth,m=this._fitRows(l,a,c,d)+10):(m=this.maxHeight,h=this._fitCols(l,s,c,d)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.lineWidths=[0],m=s+c;let y=e;a.textAlign="left",a.textBaseline="middle";let x=-1,w=-m;return this.legendItems.forEach((b,S)=>{const _=r+n/2+a.measureText(b.text).width;(S===0||h[h.length-1]+_+2*c>l)&&(y+=m,h[h.length-(S>0?0:1)]=0,w+=m,x++),d[S]={left:0,top:w,row:x,width:_,height:s},h[h.length-1]+=_+c}),y}_fitCols(e,n,r,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.columnSizes=[],m=l-e;let y=c,x=0,w=0,b=0,S=0;return this.legendItems.forEach((_,C)=>{const{itemWidth:T,itemHeight:P}=X6(r,n,a,_,s);C>0&&w+P+2*c>m&&(y+=x+c,h.push({width:x,height:w}),b+=x+c,S++,x=w=0),d[C]={left:b,top:w,col:S,width:T,height:P},x=Math.max(x,T),w+=P+c}),y+=x,h.push({width:x,height:w}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:a}}=this,l=Mi(a,this.left,this.width);if(this.isHorizontal()){let c=0,d=Rt(r,this.left+s,this.right-this.lineWidths[c]);for(const h of n)c!==h.row&&(c=h.row,d=Rt(r,this.left+s,this.right-this.lineWidths[c])),h.top+=this.top+e+s,h.left=l.leftForLtr(l.x(d),h.width),d+=h.width+s}else{let c=0,d=Rt(r,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const h of n)h.col!==c&&(c=h.col,d=Rt(r,this.top+e+s,this.bottom-this.columnSizes[c].height)),h.top=d,h.left+=this.left+s,h.left=l.leftForLtr(l.x(h.left),h.width),d+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ic(e,this),this._draw(),Fc(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:a,labels:l}=e,c=st.color,d=Mi(e.rtl,this.left,this.width),h=Ct(l.font),{padding:m}=l,y=h.size,x=y/2;let w;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:b,boxHeight:S,itemHeight:_}=T0(l,y),C=function(I,B,V){if(isNaN(b)||b<=0||isNaN(S)||S<0)return;s.save();const U=Te(V.lineWidth,1);if(s.fillStyle=Te(V.fillStyle,c),s.lineCap=Te(V.lineCap,"butt"),s.lineDashOffset=Te(V.lineDashOffset,0),s.lineJoin=Te(V.lineJoin,"miter"),s.lineWidth=U,s.strokeStyle=Te(V.strokeStyle,c),s.setLineDash(Te(V.lineDash,[])),l.usePointStyle){const q={radius:S*Math.SQRT2/2,pointStyle:V.pointStyle,rotation:V.rotation,borderWidth:U},te=d.xPlus(I,b/2),ne=B+x;Cx(s,q,te,ne,l.pointStyleWidth&&b)}else{const q=B+Math.max((y-S)/2,0),te=d.leftForLtr(I,b),ne=Pi(V.borderRadius);s.beginPath(),Object.values(ne).some(ue=>ue!==0)?wc(s,{x:te,y:q,w:b,h:S,radius:ne}):s.rect(te,q,b,S),s.fill(),U!==0&&s.stroke()}s.restore()},T=function(I,B,V){ca(s,V.text,I,B+_/2,h,{strikethrough:V.hidden,textAlign:d.textAlign(V.textAlign)})},P=this.isHorizontal(),D=this._computeTitleHeight();P?w={x:Rt(a,this.left+m,this.right-r[0]),y:this.top+m+D,line:0}:w={x:this.left+m,y:Rt(a,this.top+D+m,this.bottom-n[0].height),line:0},Rx(this.ctx,e.textDirection);const M=_+m;this.legendItems.forEach((I,B)=>{s.strokeStyle=I.fontColor,s.fillStyle=I.fontColor;const V=s.measureText(I.text).width,U=d.textAlign(I.textAlign||(I.textAlign=l.textAlign)),q=b+x+V;let te=w.x,ne=w.y;d.setWidth(this.width),P?B>0&&te+q+m>this.right&&(ne=w.y+=M,w.line++,te=w.x=Rt(a,this.left+m,this.right-r[w.line])):B>0&&ne+M>this.bottom&&(te=w.x=te+n[w.line].width+m,w.line++,ne=w.y=Rt(a,this.top+D+m,this.bottom-n[w.line].height));const ue=d.x(te);if(C(ue,ne,I),te=CC(U,te+b+x,P?te+q:this.right,e.rtl),T(d.x(te),ne,I),P)w.x+=q+m;else if(typeof I.text!="string"){const K=h.lineHeight;w.y+=nv(I,K)+m}else w.y+=M}),Ax(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Ct(n.font),s=dn(n.padding);if(!n.display)return;const a=Mi(e.rtl,this.left,this.width),l=this.ctx,c=n.position,d=r.size/2,h=s.top+d;let m,y=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),m=this.top+h,y=Rt(e.align,y,this.right-x);else{const b=this.columnSizes.reduce((S,_)=>Math.max(S,_.height),0);m=h+Rt(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const w=Rt(c,y,y+x);l.textAlign=a.textAlign(ah(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=r.string,ca(l,n.text,w,m,r)}_computeTitleHeight(){const e=this.options.title,n=Ct(e.font),r=dn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,a;if(yr(e,this.left,this.right)&&yr(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(s=a[r],yr(e,s.left,s.left+s.width)&&yr(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!G6(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=q6(s,r);s&&!a&&ke(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!a&&ke(n.onHover,[e,r,this],this)}else r&&ke(n.onClick,[e,r,this],this)}}function X6(t,e,n,r,s){const a=K6(r,t,e,n),l=Q6(s,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function K6(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),e+n.size/2+r.measureText(s).width}function Q6(t,e,n){let r=t;return typeof e.text!="string"&&(r=nv(e,n)),r}function nv(t,e){const n=t.text?t.text.length:0;return e*n}function G6(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var os={id:"legend",_element:P0,start(t,e,n){const r=t.legend=new P0({ctx:t.ctx,options:n,chart:t});bn.configure(t,r,n),bn.addBox(t,r)},stop(t){bn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;bn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const h=d.controller.getStyle(n?0:void 0),m=dn(h.borderWidth);return{text:e[d.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!d.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:h.borderColor,pointStyle:r||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:l&&(c||h.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class rv extends Mn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=dt(r.text)?r.text.length:1;this._padding=dn(r.padding);const a=s*Ct(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:a,options:l}=this,c=l.align;let d=0,h,m,y;return this.isHorizontal()?(m=Rt(c,r,a),y=n+e,h=a-r):(l.position==="left"?(m=r+e,y=Rt(c,s,n),d=$e*-.5):(m=a-e,y=Rt(c,n,s),d=$e*.5),h=s-n),{titleX:m,titleY:y,maxWidth:h,rotation:d}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Ct(n.font),a=r.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:d,rotation:h}=this._drawArgs(a);ca(e,n.text,0,0,r,{color:n.color,maxWidth:d,rotation:h,textAlign:ah(n.align),textBaseline:"middle",translation:[l,c]})}}function Z6(t,e){const n=new rv({ctx:t.ctx,options:e,chart:t});bn.configure(t,n,e),bn.addBox(t,n),t.titleBlock=n}var J6={id:"title",_element:rv,start(t,e,n){Z6(t,n)},stop(t){const e=t.titleBlock;bn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;bn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yo={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,a=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();r.add(d.x),s+=d.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((c,d)=>c+d)/r.size,y:s/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=t.length;a<l;++a){const d=t[a].element;if(d&&d.hasValue()){const h=d.getCenterPoint(),m=Sf(e,h);m<s&&(s=m,c=d)}}if(c){const d=c.tooltipPosition();n=d.x,r=d.y}return{x:n,y:r}}};function qn(t,e){return e&&(dt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function pr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function eE(t,e){const{element:n,datasetIndex:r,index:s}=e,a=t.getDatasetMeta(r).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:t,label:l,parsed:a.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function M0(t,e){const n=t.chart.ctx,{body:r,footer:s,title:a}=t,{boxWidth:l,boxHeight:c}=e,d=Ct(e.bodyFont),h=Ct(e.titleFont),m=Ct(e.footerFont),y=a.length,x=s.length,w=r.length,b=dn(e.padding);let S=b.height,_=0,C=r.reduce((D,M)=>D+M.before.length+M.lines.length+M.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,y&&(S+=y*h.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),C){const D=e.displayColors?Math.max(c,d.lineHeight):d.lineHeight;S+=w*D+(C-w)*d.lineHeight+(C-1)*e.bodySpacing}x&&(S+=e.footerMarginTop+x*m.lineHeight+(x-1)*e.footerSpacing);let T=0;const P=function(D){_=Math.max(_,n.measureText(D).width+T)};return n.save(),n.font=h.string,De(t.title,P),n.font=d.string,De(t.beforeBody.concat(t.afterBody),P),T=e.displayColors?l+2+e.boxPadding:0,De(r,D=>{De(D.before,P),De(D.lines,P),De(D.after,P)}),T=0,n.font=m.string,De(t.footer,P),n.restore(),_+=b.width,{width:_,height:S}}function tE(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function nE(t,e,n,r){const{x:s,width:a}=r,l=n.caretSize+n.caretPadding;if(t==="left"&&s+a+l>e.width||t==="right"&&s-a-l<0)return!0}function rE(t,e,n,r){const{x:s,width:a}=n,{width:l,chartArea:{left:c,right:d}}=t;let h="center";return r==="center"?h=s<=(c+d)/2?"left":"right":s<=a/2?h="left":s>=l-a/2&&(h="right"),nE(h,t,e,n)&&(h="center"),h}function R0(t,e,n){const r=n.yAlign||e.yAlign||tE(t,n);return{xAlign:n.xAlign||e.xAlign||rE(t,e,n,r),yAlign:r}}function sE(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function iE(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function A0(t,e,n,r){const{caretSize:s,caretPadding:a,cornerRadius:l}=t,{xAlign:c,yAlign:d}=n,h=s+a,{topLeft:m,topRight:y,bottomLeft:x,bottomRight:w}=Pi(l);let b=sE(e,c);const S=iE(e,d,h);return d==="center"?c==="left"?b+=h:c==="right"&&(b-=h):c==="left"?b-=Math.max(m,x)+s:c==="right"&&(b+=Math.max(y,w)+s),{x:Ot(b,0,r.width-e.width),y:Ot(S,0,r.height-e.height)}}function ql(t,e,n){const r=dn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function O0(t){return qn([],pr(t))}function oE(t,e,n){return Vs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function D0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const sv={beforeTitle:fr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:fr,beforeBody:fr,beforeLabel:fr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ze(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:fr,afterBody:fr,beforeFooter:fr,footer:fr,afterFooter:fr};function Kt(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?sv[e].call(n,r):s}class Mf extends Mn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,a=new Fx(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=oE(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=Kt(r,"beforeTitle",this,e),a=Kt(r,"title",this,e),l=Kt(r,"afterTitle",this,e);let c=[];return c=qn(c,pr(s)),c=qn(c,pr(a)),c=qn(c,pr(l)),c}getBeforeBody(e,n){return O0(Kt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return De(e,a=>{const l={before:[],lines:[],after:[]},c=D0(r,a);qn(l.before,pr(Kt(c,"beforeLabel",this,a))),qn(l.lines,Kt(c,"label",this,a)),qn(l.after,pr(Kt(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(e,n){return O0(Kt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=Kt(r,"beforeFooter",this,e),a=Kt(r,"footer",this,e),l=Kt(r,"afterFooter",this,e);let c=[];return c=qn(c,pr(s)),c=qn(c,pr(a)),c=qn(c,pr(l)),c}_createItems(e){const n=this._active,r=this.chart.data,s=[],a=[],l=[];let c=[],d,h;for(d=0,h=n.length;d<h;++d)c.push(eE(this.chart,n[d]));return e.filter&&(c=c.filter((m,y,x)=>e.filter(m,y,x,r))),e.itemSort&&(c=c.sort((m,y)=>e.itemSort(m,y,r))),De(c,m=>{const y=D0(e.callbacks,m);s.push(Kt(y,"labelColor",this,m)),a.push(Kt(y,"labelPointStyle",this,m)),l.push(Kt(y,"labelTextColor",this,m))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=Yo[r.position].call(this,s,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const d=this._size=M0(this,r),h=Object.assign({},c,d),m=R0(this.chart,r,h),y=A0(r,h,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:y.x,y:y.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const a=this.getCaretPosition(e,r,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:d,topRight:h,bottomLeft:m,bottomRight:y}=Pi(c),{x,y:w}=e,{width:b,height:S}=n;let _,C,T,P,D,M;return a==="center"?(D=w+S/2,s==="left"?(_=x,C=_-l,P=D+l,M=D-l):(_=x+b,C=_+l,P=D-l,M=D+l),T=_):(s==="left"?C=x+Math.max(d,m)+l:s==="right"?C=x+b-Math.max(h,y)-l:C=this.caretX,a==="top"?(P=w,D=P-l,_=C-l,T=C+l):(P=w+S,D=P+l,_=C+l,T=C-l),M=P),{x1:_,x2:C,x3:T,y1:P,y2:D,y3:M}}drawTitle(e,n,r){const s=this.title,a=s.length;let l,c,d;if(a){const h=Mi(r.rtl,this.x,this.width);for(e.x=ql(this,r.titleAlign,r),n.textAlign=h.textAlign(r.titleAlign),n.textBaseline="middle",l=Ct(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=l.string,d=0;d<a;++d)n.fillText(s[d],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,d+1===a&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,s,a){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:d,boxWidth:h}=a,m=Ct(a.bodyFont),y=ql(this,"left",a),x=s.x(y),w=d<m.lineHeight?(m.lineHeight-d)/2:0,b=n.y+w;if(a.usePointStyle){const S={radius:Math.min(h,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},_=s.leftForLtr(x,h)+h/2,C=b+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Cf(e,S,_,C),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Cf(e,S,_,C)}else{e.lineWidth=Ie(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const S=s.leftForLtr(x,h),_=s.leftForLtr(s.xPlus(x,1),h-2),C=Pi(l.borderRadius);Object.values(C).some(T=>T!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,wc(e,{x:S,y:b,w:h,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),wc(e,{x:_,y:b+1,w:h-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(S,b,h,d),e.strokeRect(S,b,h,d),e.fillStyle=l.backgroundColor,e.fillRect(_,b+1,h-2,d-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:d,boxWidth:h,boxPadding:m}=r,y=Ct(r.bodyFont);let x=y.lineHeight,w=0;const b=Mi(r.rtl,this.x,this.width),S=function(V){n.fillText(V,b.x(e.x+w),e.y+x/2),e.y+=x+a},_=b.textAlign(l);let C,T,P,D,M,I,B;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,e.x=ql(this,_,r),n.fillStyle=r.bodyColor,De(this.beforeBody,S),w=c&&_!=="right"?l==="center"?h/2+m:h+2+m:0,D=0,I=s.length;D<I;++D){for(C=s[D],T=this.labelTextColors[D],n.fillStyle=T,De(C.before,S),P=C.lines,c&&P.length&&(this._drawColorBox(n,e,D,b,r),x=Math.max(y.lineHeight,d)),M=0,B=P.length;M<B;++M)S(P[M]),x=y.lineHeight;De(C.after,S)}w=0,x=y.lineHeight,De(this.afterBody,S),e.y-=a}drawFooter(e,n,r){const s=this.footer,a=s.length;let l,c;if(a){const d=Mi(r.rtl,this.x,this.width);for(e.x=ql(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=d.textAlign(r.footerAlign),n.textBaseline="middle",l=Ct(r.footerFont),n.fillStyle=r.footerColor,n.font=l.string,c=0;c<a;++c)n.fillText(s[c],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:a,yAlign:l}=this,{x:c,y:d}=e,{width:h,height:m}=r,{topLeft:y,topRight:x,bottomLeft:w,bottomRight:b}=Pi(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+y,d),l==="top"&&this.drawCaret(e,n,r,s),n.lineTo(c+h-x,d),n.quadraticCurveTo(c+h,d,c+h,d+x),l==="center"&&a==="right"&&this.drawCaret(e,n,r,s),n.lineTo(c+h,d+m-b),n.quadraticCurveTo(c+h,d+m,c+h-b,d+m),l==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(c+w,d+m),n.quadraticCurveTo(c,d+m,c,d+m-w),l==="center"&&a==="left"&&this.drawCaret(e,n,r,s),n.lineTo(c,d+y),n.quadraticCurveTo(c,d,c+y,d),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const l=Yo[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=M0(this,e),d=Object.assign({},l,this._size),h=R0(n,e,d),m=A0(e,d,h,n);(s._to!==m.x||a._to!==m.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=dn(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,s,n),Rx(e,n.textDirection),a.y+=l.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),Ax(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:c,index:d})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[d],index:d}}),a=!xc(r,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(e,a,n,r),c=this._positionChanged(l,e),d=n||!xc(l,a)||c;return d&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),d}_getActiveElements(e,n,r,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:r,caretY:s,options:a}=this,l=Yo[a.position].call(this,e,n);return l!==!1&&(r!==l.x||s!==l.y)}}ge(Mf,"positioners",Yo);var as={id:"tooltip",_element:Mf,positioners:Yo,afterInit(t,e,n){n&&(t.tooltip=new Mf({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const aE=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function lE(t,e,n,r){const s=t.indexOf(e);if(s===-1)return aE(t,e,n,r);const a=t.lastIndexOf(e);return s!==a?n:s}const cE=(t,e)=>t===null?null:Ot(Math.round(t),0,e);function L0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Us extends Hi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:a}of n)r[s]===a&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ze(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:lE(r,e,Te(n,e),this._addedLabels),cE(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=n;l++)s.push({value:l});return s}getLabelForValue(e){return L0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ge(Us,"id","category"),ge(Us,"defaults",{ticks:{callback:L0}});function uE(t,e){const n=[],{bounds:s,step:a,min:l,max:c,precision:d,count:h,maxTicks:m,maxDigits:y,includeBounds:x}=t,w=a||1,b=m-1,{min:S,max:_}=e,C=!ze(l),T=!ze(c),P=!ze(h),D=(_-S)/(y+1);let M=Ag((_-S)/b/w)*w,I,B,V,U;if(M<1e-14&&!C&&!T)return[{value:S},{value:_}];U=Math.ceil(_/M)-Math.floor(S/M),U>b&&(M=Ag(U*M/b/w)*w),ze(d)||(I=Math.pow(10,d),M=Math.ceil(M*I)/I),s==="ticks"?(B=Math.floor(S/M)*M,V=Math.ceil(_/M)*M):(B=S,V=_),C&&T&&a&&gC((c-l)/a,M/1e3)?(U=Math.round(Math.min((c-l)/M,m)),M=(c-l)/U,B=l,V=c):P?(B=C?l:B,V=T?c:V,U=h-1,M=(V-B)/U):(U=(V-B)/M,Ds(U,Math.round(U),M/1e3)?U=Math.round(U):U=Math.ceil(U));const q=Math.max(Og(M),Og(B));I=Math.pow(10,ze(d)?q:d),B=Math.round(B*I)/I,V=Math.round(V*I)/I;let te=0;for(C&&(x&&B!==l?(n.push({value:l}),B<l&&te++,Ds(Math.round((B+te*M)*I)/I,l,I0(l,D,t))&&te++):B<l&&te++);te<U;++te){const ne=Math.round((B+te*M)*I)/I;if(T&&ne>c)break;n.push({value:ne})}return T&&x&&V!==c?n.length&&Ds(n[n.length-1].value,c,I0(c,D,t))?n[n.length-1].value=c:n.push({value:c}):(!T||V===c)&&n.push({value:V}),n}function I0(t,e,{horizontal:n,minRotation:r}){const s=gr(r),a=(n?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+t).length;return Math.min(e/a,l)}class dE extends Hi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:a}=this;const l=d=>s=n?s:d,c=d=>a=r?a:d;if(e){const d=wn(s),h=wn(a);d<0&&h<0?c(0):d>0&&h>0&&l(0)}if(s===a){let d=a===0?1:Math.abs(a*.05);c(a+d),e||l(s-d)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=uE(s,a);return e.bounds==="ticks"&&yC(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return ch(e,this.chart.options.locale,this.options.ticks.format)}}class Hs extends dE{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Dt(e)?e:0,this.max=Dt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=gr(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ge(Hs,"id","linear"),ge(Hs,"defaults",{ticks:{callback:kx.formatters.numeric}});const Hc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jt=Object.keys(Hc);function F0(t,e){return t-e}function z0(t,e){if(ze(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:a}=t._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),Dt(l)||(l=typeof r=="string"?n.parse(l,r):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(aa(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function B0(t,e,n,r){const s=Jt.length;for(let a=Jt.indexOf(t);a<s-1;++a){const l=Hc[Jt[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(c*l.size))<=r)return Jt[a]}return Jt[s-1]}function fE(t,e,n,r,s){for(let a=Jt.length-1;a>=Jt.indexOf(n);a--){const l=Jt[a];if(Hc[l].common&&t._adapter.diff(s,r,l)>=e-1)return l}return Jt[n?Jt.indexOf(n):0]}function hE(t){for(let e=Jt.indexOf(t)+1,n=Jt.length;e<n;++e)if(Hc[Jt[e]].common)return Jt[e]}function U0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=oh(n,e),a=n[r]>=e?n[r]:n[s];t[a]=!0}}function pE(t,e,n,r){const s=t._adapter,a=+s.startOf(e[0].value,r),l=e[e.length-1].value;let c,d;for(c=a;c<=l;c=+s.add(c,1,r))d=n[c],d>=0&&(e[d].major=!0);return e}function H0(t,e,n){const r=[],s={},a=e.length;let l,c;for(l=0;l<a;++l)c=e[l],s[c]=l,r.push({value:c,major:!1});return a===0||!n?r:pE(t,r,s,n)}class Cc extends Hi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new JN._date(e.adapters.date);s.init(n),qo(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:z0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function d(h){!l&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!c&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!l||!c)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),s=Dt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),a=Dt(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=_C(s,a,l);return this._unit=n.unit||(r.autoSkip?B0(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):fE(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:hE(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),H0(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Ot(n,0,l),r=Ot(r,0,l),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,a=s.time,l=a.unit||B0(a.minUnit,n,r,this._getLabelCapacity(n)),c=Te(s.ticks.stepSize,1),d=l==="week"?a.isoWeekday:!1,h=aa(d)||d===!0,m={};let y=n,x,w;if(h&&(y=+e.startOf(y,"isoWeek",d)),y=+e.startOf(y,h?"day":l),e.diff(r,n,l)>1e5*c)throw new Error(n+" and "+r+" are too far apart with stepSize of "+c+" "+l);const b=s.ticks.source==="data"&&this.getDataTimestamps();for(x=y,w=0;x<r;x=+e.add(x,c,l),w++)U0(m,x,b);return(x===r||s.bounds==="ticks"||w===1)&&U0(m,x,b),Object.keys(m).sort(F0).map(S=>+S)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(e,l)}_tickFormatFunction(e,n,r,s){const a=this.options,l=a.ticks.callback;if(l)return ke(l,[e,n,r],this);const c=a.time.displayFormats,d=this._unit,h=this._majorUnit,m=d&&c[d],y=h&&c[h],x=r[n],w=h&&y&&x&&x.major;return this._adapter.format(e,s||(w?y:m))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=gr(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*a+c*l,h:r*l+c*a}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,a=this._tickFormatFunction(e,0,H0(this,[e],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(z0(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return wx(e.sort(F0))}}ge(Cc,"id","time"),ge(Cc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Xl(t,e,n){let r=0,s=t.length-1,a,l,c,d;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=As(t,"pos",e)),{pos:a,time:c}=t[r],{pos:l,time:d}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=As(t,"time",e)),{time:a,pos:c}=t[r],{time:l,pos:d}=t[s]);const h=l-a;return h?c+(d-c)*(e-a)/h:c}class $0 extends Cc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Xl(n,this.min),this._tableRange=Xl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],a=[];let l,c,d,h,m;for(l=0,c=e.length;l<c;++l)h=e[l],h>=n&&h<=r&&s.push(h);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(l=0,c=s.length;l<c;++l)m=s[l+1],d=s[l-1],h=s[l],Math.round((m+d)/2)!==h&&a.push({time:h,pos:l/(c-1)});return a}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Xl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Xl(this._table,r*this._tableRange+this._minPos,!0)}}ge($0,"id","timeseries"),ge($0,"defaults",Cc.defaults);const iv="label";function W0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function mE(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function ov(t,e){t.labels=e}function av(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:iv;const r=[];t.datasets=e.map(s=>{const a=t.datasets.find(l=>l[n]===s[n]);return!a||!s.data||r.includes(a)?{...s}:(r.push(a),Object.assign(a,s),a)})}function gE(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iv;const n={labels:[],datasets:[]};return ov(n,t.labels),av(n,t.datasets,e),n}function yE(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:d,plugins:h=[],fallbackContent:m,updateMode:y,...x}=t,w=E.useRef(null),b=E.useRef(null),S=()=>{w.current&&(b.current=new Dn(w.current,{type:l,data:gE(c,a),options:d&&{...d},plugins:h}),W0(e,b.current))},_=()=>{W0(e,null),b.current&&(b.current.destroy(),b.current=null)};return E.useEffect(()=>{!s&&b.current&&d&&mE(b.current,d)},[s,d]),E.useEffect(()=>{!s&&b.current&&ov(b.current.config.data,c.labels)},[s,c.labels]),E.useEffect(()=>{!s&&b.current&&c.datasets&&av(b.current.config.data,c.datasets,a)},[s,c.datasets]),E.useEffect(()=>{b.current&&(s?(_(),setTimeout(S)):b.current.update(y))},[s,d,c.labels,c.datasets,y]),E.useEffect(()=>{b.current&&(_(),setTimeout(S))},[l]),E.useEffect(()=>(S(),()=>_()),[]),Qn.createElement("canvas",{ref:w,role:"img",height:n,width:r,...x},m)}const xE=E.forwardRef(yE);function yh(t,e){return Dn.register(e),E.forwardRef((n,r)=>Qn.createElement(xE,{...n,ref:r,type:t}))}const ba=yh("bar",Qo),vE=yh("doughnut",Ti),lv=yh("pie",Nf);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var V0=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),Go={toTextLines:function(t){var e=[],n;for(t=[].concat(t);t.length;)n=t.pop(),typeof n=="string"?e.unshift.apply(e,n.split(`
`)):Array.isArray(n)?t.push.apply(t,n):ze(t)||e.unshift(""+n);return e},textSize:function(t,e,n){var r=[].concat(e),s=r.length,a=t.font,l=0,c;for(t.font=n.string,c=0;c<s;++c)l=Math.max(t.measureText(r[c]).width,l);return t.font=a,{height:s*n.lineHeight,width:l}},bound:function(t,e,n){return Math.max(t,Math.min(e,n))},arrayDiff:function(t,e){var n=t.slice(),r=[],s,a,l,c;for(s=0,l=e.length;s<l;++s)c=e[s],a=n.indexOf(c),a===-1?r.push([c,1]):n.splice(a,1);for(s=0,l=n.length;s<l;++s)r.push([n[s],-1]);return r},rasterize:function(t){return Math.round(t*V0)/V0}};function nf(t,e){var n=e.x,r=e.y;if(n===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var s=t.x-n,a=t.y-r,l=Math.sqrt(s*s+a*a);return{x:l?s/l:0,y:l?a/l:-1}}function bE(t,e,n,r,s){switch(s){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:s*=Math.PI/180,n=Math.cos(s),r=Math.sin(s);break}return{x:t,y:e,vx:n,vy:r}}var wE=0,cv=1,uv=2,dv=4,fv=8;function Kl(t,e,n){var r=wE;return t<n.left?r|=cv:t>n.right&&(r|=uv),e<n.top?r|=fv:e>n.bottom&&(r|=dv),r}function _E(t,e){for(var n=t.x0,r=t.y0,s=t.x1,a=t.y1,l=Kl(n,r,e),c=Kl(s,a,e),d,h,m;!(!(l|c)||l&c);)d=l||c,d&fv?(h=n+(s-n)*(e.top-r)/(a-r),m=e.top):d&dv?(h=n+(s-n)*(e.bottom-r)/(a-r),m=e.bottom):d&uv?(m=r+(a-r)*(e.right-n)/(s-n),h=e.right):d&cv&&(m=r+(a-r)*(e.left-n)/(s-n),h=e.left),d===l?(n=h,r=m,l=Kl(n,r,e)):(s=h,a=m,c=Kl(s,a,e));return{x0:n,x1:s,y0:r,y1:a}}function Ql(t,e){var n=e.anchor,r=t,s,a;return e.clamp&&(r=_E(r,e.area)),n==="start"?(s=r.x0,a=r.y0):n==="end"?(s=r.x1,a=r.y1):(s=(r.x0+r.x1)/2,a=(r.y0+r.y1)/2),bE(s,a,t.vx,t.vy,e.align)}var Gl={arc:function(t,e){var n=(t.startAngle+t.endAngle)/2,r=Math.cos(n),s=Math.sin(n),a=t.innerRadius,l=t.outerRadius;return Ql({x0:t.x+r*a,y0:t.y+s*a,x1:t.x+r*l,y1:t.y+s*l,vx:r,vy:s},e)},point:function(t,e){var n=nf(t,e.origin),r=n.x*t.options.radius,s=n.y*t.options.radius;return Ql({x0:t.x-r,y0:t.y-s,x1:t.x+r,y1:t.y+s,vx:n.x,vy:n.y},e)},bar:function(t,e){var n=nf(t,e.origin),r=t.x,s=t.y,a=0,l=0;return t.horizontal?(r=Math.min(t.x,t.base),a=Math.abs(t.base-t.x)):(s=Math.min(t.y,t.base),l=Math.abs(t.base-t.y)),Ql({x0:r,y0:s+l,x1:r+a,y1:s,vx:n.x,vy:n.y},e)},fallback:function(t,e){var n=nf(t,e.origin);return Ql({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:n.x,vy:n.y},e)}},vr=Go.rasterize;function SE(t){var e=t.borderWidth||0,n=t.padding,r=t.size.height,s=t.size.width,a=-s/2,l=-r/2;return{frame:{x:a-n.left-e,y:l-n.top-e,w:s+n.width+e*2,h:r+n.height+e*2},text:{x:a,y:l,w:s,h:r}}}function kE(t,e){var n=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return t.horizontal?{x:r,y:null}:{x:null,y:r}}function CE(t){return t instanceof ts?Gl.arc:t instanceof Ri?Gl.point:t instanceof wr?Gl.bar:Gl.fallback}function NE(t,e,n,r,s,a){var l=Math.PI/2;if(a){var c=Math.min(a,s/2,r/2),d=e+c,h=n+c,m=e+r-c,y=n+s-c;t.moveTo(e,h),d<m&&h<y?(t.arc(d,h,c,-Math.PI,-l),t.arc(m,h,c,-l,0),t.arc(m,y,c,0,l),t.arc(d,y,c,l,Math.PI)):d<m?(t.moveTo(d,n),t.arc(m,h,c,-l,l),t.arc(d,h,c,l,Math.PI+l)):h<y?(t.arc(d,h,c,-Math.PI,0),t.arc(d,y,c,0,Math.PI)):t.arc(d,h,c,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,r,s)}function jE(t,e,n){var r=n.backgroundColor,s=n.borderColor,a=n.borderWidth;!r&&(!s||!a)||(t.beginPath(),NE(t,vr(e.x)+a/2,vr(e.y)+a/2,vr(e.w)-a,vr(e.h)-a,n.borderRadius),t.closePath(),r&&(t.fillStyle=r,t.fill()),s&&a&&(t.strokeStyle=s,t.lineWidth=a,t.lineJoin="miter",t.stroke()))}function EE(t,e,n){var r=n.lineHeight,s=t.w,a=t.x,l=t.y+r/2;return e==="center"?a+=s/2:(e==="end"||e==="right")&&(a+=s),{h:r,w:s,x:a,y:l}}function TE(t,e,n){var r=t.shadowBlur,s=n.stroked,a=vr(n.x),l=vr(n.y),c=vr(n.w);s&&t.strokeText(e,a,l,c),n.filled&&(r&&s&&(t.shadowBlur=0),t.fillText(e,a,l,c),r&&s&&(t.shadowBlur=r))}function PE(t,e,n,r){var s=r.textAlign,a=r.color,l=!!a,c=r.font,d=e.length,h=r.textStrokeColor,m=r.textStrokeWidth,y=h&&m,x;if(!(!d||!l&&!y))for(n=EE(n,s,c),t.font=c.string,t.textAlign=s,t.textBaseline="middle",t.shadowBlur=r.textShadowBlur,t.shadowColor=r.textShadowColor,l&&(t.fillStyle=a),y&&(t.lineJoin="round",t.lineWidth=m,t.strokeStyle=h),x=0,d=e.length;x<d;++x)TE(t,e[x],{stroked:y,filled:l,w:n.w,x:n.x,y:n.y+n.h*x})}var hv=function(t,e,n,r){var s=this;s._config=t,s._index=r,s._model=null,s._rects=null,s._ctx=e,s._el=n};Zn(hv.prototype,{_modelize:function(t,e,n,r){var s=this,a=s._index,l=Ct(Qe([n.font,{}],r,a)),c=Qe([n.color,st.color],r,a);return{align:Qe([n.align,"center"],r,a),anchor:Qe([n.anchor,"center"],r,a),area:r.chart.chartArea,backgroundColor:Qe([n.backgroundColor,null],r,a),borderColor:Qe([n.borderColor,null],r,a),borderRadius:Qe([n.borderRadius,0],r,a),borderWidth:Qe([n.borderWidth,0],r,a),clamp:Qe([n.clamp,!1],r,a),clip:Qe([n.clip,!1],r,a),color:c,display:t,font:l,lines:e,offset:Qe([n.offset,4],r,a),opacity:Qe([n.opacity,1],r,a),origin:kE(s._el,r),padding:dn(Qe([n.padding,4],r,a)),positioner:CE(s._el),rotation:Qe([n.rotation,0],r,a)*(Math.PI/180),size:Go.textSize(s._ctx,e,l),textAlign:Qe([n.textAlign,"start"],r,a),textShadowBlur:Qe([n.textShadowBlur,0],r,a),textShadowColor:Qe([n.textShadowColor,c],r,a),textStrokeColor:Qe([n.textStrokeColor,c],r,a),textStrokeWidth:Qe([n.textStrokeWidth,0],r,a)}},update:function(t){var e=this,n=null,r=null,s=e._index,a=e._config,l,c,d,h=Qe([a.display,!0],t,s);h&&(l=t.dataset.data[s],c=Te(ke(a.formatter,[l,t]),l),d=ze(c)?[]:Go.toTextLines(c),d.length&&(n=e._modelize(h,d,a,t),r=SE(n))),e._model=n,e._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var n=this,r=t.ctx,s=n._model,a=n._rects,l;this.visible()&&(r.save(),s.clip&&(l=s.area,r.beginPath(),r.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),r.clip()),r.globalAlpha=Go.bound(0,s.opacity,1),r.translate(vr(e.x),vr(e.y)),r.rotate(s.rotation),jE(r,a.frame,s),PE(r,s.lines,a.text,s),r.restore())}});var ME=Number.MIN_SAFE_INTEGER||-9007199254740991,RE=Number.MAX_SAFE_INTEGER||9007199254740991;function $o(t,e,n){var r=Math.cos(n),s=Math.sin(n),a=e.x,l=e.y;return{x:a+r*(t.x-a)-s*(t.y-l),y:l+s*(t.x-a)+r*(t.y-l)}}function Y0(t,e){var n=RE,r=ME,s=e.origin,a,l,c,d,h;for(a=0;a<t.length;++a)l=t[a],c=l.x-s.x,d=l.y-s.y,h=e.vx*c+e.vy*d,n=Math.min(n,h),r=Math.max(r,h);return{min:n,max:r}}function Zl(t,e){var n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);return{vx:(e.x-t.x)/s,vy:(e.y-t.y)/s,origin:t,ln:s}}var pv=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Zn(pv.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,n){this._rotation=n,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,n=1,r=e._rect;return t=$o(t,e.center(),-e._rotation),!(t.x<r.x-n||t.y<r.y-n||t.x>r.x+r.w+n*2||t.y>r.y+r.h+n*2)},intersects:function(t){var e=this._points(),n=t._points(),r=[Zl(e[0],e[1]),Zl(e[0],e[3])],s,a,l;for(this._rotation!==t._rotation&&r.push(Zl(n[0],n[1]),Zl(n[0],n[3])),s=0;s<r.length;++s)if(a=Y0(e,r[s]),l=Y0(n,r[s]),a.max<l.min||l.max<a.min)return!1;return!0},_points:function(){var t=this,e=t._rect,n=t._rotation,r=t.center();return[$o({x:e.x,y:e.y},r,n),$o({x:e.x+e.w,y:e.y},r,n),$o({x:e.x+e.w,y:e.y+e.h},r,n),$o({x:e.x,y:e.y+e.h},r,n)]}});function mv(t,e,n){var r=e.positioner(t,e),s=r.vx,a=r.vy;if(!s&&!a)return{x:r.x,y:r.y};var l=n.w,c=n.h,d=e.rotation,h=Math.abs(l/2*Math.cos(d))+Math.abs(c/2*Math.sin(d)),m=Math.abs(l/2*Math.sin(d))+Math.abs(c/2*Math.cos(d)),y=1/Math.max(Math.abs(s),Math.abs(a));return h*=s*y,m*=a*y,h+=e.offset*s,m+=e.offset*a,{x:r.x+h,y:r.y+m}}function AE(t,e){var n,r,s,a;for(n=t.length-1;n>=0;--n)for(s=t[n].$layout,r=n-1;r>=0&&s._visible;--r)a=t[r].$layout,a._visible&&s._box.intersects(a._box)&&e(s,a);return t}function OE(t){var e,n,r,s,a,l,c;for(e=0,n=t.length;e<n;++e)r=t[e],s=r.$layout,s._visible&&(c=new Proxy(r._el,{get:(d,h)=>d.getProps([h],!0)[h]}),a=r.geometry(),l=mv(c,r.model(),a),s._box.update(l,a,r.rotation()));return AE(t,function(d,h){var m=d._hidable,y=h._hidable;m&&y||y?h._visible=!1:m&&(d._visible=!1)})}var Zo={prepare:function(t){var e=[],n,r,s,a,l;for(n=0,s=t.length;n<s;++n)for(r=0,a=t[n].length;r<a;++r)l=t[n][r],e.push(l),l.$layout={_box:new pv,_hidable:!1,_visible:!0,_set:n,_idx:l._index};return e.sort(function(c,d){var h=c.$layout,m=d.$layout;return h._idx===m._idx?m._set-h._set:m._idx-h._idx}),this.update(e),e},update:function(t){var e=!1,n,r,s,a,l;for(n=0,r=t.length;n<r;++n)s=t[n],a=s.model(),l=s.$layout,l._hidable=a&&a.display==="auto",l._visible=s.visible(),e|=l._hidable;e&&OE(t)},lookup:function(t,e){var n,r;for(n=t.length-1;n>=0;--n)if(r=t[n].$layout,r&&r._visible&&r._box.contains(e))return t[n];return null},draw:function(t,e){var n,r,s,a,l,c;for(n=0,r=e.length;n<r;++n)s=e[n],a=s.$layout,a._visible&&(l=s.geometry(),c=mv(s._el,s.model(),l),a._box.update(c,l,s.rotation()),s.draw(t,c))}},DE=function(t){if(ze(t))return null;var e=t,n,r,s;if(Ie(t))if(!ze(t.label))e=t.label;else if(!ze(t.r))e=t.r;else for(e="",n=Object.keys(t),s=0,r=n.length;s<r;++s)e+=(s!==0?", ":"")+n[s]+": "+t[n[s]];return""+e},LE={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:DE,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},Qt="$datalabels",gv="$default";function IE(t,e){var n=t.datalabels,r={},s=[],a,l;return n===!1?null:(n===!0&&(n={}),e=Zn({},[e,n]),a=e.labels||{},l=Object.keys(a),delete e.labels,l.length?l.forEach(function(c){a[c]&&s.push(Zn({},[e,a[c],{_key:c}]))}):s.push(e),r=s.reduce(function(c,d){return De(d.listeners||{},function(h,m){c[m]=c[m]||{},c[m][d._key||gv]=h}),delete d.listeners,c},{}),{labels:s,listeners:r})}function Rf(t,e,n,r){if(e){var s=n.$context,a=n.$groups,l;e[a._set]&&(l=e[a._set][a._key],l&&ke(l,[s,r])===!0&&(t[Qt]._dirty=!0,n.update(s)))}}function FE(t,e,n,r,s){var a,l;!n&&!r||(n?r?n!==r&&(l=a=!0):l=!0:a=!0,l&&Rf(t,e.leave,n,s),a&&Rf(t,e.enter,r,s))}function zE(t,e){var n=t[Qt],r=n._listeners,s,a;if(!(!r.enter&&!r.leave)){if(e.type==="mousemove")a=Zo.lookup(n._labels,e);else if(e.type!=="mouseout")return;s=n._hovered,n._hovered=a,FE(t,r,s,a,e)}}function BE(t,e){var n=t[Qt],r=n._listeners.click,s=r&&Zo.lookup(n._labels,e);s&&Rf(t,r,s,e)}var Ys={id:"datalabels",defaults:LE,beforeInit:function(t){t[Qt]={_actives:[]}},beforeUpdate:function(t){var e=t[Qt];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(t,e,n){var r=e.index,s=t[Qt],a=s._datasets[r]=[],l=t.isDatasetVisible(r),c=t.data.datasets[r],d=IE(c,n),h=e.meta.data||[],m=t.ctx,y,x,w,b,S,_,C,T;for(m.save(),y=0,w=h.length;y<w;++y)if(C=h[y],C[Qt]=[],l&&C&&t.getDataVisibility(y)&&!C.skip)for(x=0,b=d.labels.length;x<b;++x)S=d.labels[x],_=S._key,T=new hv(S,m,C,y),T.$groups={_set:r,_key:_||gv},T.$context={active:!1,chart:t,dataIndex:y,dataset:c,datasetIndex:r},T.update(T.$context),C[Qt].push(T),a.push(T);m.restore(),Zn(s._listeners,d.listeners,{merger:function(P,D,M){D[P]=D[P]||{},D[P][e.index]=M[P],s._listened=!0}})},afterUpdate:function(t){t[Qt]._labels=Zo.prepare(t[Qt]._datasets)},afterDatasetsDraw:function(t){Zo.draw(t,t[Qt]._labels)},beforeEvent:function(t,e){if(t[Qt]._listened){var n=e.event;switch(n.type){case"mousemove":case"mouseout":zE(t,n);break;case"click":BE(t,n);break}}},afterEvent:function(t){var e=t[Qt],n=e._actives,r=e._actives=t.getActiveElements(),s=Go.arrayDiff(n,r),a,l,c,d,h,m,y;for(a=0,l=s.length;a<l;++a)if(h=s[a],h[1])for(y=h[0].element[Qt]||[],c=0,d=y.length;c<d;++c)m=y[c],m.$context.active=h[1]===1,m.update(m.$context);(e._dirty||s.length)&&(Zo.update(e._labels),t.render()),delete e._dirty}},rf={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var q0;function UE(){return q0||(q0=1,function(t){(function(e,n,r,s){var a=["","webkit","Moz","MS","ms","o"],l=n.createElement("div"),c="function",d=Math.round,h=Math.abs,m=Date.now;function y(N,j,O){return setTimeout(P(N,O),j)}function x(N,j,O){return Array.isArray(N)?(w(N,O[j],O),!0):!1}function w(N,j,O){var $;if(N)if(N.forEach)N.forEach(j,O);else if(N.length!==s)for($=0;$<N.length;)j.call(O,N[$],$,N),$++;else for($ in N)N.hasOwnProperty($)&&j.call(O,N[$],$,N)}function b(N,j,O){var $="DEPRECATED METHOD: "+j+`
`+O+` AT 
`;return function(){var G=new Error("get-stack-trace"),ae=G&&G.stack?G.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Oe=e.console&&(e.console.warn||e.console.log);return Oe&&Oe.call(e.console,$,ae),N.apply(this,arguments)}}var S;typeof Object.assign!="function"?S=function(j){if(j===s||j===null)throw new TypeError("Cannot convert undefined or null to object");for(var O=Object(j),$=1;$<arguments.length;$++){var G=arguments[$];if(G!==s&&G!==null)for(var ae in G)G.hasOwnProperty(ae)&&(O[ae]=G[ae])}return O}:S=Object.assign;var _=b(function(j,O,$){for(var G=Object.keys(O),ae=0;ae<G.length;)(!$||$&&j[G[ae]]===s)&&(j[G[ae]]=O[G[ae]]),ae++;return j},"extend","Use `assign`."),C=b(function(j,O){return _(j,O,!0)},"merge","Use `assign`.");function T(N,j,O){var $=j.prototype,G;G=N.prototype=Object.create($),G.constructor=N,G._super=$,O&&S(G,O)}function P(N,j){return function(){return N.apply(j,arguments)}}function D(N,j){return typeof N==c?N.apply(j&&j[0]||s,j):N}function M(N,j){return N===s?j:N}function I(N,j,O){w(q(j),function($){N.addEventListener($,O,!1)})}function B(N,j,O){w(q(j),function($){N.removeEventListener($,O,!1)})}function V(N,j){for(;N;){if(N==j)return!0;N=N.parentNode}return!1}function U(N,j){return N.indexOf(j)>-1}function q(N){return N.trim().split(/\s+/g)}function te(N,j,O){if(N.indexOf&&!O)return N.indexOf(j);for(var $=0;$<N.length;){if(O&&N[$][O]==j||!O&&N[$]===j)return $;$++}return-1}function ne(N){return Array.prototype.slice.call(N,0)}function ue(N,j,O){for(var $=[],G=[],ae=0;ae<N.length;){var Oe=N[ae][j];te(G,Oe)<0&&$.push(N[ae]),G[ae]=Oe,ae++}return $=$.sort(function(ct,ft){return ct[j]>ft[j]}),$}function K(N,j){for(var O,$,G=j[0].toUpperCase()+j.slice(1),ae=0;ae<a.length;){if(O=a[ae],$=O?O+G:j,$ in N)return $;ae++}return s}var de=1;function fe(){return de++}function ce(N){var j=N.ownerDocument||N;return j.defaultView||j.parentWindow||e}var J=/mobile|tablet|ip(ad|hone|od)|android/i,ie="ontouchstart"in e,A=K(e,"PointerEvent")!==s,X=ie&&J.test(navigator.userAgent),se="touch",be="pen",ve="mouse",Fe="kinect",Pe=25,Ee=1,Re=2,we=4,oe=8,Ne=1,Ce=2,Ae=4,Xe=8,ot=16,at=Ce|Ae,It=Xe|ot,Cr=at|It,Xs=["x","y"],Ln=["clientX","clientY"];function pt(N,j){var O=this;this.manager=N,this.callback=j,this.element=N.element,this.target=N.options.inputTarget,this.domHandler=function($){D(N.options.enable,[N])&&O.handler($)},this.init()}pt.prototype={handler:function(){},init:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(ce(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&B(this.element,this.evEl,this.domHandler),this.evTarget&&B(this.target,this.evTarget,this.domHandler),this.evWin&&B(ce(this.element),this.evWin,this.domHandler)}};function Wi(N){var j,O=N.options.inputClass;return O?j=O:A?j=Qs:X?j=Er:ie?j=Pr:j=jr,new j(N,wa)}function wa(N,j,O){var $=O.pointers.length,G=O.changedPointers.length,ae=j&Ee&&$-G===0,Oe=j&(we|oe)&&$-G===0;O.isFirst=!!ae,O.isFinal=!!Oe,ae&&(N.session={}),O.eventType=j,_a(N,O),N.emit("hammer.input",O),N.recognize(O),N.session.prevInput=O}function _a(N,j){var O=N.session,$=j.pointers,G=$.length;O.firstInput||(O.firstInput=Ks(j)),G>1&&!O.firstMultiple?O.firstMultiple=Ks(j):G===1&&(O.firstMultiple=!1);var ae=O.firstInput,Oe=O.firstMultiple,lt=Oe?Oe.center:ae.center,ct=j.center=ls($);j.timeStamp=m(),j.deltaTime=j.timeStamp-ae.timeStamp,j.angle=Yi(lt,ct),j.distance=In(lt,ct),Sa(O,j),j.offsetDirection=Nr(j.deltaX,j.deltaY);var ft=Vi(j.deltaTime,j.deltaX,j.deltaY);j.overallVelocityX=ft.x,j.overallVelocityY=ft.y,j.overallVelocity=h(ft.x)>h(ft.y)?ft.x:ft.y,j.scale=Oe?Na(Oe.pointers,$):1,j.rotation=Oe?Ca(Oe.pointers,$):0,j.maxPointers=O.prevInput?j.pointers.length>O.prevInput.maxPointers?j.pointers.length:O.prevInput.maxPointers:j.pointers.length,ka(O,j);var mt=N.element;V(j.srcEvent.target,mt)&&(mt=j.srcEvent.target),j.target=mt}function Sa(N,j){var O=j.center,$=N.offsetDelta||{},G=N.prevDelta||{},ae=N.prevInput||{};(j.eventType===Ee||ae.eventType===we)&&(G=N.prevDelta={x:ae.deltaX||0,y:ae.deltaY||0},$=N.offsetDelta={x:O.x,y:O.y}),j.deltaX=G.x+(O.x-$.x),j.deltaY=G.y+(O.y-$.y)}function ka(N,j){var O=N.lastInterval||j,$=j.timeStamp-O.timeStamp,G,ae,Oe,lt;if(j.eventType!=oe&&($>Pe||O.velocity===s)){var ct=j.deltaX-O.deltaX,ft=j.deltaY-O.deltaY,mt=Vi($,ct,ft);ae=mt.x,Oe=mt.y,G=h(mt.x)>h(mt.y)?mt.x:mt.y,lt=Nr(ct,ft),N.lastInterval=j}else G=O.velocity,ae=O.velocityX,Oe=O.velocityY,lt=O.direction;j.velocity=G,j.velocityX=ae,j.velocityY=Oe,j.direction=lt}function Ks(N){for(var j=[],O=0;O<N.pointers.length;)j[O]={clientX:d(N.pointers[O].clientX),clientY:d(N.pointers[O].clientY)},O++;return{timeStamp:m(),pointers:j,center:ls(j),deltaX:N.deltaX,deltaY:N.deltaY}}function ls(N){var j=N.length;if(j===1)return{x:d(N[0].clientX),y:d(N[0].clientY)};for(var O=0,$=0,G=0;G<j;)O+=N[G].clientX,$+=N[G].clientY,G++;return{x:d(O/j),y:d($/j)}}function Vi(N,j,O){return{x:j/N||0,y:O/N||0}}function Nr(N,j){return N===j?Ne:h(N)>=h(j)?N<0?Ce:Ae:j<0?Xe:ot}function In(N,j,O){O||(O=Xs);var $=j[O[0]]-N[O[0]],G=j[O[1]]-N[O[1]];return Math.sqrt($*$+G*G)}function Yi(N,j,O){O||(O=Xs);var $=j[O[0]]-N[O[0]],G=j[O[1]]-N[O[1]];return Math.atan2(G,$)*180/Math.PI}function Ca(N,j){return Yi(j[1],j[0],Ln)+Yi(N[1],N[0],Ln)}function Na(N,j){return In(j[0],j[1],Ln)/In(N[0],N[1],Ln)}var $c={mousedown:Ee,mousemove:Re,mouseup:we},qi="mousedown",Xi="mousemove mouseup";function jr(){this.evEl=qi,this.evWin=Xi,this.pressed=!1,pt.apply(this,arguments)}T(jr,pt,{handler:function(j){var O=$c[j.type];O&Ee&&j.button===0&&(this.pressed=!0),O&Re&&j.which!==1&&(O=we),this.pressed&&(O&we&&(this.pressed=!1),this.callback(this.manager,O,{pointers:[j],changedPointers:[j],pointerType:ve,srcEvent:j}))}});var Ki={pointerdown:Ee,pointermove:Re,pointerup:we,pointercancel:oe,pointerout:oe},Qi={2:se,3:be,4:ve,5:Fe},Jn="pointerdown",er="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Jn="MSPointerDown",er="MSPointerMove MSPointerUp MSPointerCancel");function Qs(){this.evEl=Jn,this.evWin=er,pt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}T(Qs,pt,{handler:function(j){var O=this.store,$=!1,G=j.type.toLowerCase().replace("ms",""),ae=Ki[G],Oe=Qi[j.pointerType]||j.pointerType,lt=Oe==se,ct=te(O,j.pointerId,"pointerId");ae&Ee&&(j.button===0||lt)?ct<0&&(O.push(j),ct=O.length-1):ae&(we|oe)&&($=!0),!(ct<0)&&(O[ct]=j,this.callback(this.manager,ae,{pointers:O,changedPointers:[j],pointerType:Oe,srcEvent:j}),$&&O.splice(ct,1))}});var ja={touchstart:Ee,touchmove:Re,touchend:we,touchcancel:oe},Ea="touchstart",Ta="touchstart touchmove touchend touchcancel";function Gi(){this.evTarget=Ea,this.evWin=Ta,this.started=!1,pt.apply(this,arguments)}T(Gi,pt,{handler:function(j){var O=ja[j.type];if(O===Ee&&(this.started=!0),!!this.started){var $=Zi.call(this,j,O);O&(we|oe)&&$[0].length-$[1].length===0&&(this.started=!1),this.callback(this.manager,O,{pointers:$[0],changedPointers:$[1],pointerType:se,srcEvent:j})}}});function Zi(N,j){var O=ne(N.touches),$=ne(N.changedTouches);return j&(we|oe)&&(O=ue(O.concat($),"identifier")),[O,$]}var Pa={touchstart:Ee,touchmove:Re,touchend:we,touchcancel:oe},cs="touchstart touchmove touchend touchcancel";function Er(){this.evTarget=cs,this.targetIds={},pt.apply(this,arguments)}T(Er,pt,{handler:function(j){var O=Pa[j.type],$=us.call(this,j,O);$&&this.callback(this.manager,O,{pointers:$[0],changedPointers:$[1],pointerType:se,srcEvent:j})}});function us(N,j){var O=ne(N.touches),$=this.targetIds;if(j&(Ee|Re)&&O.length===1)return $[O[0].identifier]=!0,[O,O];var G,ae,Oe=ne(N.changedTouches),lt=[],ct=this.target;if(ae=O.filter(function(ft){return V(ft.target,ct)}),j===Ee)for(G=0;G<ae.length;)$[ae[G].identifier]=!0,G++;for(G=0;G<Oe.length;)$[Oe[G].identifier]&&lt.push(Oe[G]),j&(we|oe)&&delete $[Oe[G].identifier],G++;if(lt.length)return[ue(ae.concat(lt),"identifier"),lt]}var Wc=2500,Tr=25;function Pr(){pt.apply(this,arguments);var N=P(this.handler,this);this.touch=new Er(this.manager,N),this.mouse=new jr(this.manager,N),this.primaryTouch=null,this.lastTouches=[]}T(Pr,pt,{handler:function(j,O,$){var G=$.pointerType==se,ae=$.pointerType==ve;if(!(ae&&$.sourceCapabilities&&$.sourceCapabilities.firesTouchEvents)){if(G)Gs.call(this,O,$);else if(ae&&Vc.call(this,$))return;this.callback(j,O,$)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Gs(N,j){N&Ee?(this.primaryTouch=j.changedPointers[0].identifier,Zs.call(this,j)):N&(we|oe)&&Zs.call(this,j)}function Zs(N){var j=N.changedPointers[0];if(j.identifier===this.primaryTouch){var O={x:j.clientX,y:j.clientY};this.lastTouches.push(O);var $=this.lastTouches,G=function(){var ae=$.indexOf(O);ae>-1&&$.splice(ae,1)};setTimeout(G,Wc)}}function Vc(N){for(var j=N.srcEvent.clientX,O=N.srcEvent.clientY,$=0;$<this.lastTouches.length;$++){var G=this.lastTouches[$],ae=Math.abs(j-G.x),Oe=Math.abs(O-G.y);if(ae<=Tr&&Oe<=Tr)return!0}return!1}var Ma=K(l.style,"touchAction"),Ra=Ma!==s,Fn="compute",Ji="auto",Js="manipulation",tr="none",Mr="pan-x",Rr="pan-y",ds=qc();function ei(N,j){this.manager=N,this.set(j)}ei.prototype={set:function(N){N==Fn&&(N=this.compute()),Ra&&this.manager.element.style&&ds[N]&&(this.manager.element.style[Ma]=N),this.actions=N.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var N=[];return w(this.manager.recognizers,function(j){D(j.options.enable,[j])&&(N=N.concat(j.getTouchAction()))}),Yc(N.join(" "))},preventDefaults:function(N){var j=N.srcEvent,O=N.offsetDirection;if(this.manager.session.prevented){j.preventDefault();return}var $=this.actions,G=U($,tr)&&!ds[tr],ae=U($,Rr)&&!ds[Rr],Oe=U($,Mr)&&!ds[Mr];if(G){var lt=N.pointers.length===1,ct=N.distance<2,ft=N.deltaTime<250;if(lt&&ct&&ft)return}if(!(Oe&&ae)&&(G||ae&&O&at||Oe&&O&It))return this.preventSrc(j)},preventSrc:function(N){this.manager.session.prevented=!0,N.preventDefault()}};function Yc(N){if(U(N,tr))return tr;var j=U(N,Mr),O=U(N,Rr);return j&&O?tr:j||O?j?Mr:Rr:U(N,Js)?Js:Ji}function qc(){if(!Ra)return!1;var N={},j=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(O){N[O]=j?e.CSS.supports("touch-action",O):!0}),N}var We=1,Bt=2,zn=4,Sn=8,Ut=Sn,fs=16,nn=32;function Ht(N){this.options=S({},this.defaults,N||{}),this.id=fe(),this.manager=null,this.options.enable=M(this.options.enable,!0),this.state=We,this.simultaneous={},this.requireFail=[]}Ht.prototype={defaults:{},set:function(N){return S(this.options,N),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(N){if(x(N,"recognizeWith",this))return this;var j=this.simultaneous;return N=jt(N,this),j[N.id]||(j[N.id]=N,N.recognizeWith(this)),this},dropRecognizeWith:function(N){return x(N,"dropRecognizeWith",this)?this:(N=jt(N,this),delete this.simultaneous[N.id],this)},requireFailure:function(N){if(x(N,"requireFailure",this))return this;var j=this.requireFail;return N=jt(N,this),te(j,N)===-1&&(j.push(N),N.requireFailure(this)),this},dropRequireFailure:function(N){if(x(N,"dropRequireFailure",this))return this;N=jt(N,this);var j=te(this.requireFail,N);return j>-1&&this.requireFail.splice(j,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(N){return!!this.simultaneous[N.id]},emit:function(N){var j=this,O=this.state;function $(G){j.manager.emit(G,N)}O<Sn&&$(j.options.event+rn(O)),$(j.options.event),N.additionalEvent&&$(N.additionalEvent),O>=Sn&&$(j.options.event+rn(O))},tryEmit:function(N){if(this.canEmit())return this.emit(N);this.state=nn},canEmit:function(){for(var N=0;N<this.requireFail.length;){if(!(this.requireFail[N].state&(nn|We)))return!1;N++}return!0},recognize:function(N){var j=S({},N);if(!D(this.options.enable,[this,j])){this.reset(),this.state=nn;return}this.state&(Ut|fs|nn)&&(this.state=We),this.state=this.process(j),this.state&(Bt|zn|Sn|fs)&&this.tryEmit(j)},process:function(N){},getTouchAction:function(){},reset:function(){}};function rn(N){return N&fs?"cancel":N&Sn?"end":N&zn?"move":N&Bt?"start":""}function Aa(N){return N==ot?"down":N==Xe?"up":N==Ce?"left":N==Ae?"right":""}function jt(N,j){var O=j.manager;return O?O.get(N):N}function sn(){Ht.apply(this,arguments)}T(sn,Ht,{defaults:{pointers:1},attrTest:function(N){var j=this.options.pointers;return j===0||N.pointers.length===j},process:function(N){var j=this.state,O=N.eventType,$=j&(Bt|zn),G=this.attrTest(N);return $&&(O&oe||!G)?j|fs:$||G?O&we?j|Sn:j&Bt?j|zn:Bt:nn}});function ti(){sn.apply(this,arguments),this.pX=null,this.pY=null}T(ti,sn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Cr},getTouchAction:function(){var N=this.options.direction,j=[];return N&at&&j.push(Rr),N&It&&j.push(Mr),j},directionTest:function(N){var j=this.options,O=!0,$=N.distance,G=N.direction,ae=N.deltaX,Oe=N.deltaY;return G&j.direction||(j.direction&at?(G=ae===0?Ne:ae<0?Ce:Ae,O=ae!=this.pX,$=Math.abs(N.deltaX)):(G=Oe===0?Ne:Oe<0?Xe:ot,O=Oe!=this.pY,$=Math.abs(N.deltaY))),N.direction=G,O&&$>j.threshold&&G&j.direction},attrTest:function(N){return sn.prototype.attrTest.call(this,N)&&(this.state&Bt||!(this.state&Bt)&&this.directionTest(N))},emit:function(N){this.pX=N.deltaX,this.pY=N.deltaY;var j=Aa(N.direction);j&&(N.additionalEvent=this.options.event+j),this._super.emit.call(this,N)}});function eo(){sn.apply(this,arguments)}T(eo,sn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[tr]},attrTest:function(N){return this._super.attrTest.call(this,N)&&(Math.abs(N.scale-1)>this.options.threshold||this.state&Bt)},emit:function(N){if(N.scale!==1){var j=N.scale<1?"in":"out";N.additionalEvent=this.options.event+j}this._super.emit.call(this,N)}});function Ar(){Ht.apply(this,arguments),this._timer=null,this._input=null}T(Ar,Ht,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ji]},process:function(N){var j=this.options,O=N.pointers.length===j.pointers,$=N.distance<j.threshold,G=N.deltaTime>j.time;if(this._input=N,!$||!O||N.eventType&(we|oe)&&!G)this.reset();else if(N.eventType&Ee)this.reset(),this._timer=y(function(){this.state=Ut,this.tryEmit()},j.time,this);else if(N.eventType&we)return Ut;return nn},reset:function(){clearTimeout(this._timer)},emit:function(N){this.state===Ut&&(N&&N.eventType&we?this.manager.emit(this.options.event+"up",N):(this._input.timeStamp=m(),this.manager.emit(this.options.event,this._input)))}});function Or(){sn.apply(this,arguments)}T(Or,sn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[tr]},attrTest:function(N){return this._super.attrTest.call(this,N)&&(Math.abs(N.rotation)>this.options.threshold||this.state&Bt)}});function nr(){sn.apply(this,arguments)}T(nr,sn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:at|It,pointers:1},getTouchAction:function(){return ti.prototype.getTouchAction.call(this)},attrTest:function(N){var j=this.options.direction,O;return j&(at|It)?O=N.overallVelocity:j&at?O=N.overallVelocityX:j&It&&(O=N.overallVelocityY),this._super.attrTest.call(this,N)&&j&N.offsetDirection&&N.distance>this.options.threshold&&N.maxPointers==this.options.pointers&&h(O)>this.options.velocity&&N.eventType&we},emit:function(N){var j=Aa(N.offsetDirection);j&&this.manager.emit(this.options.event+j,N),this.manager.emit(this.options.event,N)}});function rr(){Ht.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}T(rr,Ht,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Js]},process:function(N){var j=this.options,O=N.pointers.length===j.pointers,$=N.distance<j.threshold,G=N.deltaTime<j.time;if(this.reset(),N.eventType&Ee&&this.count===0)return this.failTimeout();if($&&G&&O){if(N.eventType!=we)return this.failTimeout();var ae=this.pTime?N.timeStamp-this.pTime<j.interval:!0,Oe=!this.pCenter||In(this.pCenter,N.center)<j.posThreshold;this.pTime=N.timeStamp,this.pCenter=N.center,!Oe||!ae?this.count=1:this.count+=1,this._input=N;var lt=this.count%j.taps;if(lt===0)return this.hasRequireFailures()?(this._timer=y(function(){this.state=Ut,this.tryEmit()},j.interval,this),Bt):Ut}return nn},failTimeout:function(){return this._timer=y(function(){this.state=nn},this.options.interval,this),nn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ut&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Bn(N,j){return j=j||{},j.recognizers=M(j.recognizers,Bn.defaults.preset),new ri(N,j)}Bn.VERSION="2.0.7",Bn.defaults={domEvents:!1,touchAction:Fn,enable:!0,inputTarget:null,inputClass:null,preset:[[Or,{enable:!1}],[eo,{enable:!1},["rotate"]],[nr,{direction:at}],[ti,{direction:at},["swipe"]],[rr],[rr,{event:"doubletap",taps:2},["tap"]],[Ar]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Xc=1,ni=2;function ri(N,j){this.options=S({},Bn.defaults,j||{}),this.options.inputTarget=this.options.inputTarget||N,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=N,this.input=Wi(this),this.touchAction=new ei(this,this.options.touchAction),si(this,!0),w(this.options.recognizers,function(O){var $=this.add(new O[0](O[1]));O[2]&&$.recognizeWith(O[2]),O[3]&&$.requireFailure(O[3])},this)}ri.prototype={set:function(N){return S(this.options,N),N.touchAction&&this.touchAction.update(),N.inputTarget&&(this.input.destroy(),this.input.target=N.inputTarget,this.input.init()),this},stop:function(N){this.session.stopped=N?ni:Xc},recognize:function(N){var j=this.session;if(!j.stopped){this.touchAction.preventDefaults(N);var O,$=this.recognizers,G=j.curRecognizer;(!G||G&&G.state&Ut)&&(G=j.curRecognizer=null);for(var ae=0;ae<$.length;)O=$[ae],j.stopped!==ni&&(!G||O==G||O.canRecognizeWith(G))?O.recognize(N):O.reset(),!G&&O.state&(Bt|zn|Sn)&&(G=j.curRecognizer=O),ae++}},get:function(N){if(N instanceof Ht)return N;for(var j=this.recognizers,O=0;O<j.length;O++)if(j[O].options.event==N)return j[O];return null},add:function(N){if(x(N,"add",this))return this;var j=this.get(N.options.event);return j&&this.remove(j),this.recognizers.push(N),N.manager=this,this.touchAction.update(),N},remove:function(N){if(x(N,"remove",this))return this;if(N=this.get(N),N){var j=this.recognizers,O=te(j,N);O!==-1&&(j.splice(O,1),this.touchAction.update())}return this},on:function(N,j){if(N!==s&&j!==s){var O=this.handlers;return w(q(N),function($){O[$]=O[$]||[],O[$].push(j)}),this}},off:function(N,j){if(N!==s){var O=this.handlers;return w(q(N),function($){j?O[$]&&O[$].splice(te(O[$],j),1):delete O[$]}),this}},emit:function(N,j){this.options.domEvents&&hs(N,j);var O=this.handlers[N]&&this.handlers[N].slice();if(!(!O||!O.length)){j.type=N,j.preventDefault=function(){j.srcEvent.preventDefault()};for(var $=0;$<O.length;)O[$](j),$++}},destroy:function(){this.element&&si(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function si(N,j){var O=N.element;if(O.style){var $;w(N.options.cssProps,function(G,ae){$=K(O.style,ae),j?(N.oldCssProps[$]=O.style[$],O.style[$]=G):O.style[$]=N.oldCssProps[$]||""}),j||(N.oldCssProps={})}}function hs(N,j){var O=n.createEvent("Event");O.initEvent(N,!0,!0),O.gesture=j,j.target.dispatchEvent(O)}S(Bn,{INPUT_START:Ee,INPUT_MOVE:Re,INPUT_END:we,INPUT_CANCEL:oe,STATE_POSSIBLE:We,STATE_BEGAN:Bt,STATE_CHANGED:zn,STATE_ENDED:Sn,STATE_RECOGNIZED:Ut,STATE_CANCELLED:fs,STATE_FAILED:nn,DIRECTION_NONE:Ne,DIRECTION_LEFT:Ce,DIRECTION_RIGHT:Ae,DIRECTION_UP:Xe,DIRECTION_DOWN:ot,DIRECTION_HORIZONTAL:at,DIRECTION_VERTICAL:It,DIRECTION_ALL:Cr,Manager:ri,Input:pt,TouchAction:ei,TouchInput:Er,MouseInput:jr,PointerEventInput:Qs,TouchMouseInput:Pr,SingleTouchInput:Gi,Recognizer:Ht,AttrRecognizer:sn,Tap:rr,Pan:ti,Swipe:nr,Pinch:eo,Rotate:Or,Press:Ar,on:I,off:B,each:w,merge:C,extend:_,assign:S,inherit:T,bindFn:P,prefixed:K});var Kc=typeof e<"u"?e:typeof self<"u"?self:{};Kc.Hammer=Bn,t.exports?t.exports=Bn:e[r]=Bn})(window,document,"Hammer")}(rf)),rf.exports}var HE=UE();const Jo=Bf(HE);/*!
* chartjs-plugin-zoom v2.2.0
* https://www.chartjs.org/chartjs-plugin-zoom/2.2.0/
 * (c) 2016-2024 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const da=t=>t&&t.enabled&&t.modifierKey,yv=(t,e)=>t&&e[t+"Key"],xh=(t,e)=>t&&!e[t+"Key"];function is(t,e,n){return t===void 0?!0:typeof t=="string"?t.indexOf(e)!==-1:typeof t=="function"?t({chart:n}).indexOf(e)!==-1:!1}function sf(t,e){return typeof t=="function"&&(t=t({chart:e})),typeof t=="string"?{x:t.indexOf("x")!==-1,y:t.indexOf("y")!==-1}:{x:!1,y:!1}}function $E(t,e){let n;return function(){return clearTimeout(n),n=setTimeout(t,e),e}}function WE({x:t,y:e},n){const r=n.scales,s=Object.keys(r);for(let a=0;a<s.length;a++){const l=r[s[a]];if(e>=l.top&&e<=l.bottom&&t>=l.left&&t<=l.right)return l}return null}function xv(t,e,n){const{mode:r="xy",scaleMode:s,overScaleMode:a}=t||{},l=WE(e,n),c=sf(r,n),d=sf(s,n);if(a){const m=sf(a,n);for(const y of["x","y"])m[y]&&(d[y]=c[y],c[y]=!1)}if(l&&d[l.axis])return[l];const h=[];return De(n.scales,function(m){c[m.axis]&&h.push(m)}),h}const Af=new WeakMap;function nt(t){let e=Af.get(t);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},Af.set(t,e)),e}function VE(t){Af.delete(t)}function vv(t,e,n,r){const s=Math.max(0,Math.min(1,(t-e)/n||0)),a=1-s;return{min:r*s,max:r*a}}function bv(t,e){const n=t.isHorizontal()?e.x:e.y;return t.getValueForPixel(n)}function wv(t,e,n){const r=t.max-t.min,s=r*(e-1),a=bv(t,n);return vv(a,t.min,r,s)}function YE(t,e,n){const r=bv(t,n);if(r===void 0)return{min:t.min,max:t.max};const s=Math.log10(t.min),a=Math.log10(t.max),l=Math.log10(r),c=a-s,d=c*(e-1),h=vv(l,s,c,d);return{min:Math.pow(10,s+h.min),max:Math.pow(10,a-h.max)}}function qE(t,e){return e&&(e[t.id]||e[t.axis])||{}}function X0(t,e,n,r,s){let a=n[r];if(a==="original"){const l=t.originalScaleLimits[e.id][r];a=Te(l.options,l.scale)}return Te(a,s)}function XE(t,e,n){const r=t.getValueForPixel(e),s=t.getValueForPixel(n);return{min:Math.min(r,s),max:Math.max(r,s)}}function KE(t,{min:e,max:n,minLimit:r,maxLimit:s},a){const l=(t-n+e)/2;e-=l,n+=l;const c=a.min.options??a.min.scale,d=a.max.options??a.max.scale,h=t/1e6;return Ds(e,c,h)&&(e=c),Ds(n,d,h)&&(n=d),e<r?(e=r,n=Math.min(r+t,s)):n>s&&(n=s,e=Math.max(s-t,r)),{min:e,max:n}}function qs(t,{min:e,max:n},r,s=!1){const a=nt(t.chart),{options:l}=t,c=qE(t,r),{minRange:d=0}=c,h=X0(a,t,c,"min",-1/0),m=X0(a,t,c,"max",1/0);if(s==="pan"&&(e<h||n>m))return!0;const y=t.max-t.min,x=s?Math.max(n-e,d):y;if(s&&x===d&&y<=d)return!0;const w=KE(x,{min:e,max:n,minLimit:h,maxLimit:m},a.originalScaleLimits[t.id]);return l.min=w.min,l.max=w.max,a.updatedScaleLimits[t.id]=w,t.parse(w.min)!==t.min||t.parse(w.max)!==t.max}function QE(t,e,n,r){const s=wv(t,e,n),a={min:t.min+s.min,max:t.max-s.max};return qs(t,a,r,!0)}function GE(t,e,n,r){const s=YE(t,e,n);return qs(t,s,r,!0)}function ZE(t,e,n,r){qs(t,XE(t,e,n),r,!0)}const K0=t=>t===0||isNaN(t)?0:t<0?Math.min(Math.round(t),-1):Math.max(Math.round(t),1);function JE(t){const n=t.getLabels().length-1;t.min>0&&(t.min-=1),t.max<n&&(t.max+=1)}function e4(t,e,n,r){const s=wv(t,e,n);t.min===t.max&&e<1&&JE(t);const a={min:t.min+K0(s.min),max:t.max-K0(s.max)};return qs(t,a,r,!0)}function t4(t){return t.isHorizontal()?t.width:t.height}function n4(t,e,n){const s=t.getLabels().length-1;let{min:a,max:l}=t;const c=Math.max(l-a,1),d=Math.round(t4(t)/Math.max(c,10)),h=Math.round(Math.abs(e/d));let m;return e<-d?(l=Math.min(l+h,s),a=c===1?l:l-c,m=l===s):e>d&&(a=Math.max(0,a-h),l=c===1?a:a+c,m=a===0),qs(t,{min:a,max:l},n)||m}const r4={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function _v(t,e,n,r=!1){const{min:s,max:a,options:l}=t,c=l.time&&l.time.round,d=r4[c]||0,h=t.getValueForPixel(t.getPixelForValue(s+d)-e),m=t.getValueForPixel(t.getPixelForValue(a+d)-e);return isNaN(h)||isNaN(m)?!0:qs(t,{min:h,max:m},n,r?"pan":!1)}function Q0(t,e,n){return _v(t,e,n,!0)}const Of={category:e4,default:QE,logarithmic:GE},Df={default:ZE},Lf={category:n4,default:_v,logarithmic:Q0,timeseries:Q0};function s4(t,e,n){const{id:r,options:{min:s,max:a}}=t;if(!e[r]||!n[r])return!0;const l=n[r];return l.min!==s||l.max!==a}function G0(t,e){De(t,(n,r)=>{e[r]||delete t[r]})}function $i(t,e){const{scales:n}=t,{originalScaleLimits:r,updatedScaleLimits:s}=e;return De(n,function(a){s4(a,r,s)&&(r[a.id]={min:{scale:a.min,options:a.options.min},max:{scale:a.max,options:a.options.max}})}),G0(r,n),G0(s,n),r}function Z0(t,e,n,r){const s=Of[t.type]||Of.default;ke(s,[t,e,n,r])}function J0(t,e,n,r){const s=Df[t.type]||Df.default;ke(s,[t,e,n,r])}function i4(t){const e=t.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function vh(t,e,n="none",r="api"){const{x:s=1,y:a=1,focalPoint:l=i4(t)}=typeof e=="number"?{x:e,y:e}:e,c=nt(t),{options:{limits:d,zoom:h}}=c;$i(t,c);const m=s!==1,y=a!==1,x=xv(h,l,t);De(x||t.scales,function(w){w.isHorizontal()&&m?Z0(w,s,l,d):!w.isHorizontal()&&y&&Z0(w,a,l,d)}),t.update(n),ke(h.onZoom,[{chart:t,trigger:r}])}function Sv(t,e,n,r="none",s="api"){const a=nt(t),{options:{limits:l,zoom:c}}=a,{mode:d="xy"}=c;$i(t,a);const h=is(d,"x",t),m=is(d,"y",t);De(t.scales,function(y){y.isHorizontal()&&h?J0(y,e.x,n.x,l):!y.isHorizontal()&&m&&J0(y,e.y,n.y,l)}),t.update(r),ke(c.onZoom,[{chart:t,trigger:s}])}function o4(t,e,n,r="none",s="api"){var c;const a=nt(t);$i(t,a);const l=t.scales[e];qs(l,n,void 0,!0),t.update(r),ke((c=a.options.zoom)==null?void 0:c.onZoom,[{chart:t,trigger:s}])}function a4(t,e="default"){const n=nt(t),r=$i(t,n);De(t.scales,function(s){const a=s.options;r[s.id]?(a.min=r[s.id].min.options,a.max=r[s.id].max.options):(delete a.min,delete a.max),delete n.updatedScaleLimits[s.id]}),t.update(e),ke(n.options.zoom.onZoomComplete,[{chart:t}])}function l4(t,e){const n=t.originalScaleLimits[e];if(!n)return;const{min:r,max:s}=n;return Te(s.options,s.scale)-Te(r.options,r.scale)}function c4(t){const e=nt(t);let n=1,r=1;return De(t.scales,function(s){const a=l4(e,s.id);if(a){const l=Math.round(a/(s.max-s.min)*100)/100;n=Math.min(n,l),r=Math.max(r,l)}}),n<1?n:r}function ey(t,e,n,r){const{panDelta:s}=r,a=s[t.id]||0;wn(a)===wn(e)&&(e+=a);const l=Lf[t.type]||Lf.default;ke(l,[t,e,n])?s[t.id]=0:s[t.id]=e}function kv(t,e,n,r="none"){const{x:s=0,y:a=0}=typeof e=="number"?{x:e,y:e}:e,l=nt(t),{options:{pan:c,limits:d}}=l,{onPan:h}=c||{};$i(t,l);const m=s!==0,y=a!==0;De(n||t.scales,function(x){x.isHorizontal()&&m?ey(x,s,d,l):!x.isHorizontal()&&y&&ey(x,a,d,l)}),t.update(r),ke(h,[{chart:t}])}function Cv(t){const e=nt(t);$i(t,e);const n={};for(const r of Object.keys(t.scales)){const{min:s,max:a}=e.originalScaleLimits[r]||{min:{},max:{}};n[r]={min:s.scale,max:a.scale}}return n}function u4(t){const e=nt(t),n={};for(const r of Object.keys(t.scales))n[r]=e.updatedScaleLimits[r];return n}function d4(t){const e=Cv(t);for(const n of Object.keys(t.scales)){const{min:r,max:s}=e[n];if(r!==void 0&&t.scales[n].min!==r||s!==void 0&&t.scales[n].max!==s)return!0}return!1}function ty(t){const e=nt(t);return e.panning||e.dragging}const ny=(t,e,n)=>Math.min(n,Math.max(e,t));function Zt(t,e){const{handlers:n}=nt(t),r=n[e];r&&r.target&&(r.target.removeEventListener(e,r),delete n[e])}function ea(t,e,n,r){const{handlers:s,options:a}=nt(t),l=s[n];if(l&&l.target===e)return;Zt(t,n),s[n]=d=>r(t,d,a),s[n].target=e;const c=n==="wheel"?!1:void 0;e.addEventListener(n,s[n],{passive:c})}function f4(t,e){const n=nt(t);n.dragStart&&(n.dragging=!0,n.dragEnd=e,t.update("none"))}function h4(t,e){const n=nt(t);!n.dragStart||e.key!=="Escape"||(Zt(t,"keydown"),n.dragging=!1,n.dragStart=n.dragEnd=null,t.update("none"))}function If(t,e){if(t.target!==e.canvas){const n=e.canvas.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}return Kn(t,e)}function Nv(t,e,n){const{onZoomStart:r,onZoomRejected:s}=n;if(r){const a=If(e,t);if(ke(r,[{chart:t,event:e,point:a}])===!1)return ke(s,[{chart:t,event:e}]),!1}}function p4(t,e){if(t.legend){const a=Kn(e,t);if(Ai(a,t.legend))return}const n=nt(t),{pan:r,zoom:s={}}=n.options;if(e.button!==0||yv(da(r),e)||xh(da(s.drag),e))return ke(s.onZoomRejected,[{chart:t,event:e}]);Nv(t,e,s)!==!1&&(n.dragStart=e,ea(t,t.canvas.ownerDocument,"mousemove",f4),ea(t,window.document,"keydown",h4))}function m4({begin:t,end:e},n){let r=e.x-t.x,s=e.y-t.y;const a=Math.abs(r/s);a>n?r=Math.sign(r)*Math.abs(s*n):a<n&&(s=Math.sign(s)*Math.abs(r/n)),e.x=t.x+r,e.y=t.y+s}function ry(t,e,n,{min:r,max:s,prop:a}){t[r]=ny(Math.min(n.begin[a],n.end[a]),e[r],e[s]),t[s]=ny(Math.max(n.begin[a],n.end[a]),e[r],e[s])}function g4(t,e,n){const r={begin:If(e.dragStart,t),end:If(e.dragEnd,t)};if(n){const s=t.chartArea.width/t.chartArea.height;m4(r,s)}return r}function jv(t,e,n,r){const s=is(e,"x",t),a=is(e,"y",t),{top:l,left:c,right:d,bottom:h,width:m,height:y}=t.chartArea,x={top:l,left:c,right:d,bottom:h},w=g4(t,n,r&&s&&a);s&&ry(x,t.chartArea,w,{min:"left",max:"right",prop:"x"}),a&&ry(x,t.chartArea,w,{min:"top",max:"bottom",prop:"y"});const b=x.right-x.left,S=x.bottom-x.top;return{...x,width:b,height:S,zoomX:s&&b?1+(m-b)/m:1,zoomY:a&&S?1+(y-S)/y:1}}function y4(t,e){const n=nt(t);if(!n.dragStart)return;Zt(t,"mousemove");const{mode:r,onZoomComplete:s,drag:{threshold:a=0,maintainAspectRatio:l}}=n.options.zoom,c=jv(t,r,{dragStart:n.dragStart,dragEnd:e},l),d=is(r,"x",t)?c.width:0,h=is(r,"y",t)?c.height:0,m=Math.sqrt(d*d+h*h);if(n.dragStart=n.dragEnd=null,m<=a){n.dragging=!1,t.update("none");return}Sv(t,{x:c.left,y:c.top},{x:c.right,y:c.bottom},"zoom","drag"),n.dragging=!1,n.filterNextClick=!0,ke(s,[{chart:t}])}function x4(t,e,n){if(xh(da(n.wheel),e)){ke(n.onZoomRejected,[{chart:t,event:e}]);return}if(Nv(t,e,n)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function v4(t,e){const{handlers:{onZoomComplete:n},options:{zoom:r}}=nt(t);if(!x4(t,e,r))return;const s=e.target.getBoundingClientRect(),a=r.wheel.speed,l=e.deltaY>=0?2-1/(1-a):1+a,c={x:l,y:l,focalPoint:{x:e.clientX-s.left,y:e.clientY-s.top}};vh(t,c,"zoom","wheel"),ke(n,[{chart:t}])}function b4(t,e,n,r){n&&(nt(t).handlers[e]=$E(()=>ke(n,[{chart:t}]),r))}function w4(t,e){const n=t.canvas,{wheel:r,drag:s,onZoomComplete:a}=e.zoom;r.enabled?(ea(t,n,"wheel",v4),b4(t,"onZoomComplete",a,250)):Zt(t,"wheel"),s.enabled?(ea(t,n,"mousedown",p4),ea(t,n.ownerDocument,"mouseup",y4)):(Zt(t,"mousedown"),Zt(t,"mousemove"),Zt(t,"mouseup"),Zt(t,"keydown"))}function _4(t){Zt(t,"mousedown"),Zt(t,"mousemove"),Zt(t,"mouseup"),Zt(t,"wheel"),Zt(t,"click"),Zt(t,"keydown")}function S4(t,e){return function(n,r){const{pan:s,zoom:a={}}=e.options;if(!s||!s.enabled)return!1;const l=r&&r.srcEvent;return l&&!e.panning&&r.pointerType==="mouse"&&(xh(da(s),l)||yv(da(a.drag),l))?(ke(s.onPanRejected,[{chart:t,event:r}]),!1):!0}}function k4(t,e){const n=Math.abs(t.clientX-e.clientX),r=Math.abs(t.clientY-e.clientY),s=n/r;let a,l;return s>.3&&s<1.7?a=l=!0:n>r?a=!0:l=!0,{x:a,y:l}}function Ev(t,e,n){if(e.scale){const{center:r,pointers:s}=n,a=1/e.scale*n.scale,l=n.target.getBoundingClientRect(),c=k4(s[0],s[1]),d=e.options.zoom.mode,h={x:c.x&&is(d,"x",t)?a:1,y:c.y&&is(d,"y",t)?a:1,focalPoint:{x:r.x-l.left,y:r.y-l.top}};vh(t,h,"zoom","pinch"),e.scale=n.scale}}function C4(t,e,n){if(e.options.zoom.pinch.enabled){const r=Kn(n,t);ke(e.options.zoom.onZoomStart,[{chart:t,event:n,point:r}])===!1?(e.scale=null,ke(e.options.zoom.onZoomRejected,[{chart:t,event:n}])):e.scale=1}}function N4(t,e,n){e.scale&&(Ev(t,e,n),e.scale=null,ke(e.options.zoom.onZoomComplete,[{chart:t}]))}function Tv(t,e,n){const r=e.delta;r&&(e.panning=!0,kv(t,{x:n.deltaX-r.x,y:n.deltaY-r.y},e.panScales),e.delta={x:n.deltaX,y:n.deltaY})}function j4(t,e,n){const{enabled:r,onPanStart:s,onPanRejected:a}=e.options.pan;if(!r)return;const l=n.target.getBoundingClientRect(),c={x:n.center.x-l.left,y:n.center.y-l.top};if(ke(s,[{chart:t,event:n,point:c}])===!1)return ke(a,[{chart:t,event:n}]);e.panScales=xv(e.options.pan,c,t),e.delta={x:0,y:0},Tv(t,e,n)}function E4(t,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,ke(e.options.pan.onPanComplete,[{chart:t}]))}const Ff=new WeakMap;function sy(t,e){const n=nt(t),r=t.canvas,{pan:s,zoom:a}=e,l=new Jo.Manager(r);a&&a.pinch.enabled&&(l.add(new Jo.Pinch),l.on("pinchstart",c=>C4(t,n,c)),l.on("pinch",c=>Ev(t,n,c)),l.on("pinchend",c=>N4(t,n,c))),s&&s.enabled&&(l.add(new Jo.Pan({threshold:s.threshold,enable:S4(t,n)})),l.on("panstart",c=>j4(t,n,c)),l.on("panmove",c=>Tv(t,n,c)),l.on("panend",()=>E4(t,n))),Ff.set(t,l)}function iy(t){const e=Ff.get(t);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),Ff.delete(t))}function T4(t,e){var l,c,d,h;const{pan:n,zoom:r}=t,{pan:s,zoom:a}=e;return((c=(l=r==null?void 0:r.zoom)==null?void 0:l.pinch)==null?void 0:c.enabled)!==((h=(d=a==null?void 0:a.zoom)==null?void 0:d.pinch)==null?void 0:h.enabled)||(n==null?void 0:n.enabled)!==(s==null?void 0:s.enabled)||(n==null?void 0:n.threshold)!==(s==null?void 0:s.threshold)}var P4="2.2.0";function Jl(t,e,n){const r=n.zoom.drag,{dragStart:s,dragEnd:a}=nt(t);if(r.drawTime!==e||!a)return;const{left:l,top:c,width:d,height:h}=jv(t,n.zoom.mode,{dragStart:s,dragEnd:a},r.maintainAspectRatio),m=t.ctx;m.save(),m.beginPath(),m.fillStyle=r.backgroundColor||"rgba(225,225,225,0.3)",m.fillRect(l,c,d,h),r.borderWidth>0&&(m.lineWidth=r.borderWidth,m.strokeStyle=r.borderColor||"rgba(225,225,225)",m.strokeRect(l,c,d,h)),m.restore()}var Pv={id:"zoom",version:P4,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(t,e,n){const r=nt(t);r.options=n,Object.prototype.hasOwnProperty.call(n.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(n.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(n.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),Jo&&sy(t,n),t.pan=(s,a,l)=>kv(t,s,a,l),t.zoom=(s,a)=>vh(t,s,a),t.zoomRect=(s,a,l)=>Sv(t,s,a,l),t.zoomScale=(s,a,l)=>o4(t,s,a,l),t.resetZoom=s=>a4(t,s),t.getZoomLevel=()=>c4(t),t.getInitialScaleBounds=()=>Cv(t),t.getZoomedScaleBounds=()=>u4(t),t.isZoomedOrPanned=()=>d4(t),t.isZoomingOrPanning=()=>ty(t)},beforeEvent(t,{event:e}){if(ty(t))return!1;if(e.type==="click"||e.type==="mouseup"){const n=nt(t);if(n.filterNextClick)return n.filterNextClick=!1,!1}},beforeUpdate:function(t,e,n){const r=nt(t),s=r.options;r.options=n,T4(s,n)&&(iy(t),sy(t,n)),w4(t,n)},beforeDatasetsDraw(t,e,n){Jl(t,"beforeDatasetsDraw",n)},afterDatasetsDraw(t,e,n){Jl(t,"afterDatasetsDraw",n)},beforeDraw(t,e,n){Jl(t,"beforeDraw",n)},afterDraw(t,e,n){Jl(t,"afterDraw",n)},stop:function(t){_4(t),Jo&&iy(t),VE(t)},panFunctions:Lf,zoomFunctions:Of,zoomRectFunctions:Df};function kt(t,e="USD"){if(typeof t!="number"||isNaN(t))return"";try{return t.toLocaleString(void 0,{style:"currency",currency:e||"USD",maximumFractionDigits:2})}catch{return t.toFixed(2)}}function M4(t){const e=[],n=new Date;for(let r=t-1;r>=0;r--){const s=new Date(n.getFullYear(),n.getMonth()-r,1);e.push(`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}`)}return e}const Ts={income:"#38bdf8",incomeStub:"#334155",outcome:"#ef4444",outcomeStub:"#334155",net:"#22c55e",netFill:"#22c55e22"};Dn.register(Us,Hs,wr,Qo,Ri,xr,cc,as,os,tv,Ys,Pv);function R4({data:t}){const e=M4(12),n=Array.isArray(t)?t.map(x=>{var w;return{month:((w=x._id)==null?void 0:w.date)||"",incomes:x.incomes??0,outcomes:x.outcomes??0}}):[],r=e.map(x=>{const w=n.find(b=>b.month===x);return{month:x,incomes:(w==null?void 0:w.incomes)??0,outcomes:-((w==null?void 0:w.outcomes)??0),net:((w==null?void 0:w.incomes)??0)-((w==null?void 0:w.outcomes)??0)}});if(!r.some(x=>x.incomes!==0||x.outcomes!==0||x.net!==0))return f.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-gray-400 text-lg",children:[f.jsx("span",{children:"No data found."}),f.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Create invoices to unlock analytics!"})]});const a=r.map(x=>x.incomes),l=r.map(x=>x.outcomes),c=r.map(x=>x.net),d=Math.min(...a,...l,...c,0),h=Math.max(...a,...l,...c,0),m={labels:e,datasets:[{label:"Income",data:a,backgroundColor:a.map(x=>x>0?Ts.income:Ts.incomeStub),borderRadius:16,barPercentage:.44,categoryPercentage:.54,order:2,datalabels:{anchor:"end",align:"start",clamp:!0,display:a.map(x=>x>0),color:"#38bdf8",font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:x=>x>0?kt(x):""}},{label:"Outcome",data:l,backgroundColor:l.map(x=>x<0?Ts.outcome:Ts.outcomeStub),borderRadius:16,barPercentage:.44,categoryPercentage:.54,order:3,datalabels:{anchor:"end",align:"end",clamp:!0,display:l.map(x=>x<0),color:"#ef4444",font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:x=>x<0?kt(Math.abs(x)):""}},{label:"Net Result",type:"line",data:c,borderColor:Ts.net,backgroundColor:Ts.netFill,borderWidth:3,fill:!0,pointRadius:7,pointHoverRadius:12,pointBackgroundColor:Ts.net,pointBorderWidth:3,tension:.38,yAxisID:"y",order:1,datalabels:{anchor:"end",align:"top",clamp:!0,display:c.map(x=>x!==0),color:"#22c55e",font:{weight:"bold",size:17},backgroundColor:"#101223",borderRadius:9,borderWidth:2,borderColor:"#23263a",padding:{left:12,right:12,top:6,bottom:6},formatter:x=>x!==0?kt(x):""}}]},y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,callbacks:{title:x=>"📅 "+x[0].label,label:x=>x.dataset.label==="Income"?`🟦 Income: ${kt(x.raw)}`:x.dataset.label==="Outcome"?`🟥 Outcome: ${kt(Math.abs(x.raw))}`:x.dataset.label==="Net Result"?`🟢 Net: ${kt(x.raw)}`:x.dataset.label+": "+x.raw}},datalabels:{display:"auto"},zoom:{pan:{enabled:!0,mode:"y"},zoom:{wheel:{enabled:!0},mode:"y",drag:{enabled:!0}}}},layout:{padding:{left:16,right:16,top:18,bottom:24}},scales:{x:{grid:{display:!1}},y:{grid:{color:"#282b41"},ticks:{color:"#b7bacf",font:{size:15,weight:"bold"},callback:x=>kt(x)},beginAtZero:!1,min:d-Math.abs(h-d)*.07,max:h+Math.abs(h-d)*.13}}};return f.jsx("div",{className:"w-full h-[500px] md:h-[420px]",children:f.jsx(ba,{data:m,options:y,plugins:[Ys]})})}function Ps(t,e="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:2}).format(t)}function of(t){return t===null||isNaN(t)?"--":`${Number(t).toFixed(2)}%`}function A4(t){const e=[],n=new Date;for(let r=t-1;r>=0;r--){const s=new Date(n.getFullYear(),n.getMonth()-r,1);e.push(`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}`)}return e}function O4(t,e=150){const n=[];for(let r=0;r<t.length;r++){if(r===0){n.push(0);continue}const s=t[r-1],a=t[r];if(s===0&&a===0)n.push(0);else if(s===0&&a>0)n.push(e);else if(s>0&&a===0)n.push(-100);else{const l=(a-s)/Math.abs(s)*100;n.push(Math.max(-e,Math.min(l,e)))}}return n}const vn={positive:"#22c55e",negative:"#ef4444",growth:"#facc15",neutral:"#23263a",barBorder:"#22c55e"};Dn.register(Us,Hs,wr,Ri,xr,as,os,tv,Ys,Pv);function D4({data:t=[],currency:e="USD"}){const n=A4(12),r=n.map(M=>{const I=t.find(V=>{var U;return V.date===M||((U=V._id)==null?void 0:U.date)===M});let B=0;return I&&(typeof I.total=="number"?B=I.total:typeof I.income=="number"&&typeof I.outcome=="number"?I.outcome<0?B=I.income+I.outcome:B=I.income-I.outcome:typeof I.outcome=="number"&&(B=-Math.abs(I.outcome))),{month:M,total:B}});if(!r.some(M=>M.total!==0))return f.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-gray-400 text-lg",children:[f.jsx("span",{children:"No data found."}),f.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Create invoices to unlock analytics!"})]});const a=r.map(M=>M.total),l=O4(a,150),c=l.map((M,I)=>I===0||M===null?"":M>0?"↑":M<0?"↓":"→"),d=a.map(M=>M>0?vn.positive:M<0?vn.negative:vn.neutral),h=a.map(M=>M>0?vn.positive:M<0?vn.negative:"#b7bacf"),m=Math.max(Math.abs(Math.min(...a,0)),Math.abs(Math.max(...a,0))),y=l.filter(M=>M!==null&&!isNaN(M)),x=Math.max(Math.abs(Math.min(...y,0)),Math.abs(Math.max(...y,0)),100),w=Math.max(m*.1,1e3),b=Math.max(x*.1,10),S=m+w,_=-S,C=x+b,T=-C,P={labels:n,datasets:[{type:"bar",label:"Net Result",data:a,backgroundColor:d,borderRadius:16,barPercentage:.25,categoryPercentage:.4,order:3,borderSkipped:!1,borderWidth:0,datalabels:{anchor:"end",align:"start",clamp:!0,display:a.map(M=>M!==0),color:h,font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:M=>M!==0?M>0?Ps(M,e):`-${Ps(Math.abs(M),e)}`:""},yAxisID:"y"},{type:"line",label:"Net Line",data:a,borderColor:vn.barBorder,borderWidth:4,fill:!1,pointRadius:0,pointHoverRadius:0,order:2,yAxisID:"y",datalabels:{display:!1},tension:.45,segment:{borderDash:M=>M.p0.parsed.y<0?[6,4]:[]},borderJoinStyle:"round",borderCapStyle:"round"},{type:"line",label:"Net Dot",data:a,borderColor:"rgba(0,0,0,0)",backgroundColor:vn.positive,pointBorderColor:vn.positive,pointBackgroundColor:vn.positive,pointRadius:8,pointHoverRadius:12,pointBorderWidth:2,showLine:!1,yAxisID:"y",order:1,datalabels:{display:!1}},{type:"line",label:"Growth (%)",data:l,borderColor:vn.growth,backgroundColor:vn.growth,borderWidth:3,fill:!1,pointRadius:7,pointHoverRadius:12,pointBackgroundColor:vn.growth,pointBorderWidth:3,tension:.35,yAxisID:"y2",order:0,datalabels:{display:l.map(M=>M!==null&&!isNaN(M)),anchor:"end",align:"bottom",clamp:!0,color:"#facc15",font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:(M,I)=>M===null||isNaN(M)?"":`${of(M)}${M===0?"":" "+c[I.dataIndex]}`},spanGaps:!1}]},D={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,callbacks:{title:M=>"📅 "+M[0].label,label:M=>{if(M.dataset.label==="Net Result"){const I=M.raw;return I>0?`🟢 Net: ${Ps(I,e)}`:I<0?`🔴 Net: -${Ps(Math.abs(I),e)}`:`Net: ${Ps(I,e)}`}if(M.dataset.label==="Growth (%)"){const I=M.raw;if(I===null||isNaN(I)){const B=a[M.dataIndex-1],V=a[M.dataIndex];return M.dataIndex===0?"No growth data for first month.":B===0?"No growth %: previous month was $0.":V===0?"No growth %: current month is $0.":"--"}return I===0?"":`🟡 Growth: ${of(I)} ${c[M.dataIndex]}`}return M.dataset.label==="Net Dot"?`🟢 Net: ${Ps(M.raw,e)}`:M.dataset.label+": "+M.raw}}},datalabels:{display:"auto"},zoom:{pan:{enabled:!0,mode:"y"},zoom:{wheel:{enabled:!0},mode:"y",drag:{enabled:!0}}}},layout:{padding:{left:16,right:16,top:18,bottom:24}},scales:{x:{grid:{display:!1}},y:{grid:{color:M=>M.tick.value===0?"#fff":"#282b41",lineWidth:M=>M.tick.value===0?2:1},beginAtZero:!1,min:_,max:S,ticks:{color:"#b7bacf",font:{size:15,weight:"bold"},callback:M=>Ps(M,e)},title:{display:!0,text:"Net Amount"}},y2:{position:"right",grid:{drawOnChartArea:!0,color:M=>M.tick.value===0?"#fff":"#282b41",lineWidth:M=>M.tick.value===0?2:1},beginAtZero:!1,min:T,max:C,ticks:{color:"#facc15",font:{size:13,weight:"bold"},callback:M=>of(M)},title:{display:!0,text:"Growth (%)"}}}};return f.jsx("div",{className:"w-full h-[500px] md:h-[420px]",children:f.jsx(ba,{data:P,options:D,plugins:[Ys]})})}Dn.register(ts,as,os);const oy={paid:"#14b8a6",unpaid:"#ef4444",draft:"#facc15"},ay={paid:"Paid",unpaid:"Unpaid",draft:"Draft"};function ly(t){return t?ay[t]?ay[t]:String(t).charAt(0).toUpperCase()+String(t).slice(1):"Unknown"}function L4({data:t}){const[e,n]=E.useState(!1);if(!t||t.length===0)return f.jsx("div",{className:"flex flex-col items-center mt-8",children:f.jsx("p",{className:"text-gray-400",children:"No invoice data found for this period."})});const r=t.reduce((c,d)=>c+(e?d.total??0:d.count??0),0),s=t.map(c=>ly(c.status)),a=t.map(c=>e?c.total??0:c.count??0),l=t.map(c=>oy[c.status]||"#6b7280");return f.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[f.jsxs("div",{className:"mb-3 flex justify-center",children:[f.jsx("button",{onClick:()=>n(!1),className:`px-4 py-1 rounded-l transition font-medium
            ${e?"bg-gray-800 text-gray-300":"bg-blue-600 text-white shadow"}`,children:"Count"}),f.jsx("button",{onClick:()=>n(!0),className:`px-4 py-1 rounded-r transition font-medium
            ${e?"bg-blue-600 text-white shadow":"bg-gray-800 text-gray-300"}`,children:"Total"})]}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-10 rounded-2xl shadow-2xl p-6 md:p-10",style:{background:"#1a1c29",width:680,minWidth:680,maxWidth:680,height:340,minHeight:340,maxHeight:340,boxSizing:"border-box"},children:[f.jsx("div",{style:{width:320,height:220,minWidth:310},children:f.jsx(lv,{data:{labels:s,datasets:[{data:a,backgroundColor:l,borderColor:"#23263a",borderWidth:4,hoverOffset:10,cutout:"40%"}]},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:c=>`${c.label}: ${e?kt(c.parsed):c.parsed} (${r?Math.round(c.parsed/r*100):0}%)`}}},layout:{padding:4},responsive:!0,maintainAspectRatio:!1}})}),f.jsx("div",{className:"flex flex-col justify-center gap-4",style:{width:220,minWidth:220,maxWidth:220},children:t.map((c,d)=>{const h=ly(c.status),m=oy[c.status]||"#6b7280",y=e?c.total??0:c.count??0,x=r?Math.round(y/r*100):0;return f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"inline-block rounded-full",style:{width:18,height:18,background:m,boxShadow:"0 2px 8px rgba(0,0,0,0.12)"}}),f.jsx("span",{className:"text-gray-100 font-semibold min-w-[60px]",children:h}),f.jsx("span",{className:"text-gray-200 font-mono text-base text-right",style:{width:90,display:"inline-block"},children:e?kt(y):y}),f.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:[x,"%"]})]},c.status||d)})})]})]})}Dn.register(Us,Hs,wr,as,os,J6,Ys);const af=["0-30 days","31-60 days","61-90 days","90+ days"],I4=["0-30","31-60","61-90","90+"];function F4(){const[t,e]=E.useState(null),[n,r]=E.useState(!0),[s,a]=E.useState("");E.useEffect(()=>{let h=!1;return r(!0),a(""),pe.get("/invoices/analytics?analyticType=overdueAging").then(m=>{h||e(m.data)}).catch(()=>{h||a("Failed to load overdue aging data.")}).finally(()=>{h||r(!1)}),()=>{h=!0}},[]);const l=I4.map(h=>(t==null?void 0:t[h])||{count:0,total:0}),c=l.reduce((h,m)=>h+m.count,0);if(n)return f.jsx("div",{className:"w-full h-[350px] flex items-center justify-center",children:f.jsx("span",{className:"text-gray-400",children:"Loading..."})});if(s)return f.jsx("div",{className:"w-full h-[350px] flex items-center justify-center",children:f.jsx("span",{className:"text-red-400",children:s})});const d=["rgba(239, 68, 68, 0.92)","rgba(251, 191, 36, 0.92)","rgba(59, 130, 246, 0.92)","rgba(99, 102, 241, 0.92)"];return f.jsxs("div",{className:"w-full max-w-2xl mx-auto flex flex-col items-center",children:[f.jsx("div",{className:"w-full h-[350px]",children:f.jsx(ba,{data:{labels:af,datasets:[{label:"Overdue Invoices",data:l.map(h=>h.count),backgroundColor:d,borderRadius:18,barPercentage:.7,categoryPercentage:.68}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:20,bottom:0,left:10,right:10}},plugins:{legend:{display:!1},datalabels:{display:!0,color:"#fff",font:{weight:"bold",size:22,family:"Inter, sans-serif"},anchor:"end",align:"end",offset:6,formatter:h=>h>0?h.toLocaleString():"",textStrokeColor:"#23263a",textStrokeWidth:4,shadowBlur:6,shadowColor:"#23263a88",clamp:!0},tooltip:{callbacks:{title:h=>af[h[0].dataIndex],label:h=>{const m=h.dataIndex;return[`Count: ${l[m].count}`,`Total: ${kt(l[m].total)}`]}},backgroundColor:"#23263a",borderColor:"#3b3b54",borderWidth:1,bodyFont:{size:15,weight:"bold"},titleFont:{size:15}},title:{display:!1}},scales:{y:{beginAtZero:!0,min:0,max:50,ticks:{color:"#bbb",font:{size:16}},grid:{color:"#23273d"}},x:{ticks:{color:"#eee",font:{size:16,weight:"bold"}},grid:{display:!1}}}}})}),f.jsx("div",{className:"flex justify-between w-full mt-4 px-2",children:af.map((h,m)=>f.jsxs("div",{className:"flex flex-col items-center flex-1",children:[f.jsx("span",{className:"text-xs text-gray-400",children:h}),f.jsx("span",{className:"text-md font-semibold text-gray-100",children:kt(l[m].total)})]},h))}),f.jsx("div",{className:"mt-2 text-center text-sm text-gray-400",children:c>0?`${c} total overdue invoice${c>1?"s":""}`:"No overdue invoices!"})]})}Dn.register(Us,Hs,wr,as,os,Ys);function z4({data:t}){if(!Array.isArray(t))return f.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(t.length===0)return f.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-gray-500",children:"No product sales data found."});const e=t.map(r=>r._id),n=t.map(r=>r.total);return f.jsx("div",{className:"w-full h-[340px]",children:f.jsx(ba,{data:{labels:e,datasets:[{label:"Total Sold",data:n,backgroundColor:"#38bdf8dd",borderRadius:12}]},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:r=>`${r.label}: ${kt(r.raw)}`}},datalabels:{display:!0,color:"#fff",align:"end",anchor:"end",font:{weight:"bold"},formatter:r=>kt(r)}},scales:{y:{beginAtZero:!0,max:2e4},x:{grid:{display:!1}}}}})})}Dn.register(Us,Hs,wr,as,os,Ys);function B4({data:t,yMax:e=void 0}){if(!Array.isArray(t))return f.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(t.length===0)return f.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-gray-500",children:"No client revenue data found."});const n=t.map(s=>{var a;return((a=s.company)==null?void 0:a.name)||"Unknown"}),r=t.map(s=>s.total);return f.jsx("div",{className:"w-full h-[340px]",children:f.jsx(ba,{data:{labels:n,datasets:[{label:"Total Revenue",data:r,backgroundColor:"#22c55edd",borderRadius:12}]},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:s=>`${s.label}: ${kt(s.raw)}`}},datalabels:{display:!0,color:"#fff",align:"end",anchor:"end",font:{weight:"bold"},formatter:s=>kt(s)}},scales:{y:{beginAtZero:!0,...e?{max:e}:{}},x:{grid:{display:!1}}}}})})}Dn.register(ts,as,os);const ec=["#38bdf8","#fbbf24","#22c55e","#ef4444","#a78bfa","#f472b6","#fde68a","#fb7185","#16a34a","#f59e42","#6366f1","#1e293b","#eab308","#dc2626"];function U4({data:t}){if(!Array.isArray(t))return f.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(t.length===0)return f.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-gray-500",children:"No category breakdown data found."});const e=t.map(s=>s._id||"Unknown"),n=t.map(s=>s.total),r=ec.length>=e.length?ec:[...ec,...Array(e.length-ec.length).fill("#cbd5e1")];return f.jsx("div",{className:"w-full h-[320px] flex flex-col items-center",children:f.jsx(vE,{data:{labels:e,datasets:[{data:n,backgroundColor:r,borderColor:"#23263a",borderWidth:2}]},options:{plugins:{legend:{display:!0,position:"bottom"},tooltip:{callbacks:{label:s=>`${s.label}: ${kt(s.raw)}`}}}}})})}Dn.register(ts,as,os);const tc=["#38bdf8","#fde68a","#22c55e","#ef4444","#a78bfa","#f472b6","#818cf8","#f59e42","#16a34a","#dc2626","#eab308","#1e293b","#6366f1","#fbbf24"];function H4({data:t}){if(!Array.isArray(t))return f.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(t.length===0)return f.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-gray-500",children:"No currency breakdown data found."});const e=t.map(s=>s._id),n=t.map(s=>s.total),r=tc.length>=e.length?tc:[...tc,...Array(e.length-tc.length).fill("#cbd5e1")];return f.jsx("div",{className:"w-full h-[320px] flex flex-col items-center",children:f.jsx(lv,{data:{labels:e,datasets:[{data:n,backgroundColor:r,borderColor:"#23263a",borderWidth:2}]},options:{plugins:{legend:{display:!0,position:"bottom"},tooltip:{callbacks:{label:s=>`${s.label}: ${kt(s.raw,s.label)}`}}}}})})}function $4({data:t,loading:e}){const n=(t==null?void 0:t.avgDays)??null;return e?f.jsx("div",{className:"flex flex-col items-center justify-center p-7 text-sky-300",children:"Loading..."}):f.jsxs("div",{className:"flex flex-col items-center justify-center p-7",children:[f.jsxs("div",{className:"text-5xl font-extrabold text-sky-300",children:[n!==null?n.toFixed(1):"--",f.jsx("span",{className:"text-2xl text-gray-400",children:" days"})]}),f.jsx("div",{className:"text-base text-gray-400 mt-2 font-medium",children:"Average Payment Speed"})]})}function W4({data:t}){return f.jsxs("div",{className:"w-full flex flex-col gap-3 p-6",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"bg-red-600/80 px-4 py-2 rounded text-white text-lg font-bold flex-1",children:["Overdue Invoices:"," ",f.jsx("span",{className:"font-mono",children:(t==null?void 0:t.overdue)??"--"})]}),f.jsxs("div",{className:"bg-amber-500/80 px-4 py-2 rounded text-white text-lg font-bold flex-1",children:["Stale Drafts:"," ",f.jsx("span",{className:"font-mono",children:(t==null?void 0:t.staleDrafts)??"--"})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("div",{className:"text-base font-bold text-sky-400 mb-2",children:"High-Value Unpaid Invoices:"}),f.jsx("ul",{className:"text-white space-y-2",children:Array.isArray(t==null?void 0:t.highUnpaid)&&t.highUnpaid.length?t.highUnpaid.map(e=>{var n;return f.jsxs("li",{className:"bg-gray-800 px-3 py-2 rounded",children:[f.jsx("span",{className:"text-rose-400 font-bold",children:e.totalAmount}),f.jsxs("span",{className:"mx-2 text-xs text-gray-400",children:["due: ",new Date(e.dueDate).toLocaleDateString()]}),f.jsx("span",{className:"ml-2 text-sky-300",children:e.invoiceNumber}),f.jsx("span",{className:"ml-2 text-green-400",children:((n=e.clientCompany)==null?void 0:n.name)||""})]},e.invoiceNumber||e._id)}):f.jsx("li",{className:"text-gray-500",children:"None"})})]})]})}const zf=[{type:"revenueTrends",label:"Monthly Income vs Outcome",Widget:R4,desc:"Visualize your total incomes, outcomes, and net result for each month."},{type:"growth",label:"Growth Trend (%)",Widget:D4,desc:"Track period-over-period revenue change in %."},{type:"statusBreakdown",label:"Status Breakdown",Widget:L4,desc:"See how your invoices are distributed by status."},{type:"overdueAging",label:"Overdue Aging",Widget:F4,desc:"Breakdown of overdue unpaid invoices by aging bucket."},{type:"topProducts",label:"Top Products",Widget:z4,desc:"Top selling products (by value)."},{type:"topClients",label:"Top Clients",Widget:B4,desc:"Clients who brought the most revenue."},{type:"categoryBreakdown",label:"Category Breakdown",Widget:U4,desc:"Total value by category."},{type:"currencyBreakdown",label:"Currency Breakdown",Widget:H4,desc:"Total invoice amounts by currency."},{type:"avgPaymentSpeed",label:"Average Payment Speed",Widget:$4,desc:"How fast are invoices paid (in days)?"},{type:"alerts",label:"Alerts & Warnings",Widget:W4,desc:"Critical items: overdue, stale, or high-value unpaid invoices."}],V4=zf[0].type,Y4=({onClose:t,showAll:e=!1})=>{const[n,r]=E.useState(V4),[s,a]=E.useState(null),[l,c]=E.useState(!1),[d,h]=E.useState(""),m=E.useRef(),y=zf.find(w=>w.type===n),x=y.Widget;return E.useEffect(()=>{c(!0),h(""),a(null),m.current&&m.current.abort(),m.current=new AbortController;let w={analyticType:n};return n==="revenueTrends"||n==="growth"?(w.groupBy="month",w.limit=12):(n==="topProducts"||n==="topClients")&&(w.limit=7),e&&(w.all=!0),pe.get("/invoices/analytics",{params:w,signal:m.current.signal}).then(b=>{if(n==="overdueAging"&&Array.isArray(b.data)){const S={};b.data.forEach(_=>{let C=_._id;C==="0"&&(C="0–30 days"),C==="31"&&(C="31–60 days"),C==="61"&&(C="61–90 days"),C==="91"&&(C="90+ days"),S[C]={count:_.count,total:_.total}}),a(S)}else a(b.data)}).catch(b=>{var S,_;b.code!=="ERR_CANCELED"&&h(((_=(S=b==null?void 0:b.response)==null?void 0:S.data)==null?void 0:_.error)||(b==null?void 0:b.message)||"Failed to fetch analytics")}).finally(()=>c(!1)),()=>{m.current&&m.current.abort()}},[n,e]),E.useEffect(()=>{const w=b=>{b.key==="Escape"&&t()};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[t]),f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-lg",children:f.jsxs("div",{className:"bg-[#23263a] text-white w-full max-w-[1150px] max-h-[98vh] rounded-xl p-2 shadow-2xl overflow-y-auto relative animate-fade-in",style:{minHeight:520},role:"dialog","aria-modal":"true",children:[f.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-base bg-gray-700 hover:bg-gray-900 px-2 py-1 rounded","aria-label":"Close analytics modal",children:"✕"}),f.jsxs("div",{className:"flex items-center gap-2 mb-2 mt-1 ml-2",children:[f.jsx("span",{className:"text-2xl",children:"📊"}),f.jsx("span",{className:"text-xl font-semibold",children:"Invoice Analytics"}),f.jsx("div",{className:"flex gap-1 ml-7 flex-wrap",children:zf.map(w=>f.jsx("button",{onClick:()=>r(w.type),className:`px-3 py-1 rounded text-xs font-bold border shadow transition-all ${n===w.type?"bg-sky-400 text-black border-sky-400":"bg-[#101223] text-white border-[#23263a] hover:bg-[#23263a] hover:text-sky-300"}`,style:{minWidth:88},children:w.label},w.type))})]}),f.jsx("div",{className:"ml-2 mb-4 text-sm text-gray-400",children:y.desc}),f.jsx("div",{className:"w-full flex justify-center items-center mb-5",children:l?f.jsx("div",{className:"py-10 text-center text-gray-400 text-lg tracking-wide",children:"Loading analytics..."}):d?f.jsx("div",{className:"text-red-400 text-center",children:d}):s?f.jsx("div",{className:"w-full",children:f.jsx(x,{data:s})}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-gray-400 text-lg",children:[f.jsx("span",{children:"No data found."}),f.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Create invoices to unlock analytics!"})]})})]})})},q4=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(!0),[s,a]=E.useState(!1),[l,c]=E.useState(null),[d,h]=E.useState(!1),[m,y]=E.useState(0),[x,w]=E.useState("dateIssued"),[b,S]=E.useState("desc"),[_,C]=E.useState(null),[T,P]=E.useState(!1),[D,M]=E.useState(null),[I,B]=E.useState(!1),V=async()=>{var K,de;r(!0);try{const fe=await pe.get("/invoices",{params:{sortBy:x,sortOrder:b,all:!0}}),ce=Array.isArray(fe.data)?fe.data:fe.data.invoices||[];e(ce)}catch(fe){console.error("Failed to fetch invoices:",(de=(K=fe==null?void 0:fe.response)==null?void 0:K.data)==null?void 0:de.message)}finally{r(!1)}};E.useEffect(()=>{V()},[x,b]);const U=K=>{x===K?S(b==="asc"?"desc":"asc"):(w(K),S("asc"))},q=()=>{c(null),a(!0)},te=K=>{c(K),a(!0)},ne=K=>{C(K),P(!0)},ue=async K=>{var de,fe;if(window.confirm("Are you sure you want to delete this invoice?")){M(K);try{await pe.delete(`/invoices/${K}`),V()}catch(ce){alert(((fe=(de=ce==null?void 0:ce.response)==null?void 0:de.data)==null?void 0:fe.message)||ce.message||"Failed to delete invoice")}finally{M(null)}}};return f.jsxs("div",{className:"bg-[#181A23] text-white rounded-lg p-6 shadow-lg relative min-h-[60vh]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6 gap-3",children:[f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"🧾 All Invoices"}),f.jsx("button",{onClick:()=>B(!0),className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 focus:outline-none",type:"button",children:"📊 Analytics"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>h(!0),className:"bg-gray-700 text-white px-3 py-2 rounded hover:bg-gray-600 focus:outline-none",type:"button",children:"+ New Company"}),f.jsx("button",{onClick:q,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none",children:"+ New Invoice"})]})]}),n?f.jsx("div",{className:"py-12 text-center text-gray-400",children:"Loading invoices..."}):t.length===0?f.jsx("div",{className:"py-12 text-center text-gray-500",children:"No invoices found."}):f.jsx("div",{className:"overflow-x-auto rounded-lg shadow-inner",children:f.jsxs("table",{className:"table-fixed w-full min-w-[1250px] text-sm bg-[#222436] rounded-lg overflow-hidden",children:[f.jsx("thead",{className:"bg-[#23263a] text-gray-200 uppercase text-xs tracking-wide",children:f.jsxs("tr",{children:[f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>U("systemInvoiceNumber"),children:["System #",x==="systemInvoiceNumber"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"▲":"▼"})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>U("invoiceNumber"),children:["Invoice #",x==="invoiceNumber"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"▲":"▼"})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>U("type"),children:["Type",x==="type"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"▲":"▼"})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>U("client"),children:["Client",x==="client"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"▲":"▼"})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>U("supplier"),children:["Supplier",x==="supplier"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"▲":"▼"})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>U("status"),children:["Status",x==="status"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"▲":"▼"})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>U("dateIssued"),children:["Issued",x==="dateIssued"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"▲":"▼"})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>U("dueDate"),children:["Due",x==="dueDate"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"▲":"▼"})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>U("totalAmount"),children:["Total",x==="totalAmount"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"▲":"▼"})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>U("createdAt"),children:["Created",x==="createdAt"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"▲":"▼"})]}),f.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>U("updatedAt"),children:["Edited",x==="updatedAt"&&f.jsx("span",{className:"ml-1",children:b==="asc"?"▲":"▼"})]}),f.jsx("th",{className:"px-4 py-3 font-bold text-left",children:"Actions"})]})}),f.jsx("tbody",{children:t.map(K=>{var fe,ce;const de=K.status==="unpaid"&&K.dueDate&&new Date(K.dueDate)<new Date;return f.jsxs("tr",{className:"border-t border-[#8f8f8f] hover:bg-[#23273d] transition",children:[f.jsx("td",{className:"px-2 py-1 text-xs",children:K.systemInvoiceNumber||"—"}),f.jsx("td",{className:"px-2 py-1 text-xs",children:K.invoiceNumber||"—"}),f.jsx("td",{className:"px-4 py-2 text-xs max-w-[120px] truncate",children:K.type==="income"?"Income":K.type==="outcome"?"Expense":K.type}),f.jsx("td",{className:"px-2 py-1 text-xs max-w-[120px] truncate",children:((fe=K.clientCompany)==null?void 0:fe.name)||K.client||"—"}),f.jsx("td",{className:"px-2 py-1 text-xs max-w-[120px] truncate",children:((ce=K.supplierCompany)==null?void 0:ce.name)||K.supplier||"—"}),f.jsx("td",{className:"px-2 py-1",children:f.jsx("span",{className:"px-2 py-0.5 rounded text-[11px] font-bold uppercase "+(K.status==="paid"?"bg-green-700 text-green-100":K.status==="unpaid"?"bg-red-700 text-red-100":"bg-gray-700 text-gray-200"),style:{minWidth:46,display:"inline-block",textAlign:"center"},children:K.status||"—"})}),f.jsx("td",{className:"px-2 py-1 text-xs",children:K.dateIssued?sa(K.dateIssued):"—"}),f.jsx("td",{className:"px-2 py-1 text-xs"+(de?" text-red-400 font-bold":""),children:K.dueDate?sa(K.dueDate):"—"}),f.jsxs("td",{className:"px-2 py-1 text-xs whitespace-nowrap",children:[Number(K.totalAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," ",K.currency]}),f.jsx("td",{className:"px-2 py-1 text-[11px]",children:K.createdAt?new Date(K.createdAt).toLocaleString():"—"}),f.jsx("td",{className:"px-2 py-1 text-[11px]",children:K.updatedAt&&K.updatedAt!==K.createdAt?new Date(K.updatedAt).toLocaleString():"—"}),f.jsxs("td",{className:"px-2 py-1 flex gap-1 min-w-[88px]",children:[f.jsx("button",{onClick:()=>ne(K),className:"text-green-400 hover:bg-green-900 hover:text-white px-1 py-0.5 rounded text-[11px] font-medium transition",children:"Details"}),f.jsx("button",{onClick:()=>te(K),className:"text-blue-400 hover:bg-blue-900 hover:text-white px-1 py-0.5 rounded text-[11px] font-medium transition",children:"Edit"}),f.jsx("button",{onClick:()=>ue(K._id),className:"text-red-400 hover:bg-red-900 hover:text-white px-1 py-0.5 rounded text-[11px] font-medium transition",disabled:D===K._id,children:D===K._id?"...":"Delete"})]})]},K._id)})})]})}),s&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-lg",children:f.jsx("div",{className:"w-full max-w-2xl mx-4",children:f.jsx(yc,{invoice:l,onClose:()=>a(!1),onSaved:()=>{a(!1),V()},companyListUpdated:m})})}),d&&f.jsx(Rk,{onClose:()=>h(!1),onSaved:()=>{h(!1),y(K=>K+1)}}),T&&_&&f.jsx(wf,{invoice:_,onClose:()=>P(!1)}),f.jsxs("div",{className:"...",children:[T&&_&&f.jsx(wf,{invoice:_,onClose:()=>P(!1)}),I&&f.jsx(Y4,{onClose:()=>B(!1)})]})]})},X4=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(!0),[s,a]=E.useState(!1),[l,c]=E.useState(null),[d,h]=E.useState(null),[m,y]=E.useState(!1),x=async()=>{var _,C;r(!0);try{const T=await pe.get("/invoices"),P=Array.isArray(T.data)?T.data:T.data.invoices||[];e(P)}catch(T){console.error("Failed to fetch invoices:",(C=(_=T==null?void 0:T.response)==null?void 0:_.data)==null?void 0:C.message)}finally{r(!1)}};E.useEffect(()=>{x()},[]);const w=()=>{c(null),a(!0)},b=_=>{c(_),a(!0)},S=_=>{h(_),y(!0)};return f.jsxs("div",{className:"bg-[#181A23] text-white rounded-lg p-6 shadow-lg relative min-h-[60vh]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"🧾 All Invoices"}),f.jsx("button",{onClick:w,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none",children:"+ New Invoice"})]}),n?f.jsx("div",{className:"py-12 text-center text-gray-400",children:"Loading invoices..."}):t.length===0?f.jsx("div",{className:"py-12 text-center text-gray-500",children:"No invoices found."}):f.jsx("div",{className:"overflow-x-auto rounded-lg shadow-inner",children:f.jsxs("table",{className:"min-w-full text-sm bg-[#222436] rounded-lg overflow-hidden",children:[f.jsx("thead",{className:"bg-[#23263a] text-gray-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3 font-semibold",children:"#"}),f.jsx("th",{className:"p-3 font-semibold",children:"Type"}),f.jsx("th",{className:"p-3 font-semibold",children:"Client"}),f.jsx("th",{className:"p-3 font-semibold",children:"Supplier"}),f.jsx("th",{className:"p-3 font-semibold",children:"Total"}),f.jsx("th",{className:"p-3 font-semibold",children:"Issued"}),f.jsx("th",{className:"p-3 font-semibold",children:"Actions"})]})}),f.jsx("tbody",{children:t.map(_=>{var C,T;return f.jsxs("tr",{className:"border-t border-[#27293e] hover:bg-[#25294a] transition",children:[f.jsx("td",{className:"p-3",children:_.invoiceNumber||"—"}),f.jsx("td",{className:"p-3 capitalize",children:_.type==="income"?"Income (You receive)":_.type==="outcome"?"Expense (You pay)":_.type}),f.jsx("td",{className:"p-3",children:((C=_.clientCompany)==null?void 0:C.name)||_.client||"—"}),f.jsx("td",{className:"p-3",children:((T=_.supplierCompany)==null?void 0:T.name)||_.supplier||"—"}),f.jsxs("td",{className:"p-3 whitespace-nowrap",children:[Number(_.totalAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," ",_.currency]}),f.jsx("td",{className:"p-3",children:sa(_.dateIssued)}),f.jsxs("td",{className:"p-3 flex gap-2",children:[f.jsx("button",{onClick:()=>S(_),className:"text-green-400 hover:underline hover:text-green-300 transition",children:"Details"}),f.jsx("button",{onClick:()=>b(_),className:"text-blue-400 hover:underline hover:text-blue-300 transition",children:"Edit"})]})]},_._id)})})]})}),s&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-lg",children:f.jsx("div",{className:"w-full max-w-2xl mx-4",children:f.jsx(yc,{invoice:l,onClose:()=>a(!1),onSaved:()=>{a(!1),x()}})})}),m&&d&&f.jsx(wf,{invoice:d,onClose:()=>y(!1)})]})},Mv=()=>f.jsxs(vy,{children:[f.jsx(Gt,{path:"/",element:f.jsx(q4,{})}),f.jsx(Gt,{path:"new",element:f.jsx(yc,{})}),f.jsx(Gt,{path:":id",element:f.jsx(X4,{})}),f.jsx(Gt,{path:":id/edit",element:f.jsx(yc,{})})]}),K4=()=>{const[t,e]=E.useState(null),[n,r]=E.useState(null),[s,a]=pa(),l=s.get("tab")||"profile",c=y=>{a({tab:y})},d=async()=>{var y,x;try{const w=await pe.get("/users/me");e(w.data)}catch(w){console.error("Failed to load profile:",(x=(y=w.response)==null?void 0:y.data)==null?void 0:x.message)}},h=async()=>{var y,x;try{const w=await pe.get("/dashboard/admin");r(w.data)}catch(w){console.error("Failed to load admin stats:",(x=(y=w.response)==null?void 0:y.data)==null?void 0:x.message)}};E.useEffect(()=>{d(),h()},[]);const m=()=>{if(!t)return f.jsx("p",{children:"Loading profile..."});switch(l){case"profile":return f.jsx(eh,{user:t,refreshUser:d});case"orders":return f.jsx("p",{className:"text-sm text-gray-600",children:"📦 Orders coming soon..."});case"wishlist":return f.jsx("p",{className:"text-sm text-gray-600",children:"💖 Wishlist coming soon..."});case"users":return f.jsx(hS,{});case"products":return f.jsx(gS,{});case"products-management":return f.jsx(FS,{});case"blog":return f.jsx(BS,{});case"blog-editor":return f.jsx(Tk,{});case"invoices":return f.jsx(Mv,{});case"overview":return n?f.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[f.jsx("p",{children:n.message}),f.jsx("pre",{className:"mt-4 text-sm bg-gray-100 p-4 rounded",children:JSON.stringify(n.stats,null,2)})]}):f.jsx("p",{children:"Loading admin stats..."});default:return f.jsx("p",{className:"text-sm text-red-500",children:"⚠ Unknown section"})}};return f.jsxs(f.Fragment,{children:[f.jsx(ya,{}),f.jsx(Jf,{activeTab:l,setActiveTab:c,children:f.jsxs("div",{className:"min-h-screen bg-[#0f172a] text-white p-6",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6 text-white",children:"Admin Dashboard"}),m()]})})]})},Q4=()=>{const[t,e]=E.useState(null),[n,r]=pa(),s=n.get("tab")||"profile",a=d=>{r({tab:d})},l=async()=>{var d,h;try{const m=await pe.get("/users/me");e(m.data)}catch(m){console.error("Failed to load profile:",(h=(d=m.response)==null?void 0:d.data)==null?void 0:h.message)}};E.useEffect(()=>{l()},[]);const c=()=>{if(!t)return f.jsx("p",{children:"Loading profile..."});switch(s){case"profile":return f.jsx(eh,{user:t,refreshUser:l});case"orders":return f.jsx("p",{className:"text-sm text-gray-600",children:"🧾 Orders coming soon..."});case"wishlist":return f.jsx("p",{className:"text-sm text-gray-600",children:"💖 Wishlist coming soon..."});case"panel":return f.jsx("p",{className:"text-sm text-gray-600",children:"📋 Panel coming soon..."});case"complaints":return f.jsx("p",{className:"text-sm text-gray-600",children:"📋 Complaints coming soon..."});default:return f.jsx("p",{className:"text-sm text-red-500",children:"⚠ Unknown section"})}};return f.jsxs(f.Fragment,{children:[f.jsx(ya,{}),f.jsx(Jf,{activeTab:s,setActiveTab:a,children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Moderator Dashboard"}),c()]})})]})},G4=()=>{const[t,e]=E.useState(null),[n,r]=pa(),s=n.get("tab")||"profile",a=d=>{r({tab:d})},l=async()=>{var d,h;try{const m=await pe.get("/users/me");e(m.data)}catch(m){console.error("Failed to load profile:",(h=(d=m.response)==null?void 0:d.data)==null?void 0:h.message)}};E.useEffect(()=>{l()},[]);const c=()=>{if(!t)return f.jsx("p",{children:"Loading profile..."});switch(s){case"profile":return f.jsx(eh,{user:t,refreshUser:l});case"orders":return f.jsx("p",{className:"text-sm text-gray-600",children:"🧾 Orders coming soon..."});case"wishlist":return f.jsx("p",{className:"text-sm text-gray-600",children:"💖 Wishlist coming soon..."});default:return f.jsx("p",{className:"text-sm text-red-500",children:"⚠ Unknown section"})}};return f.jsxs(f.Fragment,{children:[f.jsx(ya,{}),f.jsx(Jf,{activeTab:s,setActiveTab:a,children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"User Dashboard"}),c()]})})]})},Z4=()=>f.jsxs("div",{className:"text-center p-10",children:[f.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),f.jsx("p",{children:"You do not have permission to access this page."})]}),nc=({allowedRoles:t,children:e})=>{const{user:n}=Ui();return n?t.includes(n.role)?e:f.jsx(Zm,{to:"/unauthorized"}):f.jsx(Zm,{to:"/"})};function J4(){const{loading:t}=Ui();return t?f.jsx("div",{className:"p-10 text-center",children:"Checking session..."}):f.jsx("div",{children:f.jsxs(vy,{children:[f.jsx(Gt,{path:"/",element:f.jsx(cS,{})}),f.jsx(Gt,{path:"/reset-password/confirm",element:f.jsx(uS,{})}),f.jsx(Gt,{path:"/verify-email/:token",element:f.jsx(dS,{})}),f.jsx(Gt,{path:"/unauthorized",element:f.jsx(Z4,{})}),f.jsx(Gt,{path:"/product/:slug",element:f.jsx(fS,{})}),f.jsx(Gt,{path:"/dashboard/admin/invoice/*",element:f.jsx(nc,{allowedRoles:["admin"],children:f.jsx(Mv,{})})}),f.jsx(Gt,{path:"/dashboard/admin/*",element:f.jsx(nc,{allowedRoles:["admin"],children:f.jsx(K4,{})})}),f.jsx(Gt,{path:"/dashboard/moderator/*",element:f.jsx(nc,{allowedRoles:["moderator","admin"],children:f.jsx(Q4,{})})}),f.jsx(Gt,{path:"/dashboard/user/*",element:f.jsx(nc,{allowedRoles:["user","moderator","admin"],children:f.jsx(G4,{})})})]})})}w1.createRoot(document.getElementById("root")).render(f.jsx(Qn.StrictMode,{children:f.jsx(Lw,{children:f.jsx(C_,{children:f.jsx(J4,{})})})}));
