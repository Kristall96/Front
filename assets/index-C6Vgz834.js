var Zk=Object.defineProperty;var Mb=e=>{throw TypeError(e)};var Jk=(e,t,n)=>t in e?Zk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ye=(e,t,n)=>Jk(e,typeof t!="symbol"?t+"":t,n),Ep=(e,t,n)=>t.has(e)||Mb("Cannot "+n);var F=(e,t,n)=>(Ep(e,t,"read from private field"),n?n.call(e):t.get(e)),_e=(e,t,n)=>t.has(e)?Mb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),me=(e,t,n,s)=>(Ep(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),ze=(e,t,n)=>(Ep(e,t,"access private method"),n);var cd=(e,t,n,s)=>({set _(r){me(e,t,r,n)},get _(){return F(e,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function jh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pp={exports:{}},Dl={},Mp={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function eT(){if(Ab)return Ve;Ab=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=m&&O[m]||O["@@iterator"],typeof O=="function"?O:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function S(O,Q,ce){this.props=O,this.context=Q,this.refs=w,this.updater=ce||y}S.prototype.isReactComponent={},S.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function j(){}j.prototype=S.prototype;function N(O,Q,ce){this.props=O,this.context=Q,this.refs=w,this.updater=ce||y}var T=N.prototype=new j;T.constructor=N,v(T,S.prototype),T.isPureReactComponent=!0;var A=Array.isArray,P=Object.prototype.hasOwnProperty,R={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function I(O,Q,ce){var Se,we={},Ue=null,De=null;if(Q!=null)for(Se in Q.ref!==void 0&&(De=Q.ref),Q.key!==void 0&&(Ue=""+Q.key),Q)P.call(Q,Se)&&!V.hasOwnProperty(Se)&&(we[Se]=Q[Se]);var Ae=arguments.length-2;if(Ae===1)we.children=ce;else if(1<Ae){for(var Le=Array(Ae),je=0;je<Ae;je++)Le[je]=arguments[je+2];we.children=Le}if(O&&O.defaultProps)for(Se in Ae=O.defaultProps,Ae)we[Se]===void 0&&(we[Se]=Ae[Se]);return{$$typeof:e,type:O,key:Ue,ref:De,props:we,_owner:R.current}}function z(O,Q){return{$$typeof:e,type:O.type,key:Q,ref:O.ref,props:O.props,_owner:O._owner}}function U(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function J(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return Q[ce]})}var se=/\/+/g;function de(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?J(""+O.key):Q.toString(36)}function G(O,Q,ce,Se,we){var Ue=typeof O;(Ue==="undefined"||Ue==="boolean")&&(O=null);var De=!1;if(O===null)De=!0;else switch(Ue){case"string":case"number":De=!0;break;case"object":switch(O.$$typeof){case e:case t:De=!0}}if(De)return De=O,we=we(De),O=Se===""?"."+de(De,0):Se,A(we)?(ce="",O!=null&&(ce=O.replace(se,"$&/")+"/"),G(we,Q,ce,"",function(je){return je})):we!=null&&(U(we)&&(we=z(we,ce+(!we.key||De&&De.key===we.key?"":(""+we.key).replace(se,"$&/")+"/")+O)),Q.push(we)),1;if(De=0,Se=Se===""?".":Se+":",A(O))for(var Ae=0;Ae<O.length;Ae++){Ue=O[Ae];var Le=Se+de(Ue,Ae);De+=G(Ue,Q,ce,Le,we)}else if(Le=x(O),typeof Le=="function")for(O=Le.call(O),Ae=0;!(Ue=O.next()).done;)Ue=Ue.value,Le=Se+de(Ue,Ae++),De+=G(Ue,Q,ce,Le,we);else if(Ue==="object")throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return De}function he(O,Q,ce){if(O==null)return O;var Se=[],we=0;return G(O,Se,"","",function(Ue){return Q.call(ce,Ue,we++)}),Se}function ee(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Z={current:null},K={transition:null},te={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:K,ReactCurrentOwner:R};return Ve.Children={map:he,forEach:function(O,Q,ce){he(O,function(){Q.apply(this,arguments)},ce)},count:function(O){var Q=0;return he(O,function(){Q++}),Q},toArray:function(O){return he(O,function(Q){return Q})||[]},only:function(O){if(!U(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ve.Component=S,Ve.Fragment=n,Ve.Profiler=r,Ve.PureComponent=N,Ve.StrictMode=s,Ve.Suspense=d,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Ve.cloneElement=function(O,Q,ce){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Se=v({},O.props),we=O.key,Ue=O.ref,De=O._owner;if(Q!=null){if(Q.ref!==void 0&&(Ue=Q.ref,De=R.current),Q.key!==void 0&&(we=""+Q.key),O.type&&O.type.defaultProps)var Ae=O.type.defaultProps;for(Le in Q)P.call(Q,Le)&&!V.hasOwnProperty(Le)&&(Se[Le]=Q[Le]===void 0&&Ae!==void 0?Ae[Le]:Q[Le])}var Le=arguments.length-2;if(Le===1)Se.children=ce;else if(1<Le){Ae=Array(Le);for(var je=0;je<Le;je++)Ae[je]=arguments[je+2];Se.children=Ae}return{$$typeof:e,type:O.type,key:we,ref:Ue,props:Se,_owner:De}},Ve.createContext=function(O){return O={$$typeof:a,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:i,_context:O},O.Consumer=O},Ve.createElement=I,Ve.createFactory=function(O){var Q=I.bind(null,O);return Q.type=O,Q},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(O){return{$$typeof:c,render:O}},Ve.isValidElement=U,Ve.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:ee}},Ve.memo=function(O,Q){return{$$typeof:h,type:O,compare:Q===void 0?null:Q}},Ve.startTransition=function(O){var Q=K.transition;K.transition={};try{O()}finally{K.transition=Q}},Ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ve.useCallback=function(O,Q){return Z.current.useCallback(O,Q)},Ve.useContext=function(O){return Z.current.useContext(O)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(O){return Z.current.useDeferredValue(O)},Ve.useEffect=function(O,Q){return Z.current.useEffect(O,Q)},Ve.useId=function(){return Z.current.useId()},Ve.useImperativeHandle=function(O,Q,ce){return Z.current.useImperativeHandle(O,Q,ce)},Ve.useInsertionEffect=function(O,Q){return Z.current.useInsertionEffect(O,Q)},Ve.useLayoutEffect=function(O,Q){return Z.current.useLayoutEffect(O,Q)},Ve.useMemo=function(O,Q){return Z.current.useMemo(O,Q)},Ve.useReducer=function(O,Q,ce){return Z.current.useReducer(O,Q,ce)},Ve.useRef=function(O){return Z.current.useRef(O)},Ve.useState=function(O){return Z.current.useState(O)},Ve.useSyncExternalStore=function(O,Q,ce){return Z.current.useSyncExternalStore(O,Q,ce)},Ve.useTransition=function(){return Z.current.useTransition()},Ve.version="18.2.0",Ve}var Rb;function Hg(){return Rb||(Rb=1,Mp.exports=eT()),Mp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function tT(){if(Db)return Dl;Db=1;var e=Hg(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,h){var p,m={},x=null,y=null;h!==void 0&&(x=""+h),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(y=d.ref);for(p in d)s.call(d,p)&&!i.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:c,key:x,ref:y,props:m,_owner:r.current}}return Dl.Fragment=n,Dl.jsx=a,Dl.jsxs=a,Dl}var Ob;function nT(){return Ob||(Ob=1,Pp.exports=tT()),Pp.exports}var u=nT(),C=Hg();const Rs=jh(C);var ud={},Ap={exports:{}},xn={},Rp={exports:{}},Dp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function sT(){return Lb||(Lb=1,function(e){function t(K,te){var O=K.length;K.push(te);e:for(;0<O;){var Q=O-1>>>1,ce=K[Q];if(0<r(ce,te))K[Q]=te,K[O]=ce,O=Q;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var te=K[0],O=K.pop();if(O!==te){K[0]=O;e:for(var Q=0,ce=K.length,Se=ce>>>1;Q<Se;){var we=2*(Q+1)-1,Ue=K[we],De=we+1,Ae=K[De];if(0>r(Ue,O))De<ce&&0>r(Ae,Ue)?(K[Q]=Ae,K[De]=O,Q=De):(K[Q]=Ue,K[we]=O,Q=we);else if(De<ce&&0>r(Ae,O))K[Q]=Ae,K[De]=O,Q=De;else break e}}return te}function r(K,te){var O=K.sortIndex-te.sortIndex;return O!==0?O:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var d=[],h=[],p=1,m=null,x=3,y=!1,v=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(K){for(var te=n(h);te!==null;){if(te.callback===null)s(h);else if(te.startTime<=K)s(h),te.sortIndex=te.expirationTime,t(d,te);else break;te=n(h)}}function A(K){if(w=!1,T(K),!v)if(n(d)!==null)v=!0,ee(P);else{var te=n(h);te!==null&&Z(A,te.startTime-K)}}function P(K,te){v=!1,w&&(w=!1,j(I),I=-1),y=!0;var O=x;try{for(T(te),m=n(d);m!==null&&(!(m.expirationTime>te)||K&&!J());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,x=m.priorityLevel;var ce=Q(m.expirationTime<=te);te=e.unstable_now(),typeof ce=="function"?m.callback=ce:m===n(d)&&s(d),T(te)}else s(d);m=n(d)}if(m!==null)var Se=!0;else{var we=n(h);we!==null&&Z(A,we.startTime-te),Se=!1}return Se}finally{m=null,x=O,y=!1}}var R=!1,V=null,I=-1,z=5,U=-1;function J(){return!(e.unstable_now()-U<z)}function se(){if(V!==null){var K=e.unstable_now();U=K;var te=!0;try{te=V(!0,K)}finally{te?de():(R=!1,V=null)}}else R=!1}var de;if(typeof N=="function")de=function(){N(se)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,he=G.port2;G.port1.onmessage=se,de=function(){he.postMessage(null)}}else de=function(){S(se,0)};function ee(K){V=K,R||(R=!0,de())}function Z(K,te){I=S(function(){K(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,ee(P))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(K){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var O=x;x=te;try{return K()}finally{x=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var O=x;x=K;try{return te()}finally{x=O}},e.unstable_scheduleCallback=function(K,te,O){var Q=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Q+O:Q):O=Q,K){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=O+ce,K={id:p++,callback:te,priorityLevel:K,startTime:O,expirationTime:ce,sortIndex:-1},O>Q?(K.sortIndex=O,t(h,K),n(d)===null&&K===n(h)&&(w?(j(I),I=-1):w=!0,Z(A,O-Q))):(K.sortIndex=ce,t(d,K),v||y||(v=!0,ee(P))),K},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(K){var te=x;return function(){var O=x;x=te;try{return K.apply(this,arguments)}finally{x=O}}}}(Dp)),Dp}var Ib;function rT(){return Ib||(Ib=1,Rp.exports=sT()),Rp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function iT(){if(Fb)return xn;Fb=1;var e=Hg(),t=rT();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,r={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(r[o]=l,o=0;o<l.length;o++)s.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function x(o){return d.call(m,o)?!0:d.call(p,o)?!1:h.test(o)?m[o]=!0:(p[o]=!0,!1)}function y(o,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function v(o,l,f,g){if(l===null||typeof l>"u"||y(o,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(o,l,f,g,b,_,k){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=o,this.type=l,this.sanitizeURL=_,this.removeEmptyString=k}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];S[l]=new w(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function N(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(j,N);S[l]=new w(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(j,N);S[l]=new w(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(j,N);S[l]=new w(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function T(o,l,f,g){var b=S.hasOwnProperty(l)?S[l]:null;(b!==null?b.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(v(l,f,b,g)&&(f=null),g||b===null?x(l)&&(f===null?o.removeAttribute(l):o.setAttribute(l,""+f)):b.mustUseProperty?o[b.propertyName]=f===null?b.type===3?!1:"":f:(l=b.attributeName,g=b.attributeNamespace,f===null?o.removeAttribute(l):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,g?o.setAttributeNS(g,l,f):o.setAttribute(l,f))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),R=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),J=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),K=Symbol.iterator;function te(o){return o===null||typeof o!="object"?null:(o=K&&o[K]||o["@@iterator"],typeof o=="function"?o:null)}var O=Object.assign,Q;function ce(o){if(Q===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Q=l&&l[1]||""}return`
`+Q+o}var Se=!1;function we(o,l){if(!o||Se)return"";Se=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Y){var g=Y}Reflect.construct(o,[],l)}else{try{l.call()}catch(Y){g=Y}o.call(l.prototype)}else{try{throw Error()}catch(Y){g=Y}o()}}catch(Y){if(Y&&g&&typeof Y.stack=="string"){for(var b=Y.stack.split(`
`),_=g.stack.split(`
`),k=b.length-1,D=_.length-1;1<=k&&0<=D&&b[k]!==_[D];)D--;for(;1<=k&&0<=D;k--,D--)if(b[k]!==_[D]){if(k!==1||D!==1)do if(k--,D--,0>D||b[k]!==_[D]){var B=`
`+b[k].replace(" at new "," at ");return o.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",o.displayName)),B}while(1<=k&&0<=D);break}}}finally{Se=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?ce(o):""}function Ue(o){switch(o.tag){case 5:return ce(o.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return o=we(o.type,!1),o;case 11:return o=we(o.type.render,!1),o;case 1:return o=we(o.type,!0),o;default:return""}}function De(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case V:return"Fragment";case R:return"Portal";case z:return"Profiler";case I:return"StrictMode";case de:return"Suspense";case G:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case J:return(o.displayName||"Context")+".Consumer";case U:return(o._context.displayName||"Context")+".Provider";case se:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case he:return l=o.displayName||null,l!==null?l:De(o.type)||"Memo";case ee:l=o._payload,o=o._init;try{return De(o(l))}catch{}}return null}function Ae(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Le(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function je(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ue(o){var l=je(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,_=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return b.call(this)},set:function(k){g=""+k,_.call(this,k)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(k){g=""+k},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Pe(o){o._valueTracker||(o._valueTracker=ue(o))}function Te(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return o&&(g=je(o)?o.checked?"true":"false":o.value),o=g,o!==f?(l.setValue(o),!0):!1}function Ie(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function nt(o,l){var f=l.checked;return O({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function yt(o,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=Le(l.value!=null?l.value:f),o._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function bt(o,l){l=l.checked,l!=null&&T(o,"checked",l,!1)}function tn(o,l){bt(o,l);var f=Le(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?ko(o,l.type,f):l.hasOwnProperty("defaultValue")&&ko(o,l.type,Le(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function wr(o,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,f||l===o.value||(o.value=l),o.defaultValue=l}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function ko(o,l,f){(l!=="number"||Ie(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var gs=Array.isArray;function Tt(o,l,f,g){if(o=o.options,l){l={};for(var b=0;b<f.length;b++)l["$"+f[b]]=!0;for(f=0;f<o.length;f++)b=l.hasOwnProperty("$"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&g&&(o[f].defaultSelected=!0)}else{for(f=""+Le(f),l=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,g&&(o[b].defaultSelected=!0);return}l!==null||o[b].disabled||(l=o[b])}l!==null&&(l.selected=!0)}}function qa(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return O({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Gc(o,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(n(92));if(gs(f)){if(1<f.length)throw Error(n(93));f=f[0]}l=f}l==null&&(l=""),f=l}o._wrapperState={initialValue:Le(f)}}function Zc(o,l){var f=Le(l.value),g=Le(l.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),l.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),g!=null&&(o.defaultValue=""+g)}function Jc(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function eu(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function To(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?eu(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Si,Ya=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,b){MSApp.execUnsafeLocalFunction(function(){return o(l,f,g,b)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Si=Si||document.createElement("div"),Si.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Si.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Sr(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ka=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(o){Ka.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),xs[l]=xs[o]})});function tu(o,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||xs.hasOwnProperty(o)&&xs[o]?(""+l).trim():l+"px"}function nu(o,l){o=o.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,b=tu(f,l[f],g);f==="float"&&(f="cssFloat"),g?o.setProperty(f,b):o[f]=b}}var Yh=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xa(o,l){if(l){if(Yh[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Qa(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _r=null;function Ga(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Za=null,Vs=null,$s=null;function Eo(o){if(o=bl(o)){if(typeof Za!="function")throw Error(n(280));var l=o.stateNode;l&&(l=ju(l),Za(o.stateNode,o.type,l))}}function su(o){Vs?$s?$s.push(o):$s=[o]:Vs=o}function ru(){if(Vs){var o=Vs,l=$s;if($s=Vs=null,Eo(o),l)for(o=0;o<l.length;o++)Eo(l[o])}}function iu(o,l){return o(l)}function Ja(){}var el=!1;function ou(o,l,f){if(el)return o(l,f);el=!0;try{return iu(o,l,f)}finally{el=!1,(Vs!==null||$s!==null)&&(Ja(),ru())}}function _i(o,l){var f=o.stateNode;if(f===null)return null;var g=ju(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,l,typeof f));return f}var jr=!1;if(c)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){jr=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{jr=!1}function Kh(o,l,f,g,b,_,k,D,B){var Y=Array.prototype.slice.call(arguments,3);try{l.apply(f,Y)}catch(ie){this.onError(ie)}}var Cr=!1,Nr=null,Po=!1,Mo=null,Xh={onError:function(o){Cr=!0,Nr=o}};function au(o,l,f,g,b,_,k,D,B){Cr=!1,Nr=null,Kh.apply(Xh,arguments)}function lu(o,l,f,g,b,_,k,D,B){if(au.apply(this,arguments),Cr){if(Cr){var Y=Nr;Cr=!1,Nr=null}else throw Error(n(198));Po||(Po=!0,Mo=Y)}}function ys(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function tl(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Ao(o){if(ys(o)!==o)throw Error(n(188))}function Us(o){var l=o.alternate;if(!l){if(l=ys(o),l===null)throw Error(n(188));return l!==o?null:o}for(var f=o,g=l;;){var b=f.return;if(b===null)break;var _=b.alternate;if(_===null){if(g=b.return,g!==null){f=g;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===f)return Ao(b),o;if(_===g)return Ao(b),l;_=_.sibling}throw Error(n(188))}if(f.return!==g.return)f=b,g=_;else{for(var k=!1,D=b.child;D;){if(D===f){k=!0,f=b,g=_;break}if(D===g){k=!0,g=b,f=_;break}D=D.sibling}if(!k){for(D=_.child;D;){if(D===f){k=!0,f=_,g=b;break}if(D===g){k=!0,g=_,f=b;break}D=D.sibling}if(!k)throw Error(n(189))}}if(f.alternate!==g)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:l}function kr(o){return o=Us(o),o!==null?Tr(o):null}function Tr(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Tr(o);if(l!==null)return l;o=o.sibling}return null}var Ci=t.unstable_scheduleCallback,Ro=t.unstable_cancelCallback,Qh=t.unstable_shouldYield,Gh=t.unstable_requestPaint,Ge=t.unstable_now,cn=t.unstable_getCurrentPriorityLevel,bs=t.unstable_ImmediatePriority,Jn=t.unstable_UserBlockingPriority,un=t.unstable_NormalPriority,Ni=t.unstable_LowPriority,kn=t.unstable_IdlePriority,dn=null,Tn=null;function cu(o){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(dn,o,void 0,(o.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:nl,En=Math.log,Do=Math.LN2;function nl(o){return o>>>=0,o===0?32:31-(En(o)/Do|0)|0}var Er=64,Pr=4194304;function Hs(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ws(o,l){var f=o.pendingLanes;if(f===0)return 0;var g=0,b=o.suspendedLanes,_=o.pingedLanes,k=f&268435455;if(k!==0){var D=k&~b;D!==0?g=Hs(D):(_&=k,_!==0&&(g=Hs(_)))}else k=f&~b,k!==0?g=Hs(k):_!==0&&(g=Hs(_));if(g===0)return 0;if(l!==0&&l!==g&&(l&b)===0&&(b=g&-g,_=l&-l,b>=_||b===16&&(_&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)f=31-$t(l),b=1<<f,g|=o[f],l&=~b;return g}function vs(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zh(o,l){for(var f=o.suspendedLanes,g=o.pingedLanes,b=o.expirationTimes,_=o.pendingLanes;0<_;){var k=31-$t(_),D=1<<k,B=b[k];B===-1?((D&f)===0||(D&g)!==0)&&(b[k]=vs(D,l)):B<=l&&(o.expiredLanes|=D),_&=~D}}function Oo(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Lo(){var o=Er;return Er<<=1,(Er&4194240)===0&&(Er=64),o}function Io(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function ki(o,l,f){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-$t(l),o[l]=f}function Jh(o,l){var f=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<f;){var b=31-$t(f),_=1<<b;l[b]=0,g[b]=-1,o[b]=-1,f&=~_}}function E(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var g=31-$t(f),b=1<<g;b&l|o[g]&l&&(o[g]|=l),f&=~b}}var M=0;function L(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var q,re,fe,Fe,vt,wt=!1,Ct=[],Et=null,Mr=null,Ar=null,sl=new Map,rl=new Map,Rr=[],vN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fx(o,l){switch(o){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":sl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(l.pointerId)}}function il(o,l,f,g,b,_){return o===null||o.nativeEvent!==_?(o={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:_,targetContainers:[b]},l!==null&&(l=bl(l),l!==null&&re(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),o)}function wN(o,l,f,g,b){switch(l){case"focusin":return Et=il(Et,o,l,f,g,b),!0;case"dragenter":return Mr=il(Mr,o,l,f,g,b),!0;case"mouseover":return Ar=il(Ar,o,l,f,g,b),!0;case"pointerover":var _=b.pointerId;return sl.set(_,il(sl.get(_)||null,o,l,f,g,b)),!0;case"gotpointercapture":return _=b.pointerId,rl.set(_,il(rl.get(_)||null,o,l,f,g,b)),!0}return!1}function px(o){var l=Ti(o.target);if(l!==null){var f=ys(l);if(f!==null){if(l=f.tag,l===13){if(l=tl(f),l!==null){o.blockedOn=l,vt(o.priority,function(){fe(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function uu(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=tf(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var g=new f.constructor(f.type,f);_r=g,f.target.dispatchEvent(g),_r=null}else return l=bl(f),l!==null&&re(l),o.blockedOn=f,!1;l.shift()}return!0}function mx(o,l,f){uu(o)&&f.delete(l)}function SN(){wt=!1,Et!==null&&uu(Et)&&(Et=null),Mr!==null&&uu(Mr)&&(Mr=null),Ar!==null&&uu(Ar)&&(Ar=null),sl.forEach(mx),rl.forEach(mx)}function ol(o,l){o.blockedOn===l&&(o.blockedOn=null,wt||(wt=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,SN)))}function al(o){function l(b){return ol(b,o)}if(0<Ct.length){ol(Ct[0],o);for(var f=1;f<Ct.length;f++){var g=Ct[f];g.blockedOn===o&&(g.blockedOn=null)}}for(Et!==null&&ol(Et,o),Mr!==null&&ol(Mr,o),Ar!==null&&ol(Ar,o),sl.forEach(l),rl.forEach(l),f=0;f<Rr.length;f++)g=Rr[f],g.blockedOn===o&&(g.blockedOn=null);for(;0<Rr.length&&(f=Rr[0],f.blockedOn===null);)px(f),f.blockedOn===null&&Rr.shift()}var Fo=A.ReactCurrentBatchConfig,du=!0;function _N(o,l,f,g){var b=M,_=Fo.transition;Fo.transition=null;try{M=1,ef(o,l,f,g)}finally{M=b,Fo.transition=_}}function jN(o,l,f,g){var b=M,_=Fo.transition;Fo.transition=null;try{M=4,ef(o,l,f,g)}finally{M=b,Fo.transition=_}}function ef(o,l,f,g){if(du){var b=tf(o,l,f,g);if(b===null)bf(o,l,g,hu,f),fx(o,g);else if(wN(b,o,l,f,g))g.stopPropagation();else if(fx(o,g),l&4&&-1<vN.indexOf(o)){for(;b!==null;){var _=bl(b);if(_!==null&&q(_),_=tf(o,l,f,g),_===null&&bf(o,l,g,hu,f),_===b)break;b=_}b!==null&&g.stopPropagation()}else bf(o,l,g,null,f)}}var hu=null;function tf(o,l,f,g){if(hu=null,o=Ga(g),o=Ti(o),o!==null)if(l=ys(o),l===null)o=null;else if(f=l.tag,f===13){if(o=tl(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return hu=o,null}function gx(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cn()){case bs:return 1;case Jn:return 4;case un:case Ni:return 16;case kn:return 536870912;default:return 16}default:return 16}}var Dr=null,nf=null,fu=null;function xx(){if(fu)return fu;var o,l=nf,f=l.length,g,b="value"in Dr?Dr.value:Dr.textContent,_=b.length;for(o=0;o<f&&l[o]===b[o];o++);var k=f-o;for(g=1;g<=k&&l[f-g]===b[_-g];g++);return fu=b.slice(o,1<g?1-g:void 0)}function pu(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function mu(){return!0}function yx(){return!1}function Pn(o){function l(f,g,b,_,k){this._reactName=f,this._targetInst=b,this.type=g,this.nativeEvent=_,this.target=k,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(f=o[D],this[D]=f?f(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?mu:yx,this.isPropagationStopped=yx,this}return O(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=mu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=mu)},persist:function(){},isPersistent:mu}),l}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sf=Pn(zo),ll=O({},zo,{view:0,detail:0}),CN=Pn(ll),rf,of,cl,gu=O({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lf,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==cl&&(cl&&o.type==="mousemove"?(rf=o.screenX-cl.screenX,of=o.screenY-cl.screenY):of=rf=0,cl=o),rf)},movementY:function(o){return"movementY"in o?o.movementY:of}}),bx=Pn(gu),NN=O({},gu,{dataTransfer:0}),kN=Pn(NN),TN=O({},ll,{relatedTarget:0}),af=Pn(TN),EN=O({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),PN=Pn(EN),MN=O({},zo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),AN=Pn(MN),RN=O({},zo,{data:0}),vx=Pn(RN),DN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ON={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IN(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=LN[o])?!!l[o]:!1}function lf(){return IN}var FN=O({},ll,{key:function(o){if(o.key){var l=DN[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=pu(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?ON[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lf,charCode:function(o){return o.type==="keypress"?pu(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?pu(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),zN=Pn(FN),BN=O({},gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wx=Pn(BN),VN=O({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lf}),$N=Pn(VN),UN=O({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),HN=Pn(UN),WN=O({},gu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),qN=Pn(WN),YN=[9,13,27,32],cf=c&&"CompositionEvent"in window,ul=null;c&&"documentMode"in document&&(ul=document.documentMode);var KN=c&&"TextEvent"in window&&!ul,Sx=c&&(!cf||ul&&8<ul&&11>=ul),_x=" ",jx=!1;function Cx(o,l){switch(o){case"keyup":return YN.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nx(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Bo=!1;function XN(o,l){switch(o){case"compositionend":return Nx(l);case"keypress":return l.which!==32?null:(jx=!0,_x);case"textInput":return o=l.data,o===_x&&jx?null:o;default:return null}}function QN(o,l){if(Bo)return o==="compositionend"||!cf&&Cx(o,l)?(o=xx(),fu=nf=Dr=null,Bo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Sx&&l.locale!=="ko"?null:l.data;default:return null}}var GN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kx(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!GN[o.type]:l==="textarea"}function Tx(o,l,f,g){su(g),l=wu(l,"onChange"),0<l.length&&(f=new sf("onChange","change",null,f,g),o.push({event:f,listeners:l}))}var dl=null,hl=null;function ZN(o){qx(o,0)}function xu(o){var l=Wo(o);if(Te(l))return o}function JN(o,l){if(o==="change")return l}var Ex=!1;if(c){var uf;if(c){var df="oninput"in document;if(!df){var Px=document.createElement("div");Px.setAttribute("oninput","return;"),df=typeof Px.oninput=="function"}uf=df}else uf=!1;Ex=uf&&(!document.documentMode||9<document.documentMode)}function Mx(){dl&&(dl.detachEvent("onpropertychange",Ax),hl=dl=null)}function Ax(o){if(o.propertyName==="value"&&xu(hl)){var l=[];Tx(l,hl,o,Ga(o)),ou(ZN,l)}}function ek(o,l,f){o==="focusin"?(Mx(),dl=l,hl=f,dl.attachEvent("onpropertychange",Ax)):o==="focusout"&&Mx()}function tk(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return xu(hl)}function nk(o,l){if(o==="click")return xu(l)}function sk(o,l){if(o==="input"||o==="change")return xu(l)}function rk(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var es=typeof Object.is=="function"?Object.is:rk;function fl(o,l){if(es(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var b=f[g];if(!d.call(l,b)||!es(o[b],l[b]))return!1}return!0}function Rx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Dx(o,l){var f=Rx(o);o=0;for(var g;f;){if(f.nodeType===3){if(g=o+f.textContent.length,o<=l&&g>=l)return{node:f,offset:l-o};o=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Rx(f)}}function Ox(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Ox(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Lx(){for(var o=window,l=Ie();l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=Ie(o.document)}return l}function hf(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function ik(o){var l=Lx(),f=o.focusedElem,g=o.selectionRange;if(l!==f&&f&&f.ownerDocument&&Ox(f.ownerDocument.documentElement,f)){if(g!==null&&hf(f)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(o,f.value.length);else if(o=(l=f.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var b=f.textContent.length,_=Math.min(g.start,b);g=g.end===void 0?_:Math.min(g.end,b),!o.extend&&_>g&&(b=g,g=_,_=b),b=Dx(f,_);var k=Dx(f,g);b&&k&&(o.rangeCount!==1||o.anchorNode!==b.node||o.anchorOffset!==b.offset||o.focusNode!==k.node||o.focusOffset!==k.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),o.removeAllRanges(),_>g?(o.addRange(l),o.extend(k.node,k.offset)):(l.setEnd(k.node,k.offset),o.addRange(l)))}}for(l=[],o=f;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)o=l[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var ok=c&&"documentMode"in document&&11>=document.documentMode,Vo=null,ff=null,pl=null,pf=!1;function Ix(o,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;pf||Vo==null||Vo!==Ie(g)||(g=Vo,"selectionStart"in g&&hf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),pl&&fl(pl,g)||(pl=g,g=wu(ff,"onSelect"),0<g.length&&(l=new sf("onSelect","select",null,l,f),o.push({event:l,listeners:g}),l.target=Vo)))}function yu(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var $o={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},mf={},Fx={};c&&(Fx=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function bu(o){if(mf[o])return mf[o];if(!$o[o])return o;var l=$o[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in Fx)return mf[o]=l[f];return o}var zx=bu("animationend"),Bx=bu("animationiteration"),Vx=bu("animationstart"),$x=bu("transitionend"),Ux=new Map,Hx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(o,l){Ux.set(o,l),i(l,[o])}for(var gf=0;gf<Hx.length;gf++){var xf=Hx[gf],ak=xf.toLowerCase(),lk=xf[0].toUpperCase()+xf.slice(1);Or(ak,"on"+lk)}Or(zx,"onAnimationEnd"),Or(Bx,"onAnimationIteration"),Or(Vx,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or($x,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ck=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function Wx(o,l,f){var g=o.type||"unknown-event";o.currentTarget=f,lu(g,l,void 0,o),o.currentTarget=null}function qx(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var g=o[f],b=g.event;g=g.listeners;e:{var _=void 0;if(l)for(var k=g.length-1;0<=k;k--){var D=g[k],B=D.instance,Y=D.currentTarget;if(D=D.listener,B!==_&&b.isPropagationStopped())break e;Wx(b,D,Y),_=B}else for(k=0;k<g.length;k++){if(D=g[k],B=D.instance,Y=D.currentTarget,D=D.listener,B!==_&&b.isPropagationStopped())break e;Wx(b,D,Y),_=B}}}if(Po)throw o=Mo,Po=!1,Mo=null,o}function et(o,l){var f=l[Cf];f===void 0&&(f=l[Cf]=new Set);var g=o+"__bubble";f.has(g)||(Yx(l,o,2,!1),f.add(g))}function yf(o,l,f){var g=0;l&&(g|=4),Yx(f,o,g,l)}var vu="_reactListening"+Math.random().toString(36).slice(2);function gl(o){if(!o[vu]){o[vu]=!0,s.forEach(function(f){f!=="selectionchange"&&(ck.has(f)||yf(f,!1,o),yf(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[vu]||(l[vu]=!0,yf("selectionchange",!1,l))}}function Yx(o,l,f,g){switch(gx(l)){case 1:var b=_N;break;case 4:b=jN;break;default:b=ef}f=b.bind(null,l,f,o),b=void 0,!jr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?o.addEventListener(l,f,{capture:!0,passive:b}):o.addEventListener(l,f,!0):b!==void 0?o.addEventListener(l,f,{passive:b}):o.addEventListener(l,f,!1)}function bf(o,l,f,g,b){var _=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var k=g.tag;if(k===3||k===4){var D=g.stateNode.containerInfo;if(D===b||D.nodeType===8&&D.parentNode===b)break;if(k===4)for(k=g.return;k!==null;){var B=k.tag;if((B===3||B===4)&&(B=k.stateNode.containerInfo,B===b||B.nodeType===8&&B.parentNode===b))return;k=k.return}for(;D!==null;){if(k=Ti(D),k===null)return;if(B=k.tag,B===5||B===6){g=_=k;continue e}D=D.parentNode}}g=g.return}ou(function(){var Y=_,ie=Ga(f),oe=[];e:{var ne=Ux.get(o);if(ne!==void 0){var pe=sf,xe=o;switch(o){case"keypress":if(pu(f)===0)break e;case"keydown":case"keyup":pe=zN;break;case"focusin":xe="focus",pe=af;break;case"focusout":xe="blur",pe=af;break;case"beforeblur":case"afterblur":pe=af;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=bx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=kN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=$N;break;case zx:case Bx:case Vx:pe=PN;break;case $x:pe=HN;break;case"scroll":pe=CN;break;case"wheel":pe=qN;break;case"copy":case"cut":case"paste":pe=AN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=wx}var be=(l&4)!==0,St=!be&&o==="scroll",H=be?ne!==null?ne+"Capture":null:ne;be=[];for(var $=Y,W;$!==null;){W=$;var le=W.stateNode;if(W.tag===5&&le!==null&&(W=le,H!==null&&(le=_i($,H),le!=null&&be.push(xl($,le,W)))),St)break;$=$.return}0<be.length&&(ne=new pe(ne,xe,null,f,ie),oe.push({event:ne,listeners:be}))}}if((l&7)===0){e:{if(ne=o==="mouseover"||o==="pointerover",pe=o==="mouseout"||o==="pointerout",ne&&f!==_r&&(xe=f.relatedTarget||f.fromElement)&&(Ti(xe)||xe[qs]))break e;if((pe||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,pe?(xe=f.relatedTarget||f.toElement,pe=Y,xe=xe?Ti(xe):null,xe!==null&&(St=ys(xe),xe!==St||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(pe=null,xe=Y),pe!==xe)){if(be=bx,le="onMouseLeave",H="onMouseEnter",$="mouse",(o==="pointerout"||o==="pointerover")&&(be=wx,le="onPointerLeave",H="onPointerEnter",$="pointer"),St=pe==null?ne:Wo(pe),W=xe==null?ne:Wo(xe),ne=new be(le,$+"leave",pe,f,ie),ne.target=St,ne.relatedTarget=W,le=null,Ti(ie)===Y&&(be=new be(H,$+"enter",xe,f,ie),be.target=W,be.relatedTarget=St,le=be),St=le,pe&&xe)t:{for(be=pe,H=xe,$=0,W=be;W;W=Uo(W))$++;for(W=0,le=H;le;le=Uo(le))W++;for(;0<$-W;)be=Uo(be),$--;for(;0<W-$;)H=Uo(H),W--;for(;$--;){if(be===H||H!==null&&be===H.alternate)break t;be=Uo(be),H=Uo(H)}be=null}else be=null;pe!==null&&Kx(oe,ne,pe,be,!1),xe!==null&&St!==null&&Kx(oe,St,xe,be,!0)}}e:{if(ne=Y?Wo(Y):window,pe=ne.nodeName&&ne.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ne.type==="file")var ve=JN;else if(kx(ne))if(Ex)ve=sk;else{ve=tk;var Ce=ek}else(pe=ne.nodeName)&&pe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ve=nk);if(ve&&(ve=ve(o,Y))){Tx(oe,ve,f,ie);break e}Ce&&Ce(o,ne,Y),o==="focusout"&&(Ce=ne._wrapperState)&&Ce.controlled&&ne.type==="number"&&ko(ne,"number",ne.value)}switch(Ce=Y?Wo(Y):window,o){case"focusin":(kx(Ce)||Ce.contentEditable==="true")&&(Vo=Ce,ff=Y,pl=null);break;case"focusout":pl=ff=Vo=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,Ix(oe,f,ie);break;case"selectionchange":if(ok)break;case"keydown":case"keyup":Ix(oe,f,ie)}var Ne;if(cf)e:{switch(o){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Bo?Cx(o,f)&&(Me="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Me="onCompositionStart");Me&&(Sx&&f.locale!=="ko"&&(Bo||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Bo&&(Ne=xx()):(Dr=ie,nf="value"in Dr?Dr.value:Dr.textContent,Bo=!0)),Ce=wu(Y,Me),0<Ce.length&&(Me=new vx(Me,o,null,f,ie),oe.push({event:Me,listeners:Ce}),Ne?Me.data=Ne:(Ne=Nx(f),Ne!==null&&(Me.data=Ne)))),(Ne=KN?XN(o,f):QN(o,f))&&(Y=wu(Y,"onBeforeInput"),0<Y.length&&(ie=new vx("onBeforeInput","beforeinput",null,f,ie),oe.push({event:ie,listeners:Y}),ie.data=Ne))}qx(oe,l)})}function xl(o,l,f){return{instance:o,listener:l,currentTarget:f}}function wu(o,l){for(var f=l+"Capture",g=[];o!==null;){var b=o,_=b.stateNode;b.tag===5&&_!==null&&(b=_,_=_i(o,f),_!=null&&g.unshift(xl(o,_,b)),_=_i(o,l),_!=null&&g.push(xl(o,_,b))),o=o.return}return g}function Uo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Kx(o,l,f,g,b){for(var _=l._reactName,k=[];f!==null&&f!==g;){var D=f,B=D.alternate,Y=D.stateNode;if(B!==null&&B===g)break;D.tag===5&&Y!==null&&(D=Y,b?(B=_i(f,_),B!=null&&k.unshift(xl(f,B,D))):b||(B=_i(f,_),B!=null&&k.push(xl(f,B,D)))),f=f.return}k.length!==0&&o.push({event:l,listeners:k})}var uk=/\r\n?/g,dk=/\u0000|\uFFFD/g;function Xx(o){return(typeof o=="string"?o:""+o).replace(uk,`
`).replace(dk,"")}function Su(o,l,f){if(l=Xx(l),Xx(o)!==l&&f)throw Error(n(425))}function _u(){}var vf=null,wf=null;function Sf(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,hk=typeof clearTimeout=="function"?clearTimeout:void 0,Qx=typeof Promise=="function"?Promise:void 0,fk=typeof queueMicrotask=="function"?queueMicrotask:typeof Qx<"u"?function(o){return Qx.resolve(null).then(o).catch(pk)}:_f;function pk(o){setTimeout(function(){throw o})}function jf(o,l){var f=l,g=0;do{var b=f.nextSibling;if(o.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(g===0){o.removeChild(b),al(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=b}while(f);al(l)}function Lr(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function Gx(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),ws="__reactFiber$"+Ho,yl="__reactProps$"+Ho,qs="__reactContainer$"+Ho,Cf="__reactEvents$"+Ho,mk="__reactListeners$"+Ho,gk="__reactHandles$"+Ho;function Ti(o){var l=o[ws];if(l)return l;for(var f=o.parentNode;f;){if(l=f[qs]||f[ws]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=Gx(o);o!==null;){if(f=o[ws])return f;o=Gx(o)}return l}o=f,f=o.parentNode}return null}function bl(o){return o=o[ws]||o[qs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Wo(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function ju(o){return o[yl]||null}var Nf=[],qo=-1;function Ir(o){return{current:o}}function tt(o){0>qo||(o.current=Nf[qo],Nf[qo]=null,qo--)}function Ze(o,l){qo++,Nf[qo]=o.current,o.current=l}var Fr={},Ut=Ir(Fr),hn=Ir(!1),Ei=Fr;function Yo(o,l){var f=o.type.contextTypes;if(!f)return Fr;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var b={},_;for(_ in f)b[_]=l[_];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=b),b}function fn(o){return o=o.childContextTypes,o!=null}function Cu(){tt(hn),tt(Ut)}function Zx(o,l,f){if(Ut.current!==Fr)throw Error(n(168));Ze(Ut,l),Ze(hn,f)}function Jx(o,l,f){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var b in g)if(!(b in l))throw Error(n(108,Ae(o)||"Unknown",b));return O({},f,g)}function Nu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Fr,Ei=Ut.current,Ze(Ut,o),Ze(hn,hn.current),!0}function ey(o,l,f){var g=o.stateNode;if(!g)throw Error(n(169));f?(o=Jx(o,l,Ei),g.__reactInternalMemoizedMergedChildContext=o,tt(hn),tt(Ut),Ze(Ut,o)):tt(hn),Ze(hn,f)}var Ys=null,ku=!1,kf=!1;function ty(o){Ys===null?Ys=[o]:Ys.push(o)}function xk(o){ku=!0,ty(o)}function zr(){if(!kf&&Ys!==null){kf=!0;var o=0,l=M;try{var f=Ys;for(M=1;o<f.length;o++){var g=f[o];do g=g(!0);while(g!==null)}Ys=null,ku=!1}catch(b){throw Ys!==null&&(Ys=Ys.slice(o+1)),Ci(bs,zr),b}finally{M=l,kf=!1}}return null}var Ko=[],Xo=0,Tu=null,Eu=0,Fn=[],zn=0,Pi=null,Ks=1,Xs="";function Mi(o,l){Ko[Xo++]=Eu,Ko[Xo++]=Tu,Tu=o,Eu=l}function ny(o,l,f){Fn[zn++]=Ks,Fn[zn++]=Xs,Fn[zn++]=Pi,Pi=o;var g=Ks;o=Xs;var b=32-$t(g)-1;g&=~(1<<b),f+=1;var _=32-$t(l)+b;if(30<_){var k=b-b%5;_=(g&(1<<k)-1).toString(32),g>>=k,b-=k,Ks=1<<32-$t(l)+b|f<<b|g,Xs=_+o}else Ks=1<<_|f<<b|g,Xs=o}function Tf(o){o.return!==null&&(Mi(o,1),ny(o,1,0))}function Ef(o){for(;o===Tu;)Tu=Ko[--Xo],Ko[Xo]=null,Eu=Ko[--Xo],Ko[Xo]=null;for(;o===Pi;)Pi=Fn[--zn],Fn[zn]=null,Xs=Fn[--zn],Fn[zn]=null,Ks=Fn[--zn],Fn[zn]=null}var Mn=null,An=null,st=!1,ts=null;function sy(o,l){var f=Un(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=o,l=o.deletions,l===null?(o.deletions=[f],o.flags|=16):l.push(f)}function ry(o,l){switch(o.tag){case 5:var f=o.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Mn=o,An=Lr(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Mn=o,An=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=Pi!==null?{id:Ks,overflow:Xs}:null,o.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Un(18,null,null,0),f.stateNode=l,f.return=o,o.child=f,Mn=o,An=null,!0):!1;default:return!1}}function Pf(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Mf(o){if(st){var l=An;if(l){var f=l;if(!ry(o,l)){if(Pf(o))throw Error(n(418));l=Lr(f.nextSibling);var g=Mn;l&&ry(o,l)?sy(g,f):(o.flags=o.flags&-4097|2,st=!1,Mn=o)}}else{if(Pf(o))throw Error(n(418));o.flags=o.flags&-4097|2,st=!1,Mn=o}}}function iy(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Mn=o}function Pu(o){if(o!==Mn)return!1;if(!st)return iy(o),st=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Sf(o.type,o.memoizedProps)),l&&(l=An)){if(Pf(o))throw oy(),Error(n(418));for(;l;)sy(o,l),l=Lr(l.nextSibling)}if(iy(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(l===0){An=Lr(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}o=o.nextSibling}An=null}}else An=Mn?Lr(o.stateNode.nextSibling):null;return!0}function oy(){for(var o=An;o;)o=Lr(o.nextSibling)}function Qo(){An=Mn=null,st=!1}function Af(o){ts===null?ts=[o]:ts.push(o)}var yk=A.ReactCurrentBatchConfig;function ns(o,l){if(o&&o.defaultProps){l=O({},l),o=o.defaultProps;for(var f in o)l[f]===void 0&&(l[f]=o[f]);return l}return l}var Mu=Ir(null),Au=null,Go=null,Rf=null;function Df(){Rf=Go=Au=null}function Of(o){var l=Mu.current;tt(Mu),o._currentValue=l}function Lf(o,l,f){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===f)break;o=o.return}}function Zo(o,l){Au=o,Rf=Go=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(pn=!0),o.firstContext=null)}function Bn(o){var l=o._currentValue;if(Rf!==o)if(o={context:o,memoizedValue:l,next:null},Go===null){if(Au===null)throw Error(n(308));Go=o,Au.dependencies={lanes:0,firstContext:o}}else Go=Go.next=o;return l}var Ai=null;function If(o){Ai===null?Ai=[o]:Ai.push(o)}function ay(o,l,f,g){var b=l.interleaved;return b===null?(f.next=f,If(l)):(f.next=b.next,b.next=f),l.interleaved=f,Qs(o,g)}function Qs(o,l){o.lanes|=l;var f=o.alternate;for(f!==null&&(f.lanes|=l),f=o,o=o.return;o!==null;)o.childLanes|=l,f=o.alternate,f!==null&&(f.childLanes|=l),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Br=!1;function Ff(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ly(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Gs(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Vr(o,l,f){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(qe&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,Qs(o,f)}return b=g.interleaved,b===null?(l.next=l,If(g)):(l.next=b.next,b.next=l),g.interleaved=l,Qs(o,f)}function Ru(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,f|=g,l.lanes=f,E(o,f)}}function cy(o,l){var f=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var b=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var k={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?b=_=k:_=_.next=k,f=f.next}while(f!==null);_===null?b=_=l:_=_.next=l}else b=_=l;f={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:g.shared,effects:g.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}function Du(o,l,f,g){var b=o.updateQueue;Br=!1;var _=b.firstBaseUpdate,k=b.lastBaseUpdate,D=b.shared.pending;if(D!==null){b.shared.pending=null;var B=D,Y=B.next;B.next=null,k===null?_=Y:k.next=Y,k=B;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,D=ie.lastBaseUpdate,D!==k&&(D===null?ie.firstBaseUpdate=Y:D.next=Y,ie.lastBaseUpdate=B))}if(_!==null){var oe=b.baseState;k=0,ie=Y=B=null,D=_;do{var ne=D.lane,pe=D.eventTime;if((g&ne)===ne){ie!==null&&(ie=ie.next={eventTime:pe,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var xe=o,be=D;switch(ne=l,pe=f,be.tag){case 1:if(xe=be.payload,typeof xe=="function"){oe=xe.call(pe,oe,ne);break e}oe=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=be.payload,ne=typeof xe=="function"?xe.call(pe,oe,ne):xe,ne==null)break e;oe=O({},oe,ne);break e;case 2:Br=!0}}D.callback!==null&&D.lane!==0&&(o.flags|=64,ne=b.effects,ne===null?b.effects=[D]:ne.push(D))}else pe={eventTime:pe,lane:ne,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ie===null?(Y=ie=pe,B=oe):ie=ie.next=pe,k|=ne;if(D=D.next,D===null){if(D=b.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,b.lastBaseUpdate=ne,b.shared.pending=null}}while(!0);if(ie===null&&(B=oe),b.baseState=B,b.firstBaseUpdate=Y,b.lastBaseUpdate=ie,l=b.shared.interleaved,l!==null){b=l;do k|=b.lane,b=b.next;while(b!==l)}else _===null&&(b.shared.lanes=0);Oi|=k,o.lanes=k,o.memoizedState=oe}}function uy(o,l,f){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],b=g.callback;if(b!==null){if(g.callback=null,g=f,typeof b!="function")throw Error(n(191,b));b.call(g)}}}var dy=new e.Component().refs;function zf(o,l,f,g){l=o.memoizedState,f=f(g,l),f=f==null?l:O({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Ou={isMounted:function(o){return(o=o._reactInternals)?ys(o)===o:!1},enqueueSetState:function(o,l,f){o=o._reactInternals;var g=sn(),b=Wr(o),_=Gs(g,b);_.payload=l,f!=null&&(_.callback=f),l=Vr(o,_,b),l!==null&&(is(l,o,b,g),Ru(l,o,b))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var g=sn(),b=Wr(o),_=Gs(g,b);_.tag=1,_.payload=l,f!=null&&(_.callback=f),l=Vr(o,_,b),l!==null&&(is(l,o,b,g),Ru(l,o,b))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=sn(),g=Wr(o),b=Gs(f,g);b.tag=2,l!=null&&(b.callback=l),l=Vr(o,b,g),l!==null&&(is(l,o,g,f),Ru(l,o,g))}};function hy(o,l,f,g,b,_,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,_,k):l.prototype&&l.prototype.isPureReactComponent?!fl(f,g)||!fl(b,_):!0}function fy(o,l,f){var g=!1,b=Fr,_=l.contextType;return typeof _=="object"&&_!==null?_=Bn(_):(b=fn(l)?Ei:Ut.current,g=l.contextTypes,_=(g=g!=null)?Yo(o,b):Fr),l=new l(f,_),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ou,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=b,o.__reactInternalMemoizedMaskedChildContext=_),l}function py(o,l,f,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==o&&Ou.enqueueReplaceState(l,l.state,null)}function Bf(o,l,f,g){var b=o.stateNode;b.props=f,b.state=o.memoizedState,b.refs=dy,Ff(o);var _=l.contextType;typeof _=="object"&&_!==null?b.context=Bn(_):(_=fn(l)?Ei:Ut.current,b.context=Yo(o,_)),b.state=o.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(zf(o,l,_,f),b.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&Ou.enqueueReplaceState(b,b.state,null),Du(o,f,b,g),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308)}function vl(o,l,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var g=f.stateNode}if(!g)throw Error(n(147,o));var b=g,_=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(k){var D=b.refs;D===dy&&(D=b.refs={}),k===null?delete D[_]:D[_]=k},l._stringRef=_,l)}if(typeof o!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,o))}return o}function Lu(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function my(o){var l=o._init;return l(o._payload)}function gy(o){function l(H,$){if(o){var W=H.deletions;W===null?(H.deletions=[$],H.flags|=16):W.push($)}}function f(H,$){if(!o)return null;for(;$!==null;)l(H,$),$=$.sibling;return null}function g(H,$){for(H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function b(H,$){return H=Yr(H,$),H.index=0,H.sibling=null,H}function _(H,$,W){return H.index=W,o?(W=H.alternate,W!==null?(W=W.index,W<$?(H.flags|=2,$):W):(H.flags|=2,$)):(H.flags|=1048576,$)}function k(H){return o&&H.alternate===null&&(H.flags|=2),H}function D(H,$,W,le){return $===null||$.tag!==6?($=_p(W,H.mode,le),$.return=H,$):($=b($,W),$.return=H,$)}function B(H,$,W,le){var ve=W.type;return ve===V?ie(H,$,W.props.children,le,W.key):$!==null&&($.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ee&&my(ve)===$.type)?(le=b($,W.props),le.ref=vl(H,$,W),le.return=H,le):(le=td(W.type,W.key,W.props,null,H.mode,le),le.ref=vl(H,$,W),le.return=H,le)}function Y(H,$,W,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=jp(W,H.mode,le),$.return=H,$):($=b($,W.children||[]),$.return=H,$)}function ie(H,$,W,le,ve){return $===null||$.tag!==7?($=zi(W,H.mode,le,ve),$.return=H,$):($=b($,W),$.return=H,$)}function oe(H,$,W){if(typeof $=="string"&&$!==""||typeof $=="number")return $=_p(""+$,H.mode,W),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case P:return W=td($.type,$.key,$.props,null,H.mode,W),W.ref=vl(H,null,$),W.return=H,W;case R:return $=jp($,H.mode,W),$.return=H,$;case ee:var le=$._init;return oe(H,le($._payload),W)}if(gs($)||te($))return $=zi($,H.mode,W,null),$.return=H,$;Lu(H,$)}return null}function ne(H,$,W,le){var ve=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ve!==null?null:D(H,$,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case P:return W.key===ve?B(H,$,W,le):null;case R:return W.key===ve?Y(H,$,W,le):null;case ee:return ve=W._init,ne(H,$,ve(W._payload),le)}if(gs(W)||te(W))return ve!==null?null:ie(H,$,W,le,null);Lu(H,W)}return null}function pe(H,$,W,le,ve){if(typeof le=="string"&&le!==""||typeof le=="number")return H=H.get(W)||null,D($,H,""+le,ve);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case P:return H=H.get(le.key===null?W:le.key)||null,B($,H,le,ve);case R:return H=H.get(le.key===null?W:le.key)||null,Y($,H,le,ve);case ee:var Ce=le._init;return pe(H,$,W,Ce(le._payload),ve)}if(gs(le)||te(le))return H=H.get(W)||null,ie($,H,le,ve,null);Lu($,le)}return null}function xe(H,$,W,le){for(var ve=null,Ce=null,Ne=$,Me=$=0,Lt=null;Ne!==null&&Me<W.length;Me++){Ne.index>Me?(Lt=Ne,Ne=null):Lt=Ne.sibling;var Ye=ne(H,Ne,W[Me],le);if(Ye===null){Ne===null&&(Ne=Lt);break}o&&Ne&&Ye.alternate===null&&l(H,Ne),$=_(Ye,$,Me),Ce===null?ve=Ye:Ce.sibling=Ye,Ce=Ye,Ne=Lt}if(Me===W.length)return f(H,Ne),st&&Mi(H,Me),ve;if(Ne===null){for(;Me<W.length;Me++)Ne=oe(H,W[Me],le),Ne!==null&&($=_(Ne,$,Me),Ce===null?ve=Ne:Ce.sibling=Ne,Ce=Ne);return st&&Mi(H,Me),ve}for(Ne=g(H,Ne);Me<W.length;Me++)Lt=pe(Ne,H,Me,W[Me],le),Lt!==null&&(o&&Lt.alternate!==null&&Ne.delete(Lt.key===null?Me:Lt.key),$=_(Lt,$,Me),Ce===null?ve=Lt:Ce.sibling=Lt,Ce=Lt);return o&&Ne.forEach(function(Kr){return l(H,Kr)}),st&&Mi(H,Me),ve}function be(H,$,W,le){var ve=te(W);if(typeof ve!="function")throw Error(n(150));if(W=ve.call(W),W==null)throw Error(n(151));for(var Ce=ve=null,Ne=$,Me=$=0,Lt=null,Ye=W.next();Ne!==null&&!Ye.done;Me++,Ye=W.next()){Ne.index>Me?(Lt=Ne,Ne=null):Lt=Ne.sibling;var Kr=ne(H,Ne,Ye.value,le);if(Kr===null){Ne===null&&(Ne=Lt);break}o&&Ne&&Kr.alternate===null&&l(H,Ne),$=_(Kr,$,Me),Ce===null?ve=Kr:Ce.sibling=Kr,Ce=Kr,Ne=Lt}if(Ye.done)return f(H,Ne),st&&Mi(H,Me),ve;if(Ne===null){for(;!Ye.done;Me++,Ye=W.next())Ye=oe(H,Ye.value,le),Ye!==null&&($=_(Ye,$,Me),Ce===null?ve=Ye:Ce.sibling=Ye,Ce=Ye);return st&&Mi(H,Me),ve}for(Ne=g(H,Ne);!Ye.done;Me++,Ye=W.next())Ye=pe(Ne,H,Me,Ye.value,le),Ye!==null&&(o&&Ye.alternate!==null&&Ne.delete(Ye.key===null?Me:Ye.key),$=_(Ye,$,Me),Ce===null?ve=Ye:Ce.sibling=Ye,Ce=Ye);return o&&Ne.forEach(function(Gk){return l(H,Gk)}),st&&Mi(H,Me),ve}function St(H,$,W,le){if(typeof W=="object"&&W!==null&&W.type===V&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case P:e:{for(var ve=W.key,Ce=$;Ce!==null;){if(Ce.key===ve){if(ve=W.type,ve===V){if(Ce.tag===7){f(H,Ce.sibling),$=b(Ce,W.props.children),$.return=H,H=$;break e}}else if(Ce.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ee&&my(ve)===Ce.type){f(H,Ce.sibling),$=b(Ce,W.props),$.ref=vl(H,Ce,W),$.return=H,H=$;break e}f(H,Ce);break}else l(H,Ce);Ce=Ce.sibling}W.type===V?($=zi(W.props.children,H.mode,le,W.key),$.return=H,H=$):(le=td(W.type,W.key,W.props,null,H.mode,le),le.ref=vl(H,$,W),le.return=H,H=le)}return k(H);case R:e:{for(Ce=W.key;$!==null;){if($.key===Ce)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){f(H,$.sibling),$=b($,W.children||[]),$.return=H,H=$;break e}else{f(H,$);break}else l(H,$);$=$.sibling}$=jp(W,H.mode,le),$.return=H,H=$}return k(H);case ee:return Ce=W._init,St(H,$,Ce(W._payload),le)}if(gs(W))return xe(H,$,W,le);if(te(W))return be(H,$,W,le);Lu(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,$!==null&&$.tag===6?(f(H,$.sibling),$=b($,W),$.return=H,H=$):(f(H,$),$=_p(W,H.mode,le),$.return=H,H=$),k(H)):f(H,$)}return St}var Jo=gy(!0),xy=gy(!1),wl={},Ss=Ir(wl),Sl=Ir(wl),_l=Ir(wl);function Ri(o){if(o===wl)throw Error(n(174));return o}function Vf(o,l){switch(Ze(_l,l),Ze(Sl,o),Ze(Ss,wl),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:To(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=To(l,o)}tt(Ss),Ze(Ss,l)}function ea(){tt(Ss),tt(Sl),tt(_l)}function yy(o){Ri(_l.current);var l=Ri(Ss.current),f=To(l,o.type);l!==f&&(Ze(Sl,o),Ze(Ss,f))}function $f(o){Sl.current===o&&(tt(Ss),tt(Sl))}var at=Ir(0);function Iu(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Uf=[];function Hf(){for(var o=0;o<Uf.length;o++)Uf[o]._workInProgressVersionPrimary=null;Uf.length=0}var Fu=A.ReactCurrentDispatcher,Wf=A.ReactCurrentBatchConfig,Di=0,lt=null,Pt=null,Dt=null,zu=!1,jl=!1,Cl=0,bk=0;function Ht(){throw Error(n(321))}function qf(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!es(o[f],l[f]))return!1;return!0}function Yf(o,l,f,g,b,_){if(Di=_,lt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Fu.current=o===null||o.memoizedState===null?_k:jk,o=f(g,b),jl){_=0;do{if(jl=!1,Cl=0,25<=_)throw Error(n(301));_+=1,Dt=Pt=null,l.updateQueue=null,Fu.current=Ck,o=f(g,b)}while(jl)}if(Fu.current=$u,l=Pt!==null&&Pt.next!==null,Di=0,Dt=Pt=lt=null,zu=!1,l)throw Error(n(300));return o}function Kf(){var o=Cl!==0;return Cl=0,o}function _s(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?lt.memoizedState=Dt=o:Dt=Dt.next=o,Dt}function Vn(){if(Pt===null){var o=lt.alternate;o=o!==null?o.memoizedState:null}else o=Pt.next;var l=Dt===null?lt.memoizedState:Dt.next;if(l!==null)Dt=l,Pt=o;else{if(o===null)throw Error(n(310));Pt=o,o={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Dt===null?lt.memoizedState=Dt=o:Dt=Dt.next=o}return Dt}function Nl(o,l){return typeof l=="function"?l(o):l}function Xf(o){var l=Vn(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var g=Pt,b=g.baseQueue,_=f.pending;if(_!==null){if(b!==null){var k=b.next;b.next=_.next,_.next=k}g.baseQueue=b=_,f.pending=null}if(b!==null){_=b.next,g=g.baseState;var D=k=null,B=null,Y=_;do{var ie=Y.lane;if((Di&ie)===ie)B!==null&&(B=B.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),g=Y.hasEagerState?Y.eagerState:o(g,Y.action);else{var oe={lane:ie,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};B===null?(D=B=oe,k=g):B=B.next=oe,lt.lanes|=ie,Oi|=ie}Y=Y.next}while(Y!==null&&Y!==_);B===null?k=g:B.next=D,es(g,l.memoizedState)||(pn=!0),l.memoizedState=g,l.baseState=k,l.baseQueue=B,f.lastRenderedState=g}if(o=f.interleaved,o!==null){b=o;do _=b.lane,lt.lanes|=_,Oi|=_,b=b.next;while(b!==o)}else b===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Qf(o){var l=Vn(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var g=f.dispatch,b=f.pending,_=l.memoizedState;if(b!==null){f.pending=null;var k=b=b.next;do _=o(_,k.action),k=k.next;while(k!==b);es(_,l.memoizedState)||(pn=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),f.lastRenderedState=_}return[_,g]}function by(){}function vy(o,l){var f=lt,g=Vn(),b=l(),_=!es(g.memoizedState,b);if(_&&(g.memoizedState=b,pn=!0),g=g.queue,Gf(_y.bind(null,f,g,o),[o]),g.getSnapshot!==l||_||Dt!==null&&Dt.memoizedState.tag&1){if(f.flags|=2048,kl(9,Sy.bind(null,f,g,b,l),void 0,null),Ot===null)throw Error(n(349));(Di&30)!==0||wy(f,l,b)}return b}function wy(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=lt.updateQueue,l===null?(l={lastEffect:null,stores:null},lt.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function Sy(o,l,f,g){l.value=f,l.getSnapshot=g,jy(l)&&Cy(o)}function _y(o,l,f){return f(function(){jy(l)&&Cy(o)})}function jy(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!es(o,f)}catch{return!0}}function Cy(o){var l=Qs(o,1);l!==null&&is(l,o,1,-1)}function Ny(o){var l=_s();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:o},l.queue=o,o=o.dispatch=Sk.bind(null,lt,o),[l.memoizedState,o]}function kl(o,l,f,g){return o={tag:o,create:l,destroy:f,deps:g,next:null},l=lt.updateQueue,l===null?(l={lastEffect:null,stores:null},lt.updateQueue=l,l.lastEffect=o.next=o):(f=l.lastEffect,f===null?l.lastEffect=o.next=o:(g=f.next,f.next=o,o.next=g,l.lastEffect=o)),o}function ky(){return Vn().memoizedState}function Bu(o,l,f,g){var b=_s();lt.flags|=o,b.memoizedState=kl(1|l,f,void 0,g===void 0?null:g)}function Vu(o,l,f,g){var b=Vn();g=g===void 0?null:g;var _=void 0;if(Pt!==null){var k=Pt.memoizedState;if(_=k.destroy,g!==null&&qf(g,k.deps)){b.memoizedState=kl(l,f,_,g);return}}lt.flags|=o,b.memoizedState=kl(1|l,f,_,g)}function Ty(o,l){return Bu(8390656,8,o,l)}function Gf(o,l){return Vu(2048,8,o,l)}function Ey(o,l){return Vu(4,2,o,l)}function Py(o,l){return Vu(4,4,o,l)}function My(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Ay(o,l,f){return f=f!=null?f.concat([o]):null,Vu(4,4,My.bind(null,l,o),f)}function Zf(){}function Ry(o,l){var f=Vn();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&qf(l,g[1])?g[0]:(f.memoizedState=[o,l],o)}function Dy(o,l){var f=Vn();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&qf(l,g[1])?g[0]:(o=o(),f.memoizedState=[o,l],o)}function Oy(o,l,f){return(Di&21)===0?(o.baseState&&(o.baseState=!1,pn=!0),o.memoizedState=f):(es(f,l)||(f=Lo(),lt.lanes|=f,Oi|=f,o.baseState=!0),l)}function vk(o,l){var f=M;M=f!==0&&4>f?f:4,o(!0);var g=Wf.transition;Wf.transition={};try{o(!1),l()}finally{M=f,Wf.transition=g}}function Ly(){return Vn().memoizedState}function wk(o,l,f){var g=Wr(o);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Iy(o))Fy(l,f);else if(f=ay(o,l,f,g),f!==null){var b=sn();is(f,o,g,b),zy(f,l,g)}}function Sk(o,l,f){var g=Wr(o),b={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Iy(o))Fy(l,b);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var k=l.lastRenderedState,D=_(k,f);if(b.hasEagerState=!0,b.eagerState=D,es(D,k)){var B=l.interleaved;B===null?(b.next=b,If(l)):(b.next=B.next,B.next=b),l.interleaved=b;return}}catch{}finally{}f=ay(o,l,b,g),f!==null&&(b=sn(),is(f,o,g,b),zy(f,l,g))}}function Iy(o){var l=o.alternate;return o===lt||l!==null&&l===lt}function Fy(o,l){jl=zu=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function zy(o,l,f){if((f&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,f|=g,l.lanes=f,E(o,f)}}var $u={readContext:Bn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},_k={readContext:Bn,useCallback:function(o,l){return _s().memoizedState=[o,l===void 0?null:l],o},useContext:Bn,useEffect:Ty,useImperativeHandle:function(o,l,f){return f=f!=null?f.concat([o]):null,Bu(4194308,4,My.bind(null,l,o),f)},useLayoutEffect:function(o,l){return Bu(4194308,4,o,l)},useInsertionEffect:function(o,l){return Bu(4,2,o,l)},useMemo:function(o,l){var f=_s();return l=l===void 0?null:l,o=o(),f.memoizedState=[o,l],o},useReducer:function(o,l,f){var g=_s();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=wk.bind(null,lt,o),[g.memoizedState,o]},useRef:function(o){var l=_s();return o={current:o},l.memoizedState=o},useState:Ny,useDebugValue:Zf,useDeferredValue:function(o){return _s().memoizedState=o},useTransition:function(){var o=Ny(!1),l=o[0];return o=vk.bind(null,o[1]),_s().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,f){var g=lt,b=_s();if(st){if(f===void 0)throw Error(n(407));f=f()}else{if(f=l(),Ot===null)throw Error(n(349));(Di&30)!==0||wy(g,l,f)}b.memoizedState=f;var _={value:f,getSnapshot:l};return b.queue=_,Ty(_y.bind(null,g,_,o),[o]),g.flags|=2048,kl(9,Sy.bind(null,g,_,f,l),void 0,null),f},useId:function(){var o=_s(),l=Ot.identifierPrefix;if(st){var f=Xs,g=Ks;f=(g&~(1<<32-$t(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=Cl++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=bk++,l=":"+l+"r"+f.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},jk={readContext:Bn,useCallback:Ry,useContext:Bn,useEffect:Gf,useImperativeHandle:Ay,useInsertionEffect:Ey,useLayoutEffect:Py,useMemo:Dy,useReducer:Xf,useRef:ky,useState:function(){return Xf(Nl)},useDebugValue:Zf,useDeferredValue:function(o){var l=Vn();return Oy(l,Pt.memoizedState,o)},useTransition:function(){var o=Xf(Nl)[0],l=Vn().memoizedState;return[o,l]},useMutableSource:by,useSyncExternalStore:vy,useId:Ly,unstable_isNewReconciler:!1},Ck={readContext:Bn,useCallback:Ry,useContext:Bn,useEffect:Gf,useImperativeHandle:Ay,useInsertionEffect:Ey,useLayoutEffect:Py,useMemo:Dy,useReducer:Qf,useRef:ky,useState:function(){return Qf(Nl)},useDebugValue:Zf,useDeferredValue:function(o){var l=Vn();return Pt===null?l.memoizedState=o:Oy(l,Pt.memoizedState,o)},useTransition:function(){var o=Qf(Nl)[0],l=Vn().memoizedState;return[o,l]},useMutableSource:by,useSyncExternalStore:vy,useId:Ly,unstable_isNewReconciler:!1};function ta(o,l){try{var f="",g=l;do f+=Ue(g),g=g.return;while(g);var b=f}catch(_){b=`
Error generating stack: `+_.message+`
`+_.stack}return{value:o,source:l,stack:b,digest:null}}function Jf(o,l,f){return{value:o,source:null,stack:f??null,digest:l??null}}function ep(o,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var Nk=typeof WeakMap=="function"?WeakMap:Map;function By(o,l,f){f=Gs(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){Xu||(Xu=!0,mp=g),ep(o,l)},f}function Vy(o,l,f){f=Gs(-1,f),f.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var b=l.value;f.payload=function(){return g(b)},f.callback=function(){ep(o,l)}}var _=o.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){ep(o,l),typeof g!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var k=l.stack;this.componentDidCatch(l.value,{componentStack:k!==null?k:""})}),f}function $y(o,l,f){var g=o.pingCache;if(g===null){g=o.pingCache=new Nk;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(f)||(b.add(f),o=Bk.bind(null,o,l,f),l.then(o,o))}function Uy(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function Hy(o,l,f,g,b){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=Gs(-1,1),l.tag=2,Vr(f,l,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=b,o)}var kk=A.ReactCurrentOwner,pn=!1;function nn(o,l,f,g){l.child=o===null?xy(l,null,f,g):Jo(l,o.child,f,g)}function Wy(o,l,f,g,b){f=f.render;var _=l.ref;return Zo(l,b),g=Yf(o,l,f,g,_,b),f=Kf(),o!==null&&!pn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~b,Zs(o,l,b)):(st&&f&&Tf(l),l.flags|=1,nn(o,l,g,b),l.child)}function qy(o,l,f,g,b){if(o===null){var _=f.type;return typeof _=="function"&&!Sp(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=_,Yy(o,l,_,g,b)):(o=td(f.type,null,g,l,l.mode,b),o.ref=l.ref,o.return=l,l.child=o)}if(_=o.child,(o.lanes&b)===0){var k=_.memoizedProps;if(f=f.compare,f=f!==null?f:fl,f(k,g)&&o.ref===l.ref)return Zs(o,l,b)}return l.flags|=1,o=Yr(_,g),o.ref=l.ref,o.return=l,l.child=o}function Yy(o,l,f,g,b){if(o!==null){var _=o.memoizedProps;if(fl(_,g)&&o.ref===l.ref)if(pn=!1,l.pendingProps=g=_,(o.lanes&b)!==0)(o.flags&131072)!==0&&(pn=!0);else return l.lanes=o.lanes,Zs(o,l,b)}return tp(o,l,f,g,b)}function Ky(o,l,f){var g=l.pendingProps,b=g.children,_=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(sa,Rn),Rn|=f;else{if((f&1073741824)===0)return o=_!==null?_.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Ze(sa,Rn),Rn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=_!==null?_.baseLanes:f,Ze(sa,Rn),Rn|=g}else _!==null?(g=_.baseLanes|f,l.memoizedState=null):g=f,Ze(sa,Rn),Rn|=g;return nn(o,l,b,f),l.child}function Xy(o,l){var f=l.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function tp(o,l,f,g,b){var _=fn(f)?Ei:Ut.current;return _=Yo(l,_),Zo(l,b),f=Yf(o,l,f,g,_,b),g=Kf(),o!==null&&!pn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~b,Zs(o,l,b)):(st&&g&&Tf(l),l.flags|=1,nn(o,l,f,b),l.child)}function Qy(o,l,f,g,b){if(fn(f)){var _=!0;Nu(l)}else _=!1;if(Zo(l,b),l.stateNode===null)Hu(o,l),fy(l,f,g),Bf(l,f,g,b),g=!0;else if(o===null){var k=l.stateNode,D=l.memoizedProps;k.props=D;var B=k.context,Y=f.contextType;typeof Y=="object"&&Y!==null?Y=Bn(Y):(Y=fn(f)?Ei:Ut.current,Y=Yo(l,Y));var ie=f.getDerivedStateFromProps,oe=typeof ie=="function"||typeof k.getSnapshotBeforeUpdate=="function";oe||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(D!==g||B!==Y)&&py(l,k,g,Y),Br=!1;var ne=l.memoizedState;k.state=ne,Du(l,g,k,b),B=l.memoizedState,D!==g||ne!==B||hn.current||Br?(typeof ie=="function"&&(zf(l,f,ie,g),B=l.memoizedState),(D=Br||hy(l,f,D,g,ne,B,Y))?(oe||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(l.flags|=4194308)):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=B),k.props=g,k.state=B,k.context=Y,g=D):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{k=l.stateNode,ly(o,l),D=l.memoizedProps,Y=l.type===l.elementType?D:ns(l.type,D),k.props=Y,oe=l.pendingProps,ne=k.context,B=f.contextType,typeof B=="object"&&B!==null?B=Bn(B):(B=fn(f)?Ei:Ut.current,B=Yo(l,B));var pe=f.getDerivedStateFromProps;(ie=typeof pe=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(D!==oe||ne!==B)&&py(l,k,g,B),Br=!1,ne=l.memoizedState,k.state=ne,Du(l,g,k,b);var xe=l.memoizedState;D!==oe||ne!==xe||hn.current||Br?(typeof pe=="function"&&(zf(l,f,pe,g),xe=l.memoizedState),(Y=Br||hy(l,f,Y,g,ne,xe,B)||!1)?(ie||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(g,xe,B),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(g,xe,B)),typeof k.componentDidUpdate=="function"&&(l.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof k.componentDidUpdate!="function"||D===o.memoizedProps&&ne===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&ne===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=xe),k.props=g,k.state=xe,k.context=B,g=Y):(typeof k.componentDidUpdate!="function"||D===o.memoizedProps&&ne===o.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&ne===o.memoizedState||(l.flags|=1024),g=!1)}return np(o,l,f,g,_,b)}function np(o,l,f,g,b,_){Xy(o,l);var k=(l.flags&128)!==0;if(!g&&!k)return b&&ey(l,f,!1),Zs(o,l,_);g=l.stateNode,kk.current=l;var D=k&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&k?(l.child=Jo(l,o.child,null,_),l.child=Jo(l,null,D,_)):nn(o,l,D,_),l.memoizedState=g.state,b&&ey(l,f,!0),l.child}function Gy(o){var l=o.stateNode;l.pendingContext?Zx(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Zx(o,l.context,!1),Vf(o,l.containerInfo)}function Zy(o,l,f,g,b){return Qo(),Af(b),l.flags|=256,nn(o,l,f,g),l.child}var sp={dehydrated:null,treeContext:null,retryLane:0};function rp(o){return{baseLanes:o,cachePool:null,transitions:null}}function Jy(o,l,f){var g=l.pendingProps,b=at.current,_=!1,k=(l.flags&128)!==0,D;if((D=k)||(D=o!==null&&o.memoizedState===null?!1:(b&2)!==0),D?(_=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(b|=1),Ze(at,b&1),o===null)return Mf(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(k=g.children,o=g.fallback,_?(g=l.mode,_=l.child,k={mode:"hidden",children:k},(g&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=k):_=nd(k,g,0,null),o=zi(o,g,f,null),_.return=l,o.return=l,_.sibling=o,l.child=_,l.child.memoizedState=rp(f),l.memoizedState=sp,o):ip(l,k));if(b=o.memoizedState,b!==null&&(D=b.dehydrated,D!==null))return Tk(o,l,k,g,D,b,f);if(_){_=g.fallback,k=l.mode,b=o.child,D=b.sibling;var B={mode:"hidden",children:g.children};return(k&1)===0&&l.child!==b?(g=l.child,g.childLanes=0,g.pendingProps=B,l.deletions=null):(g=Yr(b,B),g.subtreeFlags=b.subtreeFlags&14680064),D!==null?_=Yr(D,_):(_=zi(_,k,f,null),_.flags|=2),_.return=l,g.return=l,g.sibling=_,l.child=g,g=_,_=l.child,k=o.child.memoizedState,k=k===null?rp(f):{baseLanes:k.baseLanes|f,cachePool:null,transitions:k.transitions},_.memoizedState=k,_.childLanes=o.childLanes&~f,l.memoizedState=sp,g}return _=o.child,o=_.sibling,g=Yr(_,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,o!==null&&(f=l.deletions,f===null?(l.deletions=[o],l.flags|=16):f.push(o)),l.child=g,l.memoizedState=null,g}function ip(o,l){return l=nd({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Uu(o,l,f,g){return g!==null&&Af(g),Jo(l,o.child,null,f),o=ip(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function Tk(o,l,f,g,b,_,k){if(f)return l.flags&256?(l.flags&=-257,g=Jf(Error(n(422))),Uu(o,l,k,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(_=g.fallback,b=l.mode,g=nd({mode:"visible",children:g.children},b,0,null),_=zi(_,b,k,null),_.flags|=2,g.return=l,_.return=l,g.sibling=_,l.child=g,(l.mode&1)!==0&&Jo(l,o.child,null,k),l.child.memoizedState=rp(k),l.memoizedState=sp,_);if((l.mode&1)===0)return Uu(o,l,k,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var D=g.dgst;return g=D,_=Error(n(419)),g=Jf(_,g,void 0),Uu(o,l,k,g)}if(D=(k&o.childLanes)!==0,pn||D){if(g=Ot,g!==null){switch(k&-k){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|k))!==0?0:b,b!==0&&b!==_.retryLane&&(_.retryLane=b,Qs(o,b),is(g,o,b,-1))}return wp(),g=Jf(Error(n(421))),Uu(o,l,k,g)}return b.data==="$?"?(l.flags|=128,l.child=o.child,l=Vk.bind(null,o),b._reactRetry=l,null):(o=_.treeContext,An=Lr(b.nextSibling),Mn=l,st=!0,ts=null,o!==null&&(Fn[zn++]=Ks,Fn[zn++]=Xs,Fn[zn++]=Pi,Ks=o.id,Xs=o.overflow,Pi=l),l=ip(l,g.children),l.flags|=4096,l)}function eb(o,l,f){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),Lf(o.return,l,f)}function op(o,l,f,g,b){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:b}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=f,_.tailMode=b)}function tb(o,l,f){var g=l.pendingProps,b=g.revealOrder,_=g.tail;if(nn(o,l,g.children,f),g=at.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&eb(o,f,l);else if(o.tag===19)eb(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(Ze(at,g),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(f=l.child,b=null;f!==null;)o=f.alternate,o!==null&&Iu(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=l.child,l.child=null):(b=f.sibling,f.sibling=null),op(l,!1,b,f,_);break;case"backwards":for(f=null,b=l.child,l.child=null;b!==null;){if(o=b.alternate,o!==null&&Iu(o)===null){l.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}op(l,!0,f,null,_);break;case"together":op(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Hu(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Zs(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Oi|=l.lanes,(f&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,f=Yr(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=Yr(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function Ek(o,l,f){switch(l.tag){case 3:Gy(l),Qo();break;case 5:yy(l);break;case 1:fn(l.type)&&Nu(l);break;case 4:Vf(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,b=l.memoizedProps.value;Ze(Mu,g._currentValue),g._currentValue=b;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Ze(at,at.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?Jy(o,l,f):(Ze(at,at.current&1),o=Zs(o,l,f),o!==null?o.sibling:null);Ze(at,at.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(o.flags&128)!==0){if(g)return tb(o,l,f);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Ze(at,at.current),g)break;return null;case 22:case 23:return l.lanes=0,Ky(o,l,f)}return Zs(o,l,f)}var nb,ap,sb,rb;nb=function(o,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},ap=function(){},sb=function(o,l,f,g){var b=o.memoizedProps;if(b!==g){o=l.stateNode,Ri(Ss.current);var _=null;switch(f){case"input":b=nt(o,b),g=nt(o,g),_=[];break;case"select":b=O({},b,{value:void 0}),g=O({},g,{value:void 0}),_=[];break;case"textarea":b=qa(o,b),g=qa(o,g),_=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=_u)}Xa(f,g);var k;f=null;for(Y in b)if(!g.hasOwnProperty(Y)&&b.hasOwnProperty(Y)&&b[Y]!=null)if(Y==="style"){var D=b[Y];for(k in D)D.hasOwnProperty(k)&&(f||(f={}),f[k]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(r.hasOwnProperty(Y)?_||(_=[]):(_=_||[]).push(Y,null));for(Y in g){var B=g[Y];if(D=b!=null?b[Y]:void 0,g.hasOwnProperty(Y)&&B!==D&&(B!=null||D!=null))if(Y==="style")if(D){for(k in D)!D.hasOwnProperty(k)||B&&B.hasOwnProperty(k)||(f||(f={}),f[k]="");for(k in B)B.hasOwnProperty(k)&&D[k]!==B[k]&&(f||(f={}),f[k]=B[k])}else f||(_||(_=[]),_.push(Y,f)),f=B;else Y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,D=D?D.__html:void 0,B!=null&&D!==B&&(_=_||[]).push(Y,B)):Y==="children"?typeof B!="string"&&typeof B!="number"||(_=_||[]).push(Y,""+B):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(r.hasOwnProperty(Y)?(B!=null&&Y==="onScroll"&&et("scroll",o),_||D===B||(_=[])):(_=_||[]).push(Y,B))}f&&(_=_||[]).push("style",f);var Y=_;(l.updateQueue=Y)&&(l.flags|=4)}},rb=function(o,l,f,g){f!==g&&(l.flags|=4)};function Tl(o,l){if(!st)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Wt(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,g=0;if(l)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=g,o.childLanes=f,l}function Pk(o,l,f){var g=l.pendingProps;switch(Ef(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(l),null;case 1:return fn(l.type)&&Cu(),Wt(l),null;case 3:return g=l.stateNode,ea(),tt(hn),tt(Ut),Hf(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Pu(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ts!==null&&(yp(ts),ts=null))),ap(o,l),Wt(l),null;case 5:$f(l);var b=Ri(_l.current);if(f=l.type,o!==null&&l.stateNode!=null)sb(o,l,f,g,b),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return Wt(l),null}if(o=Ri(Ss.current),Pu(l)){g=l.stateNode,f=l.type;var _=l.memoizedProps;switch(g[ws]=l,g[yl]=_,o=(l.mode&1)!==0,f){case"dialog":et("cancel",g),et("close",g);break;case"iframe":case"object":case"embed":et("load",g);break;case"video":case"audio":for(b=0;b<ml.length;b++)et(ml[b],g);break;case"source":et("error",g);break;case"img":case"image":case"link":et("error",g),et("load",g);break;case"details":et("toggle",g);break;case"input":yt(g,_),et("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!_.multiple},et("invalid",g);break;case"textarea":Gc(g,_),et("invalid",g)}Xa(f,_),b=null;for(var k in _)if(_.hasOwnProperty(k)){var D=_[k];k==="children"?typeof D=="string"?g.textContent!==D&&(_.suppressHydrationWarning!==!0&&Su(g.textContent,D,o),b=["children",D]):typeof D=="number"&&g.textContent!==""+D&&(_.suppressHydrationWarning!==!0&&Su(g.textContent,D,o),b=["children",""+D]):r.hasOwnProperty(k)&&D!=null&&k==="onScroll"&&et("scroll",g)}switch(f){case"input":Pe(g),wr(g,_,!0);break;case"textarea":Pe(g),Jc(g);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(g.onclick=_u)}g=b,l.updateQueue=g,g!==null&&(l.flags|=4)}else{k=b.nodeType===9?b:b.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=eu(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=k.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=k.createElement(f,{is:g.is}):(o=k.createElement(f),f==="select"&&(k=o,g.multiple?k.multiple=!0:g.size&&(k.size=g.size))):o=k.createElementNS(o,f),o[ws]=l,o[yl]=g,nb(o,l,!1,!1),l.stateNode=o;e:{switch(k=Qa(f,g),f){case"dialog":et("cancel",o),et("close",o),b=g;break;case"iframe":case"object":case"embed":et("load",o),b=g;break;case"video":case"audio":for(b=0;b<ml.length;b++)et(ml[b],o);b=g;break;case"source":et("error",o),b=g;break;case"img":case"image":case"link":et("error",o),et("load",o),b=g;break;case"details":et("toggle",o),b=g;break;case"input":yt(o,g),b=nt(o,g),et("invalid",o);break;case"option":b=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},b=O({},g,{value:void 0}),et("invalid",o);break;case"textarea":Gc(o,g),b=qa(o,g),et("invalid",o);break;default:b=g}Xa(f,b),D=b;for(_ in D)if(D.hasOwnProperty(_)){var B=D[_];_==="style"?nu(o,B):_==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Ya(o,B)):_==="children"?typeof B=="string"?(f!=="textarea"||B!=="")&&Sr(o,B):typeof B=="number"&&Sr(o,""+B):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(r.hasOwnProperty(_)?B!=null&&_==="onScroll"&&et("scroll",o):B!=null&&T(o,_,B,k))}switch(f){case"input":Pe(o),wr(o,g,!1);break;case"textarea":Pe(o),Jc(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Le(g.value));break;case"select":o.multiple=!!g.multiple,_=g.value,_!=null?Tt(o,!!g.multiple,_,!1):g.defaultValue!=null&&Tt(o,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(o.onclick=_u)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Wt(l),null;case 6:if(o&&l.stateNode!=null)rb(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(f=Ri(_l.current),Ri(Ss.current),Pu(l)){if(g=l.stateNode,f=l.memoizedProps,g[ws]=l,(_=g.nodeValue!==f)&&(o=Mn,o!==null))switch(o.tag){case 3:Su(g.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Su(g.nodeValue,f,(o.mode&1)!==0)}_&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[ws]=l,l.stateNode=g}return Wt(l),null;case 13:if(tt(at),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(st&&An!==null&&(l.mode&1)!==0&&(l.flags&128)===0)oy(),Qo(),l.flags|=98560,_=!1;else if(_=Pu(l),g!==null&&g.dehydrated!==null){if(o===null){if(!_)throw Error(n(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[ws]=l}else Qo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Wt(l),_=!1}else ts!==null&&(yp(ts),ts=null),_=!0;if(!_)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(at.current&1)!==0?Mt===0&&(Mt=3):wp())),l.updateQueue!==null&&(l.flags|=4),Wt(l),null);case 4:return ea(),ap(o,l),o===null&&gl(l.stateNode.containerInfo),Wt(l),null;case 10:return Of(l.type._context),Wt(l),null;case 17:return fn(l.type)&&Cu(),Wt(l),null;case 19:if(tt(at),_=l.memoizedState,_===null)return Wt(l),null;if(g=(l.flags&128)!==0,k=_.rendering,k===null)if(g)Tl(_,!1);else{if(Mt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(k=Iu(o),k!==null){for(l.flags|=128,Tl(_,!1),g=k.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)_=f,o=g,_.flags&=14680066,k=_.alternate,k===null?(_.childLanes=0,_.lanes=o,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=k.childLanes,_.lanes=k.lanes,_.child=k.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=k.memoizedProps,_.memoizedState=k.memoizedState,_.updateQueue=k.updateQueue,_.type=k.type,o=k.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return Ze(at,at.current&1|2),l.child}o=o.sibling}_.tail!==null&&Ge()>ra&&(l.flags|=128,g=!0,Tl(_,!1),l.lanes=4194304)}else{if(!g)if(o=Iu(k),o!==null){if(l.flags|=128,g=!0,f=o.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Tl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!k.alternate&&!st)return Wt(l),null}else 2*Ge()-_.renderingStartTime>ra&&f!==1073741824&&(l.flags|=128,g=!0,Tl(_,!1),l.lanes=4194304);_.isBackwards?(k.sibling=l.child,l.child=k):(f=_.last,f!==null?f.sibling=k:l.child=k,_.last=k)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=Ge(),l.sibling=null,f=at.current,Ze(at,g?f&1|2:f&1),l):(Wt(l),null);case 22:case 23:return vp(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Rn&1073741824)!==0&&(Wt(l),l.subtreeFlags&6&&(l.flags|=8192)):Wt(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function Mk(o,l){switch(Ef(l),l.tag){case 1:return fn(l.type)&&Cu(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ea(),tt(hn),tt(Ut),Hf(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return $f(l),null;case 13:if(tt(at),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Qo()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return tt(at),null;case 4:return ea(),null;case 10:return Of(l.type._context),null;case 22:case 23:return vp(),null;case 24:return null;default:return null}}var Wu=!1,qt=!1,Ak=typeof WeakSet=="function"?WeakSet:Set,ge=null;function na(o,l){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){ft(o,l,g)}else f.current=null}function lp(o,l,f){try{f()}catch(g){ft(o,l,g)}}var ib=!1;function Rk(o,l){if(vf=du,o=Lx(),hf(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var b=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var k=0,D=-1,B=-1,Y=0,ie=0,oe=o,ne=null;t:for(;;){for(var pe;oe!==f||b!==0&&oe.nodeType!==3||(D=k+b),oe!==_||g!==0&&oe.nodeType!==3||(B=k+g),oe.nodeType===3&&(k+=oe.nodeValue.length),(pe=oe.firstChild)!==null;)ne=oe,oe=pe;for(;;){if(oe===o)break t;if(ne===f&&++Y===b&&(D=k),ne===_&&++ie===g&&(B=k),(pe=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=pe}f=D===-1||B===-1?null:{start:D,end:B}}else f=null}f=f||{start:0,end:0}}else f=null;for(wf={focusedElem:o,selectionRange:f},du=!1,ge=l;ge!==null;)if(l=ge,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,ge=o;else for(;ge!==null;){l=ge;try{var xe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var be=xe.memoizedProps,St=xe.memoizedState,H=l.stateNode,$=H.getSnapshotBeforeUpdate(l.elementType===l.type?be:ns(l.type,be),St);H.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var W=l.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){ft(l,l.return,le)}if(o=l.sibling,o!==null){o.return=l.return,ge=o;break}ge=l.return}return xe=ib,ib=!1,xe}function El(o,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&o)===o){var _=b.destroy;b.destroy=void 0,_!==void 0&&lp(l,f,_)}b=b.next}while(b!==g)}}function qu(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&o)===o){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function cp(o){var l=o.ref;if(l!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof l=="function"?l(o):l.current=o}}function ob(o){var l=o.alternate;l!==null&&(o.alternate=null,ob(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[ws],delete l[yl],delete l[Cf],delete l[mk],delete l[gk])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function ab(o){return o.tag===5||o.tag===3||o.tag===4}function lb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ab(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function up(o,l,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(o,l):f.insertBefore(o,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(o,f)):(l=f,l.appendChild(o)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=_u));else if(g!==4&&(o=o.child,o!==null))for(up(o,l,f),o=o.sibling;o!==null;)up(o,l,f),o=o.sibling}function dp(o,l,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(dp(o,l,f),o=o.sibling;o!==null;)dp(o,l,f),o=o.sibling}var It=null,ss=!1;function $r(o,l,f){for(f=f.child;f!==null;)cb(o,l,f),f=f.sibling}function cb(o,l,f){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(dn,f)}catch{}switch(f.tag){case 5:qt||na(f,l);case 6:var g=It,b=ss;It=null,$r(o,l,f),It=g,ss=b,It!==null&&(ss?(o=It,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):It.removeChild(f.stateNode));break;case 18:It!==null&&(ss?(o=It,f=f.stateNode,o.nodeType===8?jf(o.parentNode,f):o.nodeType===1&&jf(o,f),al(o)):jf(It,f.stateNode));break;case 4:g=It,b=ss,It=f.stateNode.containerInfo,ss=!0,$r(o,l,f),It=g,ss=b;break;case 0:case 11:case 14:case 15:if(!qt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var _=b,k=_.destroy;_=_.tag,k!==void 0&&((_&2)!==0||(_&4)!==0)&&lp(f,l,k),b=b.next}while(b!==g)}$r(o,l,f);break;case 1:if(!qt&&(na(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(D){ft(f,l,D)}$r(o,l,f);break;case 21:$r(o,l,f);break;case 22:f.mode&1?(qt=(g=qt)||f.memoizedState!==null,$r(o,l,f),qt=g):$r(o,l,f);break;default:$r(o,l,f)}}function ub(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new Ak),l.forEach(function(g){var b=$k.bind(null,o,g);f.has(g)||(f.add(g),g.then(b,b))})}}function rs(o,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];try{var _=o,k=l,D=k;e:for(;D!==null;){switch(D.tag){case 5:It=D.stateNode,ss=!1;break e;case 3:It=D.stateNode.containerInfo,ss=!0;break e;case 4:It=D.stateNode.containerInfo,ss=!0;break e}D=D.return}if(It===null)throw Error(n(160));cb(_,k,b),It=null,ss=!1;var B=b.alternate;B!==null&&(B.return=null),b.return=null}catch(Y){ft(b,l,Y)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)db(l,o),l=l.sibling}function db(o,l){var f=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(rs(l,o),js(o),g&4){try{El(3,o,o.return),qu(3,o)}catch(be){ft(o,o.return,be)}try{El(5,o,o.return)}catch(be){ft(o,o.return,be)}}break;case 1:rs(l,o),js(o),g&512&&f!==null&&na(f,f.return);break;case 5:if(rs(l,o),js(o),g&512&&f!==null&&na(f,f.return),o.flags&32){var b=o.stateNode;try{Sr(b,"")}catch(be){ft(o,o.return,be)}}if(g&4&&(b=o.stateNode,b!=null)){var _=o.memoizedProps,k=f!==null?f.memoizedProps:_,D=o.type,B=o.updateQueue;if(o.updateQueue=null,B!==null)try{D==="input"&&_.type==="radio"&&_.name!=null&&bt(b,_),Qa(D,k);var Y=Qa(D,_);for(k=0;k<B.length;k+=2){var ie=B[k],oe=B[k+1];ie==="style"?nu(b,oe):ie==="dangerouslySetInnerHTML"?Ya(b,oe):ie==="children"?Sr(b,oe):T(b,ie,oe,Y)}switch(D){case"input":tn(b,_);break;case"textarea":Zc(b,_);break;case"select":var ne=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!_.multiple;var pe=_.value;pe!=null?Tt(b,!!_.multiple,pe,!1):ne!==!!_.multiple&&(_.defaultValue!=null?Tt(b,!!_.multiple,_.defaultValue,!0):Tt(b,!!_.multiple,_.multiple?[]:"",!1))}b[yl]=_}catch(be){ft(o,o.return,be)}}break;case 6:if(rs(l,o),js(o),g&4){if(o.stateNode===null)throw Error(n(162));b=o.stateNode,_=o.memoizedProps;try{b.nodeValue=_}catch(be){ft(o,o.return,be)}}break;case 3:if(rs(l,o),js(o),g&4&&f!==null&&f.memoizedState.isDehydrated)try{al(l.containerInfo)}catch(be){ft(o,o.return,be)}break;case 4:rs(l,o),js(o);break;case 13:rs(l,o),js(o),b=o.child,b.flags&8192&&(_=b.memoizedState!==null,b.stateNode.isHidden=_,!_||b.alternate!==null&&b.alternate.memoizedState!==null||(pp=Ge())),g&4&&ub(o);break;case 22:if(ie=f!==null&&f.memoizedState!==null,o.mode&1?(qt=(Y=qt)||ie,rs(l,o),qt=Y):rs(l,o),js(o),g&8192){if(Y=o.memoizedState!==null,(o.stateNode.isHidden=Y)&&!ie&&(o.mode&1)!==0)for(ge=o,ie=o.child;ie!==null;){for(oe=ge=ie;ge!==null;){switch(ne=ge,pe=ne.child,ne.tag){case 0:case 11:case 14:case 15:El(4,ne,ne.return);break;case 1:na(ne,ne.return);var xe=ne.stateNode;if(typeof xe.componentWillUnmount=="function"){g=ne,f=ne.return;try{l=g,xe.props=l.memoizedProps,xe.state=l.memoizedState,xe.componentWillUnmount()}catch(be){ft(g,f,be)}}break;case 5:na(ne,ne.return);break;case 22:if(ne.memoizedState!==null){pb(oe);continue}}pe!==null?(pe.return=ne,ge=pe):pb(oe)}ie=ie.sibling}e:for(ie=null,oe=o;;){if(oe.tag===5){if(ie===null){ie=oe;try{b=oe.stateNode,Y?(_=b.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(D=oe.stateNode,B=oe.memoizedProps.style,k=B!=null&&B.hasOwnProperty("display")?B.display:null,D.style.display=tu("display",k))}catch(be){ft(o,o.return,be)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=Y?"":oe.memoizedProps}catch(be){ft(o,o.return,be)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===o)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===o)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===o)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:rs(l,o),js(o),g&4&&ub(o);break;case 21:break;default:rs(l,o),js(o)}}function js(o){var l=o.flags;if(l&2){try{e:{for(var f=o.return;f!==null;){if(ab(f)){var g=f;break e}f=f.return}throw Error(n(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Sr(b,""),g.flags&=-33);var _=lb(o);dp(o,_,b);break;case 3:case 4:var k=g.stateNode.containerInfo,D=lb(o);up(o,D,k);break;default:throw Error(n(161))}}catch(B){ft(o,o.return,B)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function Dk(o,l,f){ge=o,hb(o)}function hb(o,l,f){for(var g=(o.mode&1)!==0;ge!==null;){var b=ge,_=b.child;if(b.tag===22&&g){var k=b.memoizedState!==null||Wu;if(!k){var D=b.alternate,B=D!==null&&D.memoizedState!==null||qt;D=Wu;var Y=qt;if(Wu=k,(qt=B)&&!Y)for(ge=b;ge!==null;)k=ge,B=k.child,k.tag===22&&k.memoizedState!==null?mb(b):B!==null?(B.return=k,ge=B):mb(b);for(;_!==null;)ge=_,hb(_),_=_.sibling;ge=b,Wu=D,qt=Y}fb(o)}else(b.subtreeFlags&8772)!==0&&_!==null?(_.return=b,ge=_):fb(o)}}function fb(o){for(;ge!==null;){var l=ge;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:qt||qu(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!qt)if(f===null)g.componentDidMount();else{var b=l.elementType===l.type?f.memoizedProps:ns(l.type,f.memoizedProps);g.componentDidUpdate(b,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&uy(l,_,g);break;case 3:var k=l.updateQueue;if(k!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}uy(l,k,f)}break;case 5:var D=l.stateNode;if(f===null&&l.flags&4){f=D;var B=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&f.focus();break;case"img":B.src&&(f.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Y=l.alternate;if(Y!==null){var ie=Y.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&al(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||l.flags&512&&cp(l)}catch(ne){ft(l,l.return,ne)}}if(l===o){ge=null;break}if(f=l.sibling,f!==null){f.return=l.return,ge=f;break}ge=l.return}}function pb(o){for(;ge!==null;){var l=ge;if(l===o){ge=null;break}var f=l.sibling;if(f!==null){f.return=l.return,ge=f;break}ge=l.return}}function mb(o){for(;ge!==null;){var l=ge;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{qu(4,l)}catch(B){ft(l,f,B)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var b=l.return;try{g.componentDidMount()}catch(B){ft(l,b,B)}}var _=l.return;try{cp(l)}catch(B){ft(l,_,B)}break;case 5:var k=l.return;try{cp(l)}catch(B){ft(l,k,B)}}}catch(B){ft(l,l.return,B)}if(l===o){ge=null;break}var D=l.sibling;if(D!==null){D.return=l.return,ge=D;break}ge=l.return}}var Ok=Math.ceil,Yu=A.ReactCurrentDispatcher,hp=A.ReactCurrentOwner,$n=A.ReactCurrentBatchConfig,qe=0,Ot=null,Nt=null,Ft=0,Rn=0,sa=Ir(0),Mt=0,Pl=null,Oi=0,Ku=0,fp=0,Ml=null,mn=null,pp=0,ra=1/0,Js=null,Xu=!1,mp=null,Ur=null,Qu=!1,Hr=null,Gu=0,Al=0,gp=null,Zu=-1,Ju=0;function sn(){return(qe&6)!==0?Ge():Zu!==-1?Zu:Zu=Ge()}function Wr(o){return(o.mode&1)===0?1:(qe&2)!==0&&Ft!==0?Ft&-Ft:yk.transition!==null?(Ju===0&&(Ju=Lo()),Ju):(o=M,o!==0||(o=window.event,o=o===void 0?16:gx(o.type)),o)}function is(o,l,f,g){if(50<Al)throw Al=0,gp=null,Error(n(185));ki(o,f,g),((qe&2)===0||o!==Ot)&&(o===Ot&&((qe&2)===0&&(Ku|=f),Mt===4&&qr(o,Ft)),gn(o,g),f===1&&qe===0&&(l.mode&1)===0&&(ra=Ge()+500,ku&&zr()))}function gn(o,l){var f=o.callbackNode;Zh(o,l);var g=Ws(o,o===Ot?Ft:0);if(g===0)f!==null&&Ro(f),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(f!=null&&Ro(f),l===1)o.tag===0?xk(xb.bind(null,o)):ty(xb.bind(null,o)),fk(function(){(qe&6)===0&&zr()}),f=null;else{switch(L(g)){case 1:f=bs;break;case 4:f=Jn;break;case 16:f=un;break;case 536870912:f=kn;break;default:f=un}f=Cb(f,gb.bind(null,o))}o.callbackPriority=l,o.callbackNode=f}}function gb(o,l){if(Zu=-1,Ju=0,(qe&6)!==0)throw Error(n(327));var f=o.callbackNode;if(ia()&&o.callbackNode!==f)return null;var g=Ws(o,o===Ot?Ft:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=ed(o,g);else{l=g;var b=qe;qe|=2;var _=bb();(Ot!==o||Ft!==l)&&(Js=null,ra=Ge()+500,Ii(o,l));do try{Fk();break}catch(D){yb(o,D)}while(!0);Df(),Yu.current=_,qe=b,Nt!==null?l=0:(Ot=null,Ft=0,l=Mt)}if(l!==0){if(l===2&&(b=Oo(o),b!==0&&(g=b,l=xp(o,b))),l===1)throw f=Pl,Ii(o,0),qr(o,g),gn(o,Ge()),f;if(l===6)qr(o,g);else{if(b=o.current.alternate,(g&30)===0&&!Lk(b)&&(l=ed(o,g),l===2&&(_=Oo(o),_!==0&&(g=_,l=xp(o,_))),l===1))throw f=Pl,Ii(o,0),qr(o,g),gn(o,Ge()),f;switch(o.finishedWork=b,o.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:Fi(o,mn,Js);break;case 3:if(qr(o,g),(g&130023424)===g&&(l=pp+500-Ge(),10<l)){if(Ws(o,0)!==0)break;if(b=o.suspendedLanes,(b&g)!==g){sn(),o.pingedLanes|=o.suspendedLanes&b;break}o.timeoutHandle=_f(Fi.bind(null,o,mn,Js),l);break}Fi(o,mn,Js);break;case 4:if(qr(o,g),(g&4194240)===g)break;for(l=o.eventTimes,b=-1;0<g;){var k=31-$t(g);_=1<<k,k=l[k],k>b&&(b=k),g&=~_}if(g=b,g=Ge()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*Ok(g/1960))-g,10<g){o.timeoutHandle=_f(Fi.bind(null,o,mn,Js),g);break}Fi(o,mn,Js);break;case 5:Fi(o,mn,Js);break;default:throw Error(n(329))}}}return gn(o,Ge()),o.callbackNode===f?gb.bind(null,o):null}function xp(o,l){var f=Ml;return o.current.memoizedState.isDehydrated&&(Ii(o,l).flags|=256),o=ed(o,l),o!==2&&(l=mn,mn=f,l!==null&&yp(l)),o}function yp(o){mn===null?mn=o:mn.push.apply(mn,o)}function Lk(o){for(var l=o;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var b=f[g],_=b.getSnapshot;b=b.value;try{if(!es(_(),b))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function qr(o,l){for(l&=~fp,l&=~Ku,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var f=31-$t(l),g=1<<f;o[f]=-1,l&=~g}}function xb(o){if((qe&6)!==0)throw Error(n(327));ia();var l=Ws(o,0);if((l&1)===0)return gn(o,Ge()),null;var f=ed(o,l);if(o.tag!==0&&f===2){var g=Oo(o);g!==0&&(l=g,f=xp(o,g))}if(f===1)throw f=Pl,Ii(o,0),qr(o,l),gn(o,Ge()),f;if(f===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Fi(o,mn,Js),gn(o,Ge()),null}function bp(o,l){var f=qe;qe|=1;try{return o(l)}finally{qe=f,qe===0&&(ra=Ge()+500,ku&&zr())}}function Li(o){Hr!==null&&Hr.tag===0&&(qe&6)===0&&ia();var l=qe;qe|=1;var f=$n.transition,g=M;try{if($n.transition=null,M=1,o)return o()}finally{M=g,$n.transition=f,qe=l,(qe&6)===0&&zr()}}function vp(){Rn=sa.current,tt(sa)}function Ii(o,l){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,hk(f)),Nt!==null)for(f=Nt.return;f!==null;){var g=f;switch(Ef(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Cu();break;case 3:ea(),tt(hn),tt(Ut),Hf();break;case 5:$f(g);break;case 4:ea();break;case 13:tt(at);break;case 19:tt(at);break;case 10:Of(g.type._context);break;case 22:case 23:vp()}f=f.return}if(Ot=o,Nt=o=Yr(o.current,null),Ft=Rn=l,Mt=0,Pl=null,fp=Ku=Oi=0,mn=Ml=null,Ai!==null){for(l=0;l<Ai.length;l++)if(f=Ai[l],g=f.interleaved,g!==null){f.interleaved=null;var b=g.next,_=f.pending;if(_!==null){var k=_.next;_.next=b,g.next=k}f.pending=g}Ai=null}return o}function yb(o,l){do{var f=Nt;try{if(Df(),Fu.current=$u,zu){for(var g=lt.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}zu=!1}if(Di=0,Dt=Pt=lt=null,jl=!1,Cl=0,hp.current=null,f===null||f.return===null){Mt=1,Pl=l,Nt=null;break}e:{var _=o,k=f.return,D=f,B=l;if(l=Ft,D.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=B,ie=D,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var pe=Uy(k);if(pe!==null){pe.flags&=-257,Hy(pe,k,D,_,l),pe.mode&1&&$y(_,Y,l),l=pe,B=Y;var xe=l.updateQueue;if(xe===null){var be=new Set;be.add(B),l.updateQueue=be}else xe.add(B);break e}else{if((l&1)===0){$y(_,Y,l),wp();break e}B=Error(n(426))}}else if(st&&D.mode&1){var St=Uy(k);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Hy(St,k,D,_,l),Af(ta(B,D));break e}}_=B=ta(B,D),Mt!==4&&(Mt=2),Ml===null?Ml=[_]:Ml.push(_),_=k;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var H=By(_,B,l);cy(_,H);break e;case 1:D=B;var $=_.type,W=_.stateNode;if((_.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Ur===null||!Ur.has(W)))){_.flags|=65536,l&=-l,_.lanes|=l;var le=Vy(_,D,l);cy(_,le);break e}}_=_.return}while(_!==null)}wb(f)}catch(ve){l=ve,Nt===f&&f!==null&&(Nt=f=f.return);continue}break}while(!0)}function bb(){var o=Yu.current;return Yu.current=$u,o===null?$u:o}function wp(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Ot===null||(Oi&268435455)===0&&(Ku&268435455)===0||qr(Ot,Ft)}function ed(o,l){var f=qe;qe|=2;var g=bb();(Ot!==o||Ft!==l)&&(Js=null,Ii(o,l));do try{Ik();break}catch(b){yb(o,b)}while(!0);if(Df(),qe=f,Yu.current=g,Nt!==null)throw Error(n(261));return Ot=null,Ft=0,Mt}function Ik(){for(;Nt!==null;)vb(Nt)}function Fk(){for(;Nt!==null&&!Qh();)vb(Nt)}function vb(o){var l=jb(o.alternate,o,Rn);o.memoizedProps=o.pendingProps,l===null?wb(o):Nt=l,hp.current=null}function wb(o){var l=o;do{var f=l.alternate;if(o=l.return,(l.flags&32768)===0){if(f=Pk(f,l,Rn),f!==null){Nt=f;return}}else{if(f=Mk(f,l),f!==null){f.flags&=32767,Nt=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Mt=6,Nt=null;return}}if(l=l.sibling,l!==null){Nt=l;return}Nt=l=o}while(l!==null);Mt===0&&(Mt=5)}function Fi(o,l,f){var g=M,b=$n.transition;try{$n.transition=null,M=1,zk(o,l,f,g)}finally{$n.transition=b,M=g}return null}function zk(o,l,f,g){do ia();while(Hr!==null);if((qe&6)!==0)throw Error(n(327));f=o.finishedWork;var b=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var _=f.lanes|f.childLanes;if(Jh(o,_),o===Ot&&(Nt=Ot=null,Ft=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Qu||(Qu=!0,Cb(un,function(){return ia(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=$n.transition,$n.transition=null;var k=M;M=1;var D=qe;qe|=4,hp.current=null,Rk(o,f),db(f,o),ik(wf),du=!!vf,wf=vf=null,o.current=f,Dk(f),Gh(),qe=D,M=k,$n.transition=_}else o.current=f;if(Qu&&(Qu=!1,Hr=o,Gu=b),_=o.pendingLanes,_===0&&(Ur=null),cu(f.stateNode),gn(o,Ge()),l!==null)for(g=o.onRecoverableError,f=0;f<l.length;f++)b=l[f],g(b.value,{componentStack:b.stack,digest:b.digest});if(Xu)throw Xu=!1,o=mp,mp=null,o;return(Gu&1)!==0&&o.tag!==0&&ia(),_=o.pendingLanes,(_&1)!==0?o===gp?Al++:(Al=0,gp=o):Al=0,zr(),null}function ia(){if(Hr!==null){var o=L(Gu),l=$n.transition,f=M;try{if($n.transition=null,M=16>o?16:o,Hr===null)var g=!1;else{if(o=Hr,Hr=null,Gu=0,(qe&6)!==0)throw Error(n(331));var b=qe;for(qe|=4,ge=o.current;ge!==null;){var _=ge,k=_.child;if((ge.flags&16)!==0){var D=_.deletions;if(D!==null){for(var B=0;B<D.length;B++){var Y=D[B];for(ge=Y;ge!==null;){var ie=ge;switch(ie.tag){case 0:case 11:case 15:El(8,ie,_)}var oe=ie.child;if(oe!==null)oe.return=ie,ge=oe;else for(;ge!==null;){ie=ge;var ne=ie.sibling,pe=ie.return;if(ob(ie),ie===Y){ge=null;break}if(ne!==null){ne.return=pe,ge=ne;break}ge=pe}}}var xe=_.alternate;if(xe!==null){var be=xe.child;if(be!==null){xe.child=null;do{var St=be.sibling;be.sibling=null,be=St}while(be!==null)}}ge=_}}if((_.subtreeFlags&2064)!==0&&k!==null)k.return=_,ge=k;else e:for(;ge!==null;){if(_=ge,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:El(9,_,_.return)}var H=_.sibling;if(H!==null){H.return=_.return,ge=H;break e}ge=_.return}}var $=o.current;for(ge=$;ge!==null;){k=ge;var W=k.child;if((k.subtreeFlags&2064)!==0&&W!==null)W.return=k,ge=W;else e:for(k=$;ge!==null;){if(D=ge,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:qu(9,D)}}catch(ve){ft(D,D.return,ve)}if(D===k){ge=null;break e}var le=D.sibling;if(le!==null){le.return=D.return,ge=le;break e}ge=D.return}}if(qe=b,zr(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(dn,o)}catch{}g=!0}return g}finally{M=f,$n.transition=l}}return!1}function Sb(o,l,f){l=ta(f,l),l=By(o,l,1),o=Vr(o,l,1),l=sn(),o!==null&&(ki(o,1,l),gn(o,l))}function ft(o,l,f){if(o.tag===3)Sb(o,o,f);else for(;l!==null;){if(l.tag===3){Sb(l,o,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ur===null||!Ur.has(g))){o=ta(f,o),o=Vy(l,o,1),l=Vr(l,o,1),o=sn(),l!==null&&(ki(l,1,o),gn(l,o));break}}l=l.return}}function Bk(o,l,f){var g=o.pingCache;g!==null&&g.delete(l),l=sn(),o.pingedLanes|=o.suspendedLanes&f,Ot===o&&(Ft&f)===f&&(Mt===4||Mt===3&&(Ft&130023424)===Ft&&500>Ge()-pp?Ii(o,0):fp|=f),gn(o,l)}function _b(o,l){l===0&&((o.mode&1)===0?l=1:(l=Pr,Pr<<=1,(Pr&130023424)===0&&(Pr=4194304)));var f=sn();o=Qs(o,l),o!==null&&(ki(o,l,f),gn(o,f))}function Vk(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),_b(o,f)}function $k(o,l){var f=0;switch(o.tag){case 13:var g=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),_b(o,f)}var jb;jb=function(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps||hn.current)pn=!0;else{if((o.lanes&f)===0&&(l.flags&128)===0)return pn=!1,Ek(o,l,f);pn=(o.flags&131072)!==0}else pn=!1,st&&(l.flags&1048576)!==0&&ny(l,Eu,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Hu(o,l),o=l.pendingProps;var b=Yo(l,Ut.current);Zo(l,f),b=Yf(null,l,g,o,b,f);var _=Kf();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,fn(g)?(_=!0,Nu(l)):_=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Ff(l),b.updater=Ou,l.stateNode=b,b._reactInternals=l,Bf(l,g,o,f),l=np(null,l,g,!0,_,f)):(l.tag=0,st&&_&&Tf(l),nn(null,l,b,f),l=l.child),l;case 16:g=l.elementType;e:{switch(Hu(o,l),o=l.pendingProps,b=g._init,g=b(g._payload),l.type=g,b=l.tag=Hk(g),o=ns(g,o),b){case 0:l=tp(null,l,g,o,f);break e;case 1:l=Qy(null,l,g,o,f);break e;case 11:l=Wy(null,l,g,o,f);break e;case 14:l=qy(null,l,g,ns(g.type,o),f);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:ns(g,b),tp(o,l,g,b,f);case 1:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:ns(g,b),Qy(o,l,g,b,f);case 3:e:{if(Gy(l),o===null)throw Error(n(387));g=l.pendingProps,_=l.memoizedState,b=_.element,ly(o,l),Du(l,g,null,f);var k=l.memoizedState;if(g=k.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){b=ta(Error(n(423)),l),l=Zy(o,l,g,f,b);break e}else if(g!==b){b=ta(Error(n(424)),l),l=Zy(o,l,g,f,b);break e}else for(An=Lr(l.stateNode.containerInfo.firstChild),Mn=l,st=!0,ts=null,f=xy(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Qo(),g===b){l=Zs(o,l,f);break e}nn(o,l,g,f)}l=l.child}return l;case 5:return yy(l),o===null&&Mf(l),g=l.type,b=l.pendingProps,_=o!==null?o.memoizedProps:null,k=b.children,Sf(g,b)?k=null:_!==null&&Sf(g,_)&&(l.flags|=32),Xy(o,l),nn(o,l,k,f),l.child;case 6:return o===null&&Mf(l),null;case 13:return Jy(o,l,f);case 4:return Vf(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=Jo(l,null,g,f):nn(o,l,g,f),l.child;case 11:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:ns(g,b),Wy(o,l,g,b,f);case 7:return nn(o,l,l.pendingProps,f),l.child;case 8:return nn(o,l,l.pendingProps.children,f),l.child;case 12:return nn(o,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,b=l.pendingProps,_=l.memoizedProps,k=b.value,Ze(Mu,g._currentValue),g._currentValue=k,_!==null)if(es(_.value,k)){if(_.children===b.children&&!hn.current){l=Zs(o,l,f);break e}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var D=_.dependencies;if(D!==null){k=_.child;for(var B=D.firstContext;B!==null;){if(B.context===g){if(_.tag===1){B=Gs(-1,f&-f),B.tag=2;var Y=_.updateQueue;if(Y!==null){Y=Y.shared;var ie=Y.pending;ie===null?B.next=B:(B.next=ie.next,ie.next=B),Y.pending=B}}_.lanes|=f,B=_.alternate,B!==null&&(B.lanes|=f),Lf(_.return,f,l),D.lanes|=f;break}B=B.next}}else if(_.tag===10)k=_.type===l.type?null:_.child;else if(_.tag===18){if(k=_.return,k===null)throw Error(n(341));k.lanes|=f,D=k.alternate,D!==null&&(D.lanes|=f),Lf(k,f,l),k=_.sibling}else k=_.child;if(k!==null)k.return=_;else for(k=_;k!==null;){if(k===l){k=null;break}if(_=k.sibling,_!==null){_.return=k.return,k=_;break}k=k.return}_=k}nn(o,l,b.children,f),l=l.child}return l;case 9:return b=l.type,g=l.pendingProps.children,Zo(l,f),b=Bn(b),g=g(b),l.flags|=1,nn(o,l,g,f),l.child;case 14:return g=l.type,b=ns(g,l.pendingProps),b=ns(g.type,b),qy(o,l,g,b,f);case 15:return Yy(o,l,l.type,l.pendingProps,f);case 17:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:ns(g,b),Hu(o,l),l.tag=1,fn(g)?(o=!0,Nu(l)):o=!1,Zo(l,f),fy(l,g,b),Bf(l,g,b,f),np(null,l,g,!0,o,f);case 19:return tb(o,l,f);case 22:return Ky(o,l,f)}throw Error(n(156,l.tag))};function Cb(o,l){return Ci(o,l)}function Uk(o,l,f,g){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(o,l,f,g){return new Uk(o,l,f,g)}function Sp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Hk(o){if(typeof o=="function")return Sp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===se)return 11;if(o===he)return 14}return 2}function Yr(o,l){var f=o.alternate;return f===null?(f=Un(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function td(o,l,f,g,b,_){var k=2;if(g=o,typeof o=="function")Sp(o)&&(k=1);else if(typeof o=="string")k=5;else e:switch(o){case V:return zi(f.children,b,_,l);case I:k=8,b|=8;break;case z:return o=Un(12,f,l,b|2),o.elementType=z,o.lanes=_,o;case de:return o=Un(13,f,l,b),o.elementType=de,o.lanes=_,o;case G:return o=Un(19,f,l,b),o.elementType=G,o.lanes=_,o;case Z:return nd(f,b,_,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case U:k=10;break e;case J:k=9;break e;case se:k=11;break e;case he:k=14;break e;case ee:k=16,g=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=Un(k,f,l,b),l.elementType=o,l.type=g,l.lanes=_,l}function zi(o,l,f,g){return o=Un(7,o,g,l),o.lanes=f,o}function nd(o,l,f,g){return o=Un(22,o,g,l),o.elementType=Z,o.lanes=f,o.stateNode={isHidden:!1},o}function _p(o,l,f){return o=Un(6,o,null,l),o.lanes=f,o}function jp(o,l,f){return l=Un(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function Wk(o,l,f,g,b){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Io(0),this.expirationTimes=Io(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Io(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Cp(o,l,f,g,b,_,k,D,B){return o=new Wk(o,l,f,D,B),l===1?(l=1,_===!0&&(l|=8)):l=0,_=Un(3,null,null,l),o.current=_,_.stateNode=o,_.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ff(_),o}function qk(o,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:g==null?null:""+g,children:o,containerInfo:l,implementation:f}}function Nb(o){if(!o)return Fr;o=o._reactInternals;e:{if(ys(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(fn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var f=o.type;if(fn(f))return Jx(o,f,l)}return l}function kb(o,l,f,g,b,_,k,D,B){return o=Cp(f,g,!0,o,b,_,k,D,B),o.context=Nb(null),f=o.current,g=sn(),b=Wr(f),_=Gs(g,b),_.callback=l??null,Vr(f,_,b),o.current.lanes=b,ki(o,b,g),gn(o,g),o}function sd(o,l,f,g){var b=l.current,_=sn(),k=Wr(b);return f=Nb(f),l.context===null?l.context=f:l.pendingContext=f,l=Gs(_,k),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=Vr(b,l,k),o!==null&&(is(o,b,k,_),Ru(o,b,k)),k}function rd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Tb(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Np(o,l){Tb(o,l),(o=o.alternate)&&Tb(o,l)}function Yk(){return null}var Eb=typeof reportError=="function"?reportError:function(o){console.error(o)};function kp(o){this._internalRoot=o}id.prototype.render=kp.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));sd(o,l,null,null)},id.prototype.unmount=kp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Li(function(){sd(null,o,null,null)}),l[qs]=null}};function id(o){this._internalRoot=o}id.prototype.unstable_scheduleHydration=function(o){if(o){var l=Fe();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Rr.length&&l!==0&&l<Rr[f].priority;f++);Rr.splice(f,0,o),f===0&&px(o)}};function Tp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function od(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Pb(){}function Kk(o,l,f,g,b){if(b){if(typeof g=="function"){var _=g;g=function(){var Y=rd(k);_.call(Y)}}var k=kb(l,g,o,0,null,!1,!1,"",Pb);return o._reactRootContainer=k,o[qs]=k.current,gl(o.nodeType===8?o.parentNode:o),Li(),k}for(;b=o.lastChild;)o.removeChild(b);if(typeof g=="function"){var D=g;g=function(){var Y=rd(B);D.call(Y)}}var B=Cp(o,0,!1,null,null,!1,!1,"",Pb);return o._reactRootContainer=B,o[qs]=B.current,gl(o.nodeType===8?o.parentNode:o),Li(function(){sd(l,B,f,g)}),B}function ad(o,l,f,g,b){var _=f._reactRootContainer;if(_){var k=_;if(typeof b=="function"){var D=b;b=function(){var B=rd(k);D.call(B)}}sd(l,k,o,b)}else k=Kk(f,l,o,b,g);return rd(k)}q=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var f=Hs(l.pendingLanes);f!==0&&(E(l,f|1),gn(l,Ge()),(qe&6)===0&&(ra=Ge()+500,zr()))}break;case 13:Li(function(){var g=Qs(o,1);if(g!==null){var b=sn();is(g,o,1,b)}}),Np(o,1)}},re=function(o){if(o.tag===13){var l=Qs(o,134217728);if(l!==null){var f=sn();is(l,o,134217728,f)}Np(o,134217728)}},fe=function(o){if(o.tag===13){var l=Wr(o),f=Qs(o,l);if(f!==null){var g=sn();is(f,o,l,g)}Np(o,l)}},Fe=function(){return M},vt=function(o,l){var f=M;try{return M=o,l()}finally{M=f}},Za=function(o,l,f){switch(l){case"input":if(tn(o,f),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==o&&g.form===o.form){var b=ju(g);if(!b)throw Error(n(90));Te(g),tn(g,b)}}}break;case"textarea":Zc(o,f);break;case"select":l=f.value,l!=null&&Tt(o,!!f.multiple,l,!1)}},iu=bp,Ja=Li;var Xk={usingClientEntryPoint:!1,Events:[bl,Wo,ju,su,ru,bp]},Rl={findFiberByHostInstance:Ti,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Qk={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=kr(o),o===null?null:o.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||Yk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{dn=ld.inject(Qk),Tn=ld}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xk,xn.createPortal=function(o,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tp(l))throw Error(n(200));return qk(o,l,null,f)},xn.createRoot=function(o,l){if(!Tp(o))throw Error(n(299));var f=!1,g="",b=Eb;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=Cp(o,1,!1,null,null,f,!1,g,b),o[qs]=l.current,gl(o.nodeType===8?o.parentNode:o),new kp(l)},xn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=kr(l),o=o===null?null:o.stateNode,o},xn.flushSync=function(o){return Li(o)},xn.hydrate=function(o,l,f){if(!od(l))throw Error(n(200));return ad(null,o,l,!0,f)},xn.hydrateRoot=function(o,l,f){if(!Tp(o))throw Error(n(405));var g=f!=null&&f.hydratedSources||null,b=!1,_="",k=Eb;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(k=f.onRecoverableError)),l=kb(l,null,o,1,f??null,b,!1,_,k),o[qs]=l.current,gl(o),g)for(o=0;o<g.length;o++)f=g[o],b=f._getVersion,b=b(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,b]:l.mutableSourceEagerHydrationData.push(f,b);return new id(l)},xn.render=function(o,l,f){if(!od(l))throw Error(n(200));return ad(null,o,l,!1,f)},xn.unmountComponentAtNode=function(o){if(!od(o))throw Error(n(40));return o._reactRootContainer?(Li(function(){ad(null,null,o,!1,function(){o._reactRootContainer=null,o[qs]=null})}),!0):!1},xn.unstable_batchedUpdates=bp,xn.unstable_renderSubtreeIntoContainer=function(o,l,f,g){if(!od(f))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return ad(o,l,f,!1,g)},xn.version="18.2.0-next-9e3b772b8-20220608",xn}var zb;function eS(){if(zb)return Ap.exports;zb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ap.exports=iT(),Ap.exports}var Bb;function oT(){if(Bb)return ud;Bb=1;var e=eS();return ud.createRoot=e.createRoot,ud.hydrateRoot=e.hydrateRoot,ud}var aT=oT();const lT=jh(aT);var Ol={},Vb;function cT(){if(Vb)return Ol;Vb=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.parse=a,Ol.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,i=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function a(x,y){const v=new i,w=x.length;if(w<2)return v;const S=(y==null?void 0:y.decode)||p;let j=0;do{const N=x.indexOf("=",j);if(N===-1)break;const T=x.indexOf(";",j),A=T===-1?w:T;if(N>A){j=x.lastIndexOf(";",N-1)+1;continue}const P=c(x,j,N),R=d(x,N,P),V=x.slice(P,R);if(v[V]===void 0){let I=c(x,N+1,A),z=d(x,A,I);const U=S(x.slice(I,z));v[V]=U}j=A+1}while(j<w);return v}function c(x,y,v){do{const w=x.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<v);return v}function d(x,y,v){for(;y>v;){const w=x.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return v}function h(x,y,v){const w=(v==null?void 0:v.encode)||encodeURIComponent;if(!e.test(x))throw new TypeError(`argument name is invalid: ${x}`);const S=w(y);if(!t.test(S))throw new TypeError(`argument val is invalid: ${y}`);let j=x+"="+S;if(!v)return j;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);j+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);j+="; Domain="+v.domain}if(v.path){if(!s.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);j+="; Path="+v.path}if(v.expires){if(!m(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);j+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(j+="; HttpOnly"),v.secure&&(j+="; Secure"),v.partitioned&&(j+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return j}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function m(x){return r.call(x)==="[object Date]"}return Ol}cT();var $b="popstate";function uT(e={}){function t(s,r){let{pathname:i,search:a,hash:c}=s.location;return Pm("",{pathname:i,search:a,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:pc(r)}return hT(t,n,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dT(){return Math.random().toString(36).substring(2,10)}function Ub(e,t){return{usr:e.state,key:e.key,idx:t}}function Pm(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Oa(t):t,state:n,key:t&&t.key||s||dT()}}function pc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Oa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function hT(e,t,n,s={}){let{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,c="POP",d=null,h=p();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function p(){return(a.state||{idx:null}).idx}function m(){c="POP";let S=p(),j=S==null?null:S-h;h=S,d&&d({action:c,location:w.location,delta:j})}function x(S,j){c="PUSH";let N=Pm(w.location,S,j);h=p()+1;let T=Ub(N,h),A=w.createHref(N);try{a.pushState(T,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(A)}i&&d&&d({action:c,location:w.location,delta:1})}function y(S,j){c="REPLACE";let N=Pm(w.location,S,j);h=p();let T=Ub(N,h),A=w.createHref(N);a.replaceState(T,"",A),i&&d&&d({action:c,location:w.location,delta:0})}function v(S){return fT(S)}let w={get action(){return c},get location(){return e(r,a)},listen(S){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener($b,m),d=S,()=>{r.removeEventListener($b,m),d=null}},createHref(S){return t(r,S)},createURL:v,encodeLocation(S){let j=v(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:y,go(S){return a.go(S)}};return w}function fT(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:pc(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function tS(e,t,n="/"){return pT(e,t,n,!1)}function pT(e,t,n,s){let r=typeof t=="string"?Oa(t):t,i=mr(r.pathname||"/",n);if(i==null)return null;let a=nS(e);mT(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let h=NT(i);c=jT(a[d],h,s)}return c}function nS(e,t=[],n=[],s=""){let r=(i,a,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};d.relativePath.startsWith("/")&&(ot(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let h=hr([s,d.relativePath]),p=n.concat(d);i.children&&i.children.length>0&&(ot(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),nS(i.children,t,p,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:ST(h,i.index),routesMeta:p})};return e.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))r(i,a);else for(let d of sS(i.path))r(i,a,d)}),t}function sS(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let a=sS(s.join("/")),c=[];return c.push(...a.map(d=>d===""?i:[i,d].join("/"))),r&&c.push(...a),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function mT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_T(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var gT=/^:[\w-]+$/,xT=3,yT=2,bT=1,vT=10,wT=-2,Hb=e=>e==="*";function ST(e,t){let n=e.split("/"),s=n.length;return n.some(Hb)&&(s+=wT),t&&(s+=yT),n.filter(r=>!Hb(r)).reduce((r,i)=>r+(gT.test(i)?xT:i===""?bT:vT),s)}function _T(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function jT(e,t,n=!1){let{routesMeta:s}=e,r={},i="/",a=[];for(let c=0;c<s.length;++c){let d=s[c],h=c===s.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=sh({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),x=d.route;if(!m&&h&&n&&!s[s.length-1].route.index&&(m=sh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(r,m.params),a.push({params:r,pathname:hr([i,m.pathname]),pathnameBase:PT(hr([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=hr([i,m.pathnameBase]))}return a}function sh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=CT(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:s.reduce((h,{paramName:p,isOptional:m},x)=>{if(p==="*"){let v=c[x]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const y=c[x];return m&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:e}}function CT(e,t=!1,n=!0){Zn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(s.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function NT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function mr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function kT(e,t="/"){let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Oa(e):e;return{pathname:n?n.startsWith("/")?n:TT(n,t):t,search:MT(s),hash:AT(r)}}function TT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Op(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ET(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Wg(e){let t=ET(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function qg(e,t,n,s=!1){let r;typeof e=="string"?r=Oa(e):(r={...e},ot(!r.pathname||!r.pathname.includes("?"),Op("?","pathname","search",r)),ot(!r.pathname||!r.pathname.includes("#"),Op("#","pathname","hash",r)),ot(!r.search||!r.search.includes("#"),Op("#","search","hash",r)));let i=e===""||r.pathname==="",a=i?"/":r.pathname,c;if(a==null)c=n;else{let m=t.length-1;if(!s&&a.startsWith("..")){let x=a.split("/");for(;x[0]==="..";)x.shift(),m-=1;r.pathname=x.join("/")}c=m>=0?t[m]:"/"}let d=kT(r,c),h=a&&a!=="/"&&a.endsWith("/"),p=(i||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var hr=e=>e.join("/").replace(/\/\/+/g,"/"),PT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),MT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function RT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var rS=["POST","PUT","PATCH","DELETE"];new Set(rS);var DT=["GET",...rS];new Set(DT);var La=C.createContext(null);La.displayName="DataRouter";var Ch=C.createContext(null);Ch.displayName="DataRouterState";var iS=C.createContext({isTransitioning:!1});iS.displayName="ViewTransition";var OT=C.createContext(new Map);OT.displayName="Fetchers";var LT=C.createContext(null);LT.displayName="Await";var ds=C.createContext(null);ds.displayName="Navigation";var Ic=C.createContext(null);Ic.displayName="Location";var hs=C.createContext({outlet:null,matches:[],isDataRoute:!1});hs.displayName="Route";var Yg=C.createContext(null);Yg.displayName="RouteError";function IT(e,{relative:t}={}){ot(Ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=C.useContext(ds),{hash:r,pathname:i,search:a}=Fc(e,{relative:t}),c=i;return n!=="/"&&(c=i==="/"?n:hr([n,i])),s.createHref({pathname:c,search:a,hash:r})}function Ia(){return C.useContext(Ic)!=null}function br(){return ot(Ia(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Ic).location}var oS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aS(e){C.useContext(ds).static||C.useLayoutEffect(e)}function zs(){let{isDataRoute:e}=C.useContext(hs);return e?QT():FT()}function FT(){ot(Ia(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(La),{basename:t,navigator:n}=C.useContext(ds),{matches:s}=C.useContext(hs),{pathname:r}=br(),i=JSON.stringify(Wg(s)),a=C.useRef(!1);return aS(()=>{a.current=!0}),C.useCallback((d,h={})=>{if(Zn(a.current,oS),!a.current)return;if(typeof d=="number"){n.go(d);return}let p=qg(d,JSON.parse(i),r,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:hr([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,i,r,e])}C.createContext(null);function Kg(){let{matches:e}=C.useContext(hs),t=e[e.length-1];return t?t.params:{}}function Fc(e,{relative:t}={}){let{matches:n}=C.useContext(hs),{pathname:s}=br(),r=JSON.stringify(Wg(n));return C.useMemo(()=>qg(e,JSON.parse(r),s,t==="path"),[e,r,s,t])}function zT(e,t){return lS(e,t)}function lS(e,t,n,s){var j;ot(Ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=C.useContext(ds),{matches:i}=C.useContext(hs),a=i[i.length-1],c=a?a.params:{},d=a?a.pathname:"/",h=a?a.pathnameBase:"/",p=a&&a.route;{let N=p&&p.path||"";cS(d,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let m=br(),x;if(t){let N=typeof t=="string"?Oa(t):t;ot(h==="/"||((j=N.pathname)==null?void 0:j.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=m;let y=x.pathname||"/",v=y;if(h!=="/"){let N=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=tS(e,{pathname:v});Zn(p||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Zn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=HT(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:hr([h,r.encodeLocation?r.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:hr([h,r.encodeLocation?r.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,s);return t&&S?C.createElement(Ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function BT(){let e=XT(),t=RT(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:r},n):null,a)}var VT=C.createElement(BT,null),$T=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?C.createElement(hs.Provider,{value:this.props.routeContext},C.createElement(Yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UT({routeContext:e,match:t,children:n}){let s=C.useContext(La);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(hs.Provider,{value:e},n)}function HT(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,i=n==null?void 0:n.errors;if(i!=null){let d=r.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);ot(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let a=!1,c=-1;if(n)for(let d=0;d<r.length;d++){let h=r[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,x=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){a=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((d,h,p)=>{let m,x=!1,y=null,v=null;n&&(m=i&&h.route.id?i[h.route.id]:void 0,y=h.route.errorElement||VT,a&&(c<0&&p===0?(cS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,v=null):c===p&&(x=!0,v=h.route.hydrateFallbackElement||null)));let w=t.concat(r.slice(0,p+1)),S=()=>{let j;return m?j=y:x?j=v:h.route.Component?j=C.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,C.createElement(UT,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?C.createElement($T,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}function Xg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WT(e){let t=C.useContext(La);return ot(t,Xg(e)),t}function qT(e){let t=C.useContext(Ch);return ot(t,Xg(e)),t}function YT(e){let t=C.useContext(hs);return ot(t,Xg(e)),t}function Qg(e){let t=YT(e),n=t.matches[t.matches.length-1];return ot(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function KT(){return Qg("useRouteId")}function XT(){var s;let e=C.useContext(Yg),t=qT("useRouteError"),n=Qg("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function QT(){let{router:e}=WT("useNavigate"),t=Qg("useNavigate"),n=C.useRef(!1);return aS(()=>{n.current=!0}),C.useCallback(async(r,i={})=>{Zn(n.current,oS),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var Wb={};function cS(e,t,n){!t&&!Wb[e]&&(Wb[e]=!0,Zn(!1,n))}C.memo(GT);function GT({routes:e,future:t,state:n}){return lS(e,void 0,n,t)}function qb({to:e,replace:t,state:n,relative:s}){ot(Ia(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=C.useContext(ds);Zn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=C.useContext(hs),{pathname:a}=br(),c=zs(),d=qg(e,Wg(i),a,s==="path"),h=JSON.stringify(d);return C.useEffect(()=>{c(JSON.parse(h),{replace:t,state:n,relative:s})},[c,h,s,t,n]),null}function Kt(e){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZT({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:r,static:i=!1}){ot(!Ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:a,navigator:r,static:i,future:{}}),[a,r,i]);typeof n=="string"&&(n=Oa(n));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:x="default"}=n,y=C.useMemo(()=>{let v=mr(d,a);return v==null?null:{location:{pathname:v,search:h,hash:p,state:m,key:x},navigationType:s}},[a,d,h,p,m,x,s]);return Zn(y!=null,`<Router basename="${a}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:C.createElement(ds.Provider,{value:c},C.createElement(Ic.Provider,{children:t,value:y}))}function uS({children:e,location:t}){return zT(Mm(e),t)}function Mm(e,t=[]){let n=[];return C.Children.forEach(e,(s,r)=>{if(!C.isValidElement(s))return;let i=[...t,r];if(s.type===C.Fragment){n.push.apply(n,Mm(s.props.children,i));return}ot(s.type===Kt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Mm(s.props.children,i)),n.push(a)}),n}var $d="get",Ud="application/x-www-form-urlencoded";function Nh(e){return e!=null&&typeof e.tagName=="string"}function JT(e){return Nh(e)&&e.tagName.toLowerCase()==="button"}function eE(e){return Nh(e)&&e.tagName.toLowerCase()==="form"}function tE(e){return Nh(e)&&e.tagName.toLowerCase()==="input"}function nE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sE(e,t){return e.button===0&&(!t||t==="_self")&&!nE(e)}function Am(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function rE(e,t){let n=Am(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)})}),n}var dd=null;function iE(){if(dd===null)try{new FormData(document.createElement("form"),0),dd=!1}catch{dd=!0}return dd}var oE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lp(e){return e!=null&&!oE.has(e)?(Zn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ud}"`),null):e}function aE(e,t){let n,s,r,i,a;if(eE(e)){let c=e.getAttribute("action");s=c?mr(c,t):null,n=e.getAttribute("method")||$d,r=Lp(e.getAttribute("enctype"))||Ud,i=new FormData(e)}else if(JT(e)||tE(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(s=d?mr(d,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||$d,r=Lp(e.getAttribute("formenctype"))||Lp(c.getAttribute("enctype"))||Ud,i=new FormData(c,e),!iE()){let{name:h,type:p,value:m}=e;if(p==="image"){let x=h?`${h}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else h&&i.append(h,m)}}else{if(Nh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$d,s=null,r=Ud,a=e}return i&&r==="text/plain"&&(a=i,i=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:i,body:a}}function Gg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function lE(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cE(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function uE(e,t,n){let s=await Promise.all(e.map(async r=>{let i=t.routes[r.route.id];if(i){let a=await lE(i,n);return a.links?a.links():[]}return[]}));return pE(s.flat(1).filter(cE).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Yb(e,t,n,s,r,i){let a=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var p;return n[h].pathname!==d.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return i==="assets"?t.filter((d,h)=>a(d,h)||c(d,h)):i==="data"?t.filter((d,h)=>{var m;let p=s.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(a(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function dE(e,t,{includeHydrateFallback:n}={}){return hE(e.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function hE(e){return[...new Set(e)]}function fE(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function pE(e,t){let n=new Set;return new Set(t),e.reduce((s,r)=>{let i=JSON.stringify(fE(r));return n.has(i)||(n.add(i),s.push({key:i,link:r})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mE=new Set([100,101,204,205]);function gE(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&mr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function dS(){let e=C.useContext(La);return Gg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function xE(){let e=C.useContext(Ch);return Gg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Zg=C.createContext(void 0);Zg.displayName="FrameworkContext";function hS(){let e=C.useContext(Zg);return Gg(e,"You must render this element inside a <HydratedRouter> element"),e}function yE(e,t){let n=C.useContext(Zg),[s,r]=C.useState(!1),[i,a]=C.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=t,x=C.useRef(null);C.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let w=j=>{j.forEach(N=>{a(N.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[e]),C.useEffect(()=>{if(s){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[s]);let y=()=>{r(!0)},v=()=>{r(!1),a(!1)};return n?e!=="intent"?[i,x,{}]:[i,x,{onFocus:Ll(c,y),onBlur:Ll(d,v),onMouseEnter:Ll(h,y),onMouseLeave:Ll(p,v),onTouchStart:Ll(m,y)}]:[!1,x,{}]}function Ll(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function bE({page:e,...t}){let{router:n}=dS(),s=C.useMemo(()=>tS(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?C.createElement(wE,{page:e,matches:s,...t}):null}function vE(e){let{manifest:t,routeModules:n}=hS(),[s,r]=C.useState([]);return C.useEffect(()=>{let i=!1;return uE(e,t,n).then(a=>{i||r(a)}),()=>{i=!0}},[e,t,n]),s}function wE({page:e,matches:t,...n}){let s=br(),{manifest:r,routeModules:i}=hS(),{basename:a}=dS(),{loaderData:c,matches:d}=xE(),h=C.useMemo(()=>Yb(e,t,d,r,s,"data"),[e,t,d,r,s]),p=C.useMemo(()=>Yb(e,t,d,r,s,"assets"),[e,t,d,r,s]),m=C.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let v=new Set,w=!1;if(t.forEach(j=>{var T;let N=r.routes[j.route.id];!N||!N.hasLoader||(!h.some(A=>A.route.id===j.route.id)&&j.route.id in c&&((T=i[j.route.id])!=null&&T.shouldRevalidate)||N.hasClientLoader?w=!0:v.add(j.route.id))}),v.size===0)return[];let S=gE(e,a);return w&&v.size>0&&S.searchParams.set("_routes",t.filter(j=>v.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[a,c,s,r,h,t,e,i]),x=C.useMemo(()=>dE(p,r),[p,r]),y=vE(p);return C.createElement(C.Fragment,null,m.map(v=>C.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),x.map(v=>C.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),y.map(({key:v,link:w})=>C.createElement("link",{key:v,...w})))}function SE(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fS&&(window.__reactRouterVersion="7.6.2")}catch{}function _E({basename:e,children:t,window:n}){let s=C.useRef();s.current==null&&(s.current=uT({window:n,v5Compat:!0}));let r=s.current,[i,a]=C.useState({action:r.action,location:r.location}),c=C.useCallback(d=>{C.startTransition(()=>a(d))},[a]);return C.useLayoutEffect(()=>r.listen(c),[r,c]),C.createElement(ZT,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:r})}var pS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,us=C.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:r,reloadDocument:i,replace:a,state:c,target:d,to:h,preventScrollReset:p,viewTransition:m,...x},y){let{basename:v}=C.useContext(ds),w=typeof h=="string"&&pS.test(h),S,j=!1;if(typeof h=="string"&&w&&(S=h,fS))try{let z=new URL(window.location.href),U=h.startsWith("//")?new URL(z.protocol+h):new URL(h),J=mr(U.pathname,v);U.origin===z.origin&&J!=null?h=J+U.search+U.hash:j=!0}catch{Zn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=IT(h,{relative:r}),[T,A,P]=yE(s,x),R=kE(h,{replace:a,state:c,target:d,preventScrollReset:p,relative:r,viewTransition:m});function V(z){t&&t(z),z.defaultPrevented||R(z)}let I=C.createElement("a",{...x,...P,href:S||N,onClick:j||i?t:V,ref:SE(y,A),target:d,"data-discover":!w&&n==="render"?"true":void 0});return T&&!w?C.createElement(C.Fragment,null,I,C.createElement(bE,{page:N})):I});us.displayName="Link";var jE=C.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:r=!1,style:i,to:a,viewTransition:c,children:d,...h},p){let m=Fc(a,{relative:h.relative}),x=br(),y=C.useContext(Ch),{navigator:v,basename:w}=C.useContext(ds),S=y!=null&&AE(m)&&c===!0,j=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,N=x.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(N=N.toLowerCase(),T=T?T.toLowerCase():null,j=j.toLowerCase()),T&&w&&(T=mr(T,w)||T);const A=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let P=N===j||!r&&N.startsWith(j)&&N.charAt(A)==="/",R=T!=null&&(T===j||!r&&T.startsWith(j)&&T.charAt(j.length)==="/"),V={isActive:P,isPending:R,isTransitioning:S},I=P?t:void 0,z;typeof s=="function"?z=s(V):z=[s,P?"active":null,R?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let U=typeof i=="function"?i(V):i;return C.createElement(us,{...h,"aria-current":I,className:z,ref:p,style:U,to:a,viewTransition:c},typeof d=="function"?d(V):d)});jE.displayName="NavLink";var CE=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:r,state:i,method:a=$d,action:c,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:m,...x},y)=>{let v=PE(),w=ME(c,{relative:h}),S=a.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&pS.test(c),N=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let A=T.nativeEvent.submitter,P=(A==null?void 0:A.getAttribute("formmethod"))||a;v(A||T.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:r,state:i,relative:h,preventScrollReset:p,viewTransition:m})};return C.createElement("form",{ref:y,method:S,action:w,onSubmit:s?d:N,...x,"data-discover":!j&&e==="render"?"true":void 0})});CE.displayName="Form";function NE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mS(e){let t=C.useContext(La);return ot(t,NE(e)),t}function kE(e,{target:t,replace:n,state:s,preventScrollReset:r,relative:i,viewTransition:a}={}){let c=zs(),d=br(),h=Fc(e,{relative:i});return C.useCallback(p=>{if(sE(p,t)){p.preventDefault();let m=n!==void 0?n:pc(d)===pc(h);c(e,{replace:m,state:s,preventScrollReset:r,relative:i,viewTransition:a})}},[d,c,h,n,s,t,e,r,i,a])}function zc(e){Zn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=C.useRef(Am(e)),n=C.useRef(!1),s=br(),r=C.useMemo(()=>rE(s.search,n.current?null:t.current),[s.search]),i=zs(),a=C.useCallback((c,d)=>{const h=Am(typeof c=="function"?c(r):c);n.current=!0,i("?"+h,d)},[i,r]);return[r,a]}var TE=0,EE=()=>`__${String(++TE)}__`;function PE(){let{router:e}=mS("useSubmit"),{basename:t}=C.useContext(ds),n=KT();return C.useCallback(async(s,r={})=>{let{action:i,method:a,encType:c,formData:d,body:h}=aE(s,t);if(r.navigate===!1){let p=r.fetcherKey||EE();await e.fetch(p,n,r.action||i,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||a,formEncType:r.encType||c,flushSync:r.flushSync})}else await e.navigate(r.action||i,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||a,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function ME(e,{relative:t}={}){let{basename:n}=C.useContext(ds),s=C.useContext(hs);ot(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),i={...Fc(e||".",{relative:t})},a=br();if(e==null){i.search=a.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();i.search=p?`?${p}`:""}}return(!e||e===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:hr([n,i.pathname])),pc(i)}function AE(e,t={}){let n=C.useContext(iS);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mS("useViewTransitionState"),r=Fc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=mr(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=mr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return sh(r.pathname,a)!=null||sh(r.pathname,i)!=null}[...mE];var RE=eS();const DE=jh(RE);function gS(e,t){return function(){return e.apply(t,arguments)}}const{toString:OE}=Object.prototype,{getPrototypeOf:Jg}=Object,{iterator:kh,toStringTag:xS}=Symbol,Th=(e=>t=>{const n=OE.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fs=e=>(e=e.toLowerCase(),t=>Th(t)===e),Eh=e=>t=>typeof t===e,{isArray:Fa}=Array,mc=Eh("undefined");function LE(e){return e!==null&&!mc(e)&&e.constructor!==null&&!mc(e.constructor)&&Cn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const yS=fs("ArrayBuffer");function IE(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&yS(e.buffer),t}const FE=Eh("string"),Cn=Eh("function"),bS=Eh("number"),Ph=e=>e!==null&&typeof e=="object",zE=e=>e===!0||e===!1,Hd=e=>{if(Th(e)!=="object")return!1;const t=Jg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(xS in e)&&!(kh in e)},BE=fs("Date"),VE=fs("File"),$E=fs("Blob"),UE=fs("FileList"),HE=e=>Ph(e)&&Cn(e.pipe),WE=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Cn(e.append)&&((t=Th(e))==="formdata"||t==="object"&&Cn(e.toString)&&e.toString()==="[object FormData]"))},qE=fs("URLSearchParams"),[YE,KE,XE,QE]=["ReadableStream","Request","Response","Headers"].map(fs),GE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),Fa(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let c;for(s=0;s<a;s++)c=i[s],t.call(null,e[c],c,e)}}function vS(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wS=e=>!mc(e)&&e!==Ki;function Rm(){const{caseless:e}=wS(this)&&this||{},t={},n=(s,r)=>{const i=e&&vS(t,r)||r;Hd(t[i])&&Hd(s)?t[i]=Rm(t[i],s):Hd(s)?t[i]=Rm({},s):Fa(s)?t[i]=s.slice():t[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Bc(arguments[s],n);return t}const ZE=(e,t,n,{allOwnKeys:s}={})=>(Bc(t,(r,i)=>{n&&Cn(r)?e[i]=gS(r,n):e[i]=r},{allOwnKeys:s}),e),JE=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),eP=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},tP=(e,t,n,s)=>{let r,i,a;const c={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)a=r[i],(!s||s(a,e,t))&&!c[a]&&(t[a]=e[a],c[a]=!0);e=n!==!1&&Jg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},nP=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},sP=e=>{if(!e)return null;if(Fa(e))return e;let t=e.length;if(!bS(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},rP=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jg(Uint8Array)),iP=(e,t)=>{const s=(e&&e[kh]).call(e);let r;for(;(r=s.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},oP=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},aP=fs("HTMLFormElement"),lP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Kb=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),cP=fs("RegExp"),SS=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Bc(n,(r,i)=>{let a;(a=t(r,i,e))!==!1&&(s[i]=a||r)}),Object.defineProperties(e,s)},uP=e=>{SS(e,(t,n)=>{if(Cn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Cn(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},dP=(e,t)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return Fa(e)?s(e):s(String(e).split(t)),n},hP=()=>{},fP=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function pP(e){return!!(e&&Cn(e.append)&&e[xS]==="FormData"&&e[kh])}const mP=e=>{const t=new Array(10),n=(s,r)=>{if(Ph(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const i=Fa(s)?[]:{};return Bc(s,(a,c)=>{const d=n(a,r+1);!mc(d)&&(i[c]=d)}),t[r]=void 0,i}}return s};return n(e,0)},gP=fs("AsyncFunction"),xP=e=>e&&(Ph(e)||Cn(e))&&Cn(e.then)&&Cn(e.catch),_S=((e,t)=>e?setImmediate:t?((n,s)=>(Ki.addEventListener("message",({source:r,data:i})=>{r===Ki&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Ki.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Cn(Ki.postMessage)),yP=typeof queueMicrotask<"u"?queueMicrotask.bind(Ki):typeof process<"u"&&process.nextTick||_S,bP=e=>e!=null&&Cn(e[kh]),X={isArray:Fa,isArrayBuffer:yS,isBuffer:LE,isFormData:WE,isArrayBufferView:IE,isString:FE,isNumber:bS,isBoolean:zE,isObject:Ph,isPlainObject:Hd,isReadableStream:YE,isRequest:KE,isResponse:XE,isHeaders:QE,isUndefined:mc,isDate:BE,isFile:VE,isBlob:$E,isRegExp:cP,isFunction:Cn,isStream:HE,isURLSearchParams:qE,isTypedArray:rP,isFileList:UE,forEach:Bc,merge:Rm,extend:ZE,trim:GE,stripBOM:JE,inherits:eP,toFlatObject:tP,kindOf:Th,kindOfTest:fs,endsWith:nP,toArray:sP,forEachEntry:iP,matchAll:oP,isHTMLForm:aP,hasOwnProperty:Kb,hasOwnProp:Kb,reduceDescriptors:SS,freezeMethods:uP,toObjectSet:dP,toCamelCase:lP,noop:hP,toFiniteNumber:fP,findKey:vS,global:Ki,isContextDefined:wS,isSpecCompliantForm:pP,toJSONObject:mP,isAsyncFn:gP,isThenable:xP,setImmediate:_S,asap:yP,isIterable:bP};function Oe(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}X.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const jS=Oe.prototype,CS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{CS[e]={value:e}});Object.defineProperties(Oe,CS);Object.defineProperty(jS,"isAxiosError",{value:!0});Oe.from=(e,t,n,s,r,i)=>{const a=Object.create(jS);return X.toFlatObject(e,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Oe.call(a,e.message,t,n,s,r),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const vP=null;function Dm(e){return X.isPlainObject(e)||X.isArray(e)}function NS(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function Xb(e,t,n){return e?e.concat(t).map(function(r,i){return r=NS(r),!n&&i?"["+r+"]":r}).join(n?".":""):t}function wP(e){return X.isArray(e)&&!e.some(Dm)}const SP=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function Mh(e,t,n){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!X.isUndefined(S[w])});const s=n.metaTokens,r=n.visitor||p,i=n.dots,a=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(r))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(X.isDate(v))return v.toISOString();if(X.isBoolean(v))return v.toString();if(!d&&X.isBlob(v))throw new Oe("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(v)||X.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,w,S){let j=v;if(v&&!S&&typeof v=="object"){if(X.endsWith(w,"{}"))w=s?w:w.slice(0,-2),v=JSON.stringify(v);else if(X.isArray(v)&&wP(v)||(X.isFileList(v)||X.endsWith(w,"[]"))&&(j=X.toArray(v)))return w=NS(w),j.forEach(function(T,A){!(X.isUndefined(T)||T===null)&&t.append(a===!0?Xb([w],A,i):a===null?w:w+"[]",h(T))}),!1}return Dm(v)?!0:(t.append(Xb(S,w,i),h(v)),!1)}const m=[],x=Object.assign(SP,{defaultVisitor:p,convertValue:h,isVisitable:Dm});function y(v,w){if(!X.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(v),X.forEach(v,function(j,N){(!(X.isUndefined(j)||j===null)&&r.call(t,j,X.isString(N)?N.trim():N,w,x))===!0&&y(j,w?w.concat(N):[N])}),m.pop()}}if(!X.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Qb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function e0(e,t){this._pairs=[],e&&Mh(e,this,t)}const kS=e0.prototype;kS.append=function(t,n){this._pairs.push([t,n])};kS.toString=function(t){const n=t?function(s){return t.call(this,s,Qb)}:Qb;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function _P(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function TS(e,t,n){if(!t)return e;const s=n&&n.encode||_P;X.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(t,n):i=X.isURLSearchParams(t)?t.toString():new e0(t,n).toString(s),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Gb{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(s){s!==null&&t(s)})}}const ES={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jP=typeof URLSearchParams<"u"?URLSearchParams:e0,CP=typeof FormData<"u"?FormData:null,NP=typeof Blob<"u"?Blob:null,kP={isBrowser:!0,classes:{URLSearchParams:jP,FormData:CP,Blob:NP},protocols:["http","https","file","blob","url","data"]},t0=typeof window<"u"&&typeof document<"u",Om=typeof navigator=="object"&&navigator||void 0,TP=t0&&(!Om||["ReactNative","NativeScript","NS"].indexOf(Om.product)<0),EP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",PP=t0&&window.location.href||"http://localhost",MP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:t0,hasStandardBrowserEnv:TP,hasStandardBrowserWebWorkerEnv:EP,navigator:Om,origin:PP},Symbol.toStringTag,{value:"Module"})),Qt={...MP,...kP};function AP(e,t){return Mh(e,new Qt.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,i){return Qt.isNode&&X.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function RP(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function DP(e){const t={},n=Object.keys(e);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],t[i]=e[i];return t}function PS(e){function t(n,s,r,i){let a=n[i++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),d=i>=n.length;return a=!a&&X.isArray(r)?r.length:a,d?(X.hasOwnProp(r,a)?r[a]=[r[a],s]:r[a]=s,!c):((!r[a]||!X.isObject(r[a]))&&(r[a]=[]),t(n,s,r[a],i)&&X.isArray(r[a])&&(r[a]=DP(r[a])),!c)}if(X.isFormData(e)&&X.isFunction(e.entries)){const n={};return X.forEachEntry(e,(s,r)=>{t(RP(s),r,n,0)}),n}return null}function OP(e,t,n){if(X.isString(e))try{return(t||JSON.parse)(e),X.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Vc={transitional:ES,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=X.isObject(t);if(i&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return r?JSON.stringify(PS(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t)||X.isReadableStream(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return AP(t,this.formSerializer).toString();if((c=X.isFileList(t))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Mh(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),OP(t)):t}],transformResponse:[function(t){const n=this.transitional||Vc.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(X.isResponse(t)||X.isReadableStream(t))return t;if(t&&X.isString(t)&&(s&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(c){if(a)throw c.name==="SyntaxError"?Oe.from(c,Oe.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],e=>{Vc.headers[e]={}});const LP=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),IP=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),s=a.substring(r+1).trim(),!(!n||t[n]&&LP[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Zb=Symbol("internals");function Il(e){return e&&String(e).trim().toLowerCase()}function Wd(e){return e===!1||e==null?e:X.isArray(e)?e.map(Wd):String(e)}function FP(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const zP=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ip(e,t,n,s,r){if(X.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!X.isString(t)){if(X.isString(s))return t.indexOf(s)!==-1;if(X.isRegExp(s))return s.test(t)}}function BP(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function VP(e,t){const n=X.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,i,a){return this[s].call(this,t,r,i,a)},configurable:!0})})}let Nn=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function i(c,d,h){const p=Il(d);if(!p)throw new Error("header name must be a non-empty string");const m=X.findKey(r,p);(!m||r[m]===void 0||h===!0||h===void 0&&r[m]!==!1)&&(r[m||d]=Wd(c))}const a=(c,d)=>X.forEach(c,(h,p)=>i(h,p,d));if(X.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(X.isString(t)&&(t=t.trim())&&!zP(t))a(IP(t),n);else if(X.isObject(t)&&X.isIterable(t)){let c={},d,h;for(const p of t){if(!X.isArray(p))throw TypeError("Object iterator must return a key-value pair");c[h=p[0]]=(d=c[h])?X.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}a(c,n)}else t!=null&&i(n,t,s);return this}get(t,n){if(t=Il(t),t){const s=X.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return FP(r);if(X.isFunction(n))return n.call(this,r,s);if(X.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Il(t),t){const s=X.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Ip(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function i(a){if(a=Il(a),a){const c=X.findKey(s,a);c&&(!n||Ip(s,s[c],c,n))&&(delete s[c],r=!0)}}return X.isArray(t)?t.forEach(i):i(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!t||Ip(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const n=this,s={};return X.forEach(this,(r,i)=>{const a=X.findKey(s,i);if(a){n[a]=Wd(r),delete n[i];return}const c=t?BP(i):String(i).trim();c!==i&&delete n[i],n[c]=Wd(r),s[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return X.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&X.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[Zb]=this[Zb]={accessors:{}}).accessors,r=this.prototype;function i(a){const c=Il(a);s[c]||(VP(r,a),s[c]=!0)}return X.isArray(t)?t.forEach(i):i(t),this}};Nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Nn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});X.freezeMethods(Nn);function Fp(e,t){const n=this||Vc,s=t||n,r=Nn.from(s.headers);let i=s.data;return X.forEach(e,function(c){i=c.call(n,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function MS(e){return!!(e&&e.__CANCEL__)}function za(e,t,n){Oe.call(this,e??"canceled",Oe.ERR_CANCELED,t,n),this.name="CanceledError"}X.inherits(za,Oe,{__CANCEL__:!0});function AS(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new Oe("Request failed with status code "+n.status,[Oe.ERR_BAD_REQUEST,Oe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function $P(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function UP(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,i=0,a;return t=t!==void 0?t:1e3,function(d){const h=Date.now(),p=s[i];a||(a=h),n[r]=d,s[r]=h;let m=i,x=0;for(;m!==r;)x+=n[m++],m=m%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),h-a<t)return;const y=p&&h-p;return y?Math.round(x*1e3/y):void 0}}function HP(e,t){let n=0,s=1e3/t,r,i;const a=(h,p=Date.now())=>{n=p,r=null,i&&(clearTimeout(i),i=null),e.apply(null,h)};return[(...h)=>{const p=Date.now(),m=p-n;m>=s?a(h,p):(r=h,i||(i=setTimeout(()=>{i=null,a(r)},s-m)))},()=>r&&a(r)]}const rh=(e,t,n=3)=>{let s=0;const r=UP(50,250);return HP(i=>{const a=i.loaded,c=i.lengthComputable?i.total:void 0,d=a-s,h=r(d),p=a<=c;s=a;const m={loaded:a,total:c,progress:c?a/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&p?(c-a)/h:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(m)},n)},Jb=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},ev=e=>(...t)=>X.asap(()=>e(...t)),WP=Qt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Qt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Qt.origin),Qt.navigator&&/(msie|trident)/i.test(Qt.navigator.userAgent)):()=>!0,qP=Qt.hasStandardBrowserEnv?{write(e,t,n,s,r,i){const a=[e+"="+encodeURIComponent(t)];X.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),X.isString(s)&&a.push("path="+s),X.isString(r)&&a.push("domain="+r),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function YP(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function KP(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function RS(e,t,n){let s=!YP(t);return e&&(s||n==!1)?KP(e,t):t}const tv=e=>e instanceof Nn?{...e}:e;function po(e,t){t=t||{};const n={};function s(h,p,m,x){return X.isPlainObject(h)&&X.isPlainObject(p)?X.merge.call({caseless:x},h,p):X.isPlainObject(p)?X.merge({},p):X.isArray(p)?p.slice():p}function r(h,p,m,x){if(X.isUndefined(p)){if(!X.isUndefined(h))return s(void 0,h,m,x)}else return s(h,p,m,x)}function i(h,p){if(!X.isUndefined(p))return s(void 0,p)}function a(h,p){if(X.isUndefined(p)){if(!X.isUndefined(h))return s(void 0,h)}else return s(void 0,p)}function c(h,p,m){if(m in t)return s(h,p);if(m in e)return s(void 0,h)}const d={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(h,p,m)=>r(tv(h),tv(p),m,!0)};return X.forEach(Object.keys(Object.assign({},e,t)),function(p){const m=d[p]||r,x=m(e[p],t[p],p);X.isUndefined(x)&&m!==c||(n[p]=x)}),n}const DS=e=>{const t=po({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:a,auth:c}=t;t.headers=a=Nn.from(a),t.url=TS(RS(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(X.isFormData(n)){if(Qt.hasStandardBrowserEnv||Qt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((d=a.getContentType())!==!1){const[h,...p]=d?d.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([h||"multipart/form-data",...p].join("; "))}}if(Qt.hasStandardBrowserEnv&&(s&&X.isFunction(s)&&(s=s(t)),s||s!==!1&&WP(t.url))){const h=r&&i&&qP.read(i);h&&a.set(r,h)}return t},XP=typeof XMLHttpRequest<"u",QP=XP&&function(e){return new Promise(function(n,s){const r=DS(e);let i=r.data;const a=Nn.from(r.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=r,p,m,x,y,v;function w(){y&&y(),v&&v(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function j(){if(!S)return;const T=Nn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),P={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:T,config:e,request:S};AS(function(V){n(V),w()},function(V){s(V),w()},P),S=null}"onloadend"in S?S.onloadend=j:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(j)},S.onabort=function(){S&&(s(new Oe("Request aborted",Oe.ECONNABORTED,e,S)),S=null)},S.onerror=function(){s(new Oe("Network Error",Oe.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let A=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const P=r.transitional||ES;r.timeoutErrorMessage&&(A=r.timeoutErrorMessage),s(new Oe(A,P.clarifyTimeoutError?Oe.ETIMEDOUT:Oe.ECONNABORTED,e,S)),S=null},i===void 0&&a.setContentType(null),"setRequestHeader"in S&&X.forEach(a.toJSON(),function(A,P){S.setRequestHeader(P,A)}),X.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),c&&c!=="json"&&(S.responseType=r.responseType),h&&([x,v]=rh(h,!0),S.addEventListener("progress",x)),d&&S.upload&&([m,y]=rh(d),S.upload.addEventListener("progress",m),S.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(p=T=>{S&&(s(!T||T.type?new za(null,e,S):T),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const N=$P(r.url);if(N&&Qt.protocols.indexOf(N)===-1){s(new Oe("Unsupported protocol "+N+":",Oe.ERR_BAD_REQUEST,e));return}S.send(i||null)})},GP=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const i=function(h){if(!r){r=!0,c();const p=h instanceof Error?h:this.reason;s.abort(p instanceof Oe?p:new za(p instanceof Error?p.message:p))}};let a=t&&setTimeout(()=>{a=null,i(new Oe(`timeout ${t} of ms exceeded`,Oe.ETIMEDOUT))},t);const c=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:d}=s;return d.unsubscribe=()=>X.asap(c),d}},ZP=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},JP=async function*(e,t){for await(const n of e6(e))yield*ZP(n,t)},e6=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},nv=(e,t,n,s)=>{const r=JP(e,t);let i=0,a,c=d=>{a||(a=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:h,value:p}=await r.next();if(h){c(),d.close();return}let m=p.byteLength;if(n){let x=i+=m;n(x)}d.enqueue(new Uint8Array(p))}catch(h){throw c(h),h}},cancel(d){return c(d),r.return()}},{highWaterMark:2})},Ah=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",OS=Ah&&typeof ReadableStream=="function",t6=Ah&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),LS=(e,...t)=>{try{return!!e(...t)}catch{return!1}},n6=OS&&LS(()=>{let e=!1;const t=new Request(Qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),sv=64*1024,Lm=OS&&LS(()=>X.isReadableStream(new Response("").body)),ih={stream:Lm&&(e=>e.body)};Ah&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ih[t]&&(ih[t]=X.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new Oe(`Response type '${t}' is not supported`,Oe.ERR_NOT_SUPPORT,s)})})})(new Response);const s6=async e=>{if(e==null)return 0;if(X.isBlob(e))return e.size;if(X.isSpecCompliantForm(e))return(await new Request(Qt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(X.isArrayBufferView(e)||X.isArrayBuffer(e))return e.byteLength;if(X.isURLSearchParams(e)&&(e=e+""),X.isString(e))return(await t6(e)).byteLength},r6=async(e,t)=>{const n=X.toFiniteNumber(e.getContentLength());return n??s6(t)},i6=Ah&&(async e=>{let{url:t,method:n,data:s,signal:r,cancelToken:i,timeout:a,onDownloadProgress:c,onUploadProgress:d,responseType:h,headers:p,withCredentials:m="same-origin",fetchOptions:x}=DS(e);h=h?(h+"").toLowerCase():"text";let y=GP([r,i&&i.toAbortSignal()],a),v;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let S;try{if(d&&n6&&n!=="get"&&n!=="head"&&(S=await r6(p,s))!==0){let P=new Request(t,{method:"POST",body:s,duplex:"half"}),R;if(X.isFormData(s)&&(R=P.headers.get("content-type"))&&p.setContentType(R),P.body){const[V,I]=Jb(S,rh(ev(d)));s=nv(P.body,sv,V,I)}}X.isString(m)||(m=m?"include":"omit");const j="credentials"in Request.prototype;v=new Request(t,{...x,signal:y,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:s,duplex:"half",credentials:j?m:void 0});let N=await fetch(v,x);const T=Lm&&(h==="stream"||h==="response");if(Lm&&(c||T&&w)){const P={};["status","statusText","headers"].forEach(z=>{P[z]=N[z]});const R=X.toFiniteNumber(N.headers.get("content-length")),[V,I]=c&&Jb(R,rh(ev(c),!0))||[];N=new Response(nv(N.body,sv,V,()=>{I&&I(),w&&w()}),P)}h=h||"text";let A=await ih[X.findKey(ih,h)||"text"](N,e);return!T&&w&&w(),await new Promise((P,R)=>{AS(P,R,{data:A,headers:Nn.from(N.headers),status:N.status,statusText:N.statusText,config:e,request:v})})}catch(j){throw w&&w(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new Oe("Network Error",Oe.ERR_NETWORK,e,v),{cause:j.cause||j}):Oe.from(j,j&&j.code,e,v)}}),Im={http:vP,xhr:QP,fetch:i6};X.forEach(Im,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const rv=e=>`- ${e}`,o6=e=>X.isFunction(e)||e===null||e===!1,IS={getAdapter:e=>{e=X.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let i=0;i<t;i++){n=e[i];let a;if(s=n,!o6(n)&&(s=Im[(a=String(n)).toLowerCase()],s===void 0))throw new Oe(`Unknown adapter '${a}'`);if(s)break;r[a||"#"+i]=s}if(!s){const i=Object.entries(r).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(rv).join(`
`):" "+rv(i[0]):"as no adapter specified";throw new Oe("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:Im};function zp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new za(null,e)}function iv(e){return zp(e),e.headers=Nn.from(e.headers),e.data=Fp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),IS.getAdapter(e.adapter||Vc.adapter)(e).then(function(s){return zp(e),s.data=Fp.call(e,e.transformResponse,s),s.headers=Nn.from(s.headers),s},function(s){return MS(s)||(zp(e),s&&s.response&&(s.response.data=Fp.call(e,e.transformResponse,s.response),s.response.headers=Nn.from(s.response.headers))),Promise.reject(s)})}const FS="1.10.0",Rh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Rh[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const ov={};Rh.transitional=function(t,n,s){function r(i,a){return"[Axios v"+FS+"] Transitional option '"+i+"'"+a+(s?". "+s:"")}return(i,a,c)=>{if(t===!1)throw new Oe(r(a," has been removed"+(n?" in "+n:"")),Oe.ERR_DEPRECATED);return n&&!ov[a]&&(ov[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,c):!0}};Rh.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function a6(e,t,n){if(typeof e!="object")throw new Oe("options must be an object",Oe.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const i=s[r],a=t[i];if(a){const c=e[i],d=c===void 0||a(c,i,e);if(d!==!0)throw new Oe("option "+i+" must be "+d,Oe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Oe("Unknown option "+i,Oe.ERR_BAD_OPTION)}}const qd={assertOptions:a6,validators:Rh},Cs=qd.validators;let ao=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Gb,response:new Gb}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=po(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&qd.assertOptions(s,{silentJSONParsing:Cs.transitional(Cs.boolean),forcedJSONParsing:Cs.transitional(Cs.boolean),clarifyTimeoutError:Cs.transitional(Cs.boolean)},!1),r!=null&&(X.isFunction(r)?n.paramsSerializer={serialize:r}:qd.assertOptions(r,{encode:Cs.function,serialize:Cs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qd.assertOptions(n,{baseUrl:Cs.spelling("baseURL"),withXsrfToken:Cs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&X.merge(i.common,i[n.method]);i&&X.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Nn.concat(a,i);const c=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(d=d&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let p,m=0,x;if(!d){const v=[iv.bind(this),void 0];for(v.unshift.apply(v,c),v.push.apply(v,h),x=v.length,p=Promise.resolve(n);m<x;)p=p.then(v[m++],v[m++]);return p}x=c.length;let y=n;for(m=0;m<x;){const v=c[m++],w=c[m++];try{y=v(y)}catch(S){w.call(this,S);break}}try{p=iv.call(this,y)}catch(v){return Promise.reject(v)}for(m=0,x=h.length;m<x;)p=p.then(h[m++],h[m++]);return p}getUri(t){t=po(this.defaults,t);const n=RS(t.baseURL,t.url,t.allowAbsoluteUrls);return TS(n,t.params,t.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(t){ao.prototype[t]=function(n,s){return this.request(po(s||{},{method:t,url:n,data:(s||{}).data}))}});X.forEach(["post","put","patch"],function(t){function n(s){return function(i,a,c){return this.request(po(c||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}ao.prototype[t]=n(),ao.prototype[t+"Form"]=n(!0)});let l6=class zS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const a=new Promise(c=>{s.subscribe(c),i=c}).then(r);return a.cancel=function(){s.unsubscribe(i)},a},t(function(i,a,c){s.reason||(s.reason=new za(i,a,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new zS(function(r){t=r}),cancel:t}}};function c6(e){return function(n){return e.apply(null,n)}}function u6(e){return X.isObject(e)&&e.isAxiosError===!0}const Fm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fm).forEach(([e,t])=>{Fm[t]=e});function BS(e){const t=new ao(e),n=gS(ao.prototype.request,t);return X.extend(n,ao.prototype,t,{allOwnKeys:!0}),X.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return BS(po(e,r))},n}const xt=BS(Vc);xt.Axios=ao;xt.CanceledError=za;xt.CancelToken=l6;xt.isCancel=MS;xt.VERSION=FS;xt.toFormData=Mh;xt.AxiosError=Oe;xt.Cancel=xt.CanceledError;xt.all=function(t){return Promise.all(t)};xt.spread=c6;xt.isAxiosError=u6;xt.mergeConfig=po;xt.AxiosHeaders=Nn;xt.formToJSON=e=>PS(X.isHTMLForm(e)?new FormData(e):e);xt.getAdapter=IS.getAdapter;xt.HttpStatusCode=Fm;xt.default=xt;const{Axios:ZV,AxiosError:JV,CanceledError:e7,isCancel:t7,CancelToken:n7,VERSION:s7,all:r7,Cancel:i7,isAxiosError:o7,spread:a7,toFormData:l7,AxiosHeaders:c7,HttpStatusCode:u7,formToJSON:d7,getAdapter:h7,mergeConfig:f7}=xt;let VS="",zm=null;const Bm=e=>{VS=e},d6=()=>VS,h6=e=>{zm=e},f6=async()=>{if(zm)return await zm();try{const e=await xt.post("/api/auth/refresh",{},{withCredentials:!0}),{accessToken:t}=e.data;return Bm(t),t}catch(e){throw Bm(""),e}},ae=xt.create({baseURL:"/api",withCredentials:!0});ae.interceptors.request.use(e=>{const t=d6();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));let Bp=!1,Vm=[];const av=(e,t=null)=>{Vm.forEach(n=>{e?n.reject(e):n.resolve(t)}),Vm=[]};ae.interceptors.response.use(e=>e,async e=>{var n;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!t._retry&&!t.url.includes("/auth/refresh")){if(t._retry=!0,Bp)return new Promise((s,r)=>{Vm.push({resolve:i=>{t.headers.Authorization=`Bearer ${i}`,s(ae(t))},reject:i=>r(i)})});Bp=!0;try{const s=await f6();return av(null,s),t.headers.Authorization=`Bearer ${s}`,ae(t)}catch(s){return av(s,null),Promise.reject(s)}finally{Bp=!1}}return Promise.reject(e)});const $S=C.createContext(null),p6=({children:e})=>{const[t,n]=C.useState(null),[s,r]=C.useState(""),[i,a]=C.useState(!0);C.useEffect(()=>{Bm(s)},[s]),C.useEffect(()=>{h6(c)},[]),C.useEffect(()=>{(async()=>{try{const x=await ae.post("/auth/refresh",{},{withCredentials:!0}),{user:y,accessToken:v}=x.data;n(y),r(v)}catch{n(null),r("")}finally{a(!1)}})()},[]);const c=async()=>{const m=await ae.post("/auth/refresh",{},{withCredentials:!0});return r(m.data.accessToken),n(m.data.user),m.data.accessToken},d=async(m,x)=>{const y=await ae.post("/auth/login",{email:m,password:x},{withCredentials:!0});n(y.data.user),r(y.data.accessToken)},h=async m=>{const x=await ae.post("/auth/register",m,{withCredentials:!0});n(x.data.user),r(x.data.accessToken)},p=async()=>{try{await ae.post("/auth/logout",{},{withCredentials:!0})}catch{}finally{n(null),r("")}};return i?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:u.jsx("span",{className:"text-sm text-gray-400",children:"Checking session..."})}):u.jsx($S.Provider,{value:{user:t,accessToken:s,login:d,register:h,logout:p,loading:i,isAuthenticated:!!t},children:e})},ps=()=>{const e=C.useContext($S);if(!e)throw new Error("useAuth must be used inside <AuthProvider>");return e},m6=({email:e,setEmail:t,setStep:n})=>{const[s,r]=C.useState(""),[i,a]=C.useState(!1),c=async d=>{var h,p;d.preventDefault(),r(""),a(!0);try{(await ae.get(`/auth/check-email?email=${encodeURIComponent(e)}`)).data.exists?n("login"):n("register")}catch(m){r(((p=(h=m.response)==null?void 0:h.data)==null?void 0:p.message)||"Something went wrong checking the email.")}finally{a(!1)}};return u.jsxs("form",{onSubmit:c,className:"w-full bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Enter your email"}),u.jsx("input",{type:"email",value:e,required:!0,onChange:d=>t(d.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition",placeholder:"you@example.com"}),s&&u.jsx("p",{className:"text-red-500 text-sm",children:s}),u.jsx("button",{type:"submit",disabled:i,className:`w-full py-2 rounded-md font-medium transition ${i?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:i?"Checking...":"Continue"})]})},g6=({email:e,onSuccess:t,onSwitchToRegister:n,onForgotPassword:s})=>{const{login:r}=ps(),[i,a]=C.useState(""),[c,d]=C.useState(""),[h,p]=C.useState(!1),m=async x=>{var y,v;x.preventDefault(),d(""),p(!0);try{await r(e,i),t==null||t()}catch(w){d(((v=(y=w.response)==null?void 0:y.data)==null?void 0:v.message)||"Login failed")}finally{p(!1)}};return u.jsxs("form",{onSubmit:m,className:"space-y-4 bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Welcome back"}),u.jsx("p",{className:"text-sm text-gray-400 mb-2",children:e}),u.jsx("input",{type:"password",placeholder:"Enter your password",value:i,onChange:x=>a(x.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),c&&u.jsx("p",{className:"text-sm text-red-500",children:c}),u.jsx("button",{type:"submit",disabled:h,className:`w-full py-2 rounded-md font-medium transition ${h?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:h?"Logging in...":"Login"}),u.jsxs("div",{className:"flex flex-col gap-2 text-sm mt-2",children:[u.jsx("button",{type:"button",onClick:n,className:"text-blue-400 hover:text-blue-300 underline",children:"Not your account? Create a new one"}),u.jsx("button",{type:"button",onClick:s,className:"text-blue-400 hover:text-blue-300 underline",children:"Forgot your password?"})]})]})},x6=({email:e,onSuccess:t,onSwitchToLogin:n})=>{const[s,r]=C.useState({username:"",email:e||"",password:""}),[i,a]=C.useState(""),[c,d]=C.useState(""),[h,p]=C.useState(!1),m=y=>{r({...s,[y.target.name]:y.target.value})},x=async y=>{var v,w;y.preventDefault(),a(""),d(""),p(!0);try{const S=await ae.post("/auth/register",s);d(S.data.message),t==null||t()}catch(S){a(((w=(v=S.response)==null?void 0:v.data)==null?void 0:w.message)||"Registration failed")}finally{p(!1)}};return u.jsxs("form",{onSubmit:x,className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Create an account"}),u.jsx("p",{className:"text-sm text-gray-600",children:s.email}),u.jsx("input",{type:"text",name:"username",placeholder:"Username",value:s.username,onChange:m,className:"w-full p-2 border rounded",required:!0}),u.jsx("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:m,className:"w-full p-2 border rounded",required:!0}),u.jsx("input",{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:m,className:"w-full p-2 border rounded",required:!0}),c&&u.jsx("p",{className:"text-green-600 text-sm",children:c}),i&&u.jsx("p",{className:"text-red-500 text-sm",children:i}),u.jsx("button",{type:"submit",disabled:h,className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700",children:h?"Creating...":"Create Account"}),u.jsx("button",{type:"button",onClick:n,className:"text-sm text-blue-600 underline mt-2",children:"Already have an account? Login"})]})},y6=({onClose:e})=>{const t=zs(),[n]=zc(),s=n.get("token"),[r,i]=C.useState(""),[a,c]=C.useState(""),[d,h]=C.useState(""),[p,m]=C.useState(!1),[x,y]=C.useState(""),[v,w]=C.useState(""),S=async N=>{var T,A;N.preventDefault(),y(""),w(""),m(!0);try{await ae.post("/auth/reset-password",{email:r}),y("If this email exists, a reset link has been sent.")}catch(P){w(((A=(T=P.response)==null?void 0:T.data)==null?void 0:A.message)||"Failed to request reset.")}finally{m(!1)}},j=async N=>{var T,A;if(N.preventDefault(),y(""),w(""),a!==d)return w("Passwords do not match");m(!0);try{const P=await ae.post("/auth/reset",{token:s,newPassword:a});y(P.data.message),setTimeout(()=>{e(),t("/login")},2500)}catch(P){w(((A=(T=P.response)==null?void 0:T.data)==null?void 0:A.message)||"Reset failed")}finally{m(!1)}};return u.jsxs("form",{onSubmit:s?j:S,className:"space-y-4 bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg",children:[u.jsx("h2",{className:"text-xl font-bold mb-2",children:s?"Reset Password":"Forgot your password?"}),s?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"password",placeholder:"New Password",value:a,onChange:N=>c(N.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700",required:!0}),u.jsx("input",{type:"password",placeholder:"Confirm Password",value:d,onChange:N=>h(N.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700",required:!0})]}):u.jsx("input",{type:"email",placeholder:"Enter your email",value:r,onChange:N=>i(N.target.value),className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),x&&u.jsx("p",{className:"text-green-500 text-sm",children:x}),v&&u.jsx("p",{className:"text-red-500 text-sm",children:v}),u.jsx("button",{type:"submit",disabled:p,className:`w-full py-2 rounded-md font-medium text-white transition ${p?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:p?s?"Resetting...":"Sending...":s?"Reset Password":"Send Reset Link"})]})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),lv=e=>{const t=v6(e);return t.charAt(0).toUpperCase()+t.slice(1)},US=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),w6=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...c},d)=>C.createElement("svg",{ref:d,...S6,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:US("lucide",r),...!i&&!w6(c)&&{"aria-hidden":"true"},...c},[...a.map(([h,p])=>C.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(e,t)=>{const n=C.forwardRef(({className:s,...r},i)=>C.createElement(_6,{ref:i,iconNode:t,className:US(`lucide-${b6(lv(e))}`,`lucide-${e}`,s),...r}));return n.displayName=lv(e),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cv=Je("calendar",j6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],N6=Je("chart-no-axes-column-increasing",C6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],T6=Je("chevron-left",k6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],P6=Je("chevron-right",E6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Vp=Je("circle-alert",M6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],R6=Je("circle-check-big",A6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],O6=Je("circle-x",D6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],uv=Je("clipboard-check",L6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],F6=Je("file-text",I6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],$p=Je("heart",z6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],dv=Je("info",B6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$6=Je("layout-dashboard",V6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],H6=Je("menu",U6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],hv=Je("package",W6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],HS=Je("pencil",q6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],WS=Je("plus",Y6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],X6=Je("rotate-ccw",K6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],G6=Je("save",Q6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],J6=Je("shield-check",Z6);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Up=Je("shopping-cart",e4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],n4=Je("square-pen",t4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],fv=Je("trash-2",s4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],i4=Je("undo-2",r4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hp=Je("user",o4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],l4=Je("users",a4);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],n0=Je("x",c4),u4=({onClose:e})=>{const[t,n]=C.useState("check-email"),[s,r]=C.useState(""),i=zs(),a=()=>{e(),i("/")};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:u.jsxs("div",{className:"relative bg-neutral-900 text-white rounded-xl shadow-2xl w-full max-w-md px-6 py-8 animate-fade-in",children:[u.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-gray-400 hover:text-white transition","aria-label":"Close",children:u.jsx(n0,{size:20})}),t==="check-email"&&u.jsx(m6,{setStep:n,email:s,setEmail:r}),t==="login"&&u.jsx(g6,{email:s,onSuccess:a,onSwitchToRegister:()=>n("register"),onForgotPassword:()=>n("reset-password")}),t==="register"&&u.jsx(x6,{email:s,onSuccess:a,onSwitchToLogin:()=>n("login")}),t==="reset-password"&&u.jsx(y6,{onClose:e})]})})},pv=()=>{const{logout:e}=ps(),t=zs(),n=async()=>{try{await e(),t("/")}catch(s){console.error("Logout failed",s)}};return u.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors shadow-sm font-medium",children:"Logout"})},$c=()=>{const{user:e,loading:t}=ps(),[n,s]=C.useState(!1),[r,i]=C.useState(!1),a=[{label:"Home",path:"/"},{label:"Shop",path:"/shop"},{label:"Blog",path:"/blog"},{label:"Contact",path:"/contact"}],c=()=>{if(!e)return"/";switch(e.role){case"admin":return"/dashboard/admin";case"moderator":return"/dashboard/moderator";default:return"/dashboard/user"}};return t?null:u.jsxs("header",{className:"bg-[#0b1222] text-white shadow-md border-b border-[#1f2937]",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[u.jsx(us,{to:"/",className:"text-2xl font-bold tracking-tight text-white",children:"MyApp"}),u.jsx("div",{className:"hidden md:flex justify-center flex-1 relative",children:u.jsx("nav",{className:"absolute left-1/2 -translate-x-1/2 flex items-center space-x-6",children:a.map(d=>u.jsx(us,{to:d.path,className:"text-sm font-medium text-gray-300 hover:text-pink-400 transition-colors",children:d.label},d.path))})}),u.jsx("div",{className:"hidden md:flex items-center space-x-4",children:e?u.jsxs(u.Fragment,{children:[u.jsx(us,{to:c(),className:"bg-[#1c2433] hover:bg-[#2d3a50] text-sm px-4 py-2 rounded-full transition-colors",children:"Dashboard"}),u.jsx(pv,{})]}):u.jsx("button",{onClick:()=>s(!0),className:"bg-pink-600 hover:bg-pink-700 px-4 py-2 text-sm rounded-full text-white transition-colors",children:"Sign In"})}),u.jsx("button",{onClick:()=>i(!r),className:"md:hidden text-white",children:r?u.jsx(n0,{size:24}):u.jsx(H6,{size:24})})]}),r&&u.jsxs("div",{className:"md:hidden bg-[#0b1222] border-t border-[#1f2937] px-4 pb-4 space-y-2",children:[a.map(d=>u.jsx(us,{to:d.path,onClick:()=>i(!1),className:"block py-2 text-gray-300 hover:text-pink-400",children:d.label},d.path)),e?u.jsxs(u.Fragment,{children:[u.jsx(us,{to:c(),onClick:()=>i(!1),className:"block py-2 text-gray-300 hover:text-pink-400",children:"Dashboard"}),u.jsx(pv,{})]}):u.jsx("button",{onClick:()=>{s(!0),i(!1)},className:"mt-2 w-full bg-pink-600 hover:bg-pink-700 px-4 py-2 rounded-full text-white transition-colors",children:"Sign In"})]}),n&&u.jsx(u4,{onClose:()=>s(!1)})]})},d4=()=>u.jsxs("div",{className:"min-h-screen bg-neutral-950 text-gray-100",children:[u.jsx($c,{}),u.jsxs("main",{className:"max-w-md mx-auto py-12 px-6 text-center",children:[u.jsx("h1",{className:"text-3xl font-bold mb-4 text-white",children:"Welcome to Umbrella Auth"}),u.jsx("p",{className:"text-gray-400 mb-6",children:"Use the links below to test the password reset flow."}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(us,{to:"/reset-password",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition",children:" Request Password Reset"}),u.jsx(us,{to:"/reset-password/confirm?token=EXAMPLE",className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition",children:" Reset Password (with Token)"})]}),u.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"You can replace the token in the URL with a real one from your email."})]})]}),h4=()=>{const[e]=zc(),t=zs(),n=e.get("token"),[s,r]=C.useState(""),[i,a]=C.useState(""),[c,d]=C.useState(""),[h,p]=C.useState(""),[m,x]=C.useState(!1),y=async v=>{var w,S;if(v.preventDefault(),d(""),p(""),s!==i)return d("Passwords do not match");x(!0);try{const j=await ae.post("/auth/reset",{token:n,newPassword:s});p(j.data.message||"Password reset successful!"),setTimeout(()=>t("/login"),2500)}catch(j){console.error(" Reset error:",j.response||j.message),d(((S=(w=j.response)==null?void 0:w.data)==null?void 0:S.message)||"Something went wrong")}finally{x(!1)}};return u.jsx("div",{className:"flex justify-center items-center min-h-screen bg-neutral-950 px-4",children:u.jsxs("form",{onSubmit:y,className:"w-full max-w-md bg-neutral-900 text-gray-100 p-6 rounded-xl shadow-lg space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Reset Your Password"}),u.jsx("p",{className:"text-sm text-gray-400",children:"Enter your new password below to complete the reset."}),u.jsx("input",{type:"password",placeholder:"New Password",value:s,onChange:v=>r(v.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),u.jsx("input",{type:"password",placeholder:"Confirm New Password",value:i,onChange:v=>a(v.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-neutral-800 border border-gray-700 text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),c&&u.jsx("p",{className:"text-sm text-red-500",children:c}),h&&u.jsx("p",{className:"text-sm text-green-500",children:h}),u.jsx("button",{type:"submit",disabled:m,className:`w-full py-2 rounded-md font-medium transition ${m?"bg-blue-800 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:m?"Resetting...":"Reset Password"})]})})},f4=()=>{const{token:e}=Kg(),t=zs(),[n,s]=C.useState("Verifying email..."),[r,i]=C.useState(null);return C.useEffect(()=>{(async()=>{var c,d;try{const h=await ae.get(`/auth/verify-email/${e}`);s(h.data.message||"Email verified successfully."),setTimeout(()=>t("/"),2500)}catch(h){const p=((d=(c=h.response)==null?void 0:c.data)==null?void 0:d.message)||h.message||"Verification failed.";i(p),s("Email verification failed.")}})()},[e,t]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white font-sans px-4",children:u.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-semibold mb-4 text-teal-400",children:n}),r?u.jsx("p",{className:"text-red-400",children:r}):u.jsx("p",{className:"text-zinc-300",children:"You will be redirected to the login page shortly..."})]})})},p4=()=>{var x,y,v;const{slug:e}=Kg(),[t,n]=C.useState(null),[s,r]=C.useState(null),[i,a]=C.useState(""),[c,d]=C.useState(!0),[h,p]=C.useState("");if(C.useEffect(()=>{(async()=>{var S,j,N,T;try{const P=(await ae.get(`/products/slug/${e}`)).data,R=((S=P.variants)==null?void 0:S.filter(I=>I==null?void 0:I.variantId))||[];n(P),r(R[0]||null);const V=P.thumbnail||((j=P.images)==null?void 0:j[0])||"";a(V)}catch(A){p(((T=(N=A.response)==null?void 0:N.data)==null?void 0:T.message)||"Product not found")}finally{d(!1)}})()},[e]),c)return u.jsx("div",{className:"p-10 text-center text-gray-500 text-lg",children:"Loading..."});if(h)return u.jsx("div",{className:"p-10 text-center text-red-600 font-semibold",children:h});if(!t)return null;const m=w=>{const S=t.variants.find(j=>j.variantId===w);r(S),S!=null&&S.preview&&a(S.preview)};return u.jsxs(u.Fragment,{children:[u.jsx($c,{}),u.jsx("div",{className:"max-w-5xl mx-auto px-4 py-10",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-10",children:[u.jsxs("div",{className:"w-full md:w-1/2",children:[u.jsx("div",{className:"border rounded-lg bg-white p-2 shadow-sm",children:u.jsx("img",{src:i||"/placeholder.jpg",alt:t.title,className:"w-full h-[400px] object-contain rounded"})}),((x=t.images)==null?void 0:x.length)>1&&u.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto",children:t.images.map((w,S)=>u.jsx("img",{src:w,onClick:()=>a(w),className:`w-16 h-16 object-cover rounded cursor-pointer border-2 ${w===i?"border-blue-500":"border-transparent"}`,alt:`thumbnail-${S}`},S))})]}),u.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-between space-y-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:t.title}),u.jsxs("p",{className:"text-xl text-blue-600 font-semibold",children:["$",(s==null?void 0:s.retail_price)||((y=t.price)==null?void 0:y.toFixed(2))]}),u.jsx("p",{className:"mt-4 text-gray-600 text-sm leading-relaxed",children:t.description}),((v=t.variants)==null?void 0:v.length)>0&&u.jsxs("div",{className:"mt-6",children:[u.jsx("label",{htmlFor:"variant-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Choose Variant"}),u.jsx("select",{id:"variant-select",className:"w-full border rounded-md p-2 text-sm focus:ring focus:ring-blue-200",value:(s==null?void 0:s.variantId)||"",onChange:w=>m(w.target.value),children:t.variants.filter(w=>w.variantId&&w.size&&w.color).map(w=>{var S;return u.jsxs("option",{value:w.variantId,children:[w.size,"  ",w.color,"  $",(S=w.retail_price)==null?void 0:S.toFixed(2)]},w.variantId)})})]})]}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg text-lg font-medium hover:bg-blue-700 transition",disabled:!s,children:"Add to Cart (coming soon)"})})]})]})})]})},m4=()=>u.jsxs("div",{className:"text-center p-10",children:[u.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),u.jsx("p",{children:"You do not have permission to access this page."})]}),s0=({children:e,activeTab:t,setActiveTab:n})=>{const{user:s}=ps(),[r,i]=C.useState(!1),c={admin:[{key:"profile",label:"My Profile",icon:u.jsx(Hp,{size:18})},{key:"orders",label:"My Orders",icon:u.jsx(Up,{size:18})},{key:"wishlist",label:"Wishlist",icon:u.jsx($p,{size:18})},{key:"overview",label:"Overview",icon:u.jsx(N6,{size:18})},{key:"products",label:"Products",icon:u.jsx(hv,{size:18})},{key:"products-management",label:"Products Management",icon:u.jsx(hv,{size:18})},{key:"users",label:"Manage Users",icon:u.jsx(l4,{size:18})},{key:"blog",label:"Blog Management",icon:u.jsx(HS,{size:18})},{key:"invoices",label:"Invoices",icon:u.jsx(F6,{size:18})},{key:"complaints",label:"Complaints",icon:u.jsx(Vp,{size:18})},{key:"calendar",label:"Calendars",icon:u.jsx(cv,{size:18})},{key:"todos",label:"To Dos",icon:u.jsx(uv,{size:18})}],moderator:[{key:"profile",label:"My Profile",icon:u.jsx(Hp,{size:18})},{key:"orders",label:"My Orders",icon:u.jsx(Up,{size:18})},{key:"wishlist",label:"Wishlist",icon:u.jsx($p,{size:18})},{key:"panel",label:"Moderation Panel",icon:u.jsx(J6,{size:18})},{key:"complaints",label:"Complaints",icon:u.jsx(Vp,{size:18})},{key:"todos",label:"To Dos",icon:u.jsx(uv,{size:18})},{key:"calendar",label:"Calendars",icon:u.jsx(cv,{size:18})}],user:[{key:"profile",label:"My Profile",icon:u.jsx(Hp,{size:18})},{key:"orders",label:"My Orders",icon:u.jsx(Up,{size:18})},{key:"wishlist",label:"Wishlist",icon:u.jsx($p,{size:18})},{key:"raise-complaint",label:"Raise Complaint",icon:u.jsx(Vp,{size:18})}]}[s==null?void 0:s.role]||[];return u.jsxs("div",{className:"flex flex-1 min-h-0 bg-[#0f172a] text-white",children:[u.jsxs("aside",{className:`relative flex flex-col transition-all duration-300 ease-in-out ${r?"w-[80px]":"w-64"} bg-[#0f172a] border-r border-gray-800`,children:[u.jsx("div",{className:"absolute top-5 right-[-12px] z-30",children:u.jsx("button",{onClick:()=>i(!r),className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-full ring-1 ring-slate-600 hover:ring-blue-400",children:r?u.jsx(P6,{size:18}):u.jsx(T6,{size:18})})}),u.jsxs("div",{className:"px-4 py-5 border-b border-slate-700 flex items-center",children:[u.jsx($6,{size:20,className:"text-slate-300"}),u.jsx("h2",{className:`ml-2 text-xl font-bold transition-all origin-left ${r?"opacity-0 scale-90 w-0":"opacity-100 scale-100"}`,children:"Dashboard"})]}),u.jsx("nav",{className:"mt-4 space-y-1 px-2 flex-1",children:c.map(d=>u.jsxs("button",{onClick:()=>n(d.key),className:`flex items-center w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors ${t===d.key?"bg-slate-800 text-white font-semibold":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[u.jsx("span",{className:"mr-3",children:d.icon}),u.jsx("span",{className:`transition-all origin-left duration-300 ${r?"opacity-0 scale-90 w-0":"opacity-100 scale-100"}`,children:d.label})]},d.key))})]}),u.jsx("main",{className:"flex-1 flex flex-col overflow-hidden bg-[#0f172a]",children:u.jsx("div",{className:"flex-1 flex flex-col overflow-y-auto",children:e})})]})},r0=({user:e,refreshUser:t})=>{const[n,s]=C.useState({}),[r,i]=C.useState(""),[a,c]=C.useState(!1);C.useEffect(()=>{e&&s({...e})},[e]);const d=m=>{const{name:x,value:y}=m.target;s(v=>({...v,[x]:y}))},h=async m=>{var x,y;m.preventDefault(),i(""),c(!0);try{const{data:v}=await ae.put("/users/me",n);i(" Profile updated successfully!"),t==null||t()}catch(v){const w=((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.message)||" Failed to update profile.";i(w)}finally{c(!1)}},p=m=>u.jsx("input",{...m,className:"w-full px-4 py-2 rounded-md bg-[#1e2633] text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"});return u.jsx("div",{className:"flex justify-center items-start px-2 py-6 bg-[#131a25]",children:u.jsxs("form",{onSubmit:h,className:"w-full max-w-5xl bg-[#1b2431] p-6 rounded-2xl shadow-xl border border-gray-700 text-white",style:{minHeight:0,maxHeight:"calc(100vh - 5rem)",overflowY:"auto"},children:[u.jsxs("div",{className:"flex items-center gap-5 mb-8",children:[u.jsx("img",{src:n.profileImage||"https://example.com/default-avatar.png",alt:"Profile Avatar",className:"w-16 h-16 rounded-full border-2 border-blue-500 shadow"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Edit Your Profile"}),u.jsxs("p",{className:"text-xs text-gray-300 font-medium",children:["Level: ",n.level||1]}),n.badge&&u.jsxs("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-blue-600 text-white rounded-full shadow-sm",children:["Badge: ",n.badge]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"flex flex-col gap-8",children:[u.jsxs("fieldset",{className:"border border-gray-600 p-4 rounded-lg flex-1 min-h-[232px]",children:[u.jsx("legend",{className:"font-semibold text-base px-2",children:"Identity Info"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[p({name:"username",value:n.username||"",onChange:d,placeholder:"Username"}),p({name:"firstName",value:n.firstName||"",onChange:d,placeholder:"First Name"}),p({name:"middleName",value:n.middleName||"",onChange:d,placeholder:"Middle Name"}),p({name:"lastName",value:n.lastName||"",onChange:d,placeholder:"Last Name"}),u.jsx("div",{}),u.jsx("div",{}),u.jsx("textarea",{name:"bio",value:n.bio||"",onChange:d,placeholder:"Bio",rows:2,className:"col-span-3 w-full px-3 py-1.5 rounded-md bg-[#1e2633] text-white border border-gray-600 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),u.jsxs("fieldset",{className:"border border-gray-600 p-4 rounded-lg flex-1 min-h-[232px]",children:[u.jsx("legend",{className:"font-semibold text-base px-2",children:"Permanent Address"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[p({name:"continent",value:n.continent||"",onChange:d,placeholder:"Continent"}),p({name:"country",value:n.country||"",onChange:d,placeholder:"Country"}),p({name:"region",value:n.region||"",onChange:d,placeholder:"Region"}),p({name:"city",value:n.city||"",onChange:d,placeholder:"City"}),p({name:"postalCode",value:n.postalCode||"",onChange:d,placeholder:"Postal Code"}),p({name:"streetAddress",value:n.streetAddress||"",onChange:d,placeholder:"Street Address"}),p({name:"apartment",value:n.apartment||"",onChange:d,placeholder:"Apartment/Suite",className:"col-span-3"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-8",children:[u.jsxs("fieldset",{className:"border border-gray-600 p-4 rounded-lg flex-1 min-h-[232px]",children:[u.jsx("legend",{className:"font-semibold text-base px-2",children:"Contact Info"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[p({name:"email",value:n.email||"",onChange:d,placeholder:"Email"}),p({name:"secondaryEmail",value:n.secondaryEmail||"",onChange:d,placeholder:"Secondary Email"}),p({name:"phone",value:n.phone||"",onChange:d,placeholder:"Phone"}),p({name:"secondaryPhone",value:n.secondaryPhone||"",onChange:d,placeholder:"Secondary Phone"}),u.jsx("div",{}),u.jsx("div",{})]})]}),u.jsxs("fieldset",{className:"border border-gray-600 p-4 rounded-lg flex-1 min-h-[232px]",children:[u.jsx("legend",{className:"font-semibold text-base px-2",children:"Delivery Address"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[p({name:"deliveryFirstName",value:n.deliveryFirstName||"",onChange:d,placeholder:"First Name"}),p({name:"deliveryMiddleName",value:n.deliveryMiddleName||"",onChange:d,placeholder:"Middle Name"}),p({name:"deliveryLastName",value:n.deliveryLastName||"",onChange:d,placeholder:"Last Name"}),p({name:"deliveryPhone",value:n.deliveryPhone||"",onChange:d,placeholder:"Phone"}),p({name:"deliveryEmail",value:n.deliveryEmail||"",onChange:d,placeholder:"Email"}),p({name:"deliveryAddressLine1",value:n.deliveryAddressLine1||"",onChange:d,placeholder:"Address Line 1"}),p({name:"deliveryAddressLine2",value:n.deliveryAddressLine2||"",onChange:d,placeholder:"Address Line 2"}),p({name:"deliveryCity",value:n.deliveryCity||"",onChange:d,placeholder:"City"}),p({name:"deliveryState",value:n.deliveryState||"",onChange:d,placeholder:"State"}),p({name:"deliveryPostalCode",value:n.deliveryPostalCode||"",onChange:d,placeholder:"Postal Code"}),p({name:"deliveryCountryCode",value:n.deliveryCountryCode||"",onChange:d,placeholder:"Country Code",className:"col-span-3"})]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-4 mt-8",children:[u.jsx("button",{type:"submit",disabled:a,className:`px-5 py-2 font-semibold rounded-md text-white transition duration-200 ${a?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:a?"Saving...":"Save Changes"}),r&&u.jsx("span",{className:`text-sm font-medium ${r.startsWith("")?"text-green-500":"text-red-500"}`,children:r})]})]})})},g4=()=>{const[e,t]=C.useState([]),[n,s]=C.useState(!0),[r,i]=C.useState(""),[a,c]=C.useState(null),[d,h]=C.useState({}),[p,m]=C.useState(!1);C.useEffect(()=>{x()},[]);const x=async()=>{var S,j;try{const N=await ae.get("/admin/users");t(N.data)}catch(N){i("Failed to load users",((j=(S=N.response)==null?void 0:S.data)==null?void 0:j.message)||"Unknown error")}finally{s(!1)}},y=S=>{c(S),h({...S})},v=S=>{const{name:j,value:N}=S.target;h(T=>({...T,[j]:N}))},w=async()=>{var S,j;m(!0);try{const N=await ae.put(`/admin/users/${a._id}`,d);t(T=>T.map(A=>A._id===a._id?N.data.user:A)),c(null)}catch(N){alert(" Failed to update user",((j=(S=N.response)==null?void 0:S.data)==null?void 0:j.message)||"Unknown error")}finally{m(!1)}};return u.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-8 border border-gray-700 text-white",children:[u.jsx("h2",{className:"text-2xl font-bold flex items-center gap-2",children:" User Management"}),n?u.jsx("p",{className:"text-gray-300",children:"Loading users..."}):r?u.jsx("p",{className:"text-red-500",children:r}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-sm bg-[#1b2431] rounded-md",children:[u.jsx("thead",{className:"bg-[#2a3444] text-gray-300",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left",children:"Username"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Role"}),u.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"})]})}),u.jsx("tbody",{children:e.map(S=>u.jsxs("tr",{className:"border-t border-gray-600",children:[u.jsx("td",{className:"px-4 py-2",children:S.username}),u.jsx("td",{className:"px-4 py-2",children:S.email}),u.jsx("td",{className:"px-4 py-2 capitalize",children:S.role}),u.jsx("td",{className:"px-4 py-2",children:u.jsxs("button",{className:"inline-flex items-center gap-1 px-3 py-1 rounded bg-blue-600 hover:bg-blue-700 text-white text-sm",onClick:()=>y(S),children:[u.jsx(HS,{size:16})," Edit"]})})]},S._id))})]})}),a&&u.jsxs("div",{className:"bg-[#1b2431] p-6 border border-gray-600 rounded-lg shadow-md",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Edit: ",a.username]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("input",{name:"username",value:d.username||"",onChange:v,placeholder:"Username",className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none"}),u.jsx("input",{name:"email",value:d.email||"",onChange:v,placeholder:"Email",className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none"}),u.jsxs("select",{name:"role",value:d.role||"user",onChange:v,className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none",children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"moderator",children:"Moderator"}),u.jsx("option",{value:"admin",children:"Admin"})]}),u.jsxs("select",{name:"badge",value:d.badge||"None",onChange:v,className:"px-4 py-2 rounded-md bg-[#2a3444] border border-gray-600 focus:outline-none",children:[u.jsx("option",{children:"None"}),u.jsx("option",{children:"Bronze"}),u.jsx("option",{children:"Silver"}),u.jsx("option",{children:"Gold"}),u.jsx("option",{children:"VIP"}),u.jsx("option",{children:"Loyalist"}),u.jsx("option",{children:"Supporter"}),u.jsx("option",{children:"Beta Tester"}),u.jsx("option",{children:"Top Reviewer"})]})]}),u.jsxs("div",{className:"mt-6 flex gap-4",children:[u.jsxs("button",{onClick:w,disabled:p,className:"inline-flex items-center gap-1 px-4 py-2 rounded-md bg-green-600 hover:bg-green-700 text-white disabled:opacity-50",children:[u.jsx(G6,{size:16})," ",p?"Saving...":"Save Changes"]}),u.jsxs("button",{onClick:()=>c(null),className:"inline-flex items-center gap-1 px-4 py-2 rounded-md bg-gray-600 hover:bg-gray-500 text-white",children:[u.jsx(n0,{size:16})," Cancel"]})]})]})]})},x4=({product:e,onDelete:t})=>{const{_id:n,title:s,finalPrice:r,imageUrl:i,variants:a,slug:c,source:d,isPublished:h,isFeatured:p,category:m,brand:x,stock:y,discountPercentage:v}=e;return u.jsxs("div",{className:"rounded-xl overflow-hidden border bg-white shadow-sm hover:shadow-md transition duration-200",children:[u.jsx(us,{to:`/product/${c}`,className:"block",children:u.jsx("img",{src:i||"/placeholder.jpg",alt:s,className:"w-full h-48 object-contain bg-gray-50",loading:"lazy"})}),u.jsxs("div",{className:"p-4 space-y-1",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 truncate",children:s}),u.jsxs("p",{className:"text-sm text-gray-700",children:["",r==null?void 0:r.toFixed(2)," ",v>0&&u.jsxs("span",{className:"text-xs text-red-500",children:["(",v,"% OFF)"]})]}),u.jsxs("p",{className:"text-xs text-gray-500",children:[(m==null?void 0:m.name)||"No Category"," | ",(x==null?void 0:x.name)||"No Brand"]}),u.jsxs("div",{className:"flex gap-2 mt-1 text-xs",children:[h&&u.jsx("span",{className:"px-2 py-0.5 rounded bg-green-600 text-white",children:"Published"}),p&&u.jsx("span",{className:"px-2 py-0.5 rounded bg-yellow-400 text-black",children:"Featured"}),!h&&!p&&u.jsx("span",{className:"px-2 py-0.5 rounded bg-gray-400 text-white",children:"Draft"})]}),u.jsxs("p",{className:"text-xs text-gray-400",children:[(a==null?void 0:a.length)||0," variant",(a==null?void 0:a.length)!==1?"s":""," |"," ",y??0," in stock"]}),u.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[u.jsx(us,{to:`/product/${c}`,className:"flex-1 text-center bg-blue-600 text-white px-3 py-1 text-sm rounded hover:bg-blue-700 transition",children:"View"}),u.jsx("button",{className:"flex-1 text-center bg-yellow-400 text-white px-3 py-1 text-sm rounded hover:bg-yellow-500 transition",disabled:!0,children:"Edit"}),u.jsx("button",{onClick:()=>t&&t(n),className:`flex-1 text-center text-white px-3 py-1 text-sm rounded transition ${d==="printful"?"bg-gray-300 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,disabled:d==="printful",children:"Delete"})]})]})]})},y4=({isOpen:e,onClose:t,onSuccess:n,editProduct:s})=>{var N;const[r,i]=C.useState({title:"",slug:"",category:"",description:"",price:"",images:[],thumbnail:"",variants:[],quantity:0,published:!1,lowStockThreshold:3}),[a,c]=C.useState({size:"",color:"",retail_price:"",quantity:0,previewFile:null,previewUrl:""}),[d,h]=C.useState(!1),[p,m]=C.useState(!1),[x,y]=C.useState("");if(C.useEffect(()=>{s&&i({...s,price:s.price||"",quantity:s.quantity||0,lowStockThreshold:s.lowStockThreshold||3})},[s]),!e)return null;const v=async T=>{const A=T.target.files[0];if(A){m(!0);try{const P=new FormData;P.append("file",A);const V=(await ae.post("/upload/cloudinary",P)).data.secure_url;i(I=>({...I,images:[...I.images,V],thumbnail:I.images.length===0?V:I.thumbnail}))}catch(P){console.error("Image upload failed",P),y("Image upload failed")}finally{m(!1)}}},w=async T=>{const A=new FormData;return A.append("file",T),(await ae.post("/upload/cloudinary",A)).data.secure_url},S=async()=>{if(!(!a.size||!a.color||!a.retail_price)){m(!0);try{let T=a.previewUrl;a.previewFile&&(T=await w(a.previewFile)),i(A=>{const P=T&&!A.images.includes(T)?[...A.images,T]:[...A.images];return{...A,variants:[...A.variants,{size:a.size,color:a.color,retail_price:a.retail_price,quantity:parseInt(a.quantity)||0,preview:T,variantId:crypto.randomUUID()}],images:P}}),c({size:"",color:"",retail_price:"",quantity:0,previewFile:null,previewUrl:""})}catch(T){console.error("Failed to upload variant image",T),y("Failed to upload variant image")}finally{m(!1)}}},j=async T=>{var A,P;T.preventDefault(),h(!0),y("");try{const R={...r,price:parseFloat(r.price),quantity:parseInt(r.quantity),lowStockThreshold:parseInt(r.lowStockThreshold),variants:r.variants.map(V=>({...V,retail_price:parseFloat(V.retail_price),quantity:parseInt(V.quantity)||0})),imageUrl:r.thumbnail,source:"manual"};s?await ae.put(`/products/${s._id}`,R):await ae.post("/products",R),n(),t()}catch(R){y(((P=(A=R.response)==null?void 0:A.data)==null?void 0:P.message)||"Failed to save product.")}finally{h(!1)}};return u.jsx("div",{className:"fixed inset-0 backdrop-blur-md bg-black/60 z-50 flex items-center justify-center",children:u.jsxs("div",{className:"bg-[#1a1a1a] text-white p-6 w-full max-w-3xl rounded-xl shadow-lg space-y-6 relative",children:[u.jsx("button",{onClick:t,className:"absolute top-3 right-4 text-2xl font-bold text-gray-400 hover:text-red-500",children:""}),u.jsx("h2",{className:"text-2xl font-semibold",children:" Upload Manual Product"}),x&&u.jsx("p",{className:"text-red-400 text-sm",children:x}),u.jsxs("form",{onSubmit:j,className:"space-y-5",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Title",value:r.title,onChange:T=>i({...r,title:T.target.value,slug:T.target.value.toLowerCase().replace(/\s+/g,"-")})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Category",value:r.category,onChange:T=>i({...r,category:T.target.value})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Base Price",type:"number",value:r.price,onChange:T=>i({...r,price:T.target.value})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Quantity",type:"number",min:0,value:r.quantity,onChange:T=>i({...r,quantity:T.target.value})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Low Stock Threshold",type:"number",min:1,value:r.lowStockThreshold,onChange:T=>i({...r,lowStockThreshold:T.target.value})})]}),u.jsx("textarea",{className:"w-full bg-black border border-gray-600 p-2 rounded",placeholder:"Description",rows:3,value:r.description,onChange:T=>i({...r,description:T.target.value})}),u.jsxs("label",{className:"inline-flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:r.published,onChange:T=>i({...r,published:T.target.checked})}),u.jsx("span",{className:"text-sm",children:"Publish immediately"})]}),u.jsxs("div",{className:"bg-[#2a2a2a] p-4 rounded space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:" Product Images"}),u.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"block w-full text-sm text-white file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700",disabled:p}),p&&u.jsx("p",{className:"text-sm text-blue-400",children:"Uploading..."}),r.images.length>0&&u.jsx("div",{className:"flex flex-wrap gap-3",children:r.images.map((T,A)=>u.jsxs("label",{className:"flex flex-col items-center gap-1",children:[u.jsx("input",{type:"radio",name:"thumbnail",checked:r.thumbnail===T,onChange:()=>i({...r,thumbnail:T})}),u.jsx("img",{src:T,alt:`thumb-${A}`,className:"w-14 h-14 rounded object-cover border border-gray-500"})]},A))})]}),u.jsxs("div",{className:"bg-[#2a2a2a] p-4 rounded space-y-3",children:[u.jsx("h3",{className:"font-semibold",children:" Add Variant"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Size",value:a.size,onChange:T=>c({...a,size:T.target.value})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Color",value:a.color,onChange:T=>c({...a,color:T.target.value})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Retail Price",type:"number",value:a.retail_price,onChange:T=>c({...a,retail_price:T.target.value})}),u.jsx("input",{className:"bg-black border border-gray-600 p-2 rounded",placeholder:"Quantity",type:"number",value:a.quantity,onChange:T=>c({...a,quantity:T.target.value})}),u.jsx("input",{type:"file",accept:"image/*",onChange:T=>c({...a,previewFile:T.target.files[0]}),className:"text-white text-sm"}),u.jsx("div",{className:"text-xs text-gray-400 self-center truncate",children:((N=a.previewFile)==null?void 0:N.name)||"No file chosen"})]}),u.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 mt-2 bg-blue-700 hover:bg-blue-800 text-white rounded",disabled:p,children:"Add Variant"})]}),u.jsx("button",{type:"submit",className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg",disabled:d,children:d?"Saving...":s?"Update Product":"Create Product"})]})]})})},b4=()=>{const[e,t]=C.useState([]),[n,s]=C.useState(!0),[r,i]=C.useState(!1),[a,c]=C.useState(""),[d,h]=C.useState(""),[p,m]=C.useState(1),[x,y]=C.useState(1),[v,w]=C.useState(!1),S=8,j=async()=>{var T,A;s(!0);try{const P=await ae.get("/products",{params:{page:p,limit:S,search:d,showAll:!0,isPublished:!0}});t(P.data.products||[]),y(P.data.pages||1)}catch(P){c(((A=(T=P.response)==null?void 0:T.data)==null?void 0:A.message)||" Failed to fetch products")}finally{s(!1)}},N=async()=>{var T,A;if(confirm("Syncing will pull all products from Printful. Proceed?")){i(!0);try{await ae.post("/admin/products/sync"),await j(),alert(" Synced Printful products successfully")}catch(P){alert(" Sync failed: "+(((A=(T=P.response)==null?void 0:T.data)==null?void 0:A.message)||P.message))}finally{i(!1)}}};return C.useEffect(()=>{j()},[p,d]),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[u.jsx("h2",{className:"text-3xl font-bold text-black",children:"Product Management"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:N,disabled:r,className:`px-4 py-2 rounded text-white font-medium ${r?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:r?"Syncing...":"Sync from Printful"}),u.jsx("button",{onClick:()=>w(!0),className:"px-4 py-2 rounded text-white bg-gray-600 hover:bg-gray-700",children:"Upload Manual Product"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsx("input",{type:"text",placeholder:"Search products...",value:d,onChange:T=>{h(T.target.value),m(1)},className:"w-full md:w-1/3 px-3 py-2 border border-gray-300 rounded"}),d&&u.jsx("button",{onClick:()=>h(""),className:"text-sm text-blue-600 hover:underline",children:"Reset"})]}),n?u.jsx("p",{children:"Loading products..."}):a?u.jsx("p",{className:"text-red-500",children:a}):u.jsxs(u.Fragment,{children:[e.length===0?u.jsx("p",{children:"No products found."}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(T=>u.jsx(x4,{product:T},T._id))}),x>1&&u.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:Array.from({length:x}).map((T,A)=>u.jsx("button",{onClick:()=>m(A+1),className:`px-3 py-1 rounded border text-sm ${p===A+1?"bg-blue-600 text-white":"bg-white hover:bg-gray-100"}`,children:A+1},A))})]}),v&&u.jsx(y4,{isOpen:v,onClose:()=>w(!1),onSuccess:()=>{j(),w(!1)}})]})};function v4(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}v4(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var i0=e=>typeof e=="number"&&!isNaN(e),gc=e=>typeof e=="string",qS=e=>typeof e=="function",w4=e=>gc(e)||i0(e),S4=e=>C.isValidElement(e)||gc(e)||qS(e)||i0(e),_4=1,YS=()=>`${_4++}`,Ds=new Map,$m=[],mv=new Set,KS=()=>Ds.size>0,j4=(e,{containerId:t})=>{var n;return(n=Ds.get(t||1))==null?void 0:n.toasts.get(e)};function C4(e,t){var n;if(t)return!!((n=Ds.get(t))!=null&&n.isToastActive(e));let s=!1;return Ds.forEach(r=>{r.isToastActive(e)&&(s=!0)}),s}function N4(e){if(!KS()){$m=$m.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||w4(e))Ds.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ds.get(e.containerId);t?t.removeToast(e.id):Ds.forEach(n=>{n.removeToast(e.id)})}}var k4=(e={})=>{Ds.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function T4(e,t){S4(e)&&(KS()||$m.push({content:e,options:t}),Ds.forEach(n=>{n.buildToast(e,t)}))}function XS(e,t){Ds.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function E4(e){return mv.add(e),()=>{mv.delete(e)}}function P4(e){return e&&(gc(e.toastId)||i0(e.toastId))?e.toastId:YS()}function Uc(e,t){return T4(e,t),t.toastId}function Dh(e,t){return{...t,type:t&&t.type||e,toastId:P4(t)}}function Oh(e){return(t,n)=>Uc(t,Dh(e,n))}function Ke(e,t){return Uc(e,Dh("default",t))}Ke.loading=(e,t)=>Uc(e,Dh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function M4(e,{pending:t,error:n,success:s},r){let i;t&&(i=gc(t)?Ke.loading(t,r):Ke.loading(t.render,{...r,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(h,p,m)=>{if(p==null){Ke.dismiss(i);return}let x={type:h,...a,...r,data:m},y=gc(p)?{render:p}:p;return i?Ke.update(i,{...x,...y}):Ke(y.render,{...x,...y}),m},d=qS(e)?e():e;return d.then(h=>c("success",s,h)).catch(h=>c("error",n,h)),d}Ke.promise=M4;Ke.success=Oh("success");Ke.info=Oh("info");Ke.error=Oh("error");Ke.warning=Oh("warning");Ke.warn=Ke.warning;Ke.dark=(e,t)=>Uc(e,Dh("default",{theme:"dark",...t}));function A4(e){N4(e)}Ke.dismiss=A4;Ke.clearWaitingQueue=k4;Ke.isActive=C4;Ke.update=(e,t={})=>{let n=j4(e,t);if(n){let{props:s,content:r}=n,i={delay:100,...s,...t,toastId:t.toastId||e,updateId:YS()};i.toastId!==e&&(i.staleId=e);let a=i.render||r;delete i.render,Uc(a,i)}};Ke.done=e=>{Ke.update(e,{progress:1})};Ke.onChange=E4;Ke.play=e=>XS(!0,e);Ke.pause=e=>XS(!1,e);const Fl=({label:e,name:t,value:n,onChange:s,placeholder:r,type:i="text",error:a})=>{const c=`w-full px-3 py-2 text-sm rounded-md bg-[#1e2633] text-white border ${a?"border-red-500":"border-gray-600"} focus:outline-none focus:ring-2 focus:ring-blue-500`;return u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{htmlFor:t,className:"text-sm text-gray-300 font-medium",children:e}),u.jsx("input",{id:t,type:i,name:t,value:n,onChange:s,placeholder:r,className:`${c} [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none`,inputMode:i==="number"?"decimal":void 0}),a&&u.jsx("p",{className:"text-xs text-red-500 mt-1",children:a})]})},hd=({label:e,name:t,options:n,value:s,onChange:r,error:i,defaultOption:a="Select an option"})=>{const[c,d]=C.useState(!1),h=C.useRef(null),p=n.find(x=>x._id===s);C.useEffect(()=>{const x=y=>{h.current&&!h.current.contains(y.target)&&d(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const m=x=>{r({target:{name:t,value:x._id}}),d(!1)};return u.jsxs("div",{className:"mb-4 relative",ref:h,children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-300",children:e}),u.jsxs("button",{type:"button",onClick:()=>d(!c),className:`w-full text-left px-4 py-2.5 pr-10 rounded-md text-sm
        bg-[#2a3142] text-white border relative
        ${i?"border-red-500":"border-gray-600"}
        focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[p?p.name:a,u.jsx("span",{className:"absolute right-3 top-3 pointer-events-none",children:u.jsx("svg",{className:`w-4 h-4 transform transition-transform duration-300 ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]}),u.jsx("ul",{className:`absolute z-10 mt-1 w-full bg-[#2a3142] text-white border border-gray-600 rounded-md shadow-lg max-h-60 overflow-hidden
        transition-all duration-395 origin-top
        ${c?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}`,children:n.map((x,y)=>u.jsx("li",{onClick:()=>m(x),className:`px-4 py-2 cursor-pointer hover:bg-blue-600 text-white
  transform transition-all duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)]
  ${c?"opacity-100 rotate-0 translate-y-0":"opacity-0 rotate-6 translate-y-6"}`,style:{transitionDelay:c?`${y*60}ms`:"0ms"},children:x.name},x._id))}),i&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:i})]})},Wp={title:"",description:"",basePrice:"",salePrice:"",discountPercentage:"",stock:"",category:"",subcategory:"",brand:"",images:[],thumbnail:"",variants:[{variantCategory:"",value:""}],isPublished:!1,isFeatured:!1,editReason:""},QS=({onSuccess:e,initialData:t=null})=>{var V,I;const[n,s]=C.useState(Wp),[r,i]=C.useState({}),[a,c]=C.useState([]),[d,h]=C.useState([]),[p,m]=C.useState([]);C.useEffect(()=>{var z,U,J,se;s(t?{...Wp,...t,editReason:"",category:((z=t.category)==null?void 0:z._id)||t.category,brand:((U=t.brand)==null?void 0:U._id)||t.brand,subcategory:((J=t.subcategory)==null?void 0:J.slug)||"",variants:(se=t.variants)!=null&&se.length?t.variants.map(de=>{var G;return{variantCategory:((G=de.variantCategory)==null?void 0:G._id)||de.variantCategory||"",value:de.value||"",preview:de.previewImage||""}}):[{variantCategory:"",value:""}]}:Wp),i({})},[t]),C.useEffect(()=>{(async()=>{var U,J;try{const[se,de,G]=await Promise.all([ae.get("/admin/categories"),ae.get("/admin/brands"),ae.get("/admin/variant-categories")]);c(se.data.categories||[]),h(de.data.brands||[]),m(G.data.categories||[])}catch(se){Ke.error(((J=(U=se.response)==null?void 0:U.data)==null?void 0:J.message)||"Failed to load form data.")}})()},[]);const x=z=>{const{name:U,value:J,type:se,checked:de}=z.target;if(se==="checkbox"){if(U==="isPublished"||U==="isFeatured"){const G=U==="isPublished"?"isFeatured":"isPublished";s(he=>({...he,[U]:de,[G]:de?!1:he[G]}));return}s(G=>({...G,[U]:de}))}else s(G=>({...G,[U]:J}))},y=(z,U,J)=>{const se=[...n.variants];se[z][U]=J,s(de=>({...de,variants:se}))},v=()=>{s(z=>({...z,variants:[...z.variants,{variantCategory:"",value:""}]}))},w=z=>{s(U=>({...U,thumbnail:z}))},S=async z=>{var J,se,de;if(!z.length)return;const U=[];try{for(const G of z){const he=new FormData;he.append("images",G);const ee=await ae.post("/upload/product-images",he);if((se=(J=ee.data)==null?void 0:J.uploaded)!=null&&se[0])U.push(ee.data.uploaded[0]);else throw new Error("No URL returned.")}s(G=>({...G,images:[...G.images,...U],thumbnail:G.thumbnail||U[0]}))}catch(G){Ke.error("Image upload failed."),console.error(((de=G.response)==null?void 0:de.data)||G.message)}},j=z=>{z.preventDefault(),S(Array.from(z.dataTransfer.files))},N=z=>{S(Array.from(z.target.files))},T=async(z,U)=>{try{const J=new FormData;J.append("image",U);const de=(await ae.post("/upload/variant-preview",J)).data.uploaded;s(G=>{const he=[...G.variants];return he[z].preview=de,{...G,variants:he}})}catch(J){Ke.error("Variant image upload failed."),console.error(J)}},[A,P]=C.useState(!1),R=async z=>{var J,se,de,G,he,ee,Z;if(z.preventDefault(),A)return;P(!0),i({});const U=!!(t!=null&&t._id);try{const K=a.find(ce=>ce._id===n.category),te=(J=K==null?void 0:K.subcategories)==null?void 0:J.find(ce=>ce.slug===n.subcategory);if(U&&!((se=n.editReason)!=null&&se.trim())){i(ce=>({...ce,editReason:"Edit reason is required."})),Ke.error("Please provide a reason for this edit."),P(!1);return}const O={...n,editReason:U?n.editReason.trim():void 0,subcategory:te?{name:te.name,slug:te.slug}:{name:n.subcategory,slug:n.subcategory},basePrice:Number(n.basePrice),salePrice:n.salePrice?Number(n.salePrice):null,discountPercentage:n.discountPercentage?Number(n.discountPercentage):0,stock:n.stock?Number(n.stock):0,isPublished:!!n.isPublished,isFeatured:!!n.isFeatured,variants:[...n.variants].map(ce=>{var Se,we;return{variantCategory:String(ce.variantCategory).trim(),value:String(ce.value).trim(),previewImage:((we=(Se=ce.preview)==null?void 0:Se.trim)==null?void 0:we.call(Se))||""}}).sort((ce,Se)=>ce.variantCategory.localeCompare(Se.variantCategory)||ce.value.localeCompare(Se.value))};console.log(" Submitting payload:",O);const Q=U?await ae.put(`/admin/products/${t._id}`,O):await ae.post("/admin/products",O);Ke.success(U?" Product updated!":" Product created!"),e==null||e(Q.data.product),s(ce=>({...ce,editReason:""}))}catch(K){console.log(" Full error response:",(de=K.response)==null?void 0:de.data);const te=(he=(G=K.response)==null?void 0:G.data)==null?void 0:he.errors;if(te){const O={};Object.keys(te).forEach(Q=>{if(Q.startsWith("variants.")){const[,ce,Se]=Q.split("."),we=parseInt(ce);O.variantsFields||(O.variantsFields={}),O.variantsFields[we]||(O.variantsFields[we]={}),O.variantsFields[we][Se]=te[Q]}else Q==="publishOrFeature"?O.publishOrFeature=te[Q]:O[Q]=te[Q]}),i(O),Ke.error("Please fix validation errors.")}else Ke.error(((Z=(ee=K.response)==null?void 0:ee.data)==null?void 0:Z.message)||"Failed to save product.")}finally{P(!1)}};return u.jsxs("form",{onSubmit:R,className:"space-y-8 bg-[#1a1f2b] text-white p-8 rounded-2xl shadow-2xl border border-gray-700",children:[u.jsx("section",{children:u.jsx(Fl,{label:"Product Title",name:"title",value:n.title,onChange:x,error:r.title,placeholder:"Product title"})}),u.jsxs("section",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),u.jsx("textarea",{name:"description",rows:4,value:n.description,onChange:x,placeholder:"Enter detailed product description",className:"w-full bg-[#2a3142] border border-gray-600 rounded-lg px-4 py-3"}),r.description&&u.jsx("p",{className:"text-red-500 text-xs mt-2",children:r.description})]}),u.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(hd,{label:"Select Category",name:"category",value:n.category,onChange:x,options:a,error:r.category,defaultOption:"-- Choose Category --"}),n.category&&u.jsx(hd,{label:"Select Subcategory",name:"subcategory",value:n.subcategory,onChange:x,options:((I=(V=a.find(z=>z._id===n.category))==null?void 0:V.subcategories)==null?void 0:I.map(z=>({_id:z.slug,name:z.name})))||[],error:r.subcategory,defaultOption:"-- Choose Subcategory --"}),u.jsx(hd,{label:"Select Brand",name:"brand",value:n.brand,onChange:x,options:d,error:r.brand,defaultOption:"-- Choose Brand --"})]}),u.jsxs("section",{children:[u.jsxs("div",{onDrop:j,onDragOver:z=>z.preventDefault(),className:"border-2 border-dashed border-gray-600 p-6 rounded-lg text-center bg-[#1f2634]",children:[u.jsx("p",{className:"mb-3 text-sm",children:"Drag and drop images here or"}),u.jsx("label",{htmlFor:"fileInput",className:"inline-block px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-sm cursor-pointer",children:"Upload Images"}),u.jsx("input",{id:"fileInput",type:"file",multiple:!0,accept:"image/*",onChange:N,className:"hidden"}),r.images&&u.jsx("p",{className:"text-red-500 text-xs mt-2",children:r.images})]}),n.images.length>0&&u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3 mt-4",children:n.images.map(z=>u.jsxs("div",{onClick:()=>w(z),className:`rounded-lg overflow-hidden cursor-pointer border-2 ${n.thumbnail===z?"border-blue-500 ring-2 ring-blue-400":"border-gray-700"}`,children:[u.jsx("img",{src:z,alt:"Uploaded",className:"w-full h-24 object-cover"}),n.thumbnail===z&&u.jsx("p",{className:"text-xs text-center text-blue-300 py-1 bg-gray-800",children:"Thumbnail"})]},z))})]}),u.jsxs("section",{className:"space-y-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:" Variant Options"}),n.variants.map((z,U)=>{var J,se,de,G,he,ee;return u.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-6 bg-[#1a1f2b] border border-gray-700 rounded-xl p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col flex-1 gap-4",children:[u.jsx(hd,{label:"Variant Category",name:`variantCategory-${U}`,value:z.variantCategory,onChange:Z=>y(U,"variantCategory",Z.target.value),options:p,error:(se=(J=r.variantsFields)==null?void 0:J[U])==null?void 0:se.variantCategory,defaultOption:"Select Category"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Variant Value"}),u.jsx("input",{type:"text",value:z.value,placeholder:"e.g. Black, XL, 128GB",onChange:Z=>y(U,"value",Z.target.value),className:`w-full bg-[#111827] border px-4 py-2.5 rounded-md text-white text-sm
              transition-all duration-200 ease-in-out
              focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
              ${(G=(de=r.variantsFields)==null?void 0:de[U])!=null&&G.value?"border-red-500":"border-gray-600"}`}),((ee=(he=r.variantsFields)==null?void 0:he[U])==null?void 0:ee.value)&&u.jsx("p",{className:"text-xs text-red-500 mt-1",children:r.variantsFields[U].value})]})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3 min-w-[100px]",children:[u.jsxs("label",{htmlFor:`variant-file-${U}`,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm cursor-pointer transition",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v16h16M4 4l16 16"})}),"Upload"]}),u.jsx("input",{id:`variant-file-${U}`,type:"file",accept:"image/*",onChange:Z=>T(U,Z.target.files[0]),className:"hidden"}),z.preview?u.jsx("img",{src:z.preview,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border border-gray-500"}):u.jsx("div",{className:"w-20 h-20 bg-[#111827] border border-gray-600 rounded-lg flex items-center justify-center text-gray-500 text-xs",children:"No Image"})]})]},U)}),r.variants&&u.jsx("p",{className:"text-sm text-red-500",children:r.variants}),u.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 rounded-md text-white bg-green-600 hover:bg-green-700 transition text-sm",children:"+ Add Variant"})]}),u.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(Fl,{label:"Base Price ()",name:"basePrice",type:"number",value:n.basePrice,onChange:x,error:r.basePrice,placeholder:"Enter base price"}),u.jsx(Fl,{label:"Sale Price ()",name:"salePrice",type:"number",value:n.salePrice,onChange:x,error:r.salePrice,placeholder:"Optional sale price"}),u.jsx(Fl,{label:"Discount Percentage (%)",name:"discountPercentage",type:"number",value:n.discountPercentage,onChange:x,error:r.discountPercentage,placeholder:"Optional discount (e.g. 10)"}),u.jsx(Fl,{label:"Stock Quantity",name:"stock",type:"number",value:n.stock,onChange:x,error:r.stock,placeholder:"Number of items in stock"})]}),u.jsxs("section",{className:"pt-4",children:[u.jsx("label",{className:"block text-sm text-white font-medium mb-1",children:"Choose product visibility"}),u.jsxs("p",{className:"text-gray-400 text-xs mb-2",children:[u.jsx("strong",{children:"Published"}),": visible in the store. ",u.jsx("br",{}),u.jsx("strong",{children:"Featured"}),": highlighted or promoted on the home page."]}),u.jsxs("div",{className:"flex items-center gap-6 mb-1",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",name:"isPublished",checked:n.isPublished,onChange:x}),u.jsx("span",{className:"text-sm",children:"Published"})]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",name:"isFeatured",checked:n.isFeatured,onChange:x}),u.jsx("span",{className:"text-sm",children:"Featured"})]})]}),r.publishOrFeature&&u.jsx("p",{className:"text-red-500 text-xs",children:r.publishOrFeature})]}),(t==null?void 0:t._id)&&u.jsxs("div",{className:"mt-4",children:[u.jsxs("label",{className:"block text-sm font-medium mb-2 text-gray-200",children:["Reason for Edit ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{name:"editReason",rows:3,value:n.editReason,onChange:x,placeholder:"Explain what was changed and why",className:`w-full bg-[#2a3142] border ${r.editReason?"border-red-500":"border-gray-600"} rounded-md px-4 py-2 text-sm`}),r.editReason&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.editReason})]}),u.jsx("div",{className:"pt-6 text-right",children:u.jsx("button",{type:"submit",disabled:A,className:`bg-emerald-600 hover:bg-emerald-700 px-6 py-2 rounded text-white shadow ${A?"opacity-50 cursor-not-allowed":""}`,children:A?t!=null&&t._id?"Updating...":"Creating...":t!=null&&t._id?"Update Product":"Create Product"})})]})};function R4({title:e,titleId:t,...n},s){return C.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?C.createElement("title",{id:t},e):null,C.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const D4=C.forwardRef(R4),O4=({viewingProduct:e,setViewingProduct:t,isEditing:n,setIsEditing:s,fetchProducts:r})=>{const[i,a]=C.useState([]),[c,d]=C.useState(!1),[h,p]=C.useState("history"),[m,x]=C.useState({}),[y,v]=C.useState({}),[w,S]=C.useState({}),[j,N]=C.useState({}),[T,A]=C.useState(null);if(C.useEffect(()=>{(async()=>{var Pe,Te;try{const Ie=await ae.get("/admin/brands"),nt={};(Te=(Pe=Ie.data)==null?void 0:Pe.brands)==null||Te.forEach(yt=>{nt[yt._id]=yt.name}),N(nt)}catch(Ie){console.error(" Failed to fetch brands",Ie)}})()},[]),C.useEffect(()=>{(async()=>{var Pe,Te;try{const Ie=await ae.get("/admin/categories"),nt={},yt={};(Te=(Pe=Ie.data)==null?void 0:Pe.categories)==null||Te.forEach(bt=>{var tn;nt[bt._id]=bt.name,(tn=bt.subcategories)==null||tn.forEach(wr=>{yt[wr.slug]=wr.name})}),v(nt),S(yt)}catch(Ie){console.error(" Failed to fetch categories",Ie)}})()},[]),C.useEffect(()=>{(async()=>{var Pe;try{const Ie=(Pe=(await ae.get("/admin/variant-categories")).data)==null?void 0:Pe.categories;if(console.log(" Variant categories:",Ie),!Array.isArray(Ie))throw new TypeError("Expected categories to be an array");const nt={};Ie.forEach(yt=>{nt[yt._id]=yt.name}),x(nt)}catch(Te){console.error(" Failed to fetch variant categories",Te)}})()},[]),C.useEffect(()=>{(async()=>{var Pe;if(e!=null&&e._id){d(!0);try{const Te=await ae.get(`/admin/products/${e._id}/history`),Ie=((Pe=Te.data)==null?void 0:Pe.history)||[];console.log(" Raw edit history response:",Te.data),console.log(" Parsed editHistory:",Ie),a(Array.isArray(Ie)?Ie:[])}catch(Te){console.error(" Failed to fetch edit history",Te),a([])}finally{d(!1)}}})()},[e==null?void 0:e._id]),C.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),C.useEffect(()=>{if(T){const ue=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${ue}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.overflow="hidden",document.body.style.width="100%",()=>{const Pe=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.overflow="",document.body.style.width="",window.scrollTo(0,parseInt(Pe||"0")*-1)}}},[T]),!e)return null;const{title:P,description:R,brand:V,category:I,subcategory:z,images:U,thumbnail:J,variants:se,basePrice:de,salePrice:G,discountPercentage:he,stock:ee,lowStockAlert:Z,averageRating:K,ratingCount:te,isPublished:O,isFeatured:Q,source:ce,createdAt:Se,updatedAt:we,currentPrice:Ue,margin:De}=e,Ae=(ue,Pe)=>{if(!ue)return"";try{if(Pe==="subcategory"){const Te=typeof ue=="string"?JSON.parse(ue):ue;return w[Te==null?void 0:Te.slug]||(Te==null?void 0:Te.name)||""}if(Pe==="category"){const Te=typeof ue=="string"?ue:ue==null?void 0:ue._id;return y[Te]||Te}if(Pe==="brand"){const Te=typeof ue=="string"?ue:ue==null?void 0:ue._id;return j[Te]||Te}return typeof ue=="object"?JSON.stringify(ue,null,2):typeof ue=="string"&&(ue.startsWith("{")||ue.startsWith("["))?JSON.stringify(JSON.parse(ue),null,2):ue}catch(Te){return String(ue,Te)}},Le=ue=>{try{const Pe=typeof ue=="string"?JSON.parse(ue):ue;return Array.isArray(Pe)?Pe.map(Te=>{const Ie=typeof Te.variantCategory=="object"?Te.variantCategory.$oid:Te.variantCategory;return`${m[Ie]||Ie}: ${Te.value}`}).join(", "):""}catch(Pe){return String(ue,Pe)}},je=({label:ue,value:Pe})=>u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[11px] text-gray-400 uppercase tracking-wide mb-1 leading-tight",children:ue}),u.jsx("div",{className:"text-[17px] text-gray-100 font-semibold break-words",children:Pe||""})]});return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-50 backdrop-blur-md bg-black/70 flex justify-center items-start p-10 overflow-y-auto",children:u.jsxs("div",{className:"bg-[#1e293b] w-full max-w-7xl p-6 rounded-2xl shadow-2xl relative text-white border border-gray-700",children:[u.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[u.jsx("button",{onClick:()=>s(!n),className:`px-4 py-1.5 rounded-md font-semibold text-sm transition duration-200 ${n?"bg-gray-600 hover:bg-gray-500":"bg-blue-600 hover:bg-blue-700"}`,children:n?"Cancel Edit":" Edit Product"}),u.jsx("button",{onClick:()=>{t(null),s(!1)},className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-red-600 text-white text-lg font-bold flex items-center justify-center transition-all duration-200 shadow-md",title:"Close","aria-label":"Close modal",children:""})]}),u.jsx("h2",{className:"text-3xl font-bold mb-6",children:n?"Edit Product":" Product Overview"}),n?u.jsx(QS,{initialData:e,onSuccess:()=>{s(!1),t(null),r()}}):u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl border border-gray-700 shadow-md text-gray-200",children:[u.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-700 mb-6",children:u.jsx("img",{src:J,alt:P,className:"w-full h-74 object-cover transition duration-300 hover:scale-[1.01]"})}),u.jsxs("div",{className:"text-center pb-4 border-b border-gray-700",children:[u.jsx("h2",{className:"text-4xl font-bold text-white tracking-tight",children:P}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Detailed product information"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-5 text-sm mt-6",children:[u.jsx(je,{label:"Brand",value:(V==null?void 0:V.name)||V}),u.jsx(je,{label:"Category",value:(I==null?void 0:I.name)||I}),u.jsx(je,{label:"Subcategory",value:(z==null?void 0:z.name)||z}),u.jsx(je,{label:"Stock",value:ee}),u.jsx(je,{label:"Low Stock Alert",value:Z?" Yes":"No"}),u.jsx(je,{label:"Base Price",value:`${de}`}),u.jsx(je,{label:"Sale Price",value:G?`${G}`:""}),u.jsx(je,{label:"Discount %",value:`${he||0}%`}),u.jsx(je,{label:"Current Price",value:`${Ue}`}),u.jsx(je,{label:"Margin",value:`${De}`}),u.jsx(je,{label:"Avg Rating",value:`${K} (${te})`}),u.jsx(je,{label:"Published",value:O?" Yes":" No"}),u.jsx(je,{label:"Featured",value:Q?" Yes":""}),u.jsx(je,{label:"Source",value:ce}),u.jsx(je,{label:"Created",value:new Date(Se).toLocaleString()}),u.jsx(je,{label:"Updated",value:new Date(we).toLocaleString()})]})]}),u.jsxs("div",{className:"bg-gray-800 p-5 rounded-xl border border-gray-700 shadow-sm",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[" ",u.jsx("span",{children:"Description"})]}),u.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-line",children:R})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"rounded-xl border border-gray-700 bg-gray-800 p-4 shadow-sm space-y-4",children:[u.jsx("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:" Images"}),u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-5 gap-3",children:U==null?void 0:U.map((ue,Pe)=>u.jsxs("div",{className:"relative group rounded-md overflow-hidden border border-gray-600 hover:border-gray-400 transition cursor-pointer",onClick:()=>A(ue),title:"Click to enlarge",children:[u.jsx("img",{src:ue,alt:`Image ${Pe+1}`,className:"w-full h-24 object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 flex items-center justify-center text-xs text-gray-200 font-medium transition",children:"Preview"})]},Pe))})]}),u.jsxs("div",{className:"rounded-xl border border-gray-700 bg-gray-800 p-4 shadow-sm space-y-4",children:[u.jsx("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:" Variants"}),u.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:se==null?void 0:se.map((ue,Pe)=>u.jsxs("li",{className:"flex items-center gap-3 p-2 rounded-md border border-gray-700 hover:border-gray-500 transition",children:[u.jsx("img",{src:ue.previewImage,alt:ue.value,className:"w-16 h-16 object-cover rounded border border-gray-600"}),u.jsxs("div",{className:"text-[11px] text-gray-300 leading-snug space-y-0.5",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx("span",{className:"uppercase text-gray-500 tracking-wide",children:"Category:"}),u.jsx("span",{className:"font-medium text-white",children:m[ue.variantCategory]||ue.variantCategory})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("span",{className:"uppercase text-gray-500 tracking-wide",children:"Value:"}),u.jsx("span",{className:"font-medium text-white",children:ue.value})]})]})]},ue._id||Pe))})]}),u.jsxs("div",{className:"border border-gray-700 rounded-xl bg-gray-900",children:[u.jsxs("div",{className:"grid grid-cols-2 border-b border-gray-700 bg-gray-800 rounded-t-xl overflow-hidden",children:[u.jsx("button",{onClick:()=>p("history"),className:`p-4 font-semibold text-left transition-colors duration-200 ${h==="history"?"text-white border-b-2 border-emerald-400 bg-gray-900":"text-gray-400 hover:text-white"}`,children:" Edit History"}),u.jsx("button",{onClick:()=>p("notes"),className:`p-4 font-semibold text-left transition-colors duration-200 ${h==="notes"?"text-white border-b-2 border-emerald-400 bg-gray-900":"text-gray-400 hover:text-white"}`,children:" Notes"})]}),u.jsx("div",{className:"p-6 text-[15px] space-y-6 max-h-[150vh] overflow-y-auto",children:h==="history"?c?u.jsx("p",{className:"text-gray-400",children:"Loading history..."}):i.length===0?u.jsx("p",{className:"text-gray-400",children:"No edits made yet."}):[...i].sort((ue,Pe)=>new Date(Pe.editedAt)-new Date(ue.editedAt)).map((ue,Pe)=>{var Te;return!ue||!ue.editedBy?null:u.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 border border-gray-700 shadow-md space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("p",{className:"text-white font-semibold tracking-wide",children:[ue.editedBy.firstName||"Unknown"," ",ue.editedBy.lastName||""," ",u.jsxs("span",{className:"text-sm text-gray-400 font-normal",children:[" ",ue.editedBy.role]})]}),u.jsx("span",{className:"text-xs italic text-gray-400",children:new Date(ue.editedAt).toLocaleString()})]}),u.jsx("div",{className:"divide-y divide-gray-700",children:(Te=ue.changes)==null?void 0:Te.map((Ie,nt)=>{const yt=Ie.from,bt=Ie.to;return JSON.stringify(yt)===JSON.stringify(bt)?null:u.jsxs("div",{className:"py-3",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wider mb-2",children:Ie.field}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-400 block text-[11px] uppercase tracking-wide mb-1",children:"From"}),u.jsx("div",{className:"bg-slate-900 p-2 rounded-md text-rose-300 border border-rose-500 whitespace-pre-wrap break-words",children:Ie.field==="variants"?Le(yt):Ae(yt,Ie.field)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-400 block text-[11px] uppercase tracking-wide mb-1",children:"To"}),u.jsx("div",{className:"bg-slate-900 p-2 rounded-md text-emerald-300 border border-emerald-500 whitespace-pre-wrap break-words",children:Ie.field==="variants"?Le(bt):Ae(bt,Ie.field)})]})]})]},nt)})})]},Pe)}):i.length===0?u.jsx("p",{className:"text-gray-400",children:"No notes yet."}):[...i].sort((ue,Pe)=>new Date(Pe.editedAt)-new Date(ue.editedAt)).map((ue,Pe)=>{var Te,Ie,nt;return u.jsxs("div",{className:"bg-gray-800 rounded-xl p-5 border border-gray-700 shadow-sm transition duration-200",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[u.jsxs("p",{className:"text-white font-semibold text-sm",children:[((Te=ue.editedBy.firstName)==null?void 0:Te.trim())||"Admin"," ",((Ie=ue.editedBy.lastName)==null?void 0:Ie.trim())||"",ue.editedBy.role&&u.jsxs("span",{className:"text-gray-400 font-normal",children:[" ","(",ue.editedBy.role,")"]})]}),u.jsx("span",{className:"text-xs italic text-gray-400",children:new Date(ue.editedAt).toLocaleString()})]}),u.jsx("p",{className:"italic text-emerald-300 text-sm mt-2 leading-snug",children:((nt=ue.reason)==null?void 0:nt.trim())||"No reason provided."})]},Pe)})})]})]})]})]})}),T&&u.jsxs("div",{className:"fixed inset-0 z-[999] bg-black/80 flex items-center justify-center overflow-hidden",children:[u.jsx("div",{className:"fixed inset-0 bg-black/80 z-[-1]"}),u.jsxs("div",{className:"relative bg-gray-900 border border-gray-700 rounded-lg p-4 max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[u.jsx("button",{onClick:()=>A(null),className:"absolute top-3 right-3 bg-red-600 hover:bg-red-700 w-8 h-8 rounded-full flex items-center justify-center","aria-label":"Close preview",title:"Close",children:u.jsx(D4,{className:"h-4 w-4 text-white"})}),u.jsx("img",{src:T,alt:"Full Preview",className:"w-full max-h-[80vh] object-contain rounded"})]})]})]})},L4=()=>{const[e,t]=C.useState([]),[n,s]=C.useState(null),[r,i]=C.useState(!1),[a,c]=C.useState(null),[d,h]=C.useState(!1),p=async()=>{var v;try{const w=await ae.get("/admin/products");t(w.data.products||[])}catch(w){console.error(" Failed to fetch products:",(v=w.response)==null?void 0:v.data)}},m=()=>{s(null),i(!0)},x=async v=>{var w;if(window.confirm("Are you sure you want to delete this product?"))try{await ae.delete(`/admin/products/${v}`),p()}catch(S){console.error(" Delete failed:",(w=S.response)==null?void 0:w.data)}},y=v=>{c(v),h(!1)};return C.useEffect(()=>{p()},[]),u.jsxs("div",{className:"bg-[#131a25] text-white p-6 rounded-xl shadow-md border border-gray-700",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold",children:" All Products"}),u.jsx("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition",children:"+ New Product"})]}),r&&u.jsx("div",{className:"mb-10",children:u.jsx(QS,{initialData:n,onSuccess:()=>{i(!1),s(null),p()}})}),u.jsxs("div",{className:"overflow-x-auto",children:[u.jsxs("table",{className:"w-full border border-gray-700 text-white text-sm",children:[u.jsx("thead",{className:"bg-[#1e293b] text-left",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Image"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Title"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Category"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Subcategory"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Brand"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Current Price"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Base Price"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Sale Price"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Discount %"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Stock"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Published"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Featured"}),u.jsx("th",{className:"px-4 py-3 border-b border-gray-600",children:"Actions"})]})}),u.jsx("tbody",{children:e.length>0?e.map(v=>{var w,S,j,N,T;return u.jsxs(C.Fragment,{children:[u.jsxs("tr",{className:"hover:bg-[#1f2a3b] transition",children:[u.jsx("td",{className:"px-4 py-3",children:v.thumbnail?u.jsx("img",{src:v.thumbnail,alt:v.title,className:"w-12 h-12 object-cover rounded-md border border-gray-600"}):u.jsx("div",{className:"w-12 h-12 bg-gray-600 rounded-md flex items-center justify-center text-sm",children:"N/A"})}),u.jsx("td",{className:"px-4 py-3",children:v.title}),u.jsx("td",{className:"px-4 py-3",children:((w=v.category)==null?void 0:w.name)||""}),u.jsx("td",{className:"px-4 py-3",children:typeof v.subcategory=="string"?v.subcategory.charAt(0).toUpperCase()+v.subcategory.slice(1):((S=v.subcategory)==null?void 0:S.name)||""}),u.jsx("td",{className:"px-4 py-3",children:((j=v.brand)==null?void 0:j.name)||""}),u.jsxs("td",{className:"px-4 py-3 text-green-400 font-bold",children:["",(N=v.currentPrice)==null?void 0:N.toFixed(2)]}),u.jsxs("td",{className:"px-4 py-3 text-gray-400 text-sm",children:["",(T=v.basePrice)==null?void 0:T.toFixed(2)]}),u.jsx("td",{className:"px-4 py-3 text-blue-400 text-sm",children:v.salePrice?`${v.salePrice.toFixed(2)}`:""}),u.jsx("td",{className:"px-4 py-3 text-yellow-400 text-sm",children:v.discountPercentage>0?`${v.discountPercentage}%`:""}),u.jsx("td",{className:`px-4 py-3 ${v.stock===0?"text-red-500 font-bold":""}`,children:v.stock}),u.jsx("td",{className:"px-4 py-3",children:v.isPublished?"":""}),u.jsx("td",{className:"px-4 py-3",children:v.isFeatured?"":""}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>y(v),className:"border border-gray-500 text-gray-400 hover:bg-gray-700 hover:text-white px-3 py-1 rounded-md",children:"View"}),u.jsx("button",{onClick:()=>x(v._id),className:"border border-red-500 text-red-400 hover:bg-red-500 hover:text-white px-3 py-1 rounded-md",children:"Delete"})]})})]}),u.jsx("tr",{style:{height:"8px"}})]},v._id)}):u.jsx("tr",{children:u.jsx("td",{colSpan:"12",className:"text-center py-6 text-gray-400 italic",children:"No products found."})})})]}),u.jsx(O4,{viewingProduct:a,setViewingProduct:c,isEditing:d,setIsEditing:h,fetchProducts:p})]})]})},qp=e=>e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),Yd=({label:e,icon:t,onClick:n,color:s="gray",disabled:r})=>u.jsxs("button",{onClick:n,disabled:r,className:`flex items-center gap-2 text-sm px-3 py-1 rounded-md
      ${s==="red"?"bg-red-600 hover:bg-red-700":""}
      ${s==="blue"?"bg-blue-600 hover:bg-blue-700":""}
      ${s==="gray"?"bg-gray-700 hover:bg-gray-600":""}
      ${r?"opacity-50 cursor-not-allowed":""}
      text-white transition`,children:[t," ",e]}),I4=()=>{const[e,t]=C.useState([]),[n,s]=C.useState(""),[r,i]=C.useState(null),[a,c]=C.useState(!1),[d,h]=C.useState("");C.useEffect(()=>{p()},[]);const p=async()=>{try{const S=await ae.get("/admin/categories");t(S.data.categories||[])}catch(S){console.error("Failed to fetch categories",S)}},m=async()=>{var j,N;if(!n.trim())return;const S=qp(n);c(!0),h("");try{await ae.post("/admin/categories",{name:n,slug:S}),s(""),await p()}catch(T){h(((N=(j=T==null?void 0:T.response)==null?void 0:j.data)==null?void 0:N.message)||"Failed to create category.")}finally{c(!1)}},x=async(S,j)=>{if(!j.trim())return;const N=qp(j);try{await ae.put(`/admin/categories/${S}`,{name:j,slug:N}),i(null),await p()}catch(T){console.error("Failed to edit category",T)}},y=async S=>{if(window.confirm("Are you sure you want to delete this category?"))try{await ae.delete(`/admin/categories/${S}`),await p()}catch(N){console.error("Failed to delete category",N)}},v=async(S,j)=>{if(!j.trim())return;const N=qp(j);try{await ae.post(`/admin/categories/${S}/subcategories`,{name:j,slug:N}),await p()}catch(T){console.error("Failed to add subcategory",T)}},w=async(S,j)=>{try{await ae.delete(`/admin/categories/${S}/subcategories/${j}`),await p()}catch(N){console.error("Failed to delete subcategory",N)}};return u.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-6 border border-gray-700",children:[u.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:" Manage Categories"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{value:n,onChange:S=>s(S.target.value),placeholder:"New category name",className:"w-full px-4 py-2 rounded-md bg-[#1e2633] text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.jsx(Yd,{label:a?"Adding...":"Add",icon:u.jsx("span",{className:"text-lg",children:""}),onClick:m,color:"blue",disabled:a})]}),d&&u.jsx("p",{className:"text-sm text-red-400",children:d}),e.map(S=>u.jsxs("div",{className:"bg-[#1b2431] rounded-lg p-4 text-white space-y-2",children:[u.jsx("div",{className:"flex justify-between items-center",children:r===S._id?u.jsxs("div",{className:"flex gap-2 w-full",children:[u.jsx("input",{defaultValue:S.name,onKeyDown:j=>{j.key==="Enter"&&x(S._id,j.target.value)},className:"w-full p-2 rounded-md bg-[#2a3444] text-white border border-gray-600 focus:outline-none"}),u.jsx("button",{onClick:()=>i(null),className:"text-sm text-gray-400 hover:text-red-400",children:"Cancel"})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium",children:S.name}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Yd,{label:"Edit",icon:u.jsx("span",{className:"text-sm",children:""}),onClick:()=>i(S._id)}),u.jsx(Yd,{label:"Delete",icon:u.jsx("span",{className:"text-sm",children:""}),onClick:()=>y(S._id),color:"red"})]})]})}),u.jsxs("div",{className:"pl-4 mt-2 border-l border-dashed border-gray-500",children:[S.subcategories.map(j=>u.jsxs("div",{className:"flex justify-between items-center py-1",children:[u.jsx("span",{className:"text-sm text-gray-200",children:j.name}),u.jsx("button",{onClick:()=>w(S._id,j.slug),className:"text-xs text-red-500 hover:text-red-300",title:"Delete subcategory",children:""})]},j._id)),u.jsx(F4,{onAdd:j=>v(S._id,j)})]})]},S._id))]})},F4=({onAdd:e})=>{const[t,n]=C.useState(""),s=()=>{t.trim()&&(e(t.trim()),n(""))};return u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("input",{type:"text",value:t,placeholder:"Add subcategory",onChange:r=>n(r.target.value),onKeyDown:r=>r.key==="Enter"&&s(),className:"w-full px-3 py-2 rounded-md bg-[#2a3444] text-white border border-gray-600 focus:outline-none"}),u.jsx(Yd,{label:"Add",icon:u.jsx("span",{className:"text-sm",children:""}),onClick:s})]})},z4=()=>{const[e,t]=C.useState([]),[n,s]=C.useState(""),[r,i]=C.useState(null),[a,c]=C.useState(""),[d,h]=C.useState(!1),[p,m]=C.useState("");C.useEffect(()=>{x()},[]);const x=async()=>{try{const S=await ae.get("/admin/brands");t(S.data.brands||[])}catch(S){console.error("Fetch error:",S),m("Failed to load brands.")}},y=async()=>{var S,j;if(n.trim()){h(!0),m("");try{await ae.post("/admin/brands",{name:n.trim()}),s(""),x()}catch(N){console.error("Create error:",N),m(((j=(S=N==null?void 0:N.response)==null?void 0:S.data)==null?void 0:j.message)||"Create failed")}finally{h(!1)}}},v=async()=>{if(a.trim())try{await ae.put(`/admin/brands/${r}`,{name:a.trim()}),i(null),c(""),x()}catch(S){console.error("Update error:",S),m("Update failed")}},w=async S=>{if(confirm("Delete this brand?"))try{await ae.delete(`/admin/brands/${S}`),x()}catch(j){console.error("Delete error:",j),m("Delete failed")}};return u.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-6 border border-gray-700",children:[u.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:" Manage Brands"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{value:n,onChange:S=>s(S.target.value),placeholder:"New brand name",disabled:d,className:"w-full p-2 rounded-md bg-[#1e2633] text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"}),u.jsxs("button",{onClick:y,disabled:d,className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition disabled:opacity-50",children:[u.jsx(WS,{size:16})," Add"]})]}),p&&u.jsx("p",{className:"text-sm text-red-400",children:p}),e.map(S=>u.jsxs("div",{className:"bg-[#1b2431] rounded-lg p-4 text-white flex justify-between items-center shadow-sm",children:[r===S._id?u.jsx("input",{value:a,onChange:j=>c(j.target.value),onKeyDown:j=>{j.key==="Enter"&&v()},className:"w-full px-4 py-2 rounded-md bg-[#2a3444] text-white border border-gray-600 focus:outline-none mr-4"}):u.jsx("span",{className:"font-medium text-lg",children:S.name}),u.jsx("div",{className:"flex gap-3 ml-4",children:r===S._id?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:v,className:"px-3 py-1 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition",children:"Save"}),u.jsx("button",{onClick:()=>{i(null),c("")},className:"px-3 py-1 rounded-md bg-gray-600 text-white hover:bg-gray-500 transition",children:"Cancel"})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{i(S._id),c(S.name)},className:"px-3 py-1 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition",children:"Edit"}),u.jsx("button",{onClick:()=>w(S._id),className:"px-3 py-1 rounded-md bg-red-600 text-white hover:bg-red-700 transition",children:"Delete"})]})})]},S._id))]})},B4=()=>{const[e,t]=C.useState([]),[n,s]=C.useState(""),[r,i]=C.useState(null),[a,c]=C.useState(!1),[d,h]=C.useState(""),[p,m]=C.useState("");C.useEffect(()=>{x()},[]);const x=async()=>{var j;try{const N=await ae.get("/admin/variant-categories");console.log("Fetched variant categories:",N.data);const T=Array.isArray((j=N.data)==null?void 0:j.categories)?N.data.categories:[];t(T)}catch(N){console.error("Failed to load variant categories:",N),h("Failed to load variant categories."),t([])}},y=j=>j.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-_]/g,""),v=async()=>{var j,N;if(n.trim()){c(!0),h(""),m("");try{const T=y(n);await ae.post("/admin/variant-categories",{name:n,slug:T}),s(""),await x()}catch(T){const A=(j=T==null?void 0:T.response)==null?void 0:j.data;h((A==null?void 0:A.error)||"Add failed"),m(((N=A==null?void 0:A.details)==null?void 0:N.name)||""),console.error("Failed to add variant category:",A)}finally{c(!1)}}},w=async(j,N)=>{var T,A;if(N.trim()){c(!0),h(""),m("");try{await ae.put(`/admin/variant-categories/${j}`,{name:N.trim(),slug:y(N)}),i(null),await x()}catch(P){const R=(T=P==null?void 0:P.response)==null?void 0:T.data;h((R==null?void 0:R.error)||"Update failed"),m(((A=R==null?void 0:R.details)==null?void 0:A.name)||""),console.error("Update failed:",R)}finally{c(!1)}}},S=async j=>{if(window.confirm("Delete this variant category?"))try{await ae.delete(`/admin/variant-categories/${j}`),await x()}catch(N){console.error("Delete failed:",N),h("Delete failed")}};return u.jsxs("div",{className:"bg-[#131a25] p-6 rounded-xl shadow-md space-y-6 border border-gray-700",children:[u.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:" Variant Categories"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{value:n,onChange:j=>s(j.target.value),placeholder:"e.g. Size, Color",className:`w-full px-4 py-2 rounded-md bg-[#1e2633] text-white border focus:outline-none focus:ring-2 focus:ring-blue-500 ${p?"border-red-500":"border-gray-600"}`}),u.jsxs("button",{onClick:v,disabled:a,className:"inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition disabled:opacity-50",children:[u.jsx(WS,{size:16})," Add"]})]}),d&&u.jsx("p",{className:"text-sm text-red-500 mt-1",children:d}),p&&u.jsx("p",{className:"text-sm text-red-400 mt-1",children:p}),Array.isArray(e)&&e.length>0?e.map(j=>u.jsxs("div",{className:"bg-[#1b2431] rounded-lg p-4 text-white flex justify-between items-center shadow-sm",children:[r===j._id?u.jsx("input",{defaultValue:j.name,onKeyDown:N=>{N.key==="Enter"&&w(j._id,N.target.value)},className:`w-full px-4 py-2 rounded-md bg-[#2a3444] text-white border focus:outline-none mr-4 ${p?"border-red-500":"border-gray-600"}`}):u.jsx("span",{className:"font-medium text-lg",children:j.name}),u.jsxs("div",{className:"flex gap-3 ml-4",children:[r===j._id?u.jsx("button",{onClick:()=>i(null),className:"px-3 py-1 rounded-md bg-gray-600 text-white hover:bg-gray-500 transition",children:"Cancel"}):u.jsx("button",{onClick:()=>i(j._id),className:"px-3 py-1 rounded-md bg-blue-500 text-white hover:bg-blue-600 transition",children:"Edit"}),u.jsx("button",{onClick:()=>S(j._id),className:"px-3 py-1 rounded-md bg-red-600 text-white hover:bg-red-700 transition",children:"Delete"})]})]},j._id)):u.jsx("p",{className:"text-sm text-gray-400 italic",children:"No variant categories found."})]})},V4=()=>{const[e,t]=C.useState("products"),n=[{key:"products",label:" Products"},{key:"categories",label:" Categories"},{key:"brands",label:" Brands"},{key:"variants",label:" Variants"}],s={products:"All Products",categories:"Manage Categories",brands:"Manage Brands",variants:"Manage Variants"};return u.jsxs("section",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-700 dark:text-white mb-6",children:s[e]}),u.jsx("nav",{className:"flex flex-wrap gap-2 mb-4",role:"tablist","aria-label":"Product Management Tabs",children:n.map(r=>u.jsx("button",{onClick:()=>t(r.key),className:`px-4 py-2 rounded-md font-medium transition-all
              ${e===r.key?"bg-blue-600 text-white shadow":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600"}`,role:"tab","aria-selected":e===r.key,children:r.label},r.key))}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow border dark:border-gray-700",children:[e==="products"&&u.jsx(L4,{}),e==="categories"&&u.jsx(I4,{}),e==="brands"&&u.jsx(z4,{}),e==="variants"&&u.jsx(B4,{})]})]})},$4=()=>{const e=zs();return u.jsxs("div",{className:"p-6 bg-white border border-gray-200 rounded-lg shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 flex items-center gap-2",children:" Blog Posts"}),u.jsx("button",{onClick:()=>e("/dashboard/admin?tab=blog-editor"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:" New Post"})]}),u.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-gray-300 rounded bg-gray-50 text-gray-500",children:[" No blog posts yet. ",u.jsx("br",{}),u.jsx("span",{className:"text-sm",children:"Click New Post to create your first article."})]})]})},U4=()=>u.jsx("div",{className:"bg-white p-4 rounded shadow",children:u.jsx($4,{})}),wo=(e,t=null)=>{document.execCommand(e,!1,t)},H4=()=>wo("bold"),W4=()=>wo("italic"),q4=()=>wo("underline"),Y4=()=>wo("strikeThrough"),K4=()=>wo("hiliteColor","yellow"),X4=()=>wo("superscript"),Q4=()=>wo("subscript"),GS=(e="span",t="")=>{const n=window.getSelection();if(!n||n.rangeCount===0)return;const s=n.getRangeAt(0);if(s.collapsed||!s.toString().trim())return;const i=t.trim().split(/\s+/),a=["text-left","text-center","text-right"],c=s.commonAncestorContainer,d=c.nodeType===3?c.parentElement:c;if(d&&d.tagName.toLowerCase()===e.toLowerCase()){const x=new Set(d.className.trim().split(/\s+/));a.forEach(y=>x.delete(y)),i.forEach(y=>{x.has(y)?x.delete(y):x.add(y)}),d.className=Array.from(x).join(" ");return}const h=document.createElement(e);h.classList.add(...i);const p=s.extractContents();h.appendChild(p),s.insertNode(h);const m=document.createRange();m.setStartAfter(h),m.collapse(!0),n.removeAllRanges(),n.addRange(m)},G4=()=>GS("span","text-xs text-gray-600"),ZS=(e=null,t=null)=>{const n=window.getSelection();if(!n||n.rangeCount===0)return;const s=n.getRangeAt(0);if(s.collapsed)return;e==="*"&&(e=null,t=null);const r=s.cloneContents(),i=c=>{if(c.nodeType===1){const d=(!e||c.nodeName.toLowerCase()===e.toLowerCase())&&(!t||c.classList.contains(t)),h=document.createElement("span");if(h.textContent=c.textContent,d)return h;const p=document.createElement(c.nodeName.toLowerCase());return Array.from(c.attributes).forEach(m=>p.setAttribute(m.name,m.value)),c.childNodes.forEach(m=>{p.appendChild(i(m))}),p}return c.cloneNode(!0)},a=document.createDocumentFragment();r.childNodes.forEach(c=>a.appendChild(i(c))),s.deleteContents(),s.insertNode(a)},JS=(e,t="")=>{const n=window.getSelection();if(!n||n.rangeCount===0)return!1;let s=n.focusNode;for(;s;){if(s.nodeType===1&&s.nodeName.toLowerCase()===e.toLowerCase()&&(!t||s.classList.contains(t)))return!0;s=s.parentNode}return!1},So=(e,t="")=>{let n="";typeof t=="string"?n=t:t&&typeof t=="object"&&"class"in t&&(n=t.class),JS(e)?ZS():GS(e,n)},Z4=()=>So("code","font-mono bg-gray-200 px-1 rounded text-sm"),J4=(e=1)=>{const t={1:"text-3xl font-bold",2:"text-2xl font-semibold",3:"text-xl font-medium",4:"text-lg font-medium",5:"text-base font-semibold",6:"text-sm font-semibold text-gray-600"};So("h"+e,{class:t[e]||"text-lg"})},e3=()=>{So("p","text-base leading-relaxed mb-3")},t3=()=>{So("blockquote","border-l-4 border-gray-400 pl-4 italic text-gray-700")},n3=()=>{So("pre","bg-gray-100 p-2 rounded text-sm font-mono whitespace-pre-wrap")},e_=e=>{const t=window.getSelection();if(!t||t.rangeCount===0)return;const s=t.getRangeAt(0).commonAncestorContainer;let r=s.nodeType===3?s.parentNode:s;for(;r&&r.nodeName.toLowerCase()!==e.toLowerCase();)r=r.parentNode;if(r&&r.nodeName.toLowerCase()===e.toLowerCase()){const i=document.createDocumentFragment(),a=Array.from(r.childNodes);a.forEach(d=>i.appendChild(d));const c=document.createRange();c.setStartBefore(a[0]),c.setEndAfter(a[a.length-1]),r.replaceWith(i),t.removeAllRanges(),t.addRange(c)}},gv=(e="ul")=>{const t=e==="ol"?"ol":"ul";JS(t)?e_(t):So(t,t==="ul"?"list-disc pl-6":"list-decimal pl-6")},Yp=(e="left")=>{So("div",{class:{left:"text-left",center:"text-center",right:"text-right"}[e]})},s3=()=>{const e=window.getSelection();if(!e||e.rangeCount===0)return;const t=e.focusNode,n=[];let s=t;for(;s&&s!==document.body;)s.nodeType===1&&n.unshift(`${s.nodeName.toLowerCase()}.${[...s.classList].join(".")}`),s=s.parentNode;console.log(" Selection Path:",n.join(" > "))},r3=()=>e_("a"),i3=()=>{const e=[];let t=-1;return{save:(i,a)=>{e.splice(t+1),e.push({content:i,selection:a}),t=e.length-1},undo:()=>t>0?(t--,e[t]):null,redo:()=>t<e.length-1?(t++,e[t]):null}},o3=e=>{const t=window.getSelection();if(!t.rangeCount)return null;const n=t.getRangeAt(0);return e.contains(n.startContainer)?{startOffset:n.startOffset,endOffset:n.endOffset,startContainerPath:yv(e,n.startContainer),endContainerPath:yv(e,n.endContainer)}:null},xv=(e,{content:t,selection:n})=>{if(e.innerHTML=t,n){const s=document.createRange(),r=bv(e,n.startContainerPath),i=bv(e,n.endContainerPath);if(r&&i){s.setStart(r,n.startOffset),s.setEnd(i,n.endOffset);const a=window.getSelection();a.removeAllRanges(),a.addRange(s)}}},yv=(e,t)=>{const n=[];for(;t!==e&&t!=null;){const s=t.parentNode;if(!s)break;const r=Array.from(s.childNodes).indexOf(t);n.unshift(r),t=s}return n},bv=(e,t)=>{let n=e;for(let s of t){if(!n||!n.childNodes[s])return null;n=n.childNodes[s]}return n},a3=e=>{e.querySelectorAll("span").forEach(n=>{if(!n.getAttribute("class")&&!n.getAttribute("style")){const s=document.createDocumentFragment();for(;n.firstChild;)s.appendChild(n.firstChild);n.replaceWith(s)}})},l3=e=>{e!=null&&e.current&&a3(e.current)};var t_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vv=Rs.createContext&&Rs.createContext(t_),c3=["attr","size","title"];function u3(e,t){if(e==null)return{};var n=d3(e,t),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function d3(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oh.apply(this,arguments)}function wv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wv(Object(n),!0).forEach(function(s){h3(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wv(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function h3(e,t,n){return t=f3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f3(e){var t=p3(e,"string");return typeof t=="symbol"?t:t+""}function p3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n_(e){return e&&e.map((t,n)=>Rs.createElement(t.tag,ah({key:n},t.attr),n_(t.child)))}function en(e){return t=>Rs.createElement(m3,oh({attr:ah({},e.attr)},t),n_(e.child))}function m3(e){var t=n=>{var{attr:s,size:r,title:i}=e,a=u3(e,c3),c=r||n.size||"1em",d;return n.className&&(d=n.className),e.className&&(d=(d?d+" ":"")+e.className),Rs.createElement("svg",oh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,a,{className:d,style:ah(ah({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&Rs.createElement("title",null,i),e.children)};return vv!==void 0?Rs.createElement(vv.Consumer,null,n=>t(n)):t(t_)}function g3(e){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM108.1 96h231.81A12.09 12.09 0 0 0 352 83.9V44.09A12.09 12.09 0 0 0 339.91 32H108.1A12.09 12.09 0 0 0 96 44.09V83.9A12.1 12.1 0 0 0 108.1 96zm231.81 256A12.09 12.09 0 0 0 352 339.9v-39.81A12.09 12.09 0 0 0 339.91 288H108.1A12.09 12.09 0 0 0 96 300.09v39.81a12.1 12.1 0 0 0 12.1 12.1z"},child:[]}]})(e)}function x3(e){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function y3(e){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 224h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm416 192H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm3.17-384H172.83A12.82 12.82 0 0 0 160 44.83v38.34A12.82 12.82 0 0 0 172.83 96h262.34A12.82 12.82 0 0 0 448 83.17V44.83A12.82 12.82 0 0 0 435.17 32zm0 256H172.83A12.82 12.82 0 0 0 160 300.83v38.34A12.82 12.82 0 0 0 172.83 352h262.34A12.82 12.82 0 0 0 448 339.17v-38.34A12.82 12.82 0 0 0 435.17 288z"},child:[]}]})(e)}function b3(e){return en({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"},child:[]}]})(e)}function Sv(e){return en({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function v3(e){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 96v320h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H320a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V288H160v128h32a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H32a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h32V96H32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16h-32v128h192V96h-32a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16z"},child:[]}]})(e)}function w3(e){return en({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"},child:[]}]})(e)}function S3(e){return en({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"},child:[]}]})(e)}function _3(e){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"},child:[]}]})(e)}function j3(e){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function C3(e){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 48v32a16 16 0 0 1-16 16h-48v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V96h-32v368a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V352h-32a160 160 0 0 1 0-320h240a16 16 0 0 1 16 16z"},child:[]}]})(e)}function N3(e){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function k3(e){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 224H293.9l-87.17-26.83A43.55 43.55 0 0 1 219.55 112h66.79A49.89 49.89 0 0 1 331 139.58a16 16 0 0 0 21.46 7.15l42.94-21.47a16 16 0 0 0 7.16-21.46l-.53-1A128 128 0 0 0 287.51 32h-68a123.68 123.68 0 0 0-123 135.64c2 20.89 10.1 39.83 21.78 56.36H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-180.24 96A43 43 0 0 1 336 356.45 43.59 43.59 0 0 1 292.45 400h-66.79A49.89 49.89 0 0 1 181 372.42a16 16 0 0 0-21.46-7.15l-42.94 21.47a16 16 0 0 0-7.16 21.46l.53 1A128 128 0 0 0 224.49 480h68a123.68 123.68 0 0 0 123-135.64 114.25 114.25 0 0 0-5.34-24.36z"},child:[]}]})(e)}function T3(e){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 448h-16V304a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 400 352h16v96h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM336 64h-67a16 16 0 0 0-13.14 6.87l-79.9 115-79.9-115A16 16 0 0 0 83 64H16A16 16 0 0 0 0 80v48a16 16 0 0 0 16 16h33.48l77.81 112-77.81 112H16a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h67a16 16 0 0 0 13.14-6.87l79.9-115 79.9 115A16 16 0 0 0 269 448h67a16 16 0 0 0 16-16v-48a16 16 0 0 0-16-16h-33.48l-77.81-112 77.81-112H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16z"},child:[]}]})(e)}function E3(e){return en({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 160h-16V16a16 16 0 0 0-16-16h-48a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 400 64h16v96h-16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM336 64h-67a16 16 0 0 0-13.14 6.87l-79.9 115-79.9-115A16 16 0 0 0 83 64H16A16 16 0 0 0 0 80v48a16 16 0 0 0 16 16h33.48l77.81 112-77.81 112H16a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h67a16 16 0 0 0 13.14-6.87l79.9-115 79.9 115A16 16 0 0 0 269 448h67a16 16 0 0 0 16-16v-48a16 16 0 0 0-16-16h-33.48l-77.81-112 77.81-112H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16z"},child:[]}]})(e)}function P3(e){return en({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}const M3=({editorRef:e,onUndo:t,onRedo:n})=>{const s=r=>()=>{r(),e!=null&&e.current&&l3(e)};return u.jsxs("div",{className:"flex flex-wrap gap-2 p-2 bg-slate-100 border rounded",children:[u.jsx(ct,{icon:u.jsx(b3,{}),onClick:s(H4),title:"Bold"}),u.jsx(ct,{icon:u.jsx(S3,{}),onClick:s(W4),title:"Italic"}),u.jsx(ct,{icon:u.jsx(P3,{}),onClick:s(q4),title:"Underline"}),u.jsx(ct,{icon:u.jsx(k3,{}),onClick:s(Y4),title:"Strikethrough"}),u.jsx(ct,{icon:u.jsx(w3,{}),onClick:s(K4),title:"Highlight"}),u.jsx(ct,{icon:u.jsx(E3,{}),onClick:s(X4),title:"Superscript"}),u.jsx(ct,{icon:u.jsx(T3,{}),onClick:s(Q4),title:"Subscript"}),u.jsx(ct,{icon:u.jsx("span",{className:"text-xs",children:"aA"}),onClick:s(G4),title:"Small Text"}),u.jsx(ct,{icon:u.jsx(Sv,{}),onClick:s(Z4),title:"Inline Code"}),[1,2,3].map(r=>u.jsx(ct,{icon:u.jsx(v3,{}),onClick:s(()=>J4(r)),title:`H${r}`},r)),u.jsx(ct,{icon:u.jsx(C3,{}),onClick:s(e3),title:"Paragraph"}),u.jsx(ct,{icon:u.jsx(N3,{}),onClick:s(t3),title:"Blockquote"}),u.jsx(ct,{icon:u.jsx(Sv,{}),onClick:s(n3),title:"Code Block"}),u.jsx(ct,{icon:u.jsx(j3,{}),onClick:s(()=>gv("ul")),title:"Bullet List"}),u.jsx(ct,{icon:u.jsx(_3,{}),onClick:s(()=>gv("ol")),title:"Numbered List"}),u.jsx(ct,{icon:u.jsx(x3,{}),onClick:s(()=>Yp("left")),title:"Align Left"}),u.jsx(ct,{icon:u.jsx(g3,{}),onClick:s(()=>Yp("center")),title:"Align Center"}),u.jsx(ct,{icon:u.jsx(y3,{}),onClick:s(()=>Yp("right")),title:"Align Right"}),u.jsx(ct,{icon:u.jsx("span",{children:""}),onClick:s(s3),title:"Inspect Selection"}),u.jsx(ct,{icon:u.jsx("span",{children:""}),onClick:s(r3),title:"Remove Link"}),u.jsx(ct,{icon:u.jsx("span",{children:""}),onClick:s(()=>ZS("*")),title:"Clear All Formatting"}),u.jsx(ct,{icon:u.jsx("span",{children:""}),onClick:t,title:"Undo"}),u.jsx(ct,{icon:u.jsx("span",{children:""}),onClick:n,title:"Redo"})]})},ct=({icon:e,onClick:t,title:n})=>u.jsx("button",{type:"button",title:n,onClick:s=>{s.preventDefault(),t()},className:"flex items-center justify-center w-10 h-10 rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100 active:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-150",children:e}),Kp=i3(),A3=()=>{const e=C.useRef(null),[,t]=C.useState(0),n=()=>{if(!e.current)return;const i=o3(e.current);Kp.save(e.current.innerHTML,i)},s=()=>{const i=Kp.undo();i&&e.current&&(xv(e.current,i),t(a=>a+1))},r=()=>{const i=Kp.redo();i&&e.current&&(xv(e.current,i),t(a=>a+1))};return C.useEffect(()=>{const i=e.current;if(!i)return;const a=new MutationObserver(()=>{n()});return a.observe(i,{childList:!0,subtree:!0,characterData:!0}),n(),()=>a.disconnect()},[]),u.jsxs("div",{className:"space-y-4",children:[u.jsx(M3,{editorRef:e,onUndo:s,onRedo:r}),u.jsx("div",{ref:e,contentEditable:!0,className:"min-h-[300px] border p-4 bg-white text-slate-800 rounded shadow-sm prose focus:outline-none"})]})},xc=e=>new Date(e).toLocaleDateString("en-GB"),R3=[{code:"USD",name:"US Dollar"},{code:"EUR",name:"Euro"}],_v=()=>({description:"",quantity:1,price:0,taxRate:0}),lh=({invoice:e,onClose:t,onSaved:n})=>{var T,A,P;const[s,r]=C.useState({invoiceNumber:(e==null?void 0:e.invoiceNumber)||"",type:(e==null?void 0:e.type)||"",clientCompany:typeof(e==null?void 0:e.clientCompany)=="object"?((T=e==null?void 0:e.clientCompany)==null?void 0:T._id)||"":(e==null?void 0:e.clientCompany)||"",supplierCompany:typeof(e==null?void 0:e.supplierCompany)=="object"?((A=e==null?void 0:e.supplierCompany)==null?void 0:A._id)||"":(e==null?void 0:e.supplierCompany)||"",client:(e==null?void 0:e.client)||"",supplier:(e==null?void 0:e.supplier)||"",currency:(e==null?void 0:e.currency)||"USD",dateIssued:e!=null&&e.dateIssued?e.dateIssued.slice(0,10):"",dueDate:e!=null&&e.dueDate?e.dueDate.slice(0,10):"",status:(e==null?void 0:e.status)||"unpaid",imageFile:null,category:(e==null?void 0:e.category)||"",tags:e!=null&&e.tags?e.tags.join(", "):"",notes:(e==null?void 0:e.notes)||"",items:e!=null&&e.items&&e.items.length>0?e.items.map(R=>({...R,price:R.price||0,quantity:R.quantity||1,taxRate:R.taxRate||0})):[_v()]}),[i,a]=C.useState(null);C.useEffect(()=>{if(e!=null&&e.lastEditedBy){const R=typeof e.lastEditedBy=="object"?e.lastEditedBy._id:e.lastEditedBy;R?ae.get(`/users/${R}`).then(V=>a(V.data)).catch(()=>a(null)):a(null)}else a(null)},[e]);const[c,d]=C.useState([]);C.useEffect(()=>{ae.get("/companies").then(R=>d(Array.isArray(R.data)?R.data:R.data.companies||[])).catch(()=>d([]))},[]);const h=()=>r(R=>({...R,items:[...R.items,_v()]})),p=R=>r(V=>({...V,items:V.items.length>1?V.items.filter((I,z)=>z!==R):V.items})),m=(R,V,I)=>r(z=>({...z,items:z.items.map((U,J)=>J===R?{...U,[V]:I}:U)})),x=R=>{const{name:V,value:I,type:z}=R.target;r(U=>({...U,[V]:z==="number"?parseFloat(I):I}))},y=(R,V)=>{r(I=>({...I,[R]:V,[R==="clientCompany"?"client":"supplier"]:""}))},v=R=>{r(V=>({...V,imageFile:R.target.files[0]}))},w=s.items.reduce((R,V)=>R+parseFloat(V.price||0)*parseFloat(V.quantity||1),0),S=s.items.reduce((R,V)=>R+parseFloat(V.price||0)*parseFloat(V.quantity||1)*(parseFloat(V.taxRate||0)/100),0),j=w+S,N=async R=>{var J;R.preventDefault();const V=s.tags?s.tags.split(",").map(se=>se.trim()).filter(Boolean):[],I={invoiceNumber:s.invoiceNumber,type:s.type,clientCompany:typeof s.clientCompany=="object"?s.clientCompany._id:s.clientCompany||void 0,supplierCompany:typeof s.supplierCompany=="object"?s.supplierCompany._id:s.supplierCompany||void 0,client:s.client,supplier:s.supplier,currency:s.currency,dateIssued:s.dateIssued,dueDate:s.dueDate||void 0,status:s.status,category:s.category,tags:V,notes:s.notes,subtotal:w,totalTax:S,totalAmount:j,items:s.items};let z,U;s.imageFile?(z=new FormData,Object.entries(I).forEach(([se,de])=>{se==="items"||se==="tags"?z.append(se,JSON.stringify(de)):de!==void 0&&z.append(se,de)}),z.append("file",s.imageFile),U=void 0):(z=I,U=void 0);try{e!=null&&e._id?await ae.put(`/invoices/${e._id}`,z,U?{headers:U}:void 0):await ae.post("/invoices",z,U?{headers:U}:void 0),n()}catch(se){console.error("Error saving invoice:",((J=se==null?void 0:se.response)==null?void 0:J.data)||se.message)}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:u.jsxs("form",{onSubmit:N,className:"w-full max-w-md max-h-[90vh] overflow-y-auto bg-[#1c1e2b] text-white p-4 md:p-6 rounded-lg shadow-2xl space-y-3 text-sm",encType:s.imageFile?"multipart/form-data":"application/json",children:[e&&u.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Last Edited:"," ",e.updatedAt?new Date(e.updatedAt).toLocaleString():""]}),i&&u.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Edited by: ",(i==null?void 0:i.name)||(i==null?void 0:i.email)||(e==null?void 0:e.lastEditedBy)]}),u.jsxs("div",{children:[u.jsx("input",{name:"invoiceNumber",value:s.invoiceNumber,onChange:x,placeholder:"Invoice Number",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 mb-2",required:!0}),u.jsxs("select",{name:"type",value:s.type,onChange:x,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2",required:!0,children:[u.jsx("option",{value:"",children:"Select Type"}),u.jsx("option",{value:"income",children:"Income (You will receive money)"}),u.jsx("option",{value:"outcome",children:"Expense (You will pay money)"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Client"}),u.jsxs("select",{name:"clientCompany",value:s.clientCompany||"",onChange:R=>y("clientCompany",R.target.value),className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 mb-1",children:[u.jsx("option",{value:"",children:" Company "}),c.map(R=>u.jsx("option",{value:R._id,children:R.name},R._id))]}),!s.clientCompany&&u.jsx("input",{name:"client",value:s.client,onChange:x,placeholder:"Or enter client name",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Supplier"}),u.jsxs("select",{name:"supplierCompany",value:s.supplierCompany||"",onChange:R=>y("supplierCompany",R.target.value),className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 mb-1",children:[u.jsx("option",{value:"",children:" Company "}),c.map(R=>u.jsx("option",{value:R._id,children:R.name},R._id))]}),!s.supplierCompany&&u.jsx("input",{name:"supplier",value:s.supplier,onChange:x,placeholder:"Or enter supplier name",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Date Issued"}),u.jsx("input",{name:"dateIssued",type:"date",value:s.dateIssued,onChange:x,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Due Date"}),u.jsx("input",{name:"dueDate",type:"date",value:s.dueDate,onChange:x,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{name:"category",value:s.category,onChange:x,placeholder:"Category",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"}),u.jsx("input",{name:"tags",value:s.tags,onChange:x,placeholder:"Tags",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("select",{name:"currency",value:s.currency,onChange:x,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 text-white",required:!0,children:R3.map(({code:R,name:V})=>u.jsxs("option",{value:R,children:[R,"  ",V]},R))}),u.jsxs("select",{name:"status",value:s.status,onChange:x,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2",children:[u.jsx("option",{value:"unpaid",children:"Unpaid"}),u.jsx("option",{value:"paid",children:"Paid"}),u.jsx("option",{value:"draft",children:"Draft"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Products or Services"}),s.items.map((R,V)=>u.jsxs("div",{className:"flex gap-1 mb-2",children:[u.jsx("input",{type:"text",placeholder:"Product/Service",value:R.description,onChange:I=>m(V,"description",I.target.value),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-2/5",required:!0}),u.jsx("input",{type:"number",placeholder:"Qty",min:1,value:R.quantity,onChange:I=>m(V,"quantity",parseFloat(I.target.value)),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-1/6",required:!0}),u.jsx("input",{type:"number",placeholder:"Unit Price",min:0,step:"0.01",value:R.price,onChange:I=>m(V,"price",parseFloat(I.target.value)),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-1/5",required:!0}),u.jsx("input",{type:"number",placeholder:"Tax %",min:0,step:"0.01",value:R.taxRate,onChange:I=>m(V,"taxRate",parseFloat(I.target.value)),className:"bg-[#252a3a] border border-gray-600 rounded px-2 py-1 w-1/6"}),u.jsx("button",{type:"button",onClick:()=>p(V),className:"text-red-400 hover:text-red-600 ml-1",title:"Remove",disabled:s.items.length===1,children:""})]},V)),u.jsx("button",{type:"button",onClick:h,className:"w-full py-1 bg-blue-700 hover:bg-blue-800 rounded text-xs",children:"+ Add Product/Service"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400",children:"Subtotal"}),u.jsx("input",{type:"number",value:w.toFixed(2),readOnly:!0,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-2 py-1 opacity-70",tabIndex:-1})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400",children:"Total Tax"}),u.jsx("input",{type:"number",value:S.toFixed(2),readOnly:!0,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-2 py-1 opacity-70",tabIndex:-1})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"text-xs text-gray-400",children:"Total Amount"}),u.jsx("input",{type:"number",value:j.toFixed(2),readOnly:!0,className:"w-full bg-[#252a3a] border border-gray-600 rounded px-2 py-1 opacity-70",tabIndex:-1})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Notes"}),u.jsx("textarea",{name:"notes",value:s.notes,onChange:x,placeholder:"Add any notes or comments",className:"w-full bg-[#252a3a] border border-gray-600 rounded px-3 py-2 min-h-[48px]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-gray-400 mb-1 block",children:"Invoice Image"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("label",{htmlFor:"invoiceImage",className:"cursor-pointer px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs",children:s.imageFile?"Change Image":"Upload Image"}),u.jsx("input",{id:"invoiceImage",type:"file",accept:"image/*",onChange:v,className:"hidden"}),u.jsx("span",{className:"text-xs text-gray-400 truncate max-w-xs",children:((P=s.imageFile)==null?void 0:P.name)||(e==null?void 0:e.imageUrl)&&"Existing image"})]}),(s.imageFile||(e==null?void 0:e.imageUrl))&&u.jsx("img",{src:s.imageFile?URL.createObjectURL(s.imageFile):e.imageUrl,alt:"Invoice preview",className:"mt-2 max-h-24 border border-gray-600 rounded"})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-500 text-gray-300 rounded hover:bg-gray-700",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Save"})]})]})})},D3={name:"",vatNumber:"",address:"",email:"",phone:"",country:"",website:"",notes:""},O3=({onClose:e,onSaved:t})=>{const[n,s]=C.useState(D3),[r,i]=C.useState(!1),[a,c]=C.useState(""),d=p=>{const{name:m,value:x}=p.target;s(y=>({...y,[m]:x}))},h=async p=>{var m,x,y;p.preventDefault(),i(!0),c("");try{await ae.post("/companies",n),t()}catch(v){c(((x=(m=v==null?void 0:v.response)==null?void 0:m.data)==null?void 0:x.message)||((y=v==null?void 0:v.response)==null?void 0:y.data)||v.message||"Failed to create company")}finally{i(!1)}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:u.jsxs("form",{onSubmit:h,className:"w-full max-w-md bg-[#23263a] text-white p-6 rounded-lg shadow-xl space-y-4",children:[u.jsx("h2",{className:"text-xl font-bold mb-2",children:"+ New Company"}),a&&u.jsx("div",{className:"text-red-400 mb-2 text-sm",children:a}),u.jsx("input",{name:"name",value:n.name,onChange:d,placeholder:"Company Name *",required:!0,className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("input",{name:"vatNumber",value:n.vatNumber,onChange:d,placeholder:"VAT Number",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("input",{name:"address",value:n.address,onChange:d,placeholder:"Address",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("input",{name:"email",value:n.email,onChange:d,placeholder:"Email",type:"email",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("input",{name:"phone",value:n.phone,onChange:d,placeholder:"Phone",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("input",{name:"country",value:n.country,onChange:d,placeholder:"Country",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("input",{name:"website",value:n.website,onChange:d,placeholder:"Website",type:"url",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full"}),u.jsx("textarea",{name:"notes",value:n.notes,onChange:d,placeholder:"Notes",className:"bg-[#252a3a] border border-gray-600 p-2 rounded w-full min-h-[50px]"}),u.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-500 text-gray-300 rounded hover:bg-gray-700",disabled:r,children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",disabled:r,children:r?"Saving...":"Save"})]})]})})},L3=["jpg","jpeg","png","webp","gif","bmp"],I3=["pdf"];function s_(e="",t="pdf"){var s;const n=(s=e.split(".").pop().split("?")[0])==null?void 0:s.toLowerCase();return!n||n.length>5?t:n}function F3(e=""){const t=s_(e);return L3.includes(t)?"image":I3.includes(t)?"pdf":"other"}function z3(e,t){const n=s_(t);return`${(e==null?void 0:e.invoiceNumber)||(e==null?void 0:e.systemInvoiceNumber)||"invoice-file"}.${n}`}const Um=({invoice:e,onClose:t})=>{const{invoiceNumber:n,systemInvoiceNumber:s,type:r,clientCompany:i,supplierCompany:a,client:c,supplier:d,currency:h,dateIssued:p,dueDate:m,status:x,category:y,tags:v,notes:w,items:S=[],subtotal:j,totalTax:N,totalAmount:T,imageUrl:A}=e,[P,R]=C.useState(!1),V=F3(A),I=z3(e,A),z=A?`/api/download?url=${encodeURIComponent(A)}&name=${encodeURIComponent(I)}`:"";return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[P&&V==="image"&&u.jsx("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black/80",onClick:()=>R(!1),children:u.jsx("img",{src:A,alt:"Invoice Preview",className:"max-w-4xl max-h-[90vh] rounded-lg border-2 border-white shadow-xl",onClick:U=>U.stopPropagation()})}),u.jsxs("div",{className:`\r
        bg-[#23263a] text-white rounded-2xl shadow-2xl\r
        flex flex-col md:flex-row relative min-h-[600px] overflow-hidden\r
        w-[90vw] max-w-[1400px] min-w-[900px]\r
        p-0\r
      `,children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-6 text-gray-400 hover:text-gray-200 text-2xl font-bold z-10",children:""}),u.jsxs("div",{className:"basis-1/2 min-w-0 p-8 flex flex-col overflow-y-auto max-h-[80vh]",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Invoice Details"}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Invoice #:"})," ",n||s]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Type:"})," ",r]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Status:"})," ",x]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Date Issued:"})," ",xc(p)]}),m&&u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Due Date:"})," ",xc(m)]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Currency:"})," ",h]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Category:"})," ",y||""]}),u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"font-semibold",children:"Tags:"})," ",(v==null?void 0:v.length)>0?v.join(", "):""]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("span",{className:"font-semibold",children:"Notes:"})," ",w||""]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("span",{className:"font-semibold",children:"Client:"})," ",i?u.jsxs(u.Fragment,{children:[i.name,i.vatNumber?` (VAT: ${i.vatNumber})`:""]}):u.jsx("span",{children:c||""})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("span",{className:"font-semibold",children:"Supplier:"})," ",a?u.jsxs(u.Fragment,{children:[a.name,a.vatNumber?` (VAT: ${a.vatNumber})`:""]}):u.jsx("span",{children:d||""})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"font-semibold mb-2",children:"Products:"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm border border-gray-700 rounded",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-[#252a3a]",children:[u.jsx("th",{className:"p-2 text-left",children:"Description"}),u.jsx("th",{className:"p-2 text-right",children:"Qty"}),u.jsx("th",{className:"p-2 text-right",children:"Unit Price"}),u.jsx("th",{className:"p-2 text-right",children:"Tax %"}),u.jsx("th",{className:"p-2 text-right",children:"Total"})]})}),u.jsx("tbody",{children:S.map((U,J)=>u.jsxs("tr",{className:"border-t border-gray-700",children:[u.jsx("td",{className:"p-2 text-left",children:U.description}),u.jsx("td",{className:"p-2 text-right",children:U.quantity}),u.jsx("td",{className:"p-2 text-right",children:U.price}),u.jsx("td",{className:"p-2 text-right",children:U.taxRate}),u.jsx("td",{className:"p-2 text-right",children:(Number(U.price||0)*Number(U.quantity||1)*(1+Number(U.taxRate||0)/100)).toFixed(2)})]},J))})]})})]}),u.jsxs("div",{className:"flex flex-col gap-2 border-t border-gray-700 pt-2 mt-4",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Subtotal:"})," ",Number(j).toFixed(2)," ",h]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Total Tax:"})," ",Number(N).toFixed(2)," ",h]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Total Amount:"})," ",Number(T).toFixed(2)," ",h]})]})]}),u.jsxs("div",{className:"basis-1/2 min-w-0 p-8 flex flex-col items-center justify-start gap-4",children:[u.jsx("div",{className:"font-semibold mb-2 mt-1 md:mt-0 text-lg w-full text-center",children:"Invoice File:"}),A&&(V==="image"?u.jsxs(u.Fragment,{children:[u.jsx("img",{src:A,alt:"Invoice",className:"w-full max-w-[540px] max-h-[600px] border border-gray-600 rounded-lg cursor-zoom-in hover:shadow-lg transition",title:"Click to preview",onClick:()=>R(!0),style:{objectFit:"contain"}}),u.jsx("a",{href:z,className:"bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded transition text-sm mt-2",children:"Download Image"})]}):V==="pdf"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border border-gray-700 rounded-lg bg-white w-full flex justify-center items-center",style:{minHeight:540,height:540,maxWidth:"100%"},children:u.jsx("iframe",{src:`/api/download?url=${encodeURIComponent(A)}&inline=true`,title:"PDF Preview",className:"w-full h-full rounded-lg",style:{minHeight:530,height:530},frameBorder:0,allowFullScreen:!0})}),u.jsx("div",{className:"flex gap-2 mt-2",children:u.jsx("a",{href:z,className:"bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded transition text-sm",children:"Download PDF"})})]}):u.jsx("a",{href:z,className:"bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded transition text-sm",children:"Download File"}))]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Hc(e){return e+.5|0}const ci=(e,t,n)=>Math.max(Math.min(e,n),t);function Xl(e){return ci(Hc(e*2.55),0,255)}function hi(e){return ci(Hc(e*255),0,255)}function ir(e){return ci(Hc(e/2.55)/100,0,1)}function jv(e){return ci(Hc(e*100),0,100)}const Hn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Hm=[..."0123456789ABCDEF"],B3=e=>Hm[e&15],V3=e=>Hm[(e&240)>>4]+Hm[e&15],fd=e=>(e&240)>>4===(e&15),$3=e=>fd(e.r)&&fd(e.g)&&fd(e.b)&&fd(e.a);function U3(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Hn[e[1]]*17,g:255&Hn[e[2]]*17,b:255&Hn[e[3]]*17,a:t===5?Hn[e[4]]*17:255}:(t===7||t===9)&&(n={r:Hn[e[1]]<<4|Hn[e[2]],g:Hn[e[3]]<<4|Hn[e[4]],b:Hn[e[5]]<<4|Hn[e[6]],a:t===9?Hn[e[7]]<<4|Hn[e[8]]:255})),n}const H3=(e,t)=>e<255?t(e):"";function W3(e){var t=$3(e)?B3:V3;return e?"#"+t(e.r)+t(e.g)+t(e.b)+H3(e.a,t):void 0}const q3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function r_(e,t,n){const s=t*Math.min(n,1-n),r=(i,a=(i+e/30)%12)=>n-s*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function Y3(e,t,n){const s=(r,i=(r+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function K3(e,t,n){const s=r_(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)s[r]*=1-t-n,s[r]+=t;return s}function X3(e,t,n,s,r){return e===r?(t-n)/s+(t<n?6:0):t===r?(n-e)/s+2:(e-t)/s+4}function o0(e){const n=e.r/255,s=e.g/255,r=e.b/255,i=Math.max(n,s,r),a=Math.min(n,s,r),c=(i+a)/2;let d,h,p;return i!==a&&(p=i-a,h=c>.5?p/(2-i-a):p/(i+a),d=X3(n,s,r,p,i),d=d*60+.5),[d|0,h||0,c]}function a0(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(hi)}function l0(e,t,n){return a0(r_,e,t,n)}function Q3(e,t,n){return a0(K3,e,t,n)}function G3(e,t,n){return a0(Y3,e,t,n)}function i_(e){return(e%360+360)%360}function Z3(e){const t=q3.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Xl(+t[5]):hi(+t[5]));const r=i_(+t[2]),i=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?s=Q3(r,i,a):t[1]==="hsv"?s=G3(r,i,a):s=l0(r,i,a),{r:s[0],g:s[1],b:s[2],a:n}}function J3(e,t){var n=o0(e);n[0]=i_(n[0]+t),n=l0(n),e.r=n[0],e.g=n[1],e.b=n[2]}function eM(e){if(!e)return;const t=o0(e),n=t[0],s=jv(t[1]),r=jv(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${r}%, ${ir(e.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const Cv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Nv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tM(){const e={},t=Object.keys(Nv),n=Object.keys(Cv);let s,r,i,a,c;for(s=0;s<t.length;s++){for(a=c=t[s],r=0;r<n.length;r++)i=n[r],c=c.replace(i,Cv[i]);i=parseInt(Nv[a],16),e[c]=[i>>16&255,i>>8&255,i&255]}return e}let pd;function nM(e){pd||(pd=tM(),pd.transparent=[0,0,0,0]);const t=pd[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const sM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rM(e){const t=sM.exec(e);let n=255,s,r,i;if(t){if(t[7]!==s){const a=+t[7];n=t[8]?Xl(a):ci(a*255,0,255)}return s=+t[1],r=+t[3],i=+t[5],s=255&(t[2]?Xl(s):ci(s,0,255)),r=255&(t[4]?Xl(r):ci(r,0,255)),i=255&(t[6]?Xl(i):ci(i,0,255)),{r:s,g:r,b:i,a:n}}}function iM(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ir(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Xp=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,oa=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function oM(e,t,n){const s=oa(ir(e.r)),r=oa(ir(e.g)),i=oa(ir(e.b));return{r:hi(Xp(s+n*(oa(ir(t.r))-s))),g:hi(Xp(r+n*(oa(ir(t.g))-r))),b:hi(Xp(i+n*(oa(ir(t.b))-i))),a:e.a+n*(t.a-e.a)}}function md(e,t,n){if(e){let s=o0(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=l0(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function o_(e,t){return e&&Object.assign(t||{},e)}function kv(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=hi(e[3]))):(t=o_(e,{r:0,g:0,b:0,a:1}),t.a=hi(t.a)),t}function aM(e){return e.charAt(0)==="r"?rM(e):Z3(e)}class yc{constructor(t){if(t instanceof yc)return t;const n=typeof t;let s;n==="object"?s=kv(t):n==="string"&&(s=U3(t)||nM(t)||aM(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=o_(this._rgb);return t&&(t.a=ir(t.a)),t}set rgb(t){this._rgb=kv(t)}rgbString(){return this._valid?iM(this._rgb):void 0}hexString(){return this._valid?W3(this._rgb):void 0}hslString(){return this._valid?eM(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,r=t.rgb;let i;const a=n===i?.5:n,c=2*a-1,d=s.a-r.a,h=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;i=1-h,s.r=255&h*s.r+i*r.r+.5,s.g=255&h*s.g+i*r.g+.5,s.b=255&h*s.b+i*r.b+.5,s.a=a*s.a+(1-a)*r.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=oM(this._rgb,t._rgb,n)),this}clone(){return new yc(this.rgb)}alpha(t){return this._rgb.a=hi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Hc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return md(this._rgb,2,t),this}darken(t){return md(this._rgb,2,-t),this}saturate(t){return md(this._rgb,1,t),this}desaturate(t){return md(this._rgb,1,-t),this}rotate(t){return J3(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function er(){}const lM=(()=>{let e=0;return()=>e++})();function We(e){return e==null}function jt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function $e(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Jt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ns(e,t){return Jt(e)?e:t}function Re(e,t){return typeof e>"u"?t:e}const cM=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,a_=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ke(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Be(e,t,n,s){let r,i,a;if(jt(e))for(i=e.length,r=0;r<i;r++)t.call(n,e[r],r);else if($e(e))for(a=Object.keys(e),i=a.length,r=0;r<i;r++)t.call(n,e[a[r]],a[r])}function ch(e,t){let n,s,r,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(r=e[n],i=t[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function uh(e){if(jt(e))return e.map(uh);if($e(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let r=0;for(;r<s;++r)t[n[r]]=uh(e[n[r]]);return t}return e}function l_(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function uM(e,t,n,s){if(!l_(e))return;const r=t[e],i=n[e];$e(r)&&$e(i)?Fs(r,i,s):t[e]=uh(i)}function Fs(e,t,n){const s=jt(t)?t:[t],r=s.length;if(!$e(e))return e;n=n||{};const i=n.merger||uM;let a;for(let c=0;c<r;++c){if(a=s[c],!$e(a))continue;const d=Object.keys(a);for(let h=0,p=d.length;h<p;++h)i(d[h],e,a,n)}return e}function ec(e,t){return Fs(e,t,{merger:dM})}function dM(e,t,n){if(!l_(e))return;const s=t[e],r=n[e];$e(s)&&$e(r)?ec(s,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=uh(r))}const Tv={"":e=>e,x:e=>e.x,y:e=>e.y};function hM(e){const t=e.split("."),n=[];let s="";for(const r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function fM(e){const t=hM(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function mo(e,t){return(Tv[t]||(Tv[t]=fM(t)))(e)}function c0(e){return e.charAt(0).toUpperCase()+e.slice(1)}const bc=e=>typeof e<"u",pi=e=>typeof e=="function",Ev=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function pM(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Qe=Math.PI,dt=2*Qe,mM=dt+Qe,dh=Number.POSITIVE_INFINITY,gM=Qe/180,Rt=Qe/2,Bi=Qe/4,Pv=Qe*2/3,c_=Math.log10,Qn=Math.sign;function lo(e,t,n){return Math.abs(e-t)<n}function Mv(e){const t=Math.round(e);e=lo(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(c_(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function xM(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((r,i)=>r-i).pop(),t}function yM(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function vc(e){return!yM(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function bM(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function vM(e,t,n){let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function lr(e){return e*(Qe/180)}function wM(e){return e*(180/Qe)}function Av(e){if(!Jt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function u_(e,t){const n=t.x-e.x,s=t.y-e.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*Qe&&(i+=dt),{angle:i,distance:r}}function Wm(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function SM(e,t){return(e-t+mM)%dt-Qe}function Dn(e){return(e%dt+dt)%dt}function wc(e,t,n,s){const r=Dn(e),i=Dn(t),a=Dn(n),c=Dn(i-r),d=Dn(a-r),h=Dn(r-i),p=Dn(r-a);return r===i||r===a||s&&i===a||c>d&&h<p}function Gt(e,t,n){return Math.max(t,Math.min(n,e))}function _M(e){return Gt(e,-32768,32767)}function cr(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function u0(e,t,n){n=n||(a=>e[a]<t);let s=e.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const Xi=(e,t,n,s)=>u0(e,n,s?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),jM=(e,t,n)=>u0(e,n,s=>e[s][t]>=n);function CM(e,t,n){let s=0,r=e.length;for(;s<r&&e[s]<t;)s++;for(;r>s&&e[r-1]>n;)r--;return s>0||r<e.length?e.slice(s,r):e}const d_=["push","pop","shift","splice","unshift"];function NM(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),d_.forEach(n=>{const s="_onData"+c0(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const a=r.apply(this,i);return e._chartjs.listeners.forEach(c=>{typeof c[s]=="function"&&c[s](...i)}),a}})})}function Rv(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(t);r!==-1&&s.splice(r,1),!(s.length>0)&&(d_.forEach(i=>{delete e[i]}),delete e._chartjs)}function h_(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const f_=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function p_(e,t){let n=[],s=!1;return function(...r){n=r,s||(s=!0,f_.call(window,()=>{s=!1,e.apply(t,n)}))}}function kM(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const d0=e=>e==="start"?"left":e==="end"?"right":"center",Xt=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,TM=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t;function EM(e,t,n){const s=t.length;let r=0,i=s;if(e._sorted){const{iScale:a,vScale:c,_parsed:d}=e,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,p=a.axis,{min:m,max:x,minDefined:y,maxDefined:v}=a.getUserBounds();if(y){if(r=Math.min(Xi(d,p,m).lo,n?s:Xi(t,p,a.getPixelForValue(m)).lo),h){const w=d.slice(0,r+1).reverse().findIndex(S=>!We(S[c.axis]));r-=Math.max(0,w)}r=Gt(r,0,s-1)}if(v){let w=Math.max(Xi(d,a.axis,x,!0).hi+1,n?0:Xi(t,p,a.getPixelForValue(x),!0).hi+1);if(h){const S=d.slice(w-1).findIndex(j=>!We(j[c.axis]));w+=Math.max(0,S)}i=Gt(w,r,s)-r}else i=s-r}return{start:r,count:i}}function PM(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=r,!0;const i=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const gd=e=>e===0||e===1,Dv=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*dt/n)),Ov=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*dt/n)+1,tc={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Rt)+1,easeOutSine:e=>Math.sin(e*Rt),easeInOutSine:e=>-.5*(Math.cos(Qe*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>gd(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>gd(e)?e:Dv(e,.075,.3),easeOutElastic:e=>gd(e)?e:Ov(e,.075,.3),easeInOutElastic(e){return gd(e)?e:e<.5?.5*Dv(e*2,.1125,.45):.5+.5*Ov(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-tc.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?tc.easeInBounce(e*2)*.5:tc.easeOutBounce(e*2-1)*.5+.5};function h0(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Lv(e){return h0(e)?e:new yc(e)}function Qp(e){return h0(e)?e:new yc(e).saturate(.5).darken(.1).hexString()}const MM=["x","y","borderWidth","radius","tension"],AM=["color","borderColor","backgroundColor"];function RM(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:AM},numbers:{type:"number",properties:MM}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function DM(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Iv=new Map;function OM(e,t){t=t||{};const n=e+JSON.stringify(t);let s=Iv.get(n);return s||(s=new Intl.NumberFormat(e,t),Iv.set(n,s)),s}function f0(e,t,n){return OM(t,n).format(e)}const LM={values(e){return jt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let r,i=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),i=IM(e,n)}const a=c_(Math.abs(i)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),d={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),f0(e,s,d)}};function IM(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var m_={formatters:LM};function FM(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:m_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const go=Object.create(null),qm=Object.create(null);function nc(e,t){if(!t)return e;const n=t.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];e=e[i]||(e[i]=Object.create(null))}return e}function Gp(e,t,n){return typeof t=="string"?Fs(nc(e,t),n):Fs(nc(e,""),t)}class zM{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>Qp(r.backgroundColor),this.hoverBorderColor=(s,r)=>Qp(r.borderColor),this.hoverColor=(s,r)=>Qp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Gp(this,t,n)}get(t){return nc(this,t)}describe(t,n){return Gp(qm,t,n)}override(t,n){return Gp(go,t,n)}route(t,n,s,r){const i=nc(this,t),a=nc(this,s),c="_"+n;Object.defineProperties(i,{[c]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const d=this[c],h=a[r];return $e(d)?Object.assign({},h,d):Re(d,h)},set(d){this[c]=d}}})}apply(t){t.forEach(n=>n(this))}}var gt=new zM({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[RM,DM,FM]);function BM(e){return!e||We(e.size)||We(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Fv(e,t,n,s,r){let i=t[r];return i||(i=t[r]=e.measureText(r).width,n.push(r)),i>s&&(s=i),s}function Vi(e,t,n){const s=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*s)/s+r}function zv(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ym(e,t,n,s){g_(e,t,n,s,null)}function g_(e,t,n,s,r){let i,a,c,d,h,p,m,x;const y=t.pointStyle,v=t.rotation,w=t.radius;let S=(v||0)*gM;if(y&&typeof y=="object"&&(i=y.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(S),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(w)||w<=0)){switch(e.beginPath(),y){default:r?e.ellipse(n,s,r/2,w,0,0,dt):e.arc(n,s,w,0,dt),e.closePath();break;case"triangle":p=r?r/2:w,e.moveTo(n+Math.sin(S)*p,s-Math.cos(S)*w),S+=Pv,e.lineTo(n+Math.sin(S)*p,s-Math.cos(S)*w),S+=Pv,e.lineTo(n+Math.sin(S)*p,s-Math.cos(S)*w),e.closePath();break;case"rectRounded":h=w*.516,d=w-h,a=Math.cos(S+Bi)*d,m=Math.cos(S+Bi)*(r?r/2-h:d),c=Math.sin(S+Bi)*d,x=Math.sin(S+Bi)*(r?r/2-h:d),e.arc(n-m,s-c,h,S-Qe,S-Rt),e.arc(n+x,s-a,h,S-Rt,S),e.arc(n+m,s+c,h,S,S+Rt),e.arc(n-x,s+a,h,S+Rt,S+Qe),e.closePath();break;case"rect":if(!v){d=Math.SQRT1_2*w,p=r?r/2:d,e.rect(n-p,s-d,2*p,2*d);break}S+=Bi;case"rectRot":m=Math.cos(S)*(r?r/2:w),a=Math.cos(S)*w,c=Math.sin(S)*w,x=Math.sin(S)*(r?r/2:w),e.moveTo(n-m,s-c),e.lineTo(n+x,s-a),e.lineTo(n+m,s+c),e.lineTo(n-x,s+a),e.closePath();break;case"crossRot":S+=Bi;case"cross":m=Math.cos(S)*(r?r/2:w),a=Math.cos(S)*w,c=Math.sin(S)*w,x=Math.sin(S)*(r?r/2:w),e.moveTo(n-m,s-c),e.lineTo(n+m,s+c),e.moveTo(n+x,s-a),e.lineTo(n-x,s+a);break;case"star":m=Math.cos(S)*(r?r/2:w),a=Math.cos(S)*w,c=Math.sin(S)*w,x=Math.sin(S)*(r?r/2:w),e.moveTo(n-m,s-c),e.lineTo(n+m,s+c),e.moveTo(n+x,s-a),e.lineTo(n-x,s+a),S+=Bi,m=Math.cos(S)*(r?r/2:w),a=Math.cos(S)*w,c=Math.sin(S)*w,x=Math.sin(S)*(r?r/2:w),e.moveTo(n-m,s-c),e.lineTo(n+m,s+c),e.moveTo(n+x,s-a),e.lineTo(n-x,s+a);break;case"line":a=r?r/2:Math.cos(S)*w,c=Math.sin(S)*w,e.moveTo(n-a,s-c),e.lineTo(n+a,s+c);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(S)*(r?r/2:w),s+Math.sin(S)*w);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Pa(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Lh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ih(e){e.restore()}function VM(e,t,n,s,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else r==="after"!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function $M(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function UM(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),We(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function HM(e,t,n,s,r){if(r.strikethrough||r.underline){const i=e.measureText(s),a=t-i.actualBoundingBoxLeft,c=t+i.actualBoundingBoxRight,d=n-i.actualBoundingBoxAscent,h=n+i.actualBoundingBoxDescent,p=r.strikethrough?(d+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(a,p),e.lineTo(c,p),e.stroke()}}function WM(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Sc(e,t,n,s,r,i={}){const a=jt(t)?t:[t],c=i.strokeWidth>0&&i.strokeColor!=="";let d,h;for(e.save(),e.font=r.string,UM(e,i),d=0;d<a.length;++d)h=a[d],i.backdrop&&WM(e,i.backdrop),c&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),We(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(h,n,s,i.maxWidth)),e.fillText(h,n,s,i.maxWidth),HM(e,n,s,h,i),s+=Number(r.lineHeight);e.restore()}function hh(e,t){const{x:n,y:s,w:r,h:i,radius:a}=t;e.arc(n+a.topLeft,s+a.topLeft,a.topLeft,1.5*Qe,Qe,!0),e.lineTo(n,s+i-a.bottomLeft),e.arc(n+a.bottomLeft,s+i-a.bottomLeft,a.bottomLeft,Qe,Rt,!0),e.lineTo(n+r-a.bottomRight,s+i),e.arc(n+r-a.bottomRight,s+i-a.bottomRight,a.bottomRight,Rt,0,!0),e.lineTo(n+r,s+a.topRight),e.arc(n+r-a.topRight,s+a.topRight,a.topRight,0,-Rt,!0),e.lineTo(n+a.topLeft,s)}const qM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,YM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function KM(e,t){const n=(""+e).match(qM);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const XM=e=>+e||0;function p0(e,t){const n={},s=$e(t),r=s?Object.keys(t):t,i=$e(e)?s?a=>Re(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of r)n[a]=XM(i(a));return n}function x_(e){return p0(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ma(e){return p0(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ln(e){const t=x_(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Vt(e,t){e=e||{},t=t||gt.font;let n=Re(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=Re(e.style,t.style);s&&!(""+s).match(YM)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Re(e.family,t.family),lineHeight:KM(Re(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:Re(e.weight,t.weight),string:""};return r.string=BM(r),r}function rt(e,t,n,s){let r,i,a;for(r=0,i=e.length;r<i;++r)if(a=e[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t)),n!==void 0&&jt(a)&&(a=a[n%a.length]),a!==void 0))return a}function QM(e,t,n){const{min:s,max:r}=e,i=a_(t,(r-s)/2),a=(c,d)=>n&&c===0?0:c+d;return{min:a(s,-Math.abs(i)),max:a(r,i)}}function _o(e,t){return Object.assign(Object.create(e),t)}function m0(e,t=[""],n,s,r=()=>e[0]){const i=n||e;typeof s>"u"&&(s=w_("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:s,_getTarget:r,override:c=>m0([c,...e],t,i,s)};return new Proxy(a,{deleteProperty(c,d){return delete c[d],delete c._keys,delete e[0][d],!0},get(c,d){return b_(c,d,()=>rA(d,t,e,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,d){return Vv(c).includes(d)},ownKeys(c){return Vv(c)},set(c,d,h){const p=c._storage||(c._storage=r());return c[d]=p[d]=h,delete c._keys,!0}})}function Ma(e,t,n,s){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:y_(e,s),setContext:i=>Ma(e,i,n,s),override:i=>Ma(e.override(i),t,n,s)};return new Proxy(r,{deleteProperty(i,a){return delete i[a],delete e[a],!0},get(i,a,c){return b_(i,a,()=>ZM(i,a,c))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(i,a,c){return e[a]=c,delete i[a],!0}})}function y_(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:s,isScriptable:pi(n)?n:()=>n,isIndexable:pi(s)?s:()=>s}}const GM=(e,t)=>e?e+c0(t):t,g0=(e,t)=>$e(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function b_(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function ZM(e,t,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:a}=e;let c=s[t];return pi(c)&&a.isScriptable(t)&&(c=JM(t,c,e,n)),jt(c)&&c.length&&(c=eA(t,c,e,a.isIndexable)),g0(t,c)&&(c=Ma(c,r,i&&i[t],a)),c}function JM(e,t,n,s){const{_proxy:r,_context:i,_subProxy:a,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let d=t(i,a||s);return c.delete(e),g0(e,d)&&(d=x0(r._scopes,r,e,d)),d}function eA(e,t,n,s){const{_proxy:r,_context:i,_subProxy:a,_descriptors:c}=n;if(typeof i.index<"u"&&s(e))return t[i.index%t.length];if($e(t[0])){const d=t,h=r._scopes.filter(p=>p!==d);t=[];for(const p of d){const m=x0(h,r,e,p);t.push(Ma(m,i,a&&a[e],c))}}return t}function v_(e,t,n){return pi(e)?e(t,n):e}const tA=(e,t)=>e===!0?t:typeof e=="string"?mo(t,e):void 0;function nA(e,t,n,s,r){for(const i of t){const a=tA(n,i);if(a){e.add(a);const c=v_(a._fallback,n,r);if(typeof c<"u"&&c!==n&&c!==s)return c}else if(a===!1&&typeof s<"u"&&n!==s)return null}return!1}function x0(e,t,n,s){const r=t._rootScopes,i=v_(t._fallback,n,s),a=[...e,...r],c=new Set;c.add(s);let d=Bv(c,a,n,i||n,s);return d===null||typeof i<"u"&&i!==n&&(d=Bv(c,a,i,d,s),d===null)?!1:m0(Array.from(c),[""],r,i,()=>sA(t,n,s))}function Bv(e,t,n,s,r){for(;n;)n=nA(e,t,n,s,r);return n}function sA(e,t,n){const s=e._getTarget();t in s||(s[t]={});const r=s[t];return jt(r)&&$e(n)?n:r||{}}function rA(e,t,n,s){let r;for(const i of t)if(r=w_(GM(i,e),n),typeof r<"u")return g0(e,r)?x0(n,s,e,r):r}function w_(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function Vv(e){let t=e._keys;return t||(t=e._keys=iA(e._scopes)),t}function iA(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}const oA=Number.EPSILON||1e-14,Aa=(e,t)=>t<e.length&&!e[t].skip&&e[t],S_=e=>e==="x"?"y":"x";function aA(e,t,n,s){const r=e.skip?t:e,i=t,a=n.skip?t:n,c=Wm(i,r),d=Wm(a,i);let h=c/(c+d),p=d/(c+d);h=isNaN(h)?0:h,p=isNaN(p)?0:p;const m=s*h,x=s*p;return{previous:{x:i.x-m*(a.x-r.x),y:i.y-m*(a.y-r.y)},next:{x:i.x+x*(a.x-r.x),y:i.y+x*(a.y-r.y)}}}function lA(e,t,n){const s=e.length;let r,i,a,c,d,h=Aa(e,0);for(let p=0;p<s-1;++p)if(d=h,h=Aa(e,p+1),!(!d||!h)){if(lo(t[p],0,oA)){n[p]=n[p+1]=0;continue}r=n[p]/t[p],i=n[p+1]/t[p],c=Math.pow(r,2)+Math.pow(i,2),!(c<=9)&&(a=3/Math.sqrt(c),n[p]=r*a*t[p],n[p+1]=i*a*t[p])}}function cA(e,t,n="x"){const s=S_(n),r=e.length;let i,a,c,d=Aa(e,0);for(let h=0;h<r;++h){if(a=c,c=d,d=Aa(e,h+1),!c)continue;const p=c[n],m=c[s];a&&(i=(p-a[n])/3,c[`cp1${n}`]=p-i,c[`cp1${s}`]=m-i*t[h]),d&&(i=(d[n]-p)/3,c[`cp2${n}`]=p+i,c[`cp2${s}`]=m+i*t[h])}}function uA(e,t="x"){const n=S_(t),s=e.length,r=Array(s).fill(0),i=Array(s);let a,c,d,h=Aa(e,0);for(a=0;a<s;++a)if(c=d,d=h,h=Aa(e,a+1),!!d){if(h){const p=h[t]-d[t];r[a]=p!==0?(h[n]-d[n])/p:0}i[a]=c?h?Qn(r[a-1])!==Qn(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}lA(e,r,i),cA(e,i,t)}function xd(e,t,n){return Math.max(Math.min(e,n),t)}function dA(e,t){let n,s,r,i,a,c=Pa(e[0],t);for(n=0,s=e.length;n<s;++n)a=i,i=c,c=n<s-1&&Pa(e[n+1],t),i&&(r=e[n],a&&(r.cp1x=xd(r.cp1x,t.left,t.right),r.cp1y=xd(r.cp1y,t.top,t.bottom)),c&&(r.cp2x=xd(r.cp2x,t.left,t.right),r.cp2y=xd(r.cp2y,t.top,t.bottom)))}function hA(e,t,n,s,r){let i,a,c,d;if(t.spanGaps&&(e=e.filter(h=>!h.skip)),t.cubicInterpolationMode==="monotone")uA(e,r);else{let h=s?e[e.length-1]:e[0];for(i=0,a=e.length;i<a;++i)c=e[i],d=aA(h,c,e[Math.min(i+1,a-(s?0:1))%a],t.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,h=c}t.capBezierPoints&&dA(e,n)}function y0(){return typeof window<"u"&&typeof document<"u"}function b0(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function fh(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const Fh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function fA(e,t){return Fh(e).getPropertyValue(t)}const pA=["top","right","bottom","left"];function co(e,t,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=pA[r];s[i]=parseFloat(e[t+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const mA=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function gA(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:r,offsetY:i}=s;let a=!1,c,d;if(mA(r,i,e.target))c=r,d=i;else{const h=t.getBoundingClientRect();c=s.clientX-h.left,d=s.clientY-h.top,a=!0}return{x:c,y:d,box:a}}function As(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,r=Fh(n),i=r.boxSizing==="border-box",a=co(r,"padding"),c=co(r,"border","width"),{x:d,y:h,box:p}=gA(e,n),m=a.left+(p&&c.left),x=a.top+(p&&c.top);let{width:y,height:v}=t;return i&&(y-=a.width+c.width,v-=a.height+c.height),{x:Math.round((d-m)/y*n.width/s),y:Math.round((h-x)/v*n.height/s)}}function xA(e,t,n){let s,r;if(t===void 0||n===void 0){const i=e&&b0(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const a=i.getBoundingClientRect(),c=Fh(i),d=co(c,"border","width"),h=co(c,"padding");t=a.width-h.width-d.width,n=a.height-h.height-d.height,s=fh(c.maxWidth,i,"clientWidth"),r=fh(c.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:s||dh,maxHeight:r||dh}}const yd=e=>Math.round(e*10)/10;function yA(e,t,n,s){const r=Fh(e),i=co(r,"margin"),a=fh(r.maxWidth,e,"clientWidth")||dh,c=fh(r.maxHeight,e,"clientHeight")||dh,d=xA(e,t,n);let{width:h,height:p}=d;if(r.boxSizing==="content-box"){const x=co(r,"border","width"),y=co(r,"padding");h-=y.width+x.width,p-=y.height+x.height}return h=Math.max(0,h-i.width),p=Math.max(0,s?h/s:p-i.height),h=yd(Math.min(h,a,d.maxWidth)),p=yd(Math.min(p,c,d.maxHeight)),h&&!p&&(p=yd(h/2)),(t!==void 0||n!==void 0)&&s&&d.height&&p>d.height&&(p=d.height,h=yd(Math.floor(p*s))),{width:h,height:p}}function $v(e,t,n){const s=t||1,r=Math.floor(e.height*s),i=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||a.height!==r||a.width!==i?(e.currentDevicePixelRatio=s,a.height=r,a.width=i,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const bA=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};y0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Uv(e,t){const n=fA(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function qi(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function vA(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:s==="middle"?n<.5?e.y:t.y:s==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function wA(e,t,n,s){const r={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},a=qi(e,r,n),c=qi(r,i,n),d=qi(i,t,n),h=qi(a,c,n),p=qi(c,d,n);return qi(h,p,n)}const SA=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},_A=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function ga(e,t,n){return e?SA(t,n):_A()}function __(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function j_(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function C_(e){return e==="angle"?{between:wc,compare:SM,normalize:Dn}:{between:cr,compare:(t,n)=>t-n,normalize:t=>t}}function Hv({start:e,end:t,count:n,loop:s,style:r}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n===0,style:r}}function jA(e,t,n){const{property:s,start:r,end:i}=n,{between:a,normalize:c}=C_(s),d=t.length;let{start:h,end:p,loop:m}=e,x,y;if(m){for(h+=d,p+=d,x=0,y=d;x<y&&a(c(t[h%d][s]),r,i);++x)h--,p--;h%=d,p%=d}return p<h&&(p+=d),{start:h,end:p,loop:m,style:e.style}}function N_(e,t,n){if(!n)return[e];const{property:s,start:r,end:i}=n,a=t.length,{compare:c,between:d,normalize:h}=C_(s),{start:p,end:m,loop:x,style:y}=jA(e,t,n),v=[];let w=!1,S=null,j,N,T;const A=()=>d(r,T,j)&&c(r,T)!==0,P=()=>c(i,j)===0||d(i,T,j),R=()=>w||A(),V=()=>!w||P();for(let I=p,z=p;I<=m;++I)N=t[I%a],!N.skip&&(j=h(N[s]),j!==T&&(w=d(j,r,i),S===null&&R()&&(S=c(j,r)===0?I:z),S!==null&&V()&&(v.push(Hv({start:S,end:I,loop:x,count:a,style:y})),S=null),z=I,T=j));return S!==null&&v.push(Hv({start:S,end:m,loop:x,count:a,style:y})),v}function k_(e,t){const n=[],s=e.segments;for(let r=0;r<s.length;r++){const i=N_(s[r],e.points,t);i.length&&n.push(...i)}return n}function CA(e,t,n,s){let r=0,i=t-1;if(n&&!s)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(i+=r);i>r&&e[i%t].skip;)i--;return i%=t,{start:r,end:i}}function NA(e,t,n,s){const r=e.length,i=[];let a=t,c=e[t],d;for(d=t+1;d<=n;++d){const h=e[d%r];h.skip||h.stop?c.skip||(s=!1,i.push({start:t%r,end:(d-1)%r,loop:s}),t=a=h.stop?d:null):(a=d,c.skip&&(t=d)),c=h}return a!==null&&i.push({start:t%r,end:a%r,loop:s}),i}function kA(e,t){const n=e.points,s=e.options.spanGaps,r=n.length;if(!r)return[];const i=!!e._loop,{start:a,end:c}=CA(n,r,i,s);if(s===!0)return Wv(e,[{start:a,end:c,loop:i}],n,t);const d=c<a?c+r:c,h=!!e._fullLoop&&a===0&&c===r-1;return Wv(e,NA(n,a,d,h),n,t)}function Wv(e,t,n,s){return!s||!s.setContext||!n?t:TA(e,t,n,s)}function TA(e,t,n,s){const r=e._chart.getContext(),i=qv(e.options),{_datasetIndex:a,options:{spanGaps:c}}=e,d=n.length,h=[];let p=i,m=t[0].start,x=m;function y(v,w,S,j){const N=c?-1:1;if(v!==w){for(v+=d;n[v%d].skip;)v-=N;for(;n[w%d].skip;)w+=N;v%d!==w%d&&(h.push({start:v%d,end:w%d,loop:S,style:j}),p=j,m=w%d)}}for(const v of t){m=c?m:v.start;let w=n[m%d],S;for(x=m+1;x<=v.end;x++){const j=n[x%d];S=qv(s.setContext(_o(r,{type:"segment",p0:w,p1:j,p0DataIndex:(x-1)%d,p1DataIndex:x%d,datasetIndex:a}))),EA(S,p)&&y(m,x-1,v.loop,p),w=j,p=S}m<x-1&&y(m,x-1,v.loop,p)}return h}function qv(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function EA(e,t){if(!t)return!1;const n=[],s=function(r,i){return h0(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function bd(e,t,n){return e.options.clip?e[n]:t[n]}function PA(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:bd(n,t,"left"),right:bd(n,t,"right"),top:bd(s,t,"top"),bottom:bd(s,t,"bottom")}:t}function T_(e,t){const n=t._clip;if(n.disabled)return!1;const s=PA(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class MA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,r){const i=n.listeners[r],a=n.duration;i.forEach(c=>c({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(s-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=f_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let a=i.length-1,c=!1,d;for(;a>=0;--a)d=i[a],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(t),c=!0):(i[a]=i[i.length-1],i.pop());c&&(r.draw(),this._notify(r,s,t,"progress")),i.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var nr=new MA;const Yv="transparent",AA={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=Lv(e||Yv),r=s.valid&&Lv(t||Yv);return r&&r.valid?r.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class RA{constructor(t,n,s,r){const i=n[s];r=rt([t.to,r,i,t.from]);const a=rt([t.from,i,r]);this._active=!0,this._fn=t.fn||AA[t.type||typeof a],this._easing=tc[t.easing]||tc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,a=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=rt([t.to,n,r,t.from]),this._from=rt([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,r=this._prop,i=this._from,a=this._loop,c=this._to;let d;if(this._active=i!==c&&(a||n<s),!this._active){this._target[r]=c,this._notify(!0);return}if(n<0){this._target[r]=i;return}d=n/s%2,d=a&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(i,c,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class E_{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!$e(t))return;const n=Object.keys(gt.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const i=t[r];if(!$e(i))return;const a={};for(const c of n)a[c]=i[c];(jt(i.properties)&&i.properties||[r]).forEach(c=>{(c===r||!s.has(c))&&s.set(c,a)})})}_animateOptions(t,n){const s=n.options,r=OA(t,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&DA(t.options.$animations,s).then(()=>{t.options=s},()=>{}),i}_createAnimations(t,n){const s=this._properties,r=[],i=t.$animations||(t.$animations={}),a=Object.keys(n),c=Date.now();let d;for(d=a.length-1;d>=0;--d){const h=a[d];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(t,n));continue}const p=n[h];let m=i[h];const x=s.get(h);if(m)if(x&&m.active()){m.update(x,p,c);continue}else m.cancel();if(!x||!x.duration){t[h]=p;continue}i[h]=m=new RA(x,t,h,p),r.push(m)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return nr.add(this._chart,s),!0}}function DA(e,t){const n=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const i=e[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function OA(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Kv(e,t){const n=e&&e.options||{},s=n.reverse,r=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:s?i:r,end:s?r:i}}function LA(e,t,n){if(n===!1)return!1;const s=Kv(e,n),r=Kv(t,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function IA(e){let t,n,s,r;return $e(e)?(t=e.top,n=e.right,s=e.bottom,r=e.left):t=n=s=r=e,{top:t,right:n,bottom:s,left:r,disabled:e===!1}}function P_(e,t){const n=[],s=e._getSortedDatasetMetas(t);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function Xv(e,t,n,s={}){const r=e.keys,i=s.mode==="single";let a,c,d,h;if(t===null)return;let p=!1;for(a=0,c=r.length;a<c;++a){if(d=+r[a],d===n){if(p=!0,s.all)continue;break}h=e.values[d],Jt(h)&&(i||t===0||Qn(t)===Qn(h))&&(t+=h)}return!p&&!s.all?0:t}function FA(e,t){const{iScale:n,vScale:s}=t,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",a=Object.keys(e),c=new Array(a.length);let d,h,p;for(d=0,h=a.length;d<h;++d)p=a[d],c[d]={[r]:p,[i]:e[p]};return c}function Zp(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function zA(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function BA(e){const{min:t,max:n,minDefined:s,maxDefined:r}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function VA(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function Qv(e,t,n,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const i=e[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function Gv(e,t){const{chart:n,_cachedMeta:s}=e,r=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:c}=s,d=i.axis,h=a.axis,p=zA(i,a,s),m=t.length;let x;for(let y=0;y<m;++y){const v=t[y],{[d]:w,[h]:S}=v,j=v._stacks||(v._stacks={});x=j[h]=VA(r,p,w),x[c]=S,x._top=Qv(x,a,!0,s.type),x._bottom=Qv(x,a,!1,s.type);const N=x._visualValues||(x._visualValues={});N[c]=S}}function Jp(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function $A(e,t){return _o(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function UA(e,t,n){return _o(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function zl(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const r of t){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const em=e=>e==="reset"||e==="none",Zv=(e,t)=>t?e:Object.assign({},e),HA=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:P_(n,!0),values:null};class uo{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Zp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&zl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(m,x,y,v)=>m==="x"?x:m==="r"?v:y,i=n.xAxisID=Re(s.xAxisID,Jp(t,"x")),a=n.yAxisID=Re(s.yAxisID,Jp(t,"y")),c=n.rAxisID=Re(s.rAxisID,Jp(t,"r")),d=n.indexAxis,h=n.iAxisID=r(d,i,a,c),p=n.vAxisID=r(d,a,i,c);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Rv(this._data,this),t._stacked&&zl(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if($e(n)){const r=this._cachedMeta;this._data=FA(n,r)}else if(s!==n){if(s){Rv(s,this);const r=this._cachedMeta;zl(r),r._parsed=[]}n&&Object.isExtensible(n)&&NM(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=Zp(n.vScale,n),n.stack!==s.stack&&(r=!0,zl(n),n.stack=s.stack),this._resyncElements(t),(r||i!==n._stacked)&&(Gv(this,n._parsed),n._stacked=Zp(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:a}=s,c=i.axis;let d=t===0&&n===r.length?!0:s._sorted,h=t>0&&s._parsed[t-1],p,m,x;if(this._parsing===!1)s._parsed=r,s._sorted=!0,x=r;else{jt(r[t])?x=this.parseArrayData(s,r,t,n):$e(r[t])?x=this.parseObjectData(s,r,t,n):x=this.parsePrimitiveData(s,r,t,n);const y=()=>m[c]===null||h&&m[c]<h[c];for(p=0;p<n;++p)s._parsed[p+t]=m=x[p],d&&(y()&&(d=!1),h=m);s._sorted=d}a&&Gv(this,x)}parsePrimitiveData(t,n,s,r){const{iScale:i,vScale:a}=t,c=i.axis,d=a.axis,h=i.getLabels(),p=i===a,m=new Array(r);let x,y,v;for(x=0,y=r;x<y;++x)v=x+s,m[x]={[c]:p||i.parse(h[v],v),[d]:a.parse(n[v],v)};return m}parseArrayData(t,n,s,r){const{xScale:i,yScale:a}=t,c=new Array(r);let d,h,p,m;for(d=0,h=r;d<h;++d)p=d+s,m=n[p],c[d]={x:i.parse(m[0],p),y:a.parse(m[1],p)};return c}parseObjectData(t,n,s,r){const{xScale:i,yScale:a}=t,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=new Array(r);let p,m,x,y;for(p=0,m=r;p<m;++p)x=p+s,y=n[x],h[p]={x:i.parse(mo(y,c),x),y:a.parse(mo(y,d),x)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const r=this.chart,i=this._cachedMeta,a=n[t.axis],c={keys:P_(r,!0),values:n._stacks[t.axis]._visualValues};return Xv(c,a,i.index,{mode:s})}updateRangeFromParsed(t,n,s,r){const i=s[n.axis];let a=i===null?NaN:i;const c=r&&s._stacks[n.axis];r&&c&&(r.values=c,a=Xv(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&t===s.iScale,a=r.length,c=this._getOtherScale(t),d=HA(n,s,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=BA(c);let x,y;function v(){y=r[x];const w=y[c.axis];return!Jt(y[t.axis])||p>w||m<w}for(x=0;x<a&&!(!v()&&(this.updateRangeFromParsed(h,t,y,d),i));++x);if(i){for(x=a-1;x>=0;--x)if(!v()){this.updateRangeFromParsed(h,t,y,d);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let r,i,a;for(r=0,i=n.length;r<i;++r)a=n[r][t.axis],Jt(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(t);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=IA(Re(this.options.clip,LA(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,a=[],c=this._drawStart||0,d=this._drawCount||r.length-c,h=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(t,i,c,d),p=c;p<c+d;++p){const m=r[p];m.hidden||(m.active&&h?a.push(m):m.draw(t,i))}for(p=0;p<a.length;++p)a[p].draw(t,i)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];i=a.$context||(a.$context=UA(this.getContext(),t,a)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=$A(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const r=n==="active",i=this._cachedDataOpts,a=t+"-"+n,c=i[a],d=this.enableOptionSharing&&bc(s);if(c)return Zv(c,d);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,t),m=r?[`${t}Hover`,"hover",t,""]:[t,""],x=h.getOptionScopes(this.getDataset(),p),y=Object.keys(gt.elements[t]),v=()=>this.getContext(s,r,n),w=h.resolveNamedOptions(x,y,v,m);return w.$shared&&(w.$shared=d,i[a]=Object.freeze(Zv(w,d))),w}_resolveAnimations(t,n,s){const r=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,c=i[a];if(c)return c;let d;if(r.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,n),x=p.getOptionScopes(this.getDataset(),m);d=p.createResolver(x,this.getContext(t,s,n))}const h=new E_(r,d&&d.animations);return d&&d._cacheable&&(i[a]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||em(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),r=this._sharedOptions,i=this.getSharedOptions(s),a=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:a}}updateElement(t,n,s,r){em(r)?Object.assign(t,s):this._resolveAnimations(n,r).update(t,s)}updateSharedOptions(t,n,s){t&&!em(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,r){t.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[c,d,h]of this._syncList)this[c](d,h);this._syncList=[];const r=s.length,i=n.length,a=Math.min(i,r);a&&this.parse(0,a),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,n,s=!0){const r=this._cachedMeta,i=r.data,a=t+n;let c;const d=h=>{for(h.length+=n,c=h.length-1;c>=a;c--)h[c]=h[c-n]};for(d(i),c=t;c<a;++c)i[c]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,n),s&&this.updateElements(i,t,n,"reset")}updateElements(t,n,s,r){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(t,n);s._stacked&&zl(s,r)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,r]=t;this[n](s,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ye(uo,"defaults",{}),ye(uo,"datasetElementType",null),ye(uo,"dataElementType",null);function WA(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=h_(s.sort((r,i)=>r-i))}return e._cache.$bar}function qA(e){const t=e.iScale,n=WA(t,e.type);let s=t._length,r,i,a,c;const d=()=>{a===32767||a===-32768||(bc(c)&&(s=Math.min(s,Math.abs(a-c)||s)),c=a)};for(r=0,i=n.length;r<i;++r)a=t.getPixelForValue(n[r]),d();for(c=void 0,r=0,i=t.ticks.length;r<i;++r)a=t.getPixelForTick(r),d();return s}function YA(e,t,n,s){const r=n.barThickness;let i,a;return We(r)?(i=t.min*n.categoryPercentage,a=n.barPercentage):(i=r*s,a=1),{chunk:i/s,ratio:a,start:t.pixels[e]-i/2}}function KA(e,t,n,s){const r=t.pixels,i=r[e];let a=e>0?r[e-1]:null,c=e<r.length-1?r[e+1]:null;const d=n.categoryPercentage;a===null&&(a=i-(c===null?t.end-t.start:c-i)),c===null&&(c=i+i-a);const h=i-(i-Math.min(a,c))/2*d;return{chunk:Math.abs(c-a)/2*d/s,ratio:n.barPercentage,start:h}}function XA(e,t,n,s){const r=n.parse(e[0],s),i=n.parse(e[1],s),a=Math.min(r,i),c=Math.max(r,i);let d=a,h=c;Math.abs(a)>Math.abs(c)&&(d=c,h=a),t[n.axis]=h,t._custom={barStart:d,barEnd:h,start:r,end:i,min:a,max:c}}function M_(e,t,n,s){return jt(e)?XA(e,t,n,s):t[n.axis]=n.parse(e,s),t}function Jv(e,t,n,s){const r=e.iScale,i=e.vScale,a=r.getLabels(),c=r===i,d=[];let h,p,m,x;for(h=n,p=n+s;h<p;++h)x=t[h],m={},m[r.axis]=c||r.parse(a[h],h),d.push(M_(x,m,i,h));return d}function tm(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function QA(e,t,n){return e!==0?Qn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function GA(e){let t,n,s,r,i;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:t,top:r,bottom:i}}function ZA(e,t,n,s){let r=t.borderSkipped;const i={};if(!r){e.borderSkipped=i;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:c,reverse:d,top:h,bottom:p}=GA(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?r=h:(n._bottom||0)===s?r=p:(i[e1(p,a,c,d)]=!0,r=h)),i[e1(r,a,c,d)]=!0,e.borderSkipped=i}function e1(e,t,n,s){return s?(e=JA(e,t,n),e=t1(e,n,t)):e=t1(e,t,n),e}function JA(e,t,n){return e===t?n:e===n?t:e}function t1(e,t,n){return e==="start"?t:e==="end"?n:e}function eR(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class sc extends uo{parsePrimitiveData(t,n,s,r){return Jv(t,n,s,r)}parseArrayData(t,n,s,r){return Jv(t,n,s,r)}parseObjectData(t,n,s,r){const{iScale:i,vScale:a}=t,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=i.axis==="x"?c:d,p=a.axis==="x"?c:d,m=[];let x,y,v,w;for(x=s,y=s+r;x<y;++x)w=n[x],v={},v[i.axis]=i.parse(mo(w,h),x),m.push(M_(mo(w,p),v,a,x));return m}updateRangeFromParsed(t,n,s,r){super.updateRangeFromParsed(t,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(t),a=i._custom,c=tm(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,r){const i=r==="reset",{index:a,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),h=c.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:x}=this._getSharedOptions(n,r);for(let y=n;y<n+s;y++){const v=this.getParsed(y),w=i||We(v[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(y),S=this._calculateBarIndexPixels(y,p),j=(v._stacks||{})[c.axis],N={horizontal:h,base:w.base,enableBorderRadius:!j||tm(v._custom)||a===j._top||a===j._bottom,x:h?w.head:S.center,y:h?S.center:w.head,height:h?S.size:Math.abs(w.size),width:h?Math.abs(w.size):S.size};x&&(N.options=m||this.resolveDataElementOptions(y,t[y].active?"active":r));const T=N.options||t[y].options;ZA(N,T,j,a),eR(N,T,p.ratio),this.updateElement(t[y],y,N,r)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),i=s.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(n),d=c&&c[s.axis],h=p=>{const m=p._parsed.find(y=>y[s.axis]===d),x=m&&m[p.vScale.axis];if(We(x)||isNaN(x))return!0};for(const p of r)if(!(n!==void 0&&h(p))&&((i===!1||a.indexOf(p.stack)===-1||i===void 0&&p.stack===void 0)&&a.push(p.stack),p.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Re(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const r=this._getStacks(t,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,a;for(i=0,a=n.data.length;i<a;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const c=t.barThickness;return{min:c||qA(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:a}}=this,c=i||0,d=this.getParsed(t),h=d._custom,p=tm(h);let m=d[n.axis],x=0,y=s?this.applyStack(n,d,s):m,v,w;y!==m&&(x=y-m,y=m),p&&(m=h.barStart,y=h.barEnd-h.barStart,m!==0&&Qn(m)!==Qn(h.barEnd)&&(x=0),x+=m);const S=!We(i)&&!p?i:x;let j=n.getPixelForValue(S);if(this.chart.getDataVisibility(t)?v=n.getPixelForValue(x+y):v=j,w=v-j,Math.abs(w)<a){w=QA(w,n,c)*a,m===c&&(j-=w/2);const N=n.getPixelForDecimal(0),T=n.getPixelForDecimal(1),A=Math.min(N,T),P=Math.max(N,T);j=Math.max(Math.min(j,P),A),v=j+w,s&&!p&&(d._stacks[n.axis]._visualValues[r]=n.getValueForPixel(v)-n.getValueForPixel(j))}if(j===n.getPixelForValue(c)){const N=Qn(w)*n.getLineWidthForValue(c)/2;j+=N,w-=N}return{size:w,base:j,head:v,center:v+w/2}}_calculateBarIndexPixels(t,n){const s=n.scale,r=this.options,i=r.skipNull,a=Re(r.maxBarThickness,1/0);let c,d;const h=this._getAxisCount();if(n.grouped){const p=i?this._getStackCount(t):n.stackCount,m=r.barThickness==="flex"?KA(t,n,r,p*h):YA(t,n,r,p*h),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Re(x,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+y;c=m.start+m.chunk*v+m.chunk/2,d=Math.min(a,m.chunk*m.ratio)}else c=s.getPixelForValue(this.getParsed(t)[s.axis],t),d=Math.min(a,n.min*n.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}ye(sc,"id","bar"),ye(sc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ye(sc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function tR(e,t,n){let s=1,r=1,i=0,a=0;if(t<dt){const c=e,d=c+t,h=Math.cos(c),p=Math.sin(c),m=Math.cos(d),x=Math.sin(d),y=(T,A,P)=>wc(T,c,d,!0)?1:Math.max(A,A*n,P,P*n),v=(T,A,P)=>wc(T,c,d,!0)?-1:Math.min(A,A*n,P,P*n),w=y(0,h,m),S=y(Rt,p,x),j=v(Qe,h,m),N=v(Qe+Rt,p,x);s=(w-j)/2,r=(S-N)/2,i=-(w+j)/2,a=-(S+N)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:a}}class ca extends uo{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=d=>+s[d];if($e(s[t])){const{key:d="value"}=this._parsing;i=h=>+mo(s[h],d)}let a,c;for(a=t,c=t+n;a<c;++a)r._parsed[a]=i(a)}}_getRotation(){return lr(this.options.rotation-90)}_getCircumference(){return lr(this.options.circumference)}_getRotationExtents(){let t=dt,n=-dt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),a=r._getCircumference();t=Math.min(t,i),n=Math.max(n,i+a)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,c=Math.max((Math.min(s.width,s.height)-a)/2,0),d=Math.min(cM(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:p,rotation:m}=this._getRotationExtents(),{ratioX:x,ratioY:y,offsetX:v,offsetY:w}=tR(m,p,d),S=(s.width-a)/x,j=(s.height-a)/y,N=Math.max(Math.min(S,j)/2,0),T=a_(this.options.radius,N),A=Math.max(T*d,0),P=(T-A)/this._getVisibleDatasetWeightTotal();this.offsetX=v*T,this.offsetY=w*T,r.total=this.calculateTotal(),this.outerRadius=T-P*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-P*h,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/dt)}updateElements(t,n,s,r){const i=r==="reset",a=this.chart,c=a.chartArea,h=a.options.animation,p=(c.left+c.right)/2,m=(c.top+c.bottom)/2,x=i&&h.animateScale,y=x?0:this.innerRadius,v=x?0:this.outerRadius,{sharedOptions:w,includeOptions:S}=this._getSharedOptions(n,r);let j=this._getRotation(),N;for(N=0;N<n;++N)j+=this._circumference(N,i);for(N=n;N<n+s;++N){const T=this._circumference(N,i),A=t[N],P={x:p+this.offsetX,y:m+this.offsetY,startAngle:j,endAngle:j+T,circumference:T,outerRadius:v,innerRadius:y};S&&(P.options=w||this.resolveDataElementOptions(N,A.active?"active":r)),j+=T,this.updateElement(A,N,P,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,r;for(r=0;r<n.length;r++){const i=t._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?dt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=f0(n._parsed[t],s.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const s=this.chart;let r,i,a,c,d;if(!t){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){a=s.getDatasetMeta(r),t=a.data,c=a.controller;break}}if(!t)return 0;for(r=0,i=t.length;r<i;++r)d=c.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(n=Math.max(n,d.borderWidth||0,d.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,r=t.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(Re(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ye(ca,"id","doughnut"),ye(ca,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ye(ca,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ye(ca,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=t.legend.options;return n.labels.map((i,a)=>{const d=t.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class Kd extends uo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:c,count:d}=EM(n,r,a);this._drawStart=c,this._drawCount=d,PM(n)&&(c=0,d=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:h},t),this.updateElements(r,c,d,t)}updateElements(t,n,s,r){const i=r==="reset",{iScale:a,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(n,r),x=a.axis,y=c.axis,{spanGaps:v,segment:w}=this.options,S=vc(v)?v:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||i||r==="none",N=n+s,T=t.length;let A=n>0&&this.getParsed(n-1);for(let P=0;P<T;++P){const R=t[P],V=j?R:{};if(P<n||P>=N){V.skip=!0;continue}const I=this.getParsed(P),z=We(I[y]),U=V[x]=a.getPixelForValue(I[x],P),J=V[y]=i||z?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,I,d):I[y],P);V.skip=isNaN(U)||isNaN(J)||z,V.stop=P>0&&Math.abs(I[x]-A[x])>S,w&&(V.parsed=I,V.raw=h.data[P]),m&&(V.options=p||this.resolveDataElementOptions(P,R.active?"active":r)),j||this.updateElement(R,P,V,r),A=I}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ye(Kd,"id","line"),ye(Kd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ye(Kd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Km extends ca{}ye(Km,"id","pie"),ye(Km,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function $i(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class v0{constructor(t){ye(this,"options");this.options=t||{}}static override(t){Object.assign(v0.prototype,t)}init(){}formats(){return $i()}parse(){return $i()}format(){return $i()}add(){return $i()}diff(){return $i()}startOf(){return $i()}endOf(){return $i()}}var nR={_date:v0};function sR(e,t,n,s){const{controller:r,data:i,_sorted:a}=e,c=r._cachedMeta.iScale,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&a&&i.length){const h=c._reversePixels?jM:Xi;if(s){if(r._sharedOptions){const p=i[0],m=typeof p.getRange=="function"&&p.getRange(t);if(m){const x=h(i,t,n-m),y=h(i,t,n+m);return{lo:x.lo,hi:y.hi}}}}else{const p=h(i,t,n);if(d){const{vScale:m}=r._cachedMeta,{_parsed:x}=e,y=x.slice(0,p.lo+1).reverse().findIndex(w=>!We(w[m.axis]));p.lo-=Math.max(0,y);const v=x.slice(p.hi).findIndex(w=>!We(w[m.axis]));p.hi+=Math.max(0,v)}return p}}return{lo:0,hi:i.length-1}}function zh(e,t,n,s,r){const i=e.getSortedVisibleDatasetMetas(),a=n[t];for(let c=0,d=i.length;c<d;++c){const{index:h,data:p}=i[c],{lo:m,hi:x}=sR(i[c],t,a,r);for(let y=m;y<=x;++y){const v=p[y];v.skip||s(v,h,y)}}}function rR(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,r){const i=t?Math.abs(s.x-r.x):0,a=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function nm(e,t,n,s,r){const i=[];return!r&&!e.isPointInArea(t)||zh(e,n,t,function(c,d,h){!r&&!Pa(c,e.chartArea,0)||c.inRange(t.x,t.y,s)&&i.push({element:c,datasetIndex:d,index:h})},!0),i}function iR(e,t,n,s){let r=[];function i(a,c,d){const{startAngle:h,endAngle:p}=a.getProps(["startAngle","endAngle"],s),{angle:m}=u_(a,{x:t.x,y:t.y});wc(m,h,p)&&r.push({element:a,datasetIndex:c,index:d})}return zh(e,n,t,i),r}function oR(e,t,n,s,r,i){let a=[];const c=rR(n);let d=Number.POSITIVE_INFINITY;function h(p,m,x){const y=p.inRange(t.x,t.y,r);if(s&&!y)return;const v=p.getCenterPoint(r);if(!(!!i||e.isPointInArea(v))&&!y)return;const S=c(t,v);S<d?(a=[{element:p,datasetIndex:m,index:x}],d=S):S===d&&a.push({element:p,datasetIndex:m,index:x})}return zh(e,n,t,h),a}function sm(e,t,n,s,r,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!s?iR(e,t,n,r):oR(e,t,n,s,r,i)}function n1(e,t,n,s,r){const i=[],a=n==="x"?"inXRange":"inYRange";let c=!1;return zh(e,n,t,(d,h,p)=>{d[a]&&d[a](t[n],r)&&(i.push({element:d,datasetIndex:h,index:p}),c=c||d.inRange(t.x,t.y,r))}),s&&!c?[]:i}var aR={modes:{index(e,t,n,s){const r=As(t,e),i=n.axis||"x",a=n.includeInvisible||!1,c=n.intersect?nm(e,r,i,s,a):sm(e,r,i,!1,s,a),d=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const p=c[0].index,m=h.data[p];m&&!m.skip&&d.push({element:m,datasetIndex:h.index,index:p})}),d):[]},dataset(e,t,n,s){const r=As(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;let c=n.intersect?nm(e,r,i,s,a):sm(e,r,i,!1,s,a);if(c.length>0){const d=c[0].datasetIndex,h=e.getDatasetMeta(d).data;c=[];for(let p=0;p<h.length;++p)c.push({element:h[p],datasetIndex:d,index:p})}return c},point(e,t,n,s){const r=As(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;return nm(e,r,i,s,a)},nearest(e,t,n,s){const r=As(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;return sm(e,r,i,n.intersect,s,a)},x(e,t,n,s){const r=As(t,e);return n1(e,r,"x",n.intersect,s)},y(e,t,n,s){const r=As(t,e);return n1(e,r,"y",n.intersect,s)}}};const A_=["left","top","right","bottom"];function Bl(e,t){return e.filter(n=>n.pos===t)}function s1(e,t){return e.filter(n=>A_.indexOf(n.pos)===-1&&n.box.axis===t)}function Vl(e,t){return e.sort((n,s)=>{const r=t?s:n,i=t?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function lR(e){const t=[];let n,s,r,i,a,c;for(n=0,s=(e||[]).length;n<s;++n)r=e[n],{position:i,options:{stack:a,stackWeight:c=1}}=r,t.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&i+a,stackWeight:c});return t}function cR(e){const t={};for(const n of e){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!A_.includes(r))continue;const a=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return t}function uR(e,t){const n=cR(e),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let i,a,c;for(i=0,a=e.length;i<a;++i){c=e[i];const{fullSize:d}=c.box,h=n[c.stack],p=h&&c.stackWeight/h.weight;c.horizontal?(c.width=p?p*s:d&&t.availableWidth,c.height=r):(c.width=s,c.height=p?p*r:d&&t.availableHeight)}return n}function dR(e){const t=lR(e),n=Vl(t.filter(h=>h.box.fullSize),!0),s=Vl(Bl(t,"left"),!0),r=Vl(Bl(t,"right")),i=Vl(Bl(t,"top"),!0),a=Vl(Bl(t,"bottom")),c=s1(t,"x"),d=s1(t,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(d).concat(a).concat(c),chartArea:Bl(t,"chartArea"),vertical:s.concat(r).concat(d),horizontal:i.concat(a).concat(c)}}function r1(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function R_(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function hR(e,t,n,s){const{pos:r,box:i}=n,a=e.maxPadding;if(!$e(r)){n.size&&(e[r]-=n.size);const m=s[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?i.height:i.width),n.size=m.size/m.count,e[r]+=n.size}i.getPadding&&R_(a,i.getPadding());const c=Math.max(0,t.outerWidth-r1(a,e,"left","right")),d=Math.max(0,t.outerHeight-r1(a,e,"top","bottom")),h=c!==e.w,p=d!==e.h;return e.w=c,e.h=d,n.horizontal?{same:h,other:p}:{same:p,other:h}}function fR(e){const t=e.maxPadding;function n(s){const r=Math.max(t[s]-e[s],0);return e[s]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function pR(e,t){const n=t.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{i[a]=Math.max(t[a],n[a])}),i}return s(e?["left","right"]:["top","bottom"])}function Ql(e,t,n,s){const r=[];let i,a,c,d,h,p;for(i=0,a=e.length,h=0;i<a;++i){c=e[i],d=c.box,d.update(c.width||t.w,c.height||t.h,pR(c.horizontal,t));const{same:m,other:x}=hR(t,n,c,s);h|=m&&r.length,p=p||x,d.fullSize||r.push(c)}return h&&Ql(r,t,n,s)||p}function vd(e,t,n,s,r){e.top=n,e.left=t,e.right=t+s,e.bottom=n+r,e.width=s,e.height=r}function i1(e,t,n,s){const r=n.padding;let{x:i,y:a}=t;for(const c of e){const d=c.box,h=s[c.stack]||{placed:0,weight:1},p=c.stackWeight/h.weight||1;if(c.horizontal){const m=t.w*p,x=h.size||d.height;bc(h.start)&&(a=h.start),d.fullSize?vd(d,r.left,a,n.outerWidth-r.right-r.left,x):vd(d,t.left+h.placed,a,m,x),h.start=a,h.placed+=m,a=d.bottom}else{const m=t.h*p,x=h.size||d.width;bc(h.start)&&(i=h.start),d.fullSize?vd(d,i,r.top,x,n.outerHeight-r.bottom-r.top):vd(d,i,t.top+h.placed,x,m),h.start=i,h.placed+=m,i=d.right}}t.x=i,t.y=a}var Xn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const r=Ln(e.options.layout.padding),i=Math.max(t-r.width,0),a=Math.max(n-r.height,0),c=dR(e.boxes),d=c.vertical,h=c.horizontal;Be(e.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=d.reduce((w,S)=>S.box.options&&S.box.options.display===!1?w:w+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/p,hBoxMaxHeight:a/2}),x=Object.assign({},r);R_(x,Ln(s));const y=Object.assign({maxPadding:x,w:i,h:a,x:r.left,y:r.top},r),v=uR(d.concat(h),m);Ql(c.fullSize,y,m,v),Ql(d,y,m,v),Ql(h,y,m,v)&&Ql(d,y,m,v),fR(y),i1(c.leftAndTop,y,m,v),y.x+=y.w,y.y+=y.h,i1(c.rightAndBottom,y,m,v),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Be(c.chartArea,w=>{const S=w.box;Object.assign(S,e.chartArea),S.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class D_{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,r){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(t){return!0}updateConfig(t){}}class mR extends D_{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Xd="$chartjs",gR={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},o1=e=>e===null||e==="";function xR(e,t){const n=e.style,s=e.getAttribute("height"),r=e.getAttribute("width");if(e[Xd]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",o1(r)){const i=Uv(e,"width");i!==void 0&&(e.width=i)}if(o1(s))if(e.style.height==="")e.height=e.width/(t||2);else{const i=Uv(e,"height");i!==void 0&&(e.height=i)}return e}const O_=bA?{passive:!0}:!1;function yR(e,t,n){e&&e.addEventListener(t,n,O_)}function bR(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,O_)}function vR(e,t){const n=gR[e.type]||e.type,{x:s,y:r}=As(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:r!==void 0?r:null}}function ph(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function wR(e,t,n){const s=e.canvas,r=new MutationObserver(i=>{let a=!1;for(const c of i)a=a||ph(c.addedNodes,s),a=a&&!ph(c.removedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function SR(e,t,n){const s=e.canvas,r=new MutationObserver(i=>{let a=!1;for(const c of i)a=a||ph(c.removedNodes,s),a=a&&!ph(c.addedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const _c=new Map;let a1=0;function L_(){const e=window.devicePixelRatio;e!==a1&&(a1=e,_c.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function _R(e,t){_c.size||window.addEventListener("resize",L_),_c.set(e,t)}function jR(e){_c.delete(e),_c.size||window.removeEventListener("resize",L_)}function CR(e,t,n){const s=e.canvas,r=s&&b0(s);if(!r)return;const i=p_((c,d)=>{const h=r.clientWidth;n(c,d),h<r.clientWidth&&n()},window),a=new ResizeObserver(c=>{const d=c[0],h=d.contentRect.width,p=d.contentRect.height;h===0&&p===0||i(h,p)});return a.observe(r),_R(e,i),a}function rm(e,t,n){n&&n.disconnect(),t==="resize"&&jR(e)}function NR(e,t,n){const s=e.canvas,r=p_(i=>{e.ctx!==null&&n(vR(i,e))},e);return yR(s,t,r),r}class kR extends D_{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(xR(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Xd])return!1;const s=n[Xd].initial;["height","width"].forEach(i=>{const a=s[i];We(a)?n.removeAttribute(i):n.setAttribute(i,a)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Xd],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),a={attach:wR,detach:SR,resize:CR}[n]||NR;r[n]=a(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),r=s[n];if(!r)return;({attach:rm,detach:rm,resize:rm}[n]||bR)(t,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,r){return yA(t,n,s,r)}isAttached(t){const n=t&&b0(t);return!!(n&&n.isConnected)}}function TR(e){return!y0()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?mR:kR}var Vd;let vr=(Vd=class{constructor(){ye(this,"x");ye(this,"y");ye(this,"active",!1);ye(this,"options");ye(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return vc(this.x)&&vc(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const r={};return t.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}},ye(Vd,"defaults",{}),ye(Vd,"defaultRoutes"),Vd);function ER(e,t){const n=e.options.ticks,s=PR(e),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?AR(t):[],a=i.length,c=i[0],d=i[a-1],h=[];if(a>r)return RR(t,h,i,a/r),h;const p=MR(i,t,r);if(a>0){let m,x;const y=a>1?Math.round((d-c)/(a-1)):null;for(wd(t,h,p,We(y)?0:c-y,c),m=0,x=a-1;m<x;m++)wd(t,h,p,i[m],i[m+1]);return wd(t,h,p,d,We(y)?t.length:d+y),h}return wd(t,h,p),h}function PR(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(s,r))}function MR(e,t,n){const s=DR(e),r=t.length/n;if(!s)return Math.max(r,1);const i=xM(s);for(let a=0,c=i.length-1;a<c;a++){const d=i[a];if(d>r)return d}return Math.max(r,1)}function AR(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function RR(e,t,n,s){let r=0,i=n[0],a;for(s=Math.ceil(s),a=0;a<e.length;a++)a===i&&(t.push(e[a]),r++,i=n[r*s])}function wd(e,t,n,s,r){const i=Re(s,0),a=Math.min(Re(r,e.length),e.length);let c=0,d,h,p;for(n=Math.ceil(n),r&&(d=r-s,n=d/Math.floor(d/n)),p=i;p<0;)c++,p=Math.round(i+c*n);for(h=Math.max(i,0);h<a;h++)h===p&&(t.push(e[h]),c++,p=Math.round(i+c*n))}function DR(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const OR=e=>e==="left"?"right":e==="right"?"left":e,l1=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,c1=(e,t)=>Math.min(t||e,e);function u1(e,t){const n=[],s=e.length/t,r=e.length;let i=0;for(;i<r;i+=s)n.push(e[Math.floor(i)]);return n}function LR(e,t,n){const s=e.ticks.length,r=Math.min(t,s-1),i=e._startPixel,a=e._endPixel,c=1e-6;let d=e.getPixelForTick(r),h;if(!(n&&(s===1?h=Math.max(d-i,a-d):t===0?h=(e.getPixelForTick(1)-d)/2:h=(d-e.getPixelForTick(r-1))/2,d+=r<t?h:-h,d<i-c||d>a+c)))return d}function IR(e,t){Be(e,n=>{const s=n.gc,r=s.length/2;let i;if(r>t){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function $l(e){return e.drawTicks?e.tickLength:0}function d1(e,t){if(!e.display)return 0;const n=Vt(e.font,t),s=Ln(e.padding);return(jt(e.text)?e.text.length:1)*n.lineHeight+s.height}function FR(e,t){return _o(e,{scale:t,type:"scale"})}function zR(e,t,n){return _o(e,{tick:n,index:t,type:"tick"})}function BR(e,t,n){let s=d0(e);return(n&&t!=="right"||!n&&t==="right")&&(s=OR(s)),s}function VR(e,t,n,s){const{top:r,left:i,bottom:a,right:c,chart:d}=e,{chartArea:h,scales:p}=d;let m=0,x,y,v;const w=a-r,S=c-i;if(e.isHorizontal()){if(y=Xt(s,i,c),$e(n)){const j=Object.keys(n)[0],N=n[j];v=p[j].getPixelForValue(N)+w-t}else n==="center"?v=(h.bottom+h.top)/2+w-t:v=l1(e,n,t);x=c-i}else{if($e(n)){const j=Object.keys(n)[0],N=n[j];y=p[j].getPixelForValue(N)-S+t}else n==="center"?y=(h.left+h.right)/2-S+t:y=l1(e,n,t);v=Xt(s,a,r),m=n==="left"?-Rt:Rt}return{titleX:y,titleY:v,maxWidth:x,rotation:m}}class Ba extends vr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return t=Ns(t,Number.POSITIVE_INFINITY),n=Ns(n,Number.NEGATIVE_INFINITY),s=Ns(s,Number.POSITIVE_INFINITY),r=Ns(r,Number.NEGATIVE_INFINITY),{min:Ns(t,s),max:Ns(n,r),minDefined:Jt(t),maxDefined:Jt(n)}}getMinMax(t){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),a;if(r&&i)return{min:n,max:s};const c=this.getMatchingVisibleMetas();for(let d=0,h=c.length;d<h;++d)a=c[d].controller.getMinMax(this,t),r||(n=Math.min(n,a.min)),i||(s=Math.max(s,a.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:Ns(n,Ns(s,n)),max:Ns(s,Ns(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ke(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:r,grace:i,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=QM(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?u1(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=ER(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ke(this.options.afterUpdate,[this])}beforeSetDimensions(){ke(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ke(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ke(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ke(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s],i.label=ke(n.callback,[i.value,s,t],this)}afterTickToLabelConversion(){ke(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ke(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=c1(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let a=r,c,d,h;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),m=p.widest.width,x=p.highest.height,y=Gt(this.chart.width-m,0,this.maxWidth);c=t.offset?this.maxWidth/s:y/(s-1),m+6>c&&(c=y/(s-(t.offset?.5:1)),d=this.maxHeight-$l(t.grid)-n.padding-d1(t.title,this.chart.options.font),h=Math.sqrt(m*m+x*x),a=wM(Math.min(Math.asin(Gt((p.highest.height+6)/c,-1,1)),Math.asin(Gt(d/h,-1,1))-Math.asin(Gt(x/h,-1,1)))),a=Math.max(r,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){ke(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ke(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const d=d1(r,n.options.font);if(c?(t.width=this.maxWidth,t.height=$l(i)+d):(t.height=this.maxHeight,t.width=$l(i)+d),s.display&&this.ticks.length){const{first:h,last:p,widest:m,highest:x}=this._getLabelSizes(),y=s.padding*2,v=lr(this.labelRotation),w=Math.cos(v),S=Math.sin(v);if(c){const j=s.mirror?0:S*m.width+w*x.height;t.height=Math.min(this.maxHeight,t.height+j+y)}else{const j=s.mirror?0:w*m.width+S*x.height;t.width=Math.min(this.maxWidth,t.width+j+y)}this._calculatePadding(h,p,S,w)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,r){const{ticks:{align:i,padding:a},position:c}=this.options,d=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,y=0;d?h?(x=r*t.width,y=s*n.height):(x=s*t.height,y=r*n.width):i==="start"?y=n.width:i==="end"?x=t.width:i!=="inner"&&(x=t.width/2,y=n.width/2),this.paddingLeft=Math.max((x-p+a)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-m+a)*this.width/(this.width-m),0)}else{let p=n.height/2,m=t.height/2;i==="start"?(p=0,m=t.height):i==="end"&&(p=n.height,m=0),this.paddingTop=p+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ke(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)We(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=u1(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:r,_longestTextCache:i}=this,a=[],c=[],d=Math.floor(n/c1(n,s));let h=0,p=0,m,x,y,v,w,S,j,N,T,A,P;for(m=0;m<n;m+=d){if(v=t[m].label,w=this._resolveTickFontOptions(m),r.font=S=w.string,j=i[S]=i[S]||{data:{},gc:[]},N=w.lineHeight,T=A=0,!We(v)&&!jt(v))T=Fv(r,j.data,j.gc,T,v),A=N;else if(jt(v))for(x=0,y=v.length;x<y;++x)P=v[x],!We(P)&&!jt(P)&&(T=Fv(r,j.data,j.gc,T,P),A+=N);a.push(T),c.push(A),h=Math.max(T,h),p=Math.max(A,p)}IR(i,n);const R=a.indexOf(h),V=c.indexOf(p),I=z=>({width:a[z]||0,height:c[z]||0});return{first:I(0),last:I(n-1),widest:I(R),highest:I(V),widths:a,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return _M(this._alignToPixels?Vi(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=zR(this.getContext(),t,s))}return this.$context||(this.$context=FR(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=lr(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=t.autoSkipPadding||0,c=i?i.widest.width+a:0,d=i?i.highest.height+a:0;return this.isHorizontal()?d*s>c*r?c/s:d/r:d*r<c*s?d/s:c/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:a,border:c}=r,d=i.offset,h=this.isHorizontal(),m=this.ticks.length+(d?1:0),x=$l(i),y=[],v=c.setContext(this.getContext()),w=v.display?v.width:0,S=w/2,j=function(ee){return Vi(s,ee,w)};let N,T,A,P,R,V,I,z,U,J,se,de;if(a==="top")N=j(this.bottom),V=this.bottom-x,z=N-S,J=j(t.top)+S,de=t.bottom;else if(a==="bottom")N=j(this.top),J=t.top,de=j(t.bottom)-S,V=N+S,z=this.top+x;else if(a==="left")N=j(this.right),R=this.right-x,I=N-S,U=j(t.left)+S,se=t.right;else if(a==="right")N=j(this.left),U=t.left,se=j(t.right)-S,R=N+S,I=this.left+x;else if(n==="x"){if(a==="center")N=j((t.top+t.bottom)/2+.5);else if($e(a)){const ee=Object.keys(a)[0],Z=a[ee];N=j(this.chart.scales[ee].getPixelForValue(Z))}J=t.top,de=t.bottom,V=N+S,z=V+x}else if(n==="y"){if(a==="center")N=j((t.left+t.right)/2);else if($e(a)){const ee=Object.keys(a)[0],Z=a[ee];N=j(this.chart.scales[ee].getPixelForValue(Z))}R=N-S,I=R-x,U=t.left,se=t.right}const G=Re(r.ticks.maxTicksLimit,m),he=Math.max(1,Math.ceil(m/G));for(T=0;T<m;T+=he){const ee=this.getContext(T),Z=i.setContext(ee),K=c.setContext(ee),te=Z.lineWidth,O=Z.color,Q=K.dash||[],ce=K.dashOffset,Se=Z.tickWidth,we=Z.tickColor,Ue=Z.tickBorderDash||[],De=Z.tickBorderDashOffset;A=LR(this,T,d),A!==void 0&&(P=Vi(s,A,te),h?R=I=U=se=P:V=z=J=de=P,y.push({tx1:R,ty1:V,tx2:I,ty2:z,x1:U,y1:J,x2:se,y2:de,width:te,color:O,borderDash:Q,borderDashOffset:ce,tickWidth:Se,tickColor:we,tickBorderDash:Ue,tickBorderDashOffset:De}))}return this._ticksLength=m,this._borderValue=N,y}_computeLabelItems(t){const n=this.axis,s=this.options,{position:r,ticks:i}=s,a=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:h,padding:p,mirror:m}=i,x=$l(s.grid),y=x+p,v=m?-p:y,w=-lr(this.labelRotation),S=[];let j,N,T,A,P,R,V,I,z,U,J,se,de="middle";if(r==="top")R=this.bottom-v,V=this._getXAxisLabelAlignment();else if(r==="bottom")R=this.top+v,V=this._getXAxisLabelAlignment();else if(r==="left"){const he=this._getYAxisLabelAlignment(x);V=he.textAlign,P=he.x}else if(r==="right"){const he=this._getYAxisLabelAlignment(x);V=he.textAlign,P=he.x}else if(n==="x"){if(r==="center")R=(t.top+t.bottom)/2+y;else if($e(r)){const he=Object.keys(r)[0],ee=r[he];R=this.chart.scales[he].getPixelForValue(ee)+y}V=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")P=(t.left+t.right)/2-y;else if($e(r)){const he=Object.keys(r)[0],ee=r[he];P=this.chart.scales[he].getPixelForValue(ee)}V=this._getYAxisLabelAlignment(x).textAlign}n==="y"&&(d==="start"?de="top":d==="end"&&(de="bottom"));const G=this._getLabelSizes();for(j=0,N=c.length;j<N;++j){T=c[j],A=T.label;const he=i.setContext(this.getContext(j));I=this.getPixelForTick(j)+i.labelOffset,z=this._resolveTickFontOptions(j),U=z.lineHeight,J=jt(A)?A.length:1;const ee=J/2,Z=he.color,K=he.textStrokeColor,te=he.textStrokeWidth;let O=V;a?(P=I,V==="inner"&&(j===N-1?O=this.options.reverse?"left":"right":j===0?O=this.options.reverse?"right":"left":O="center"),r==="top"?h==="near"||w!==0?se=-J*U+U/2:h==="center"?se=-G.highest.height/2-ee*U+U:se=-G.highest.height+U/2:h==="near"||w!==0?se=U/2:h==="center"?se=G.highest.height/2-ee*U:se=G.highest.height-J*U,m&&(se*=-1),w!==0&&!he.showLabelBackdrop&&(P+=U/2*Math.sin(w))):(R=I,se=(1-J)*U/2);let Q;if(he.showLabelBackdrop){const ce=Ln(he.backdropPadding),Se=G.heights[j],we=G.widths[j];let Ue=se-ce.top,De=0-ce.left;switch(de){case"middle":Ue-=Se/2;break;case"bottom":Ue-=Se;break}switch(V){case"center":De-=we/2;break;case"right":De-=we;break;case"inner":j===N-1?De-=we:j>0&&(De-=we/2);break}Q={left:De,top:Ue,width:we+ce.width,height:Se+ce.height,color:he.backdropColor}}S.push({label:A,font:z,textOffset:se,options:{rotation:w,color:Z,strokeColor:K,strokeWidth:te,textAlign:O,textBaseline:de,translation:[P,R],backdrop:Q}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-lr(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,a=this._getLabelSizes(),c=t+i,d=a.widest.width;let h,p;return n==="left"?r?(p=this.right+i,s==="near"?h="left":s==="center"?(h="center",p+=d/2):(h="right",p+=d)):(p=this.right-c,s==="near"?h="right":s==="center"?(h="center",p-=d/2):(h="left",p=this.left)):n==="right"?r?(p=this.left+i,s==="near"?h="right":s==="center"?(h="center",p-=d/2):(h="left",p-=d)):(p=this.left+c,s==="near"?h="left":s==="center"?(h="center",p+=d/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:r,width:i,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,r,i,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,a;const c=(d,h,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(h.x,h.y),s.stroke(),s.restore())};if(n.display)for(i=0,a=r.length;i<a;++i){const d=r[i];n.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),n.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),a=s.display?i.width:0;if(!a)return;const c=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let h,p,m,x;this.isHorizontal()?(h=Vi(t,this.left,a)-a/2,p=Vi(t,this.right,c)+c/2,m=x=d):(m=Vi(t,this.top,a)-a/2,x=Vi(t,this.bottom,c)+c/2,h=p=d),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(h,m),n.lineTo(p,x),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Lh(s,r);const i=this.getLabelItems(t);for(const a of i){const c=a.options,d=a.font,h=a.label,p=a.textOffset;Sc(s,h,0,p,d,c)}r&&Ih(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=Vt(s.font),a=Ln(s.padding),c=s.align;let d=i.lineHeight/2;n==="bottom"||n==="center"||$e(n)?(d+=a.bottom,jt(s.text)&&(d+=i.lineHeight*(s.text.length-1))):d+=a.top;const{titleX:h,titleY:p,maxWidth:m,rotation:x}=VR(this,d,n,c);Sc(t,s.text,0,0,i,{color:s.color,maxWidth:m,rotation:x,textAlign:BR(c,n,r),textBaseline:"middle",translation:[h,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=Re(t.grid&&t.grid.z,-1),r=Re(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ba.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,a;for(i=0,a=n.length;i<a;++i){const c=n[i];c[s]===this.id&&(!t||c.type===t)&&r.push(c)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Vt(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Sd{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;HR(n)&&(s=this.register(n));const r=this.items,i=t.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,$R(t,a,s),this.override&&gt.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,r=this.scope;s in n&&delete n[s],r&&s in gt[r]&&(delete gt[r][s],this.override&&delete go[s])}}function $R(e,t,n){const s=Fs(Object.create(null),[n?gt.get(n):{},gt.get(t),e.defaults]);gt.set(t,s),e.defaultRoutes&&UR(t,e.defaultRoutes),e.descriptors&&gt.describe(t,e.descriptors)}function UR(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),r=s.pop(),i=[e].concat(s).join("."),a=t[n].split("."),c=a.pop(),d=a.join(".");gt.route(i,r,d,c)})}function HR(e){return"id"in e&&"defaults"in e}class WR{constructor(){this.controllers=new Sd(uo,"datasets",!0),this.elements=new Sd(vr,"elements"),this.plugins=new Sd(Object,"plugins"),this.scales=new Sd(Ba,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(t,i,r):Be(r,a=>{const c=s||this._getRegistryForType(a);this._exec(t,c,a)})})}_exec(t,n,s){const r=c0(t);ke(s["before"+r],[],s),n[t](s),ke(s["after"+r],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return r}}var Ts=new WR;class qR{constructor(){this._init=[]}notify(t,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(i,t,n,s);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,s,r){r=r||{};for(const i of t){const a=i.plugin,c=a[s],d=[n,r,i.options];if(ke(c,d,a)===!1&&r.cancelable)return!1}return!0}invalidate(){We(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,r=Re(s.options&&s.options.plugins,{}),i=YR(s);return r===!1&&!n?[]:XR(t,i,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,r=(i,a)=>i.filter(c=>!a.some(d=>c.plugin.id===d.plugin.id));this._notify(r(n,s),t,"stop"),this._notify(r(s,n),t,"start")}}function YR(e){const t={},n=[],s=Object.keys(Ts.plugins.items);for(let i=0;i<s.length;i++)n.push(Ts.getPlugin(s[i]));const r=e.plugins||[];for(let i=0;i<r.length;i++){const a=r[i];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function KR(e,t){return!t&&e===!1?null:e===!0?{}:e}function XR(e,{plugins:t,localIds:n},s,r){const i=[],a=e.getContext();for(const c of t){const d=c.id,h=KR(s[d],r);h!==null&&i.push({plugin:c,options:QR(e.config,{plugin:c,local:n[d]},h,a)})}return i}function QR(e,{plugin:t,local:n},s,r){const i=e.pluginScopeKeys(t),a=e.getOptionScopes(s,i);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xm(e,t){const n=gt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function GR(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function ZR(e,t){return e===t?"_index_":"_value_"}function h1(e){if(e==="x"||e==="y"||e==="r")return e}function JR(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Qm(e,...t){if(h1(e))return e;for(const n of t){const s=n.axis||JR(n.position)||e.length>1&&h1(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function f1(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function eD(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return f1(e,"x",n[0])||f1(e,"y",n[0])}return{}}function tD(e,t){const n=go[e.type]||{scales:{}},s=t.scales||{},r=Xm(e.type,t),i=Object.create(null);return Object.keys(s).forEach(a=>{const c=s[a];if(!$e(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const d=Qm(a,c,eD(a,e),gt.scales[c.type]),h=ZR(d,r),p=n.scales||{};i[a]=ec(Object.create(null),[{axis:d},c,p[d],p[h]])}),e.data.datasets.forEach(a=>{const c=a.type||e.type,d=a.indexAxis||Xm(c,t),p=(go[c]||{}).scales||{};Object.keys(p).forEach(m=>{const x=GR(m,d),y=a[x+"AxisID"]||x;i[y]=i[y]||Object.create(null),ec(i[y],[{axis:x},s[y],p[m]])})}),Object.keys(i).forEach(a=>{const c=i[a];ec(c,[gt.scales[c.type],gt.scale])}),i}function I_(e){const t=e.options||(e.options={});t.plugins=Re(t.plugins,{}),t.scales=tD(e,t)}function F_(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function nD(e){return e=e||{},e.data=F_(e.data),I_(e),e}const p1=new Map,z_=new Set;function _d(e,t){let n=p1.get(e);return n||(n=t(),p1.set(e,n),z_.add(n)),n}const Ul=(e,t,n)=>{const s=mo(t,n);s!==void 0&&e.add(s)};class sD{constructor(t){this._config=nD(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=F_(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),I_(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _d(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return _d(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return _d(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return _d(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let r=s.get(t);return(!r||n)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,n,s){const{options:r,type:i}=this,a=this._cachedScopes(t,s),c=a.get(n);if(c)return c;const d=new Set;n.forEach(p=>{t&&(d.add(t),p.forEach(m=>Ul(d,t,m))),p.forEach(m=>Ul(d,r,m)),p.forEach(m=>Ul(d,go[i]||{},m)),p.forEach(m=>Ul(d,gt,m)),p.forEach(m=>Ul(d,qm,m))});const h=Array.from(d);return h.length===0&&h.push(Object.create(null)),z_.has(n)&&a.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,go[n]||{},gt.datasets[n]||{},{type:n},gt,qm]}resolveNamedOptions(t,n,s,r=[""]){const i={$shared:!0},{resolver:a,subPrefixes:c}=m1(this._resolverCache,t,r);let d=a;if(iD(a,n)){i.$shared=!1,s=pi(s)?s():s;const h=this.createResolver(t,s,c);d=Ma(a,s,h)}for(const h of n)i[h]=d[h];return i}createResolver(t,n,s=[""],r){const{resolver:i}=m1(this._resolverCache,t,s);return $e(n)?Ma(i,n,void 0,r):i}}function m1(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const r=n.join();let i=s.get(r);return i||(i={resolver:m0(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},s.set(r,i)),i}const rD=e=>$e(e)&&Object.getOwnPropertyNames(e).some(t=>pi(e[t]));function iD(e,t){const{isScriptable:n,isIndexable:s}=y_(e);for(const r of t){const i=n(r),a=s(r),c=(a||i)&&e[r];if(i&&(pi(c)||rD(c))||a&&jt(c))return!0}return!1}var oD="4.5.0";const aD=["top","bottom","left","right","chartArea"];function g1(e,t){return e==="top"||e==="bottom"||aD.indexOf(e)===-1&&t==="x"}function x1(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function y1(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),ke(n&&n.onComplete,[e],t)}function lD(e){const t=e.chart,n=t.options.animation;ke(n&&n.onProgress,[e],t)}function B_(e){return y0()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Qd={},b1=e=>{const t=B_(e);return Object.values(Qd).filter(n=>n.canvas===t).pop()};function cD(e,t,n){const s=Object.keys(e);for(const r of s){const i=+r;if(i>=t){const a=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=a)}}}function uD(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var Xr;let ms=(Xr=class{static register(...t){Ts.add(...t),v1()}static unregister(...t){Ts.remove(...t),v1()}constructor(t,n){const s=this.config=new sD(n),r=B_(t),i=b1(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||TR(r)),this.platform.updateConfig(s);const c=this.platform.acquireContext(r,a.aspectRatio),d=c&&c.canvas,h=d&&d.height,p=d&&d.width;if(this.id=lM(),this.ctx=c,this.canvas=d,this.width=p,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=kM(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],Qd[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}nr.listen(this,"complete",y1),nr.listen(this,"progress",lD),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return We(t)?n&&i?i:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ts}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$v(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zv(this.canvas,this.ctx),this}stop(){return nr.stop(this),this}resize(t,n){nr.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,t,n,i),c=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,$v(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),ke(s.onResize,[this,a],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Be(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,r=Object.keys(s).reduce((a,c)=>(a[c]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const c=n[a],d=Qm(a,c),h=d==="r",p=d==="x";return{options:c,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),Be(i,a=>{const c=a.options,d=c.id,h=Qm(d,c),p=Re(c.type,a.dtype);(c.position===void 0||g1(c.position,h)!==g1(a.dposition))&&(c.position=a.dposition),r[d]=!0;let m=null;if(d in s&&s[d].type===p)m=s[d];else{const x=Ts.getScale(p);m=new x({id:d,type:p,ctx:this.ctx,chart:this}),s[m.id]=m}m.init(c,t)}),Be(r,(a,c)=>{a||delete s[c]}),Be(s,a=>{Xn.configure(this,a,a.options),Xn.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(x1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let a=this.getDatasetMeta(s);const c=i.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=c,a.indexAxis=i.indexAxis||Xm(c,this.options),a.order=i.order||0,a.index=s,a.label=""+i.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const d=Ts.getController(c),{datasetElementType:h,dataElementType:p}=gt.datasets[c];Object.assign(d,{dataElementType:Ts.getElement(p),datasetElementType:h&&Ts.getElement(h)}),a.controller=new d(this,s),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){Be(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:m}=this.getDatasetMeta(h),x=!r&&i.indexOf(m)===-1;m.buildOrUpdateElements(x),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),r||Be(i,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(x1("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Be(this.scales,t=>{Xn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Ev(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const a=s==="_removeElements"?-i:i;cD(t,r,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(t.filter(a=>a[0]===i).map((a,c)=>c+","+a.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!Ev(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Xn.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Be(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,pi(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),r={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(nr.has(this)?this.attached&&!nr.running(this)&&nr.start(this):(this.draw(),y1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const a=n[r];(!t||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},r=T_(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Lh(n,r),t.controller.draw(),r&&Ih(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Pa(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,r){const i=aR.modes[n];return typeof i=="function"?i(this,t,s,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=_o(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(t),a=i.controller._resolveAnimations(void 0,r);bc(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),a.update(i,{visible:s}),this.update(c=>c.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),nr.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),zv(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Qd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(i,a)=>{n.addEventListener(this,i,a),t[i]=a},r=(i,a,c)=>{i.offsetX=a,i.offsetY=c,this._eventHandler(i)};Be(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(d,h)=>{n.addEventListener(this,d,h),t[d]=h},r=(d,h)=>{t[d]&&(n.removeEventListener(this,d,h),delete t[d])},i=(d,h)=>{this.canvas&&this.resize(d,h)};let a;const c=()=>{r("attach",c),this.attached=!0,this.resize(),s("resize",i),s("detach",a)};a=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){Be(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Be(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const r=s?"set":"remove";let i,a,c,d;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),c=0,d=t.length;c<d;++c){a=t[c];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:i,index:a})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[a],index:a}});!ch(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const r=this.options.hover,i=(d,h)=>d.filter(p=>!h.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),a=i(n,t),c=s?t:i(t,n);a.length&&this.updateHoverStyle(a,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:r=[],options:i}=this,a=n,c=this._getActiveElements(t,r,s,a),d=pM(t),h=uD(t,this._lastEvent,s,d);s&&(this._lastEvent=null,ke(i.onHover,[t,c,this],this),d&&ke(i.onClick,[t,c,this],this));const p=!ch(c,r);return(p||n)&&(this._active=c,this._updateHoverStyles(c,r,n)),this._lastEvent=h,p}_getActiveElements(t,n,s,r){if(t.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}},ye(Xr,"defaults",gt),ye(Xr,"instances",Qd),ye(Xr,"overrides",go),ye(Xr,"registry",Ts),ye(Xr,"version",oD),ye(Xr,"getChart",b1),Xr);function v1(){return Be(ms.instances,e=>e._plugins.invalidate())}function dD(e,t,n){const{startAngle:s,x:r,y:i,outerRadius:a,innerRadius:c,options:d}=t,{borderWidth:h,borderJoinStyle:p}=d,m=Math.min(h/a,Dn(s-n));if(e.beginPath(),e.arc(r,i,a-h/2,s+m/2,n-m/2),c>0){const x=Math.min(h/c,Dn(s-n));e.arc(r,i,c+h/2,n-x/2,s+x/2,!0)}else{const x=Math.min(h/2,a*Dn(s-n));if(p==="round")e.arc(r,i,x,n-Qe/2,s+Qe/2,!0);else if(p==="bevel"){const y=2*x*x,v=-y*Math.cos(n+Qe/2)+r,w=-y*Math.sin(n+Qe/2)+i,S=y*Math.cos(s+Qe/2)+r,j=y*Math.sin(s+Qe/2)+i;e.lineTo(v,w),e.lineTo(S,j)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function hD(e,t,n){const{startAngle:s,pixelMargin:r,x:i,y:a,outerRadius:c,innerRadius:d}=t;let h=r/c;e.beginPath(),e.arc(i,a,c,s-h,n+h),d>r?(h=r/d,e.arc(i,a,d,n+h,s-h,!0)):e.arc(i,a,r,n+Rt,s-Rt),e.closePath(),e.clip()}function fD(e){return p0(e,["outerStart","outerEnd","innerStart","innerEnd"])}function pD(e,t,n,s){const r=fD(e.options.borderRadius),i=(n-t)/2,a=Math.min(i,s*t/2),c=d=>{const h=(n-Math.min(i,d))*s/2;return Gt(d,0,Math.min(i,h))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:Gt(r.innerStart,0,a),innerEnd:Gt(r.innerEnd,0,a)}}function aa(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function mh(e,t,n,s,r,i){const{x:a,y:c,startAngle:d,pixelMargin:h,innerRadius:p}=t,m=Math.max(t.outerRadius+s+n-h,0),x=p>0?p+s+n+h:0;let y=0;const v=r-d;if(s){const he=p>0?p-s:0,ee=m>0?m-s:0,Z=(he+ee)/2,K=Z!==0?v*Z/(Z+s):v;y=(v-K)/2}const w=Math.max(.001,v*m-n/Qe)/m,S=(v-w)/2,j=d+S+y,N=r-S-y,{outerStart:T,outerEnd:A,innerStart:P,innerEnd:R}=pD(t,x,m,N-j),V=m-T,I=m-A,z=j+T/V,U=N-A/I,J=x+P,se=x+R,de=j+P/J,G=N-R/se;if(e.beginPath(),i){const he=(z+U)/2;if(e.arc(a,c,m,z,he),e.arc(a,c,m,he,U),A>0){const te=aa(I,U,a,c);e.arc(te.x,te.y,A,U,N+Rt)}const ee=aa(se,N,a,c);if(e.lineTo(ee.x,ee.y),R>0){const te=aa(se,G,a,c);e.arc(te.x,te.y,R,N+Rt,G+Math.PI)}const Z=(N-R/x+(j+P/x))/2;if(e.arc(a,c,x,N-R/x,Z,!0),e.arc(a,c,x,Z,j+P/x,!0),P>0){const te=aa(J,de,a,c);e.arc(te.x,te.y,P,de+Math.PI,j-Rt)}const K=aa(V,j,a,c);if(e.lineTo(K.x,K.y),T>0){const te=aa(V,z,a,c);e.arc(te.x,te.y,T,j-Rt,z)}}else{e.moveTo(a,c);const he=Math.cos(z)*m+a,ee=Math.sin(z)*m+c;e.lineTo(he,ee);const Z=Math.cos(U)*m+a,K=Math.sin(U)*m+c;e.lineTo(Z,K)}e.closePath()}function mD(e,t,n,s,r){const{fullCircles:i,startAngle:a,circumference:c}=t;let d=t.endAngle;if(i){mh(e,t,n,s,d,r);for(let h=0;h<i;++h)e.fill();isNaN(c)||(d=a+(c%dt||dt))}return mh(e,t,n,s,d,r),e.fill(),d}function gD(e,t,n,s,r){const{fullCircles:i,startAngle:a,circumference:c,options:d}=t,{borderWidth:h,borderJoinStyle:p,borderDash:m,borderDashOffset:x,borderRadius:y}=d,v=d.borderAlign==="inner";if(!h)return;e.setLineDash(m||[]),e.lineDashOffset=x,v?(e.lineWidth=h*2,e.lineJoin=p||"round"):(e.lineWidth=h,e.lineJoin=p||"bevel");let w=t.endAngle;if(i){mh(e,t,n,s,w,r);for(let S=0;S<i;++S)e.stroke();isNaN(c)||(w=a+(c%dt||dt))}v&&hD(e,t,w),d.selfJoin&&w-a>=Qe&&y===0&&p!=="miter"&&dD(e,t,w),i||(mh(e,t,n,s,w,r),e.stroke())}class ui extends vr{constructor(n){super();ye(this,"circumference");ye(this,"endAngle");ye(this,"fullCircles");ye(this,"innerRadius");ye(this,"outerRadius");ye(this,"pixelMargin");ye(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:a,distance:c}=u_(i,{x:n,y:s}),{startAngle:d,endAngle:h,innerRadius:p,outerRadius:m,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),y=(this.options.spacing+this.options.borderWidth)/2,v=Re(x,h-d),w=wc(a,d,h)&&d!==h,S=v>=dt||w,j=cr(c,p+y,m+y);return S&&j}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:a,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:p}=this.options,m=(i+a)/2,x=(c+d+p+h)/2;return{x:s+Math.cos(m)*x,y:r+Math.sin(m)*x}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,a=(s.spacing||0)/2,c=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>dt?Math.floor(r/dt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const d=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(d)*i,Math.sin(d)*i);const h=1-Math.sin(Math.min(Qe,r||0)),p=i*h;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,mD(n,this,p,a,c),gD(n,this,p,a,c),n.restore()}}ye(ui,"id","arc"),ye(ui,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ye(ui,"defaultRoutes",{backgroundColor:"backgroundColor"}),ye(ui,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function V_(e,t,n=t){e.lineCap=Re(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Re(n.borderDash,t.borderDash)),e.lineDashOffset=Re(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Re(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Re(n.borderWidth,t.borderWidth),e.strokeStyle=Re(n.borderColor,t.borderColor)}function xD(e,t,n){e.lineTo(n.x,n.y)}function yD(e){return e.stepped?VM:e.tension||e.cubicInterpolationMode==="monotone"?$M:xD}function $_(e,t,n={}){const s=e.length,{start:r=0,end:i=s-1}=n,{start:a,end:c}=t,d=Math.max(r,a),h=Math.min(i,c),p=r<a&&i<a||r>c&&i>c;return{count:s,start:d,loop:t.loop,ilen:h<d&&!p?s+h-d:h-d}}function bD(e,t,n,s){const{points:r,options:i}=t,{count:a,start:c,loop:d,ilen:h}=$_(r,n,s),p=yD(i);let{move:m=!0,reverse:x}=s||{},y,v,w;for(y=0;y<=h;++y)v=r[(c+(x?h-y:y))%a],!v.skip&&(m?(e.moveTo(v.x,v.y),m=!1):p(e,w,v,x,i.stepped),w=v);return d&&(v=r[(c+(x?h:0))%a],p(e,w,v,x,i.stepped)),!!d}function vD(e,t,n,s){const r=t.points,{count:i,start:a,ilen:c}=$_(r,n,s),{move:d=!0,reverse:h}=s||{};let p=0,m=0,x,y,v,w,S,j;const N=A=>(a+(h?c-A:A))%i,T=()=>{w!==S&&(e.lineTo(p,S),e.lineTo(p,w),e.lineTo(p,j))};for(d&&(y=r[N(0)],e.moveTo(y.x,y.y)),x=0;x<=c;++x){if(y=r[N(x)],y.skip)continue;const A=y.x,P=y.y,R=A|0;R===v?(P<w?w=P:P>S&&(S=P),p=(m*p+A)/++m):(T(),e.lineTo(A,P),v=R,m=0,w=S=P),j=P}T()}function Gm(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?vD:bD}function wD(e){return e.stepped?vA:e.tension||e.cubicInterpolationMode==="monotone"?wA:qi}function SD(e,t,n,s){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,s)&&r.closePath()),V_(e,t.options),e.stroke(r)}function _D(e,t,n,s){const{segments:r,options:i}=t,a=Gm(t);for(const c of r)V_(e,i,c.style),e.beginPath(),a(e,t,c,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}const jD=typeof Path2D=="function";function CD(e,t,n,s){jD&&!t.options.segment?SD(e,t,n,s):_D(e,t,n,s)}class ur extends vr{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;hA(this._points,s,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=kA(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){const s=this.options,r=t[n],i=this.points,a=k_(this,{property:n,start:r,end:r});if(!a.length)return;const c=[],d=wD(s);let h,p;for(h=0,p=a.length;h<p;++h){const{start:m,end:x}=a[h],y=i[m],v=i[x];if(y===v){c.push(y);continue}const w=Math.abs((r-y[n])/(v[n]-y[n])),S=d(y,v,w,s.stepped);S[n]=t[n],c.push(S)}return c.length===1?c[0]:c}pathSegment(t,n,s){return Gm(this)(t,this,n,s)}path(t,n,s){const r=this.segments,i=Gm(this);let a=this._loop;n=n||0,s=s||this.points.length-n;for(const c of r)a&=i(t,this,c,{start:n,end:n+s-1});return!!a}draw(t,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),CD(t,this,s,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ye(ur,"id","line"),ye(ur,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ye(ur,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ye(ur,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function w1(e,t,n,s){const r=e.options,{[n]:i}=e.getProps([n],s);return Math.abs(t-i)<r.radius+r.hitRadius}class xa extends vr{constructor(n){super();ye(this,"parsed");ye(this,"skip");ye(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:a,y:c}=this.getProps(["x","y"],r);return Math.pow(n-a,2)+Math.pow(s-c,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return w1(this,n,"x",s)}inYRange(n,s){return w1(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!Pa(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Ym(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ye(xa,"id","point"),ye(xa,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ye(xa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function U_(e,t){const{x:n,y:s,base:r,width:i,height:a}=e.getProps(["x","y","base","width","height"],t);let c,d,h,p,m;return e.horizontal?(m=a/2,c=Math.min(n,r),d=Math.max(n,r),h=s-m,p=s+m):(m=i/2,c=n-m,d=n+m,h=Math.min(s,r),p=Math.max(s,r)),{left:c,top:h,right:d,bottom:p}}function di(e,t,n,s){return e?0:Gt(t,n,s)}function ND(e,t,n){const s=e.options.borderWidth,r=e.borderSkipped,i=x_(s);return{t:di(r.top,i.top,0,n),r:di(r.right,i.right,0,t),b:di(r.bottom,i.bottom,0,n),l:di(r.left,i.left,0,t)}}function kD(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,i=ma(r),a=Math.min(t,n),c=e.borderSkipped,d=s||$e(r);return{topLeft:di(!d||c.top||c.left,i.topLeft,0,a),topRight:di(!d||c.top||c.right,i.topRight,0,a),bottomLeft:di(!d||c.bottom||c.left,i.bottomLeft,0,a),bottomRight:di(!d||c.bottom||c.right,i.bottomRight,0,a)}}function TD(e){const t=U_(e),n=t.right-t.left,s=t.bottom-t.top,r=ND(e,n/2,s/2),i=kD(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:i},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function im(e,t,n,s){const r=t===null,i=n===null,c=e&&!(r&&i)&&U_(e,s);return c&&(r||cr(t,c.left,c.right))&&(i||cr(n,c.top,c.bottom))}function ED(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function PD(e,t){e.rect(t.x,t.y,t.w,t.h)}function om(e,t,n={}){const s=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-s,a=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+s,y:e.y+r,w:e.w+i,h:e.h+a,radius:e.radius}}class fr extends vr{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:a}=TD(this),c=ED(a.radius)?hh:PD;t.save(),(a.w!==i.w||a.h!==i.h)&&(t.beginPath(),c(t,om(a,n,i)),t.clip(),c(t,om(i,-n,a)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),c(t,om(i,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,s){return im(this,t,n,s)}inXRange(t,n){return im(this,t,null,n)}inYRange(t,n){return im(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ye(fr,"id","bar"),ye(fr,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ye(fr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function MD(e,t,n){const s=e.segments,r=e.points,i=t.points,a=[];for(const c of s){let{start:d,end:h}=c;h=Bh(d,h,r);const p=Zm(n,r[d],r[h],c.loop);if(!t.segments){a.push({source:c,target:p,start:r[d],end:r[h]});continue}const m=k_(t,p);for(const x of m){const y=Zm(n,i[x.start],i[x.end],x.loop),v=N_(c,r,y);for(const w of v)a.push({source:w,target:x,start:{[n]:S1(p,y,"start",Math.max)},end:{[n]:S1(p,y,"end",Math.min)}})}}return a}function Zm(e,t,n,s){if(s)return;let r=t[e],i=n[e];return e==="angle"&&(r=Dn(r),i=Dn(i)),{property:e,start:r,end:i}}function AD(e,t){const{x:n=null,y:s=null}=e||{},r=t.points,i=[];return t.segments.forEach(({start:a,end:c})=>{c=Bh(a,c,r);const d=r[a],h=r[c];s!==null?(i.push({x:d.x,y:s}),i.push({x:h.x,y:s})):n!==null&&(i.push({x:n,y:d.y}),i.push({x:n,y:h.y}))}),i}function Bh(e,t,n){for(;t>e;t--){const s=n[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function S1(e,t,n,s){return e&&t?s(e[n],t[n]):e?e[n]:t?t[n]:0}function H_(e,t){let n=[],s=!1;return jt(e)?(s=!0,n=e):n=AD(e,t),n.length?new ur({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function _1(e){return e&&e.fill!==!1}function RD(e,t,n){let r=e[t].fill;const i=[t];let a;if(!n)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!Jt(r))return r;if(a=e[r],!a)return!1;if(a.visible)return r;i.push(r),r=a.fill}return!1}function DD(e,t,n){const s=FD(e);if($e(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return Jt(r)&&Math.floor(r)===r?OD(s[0],t,r,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function OD(e,t,n,s){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=s?!1:n}function LD(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:$e(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function ID(e,t,n){let s;return e==="start"?s=n:e==="end"?s=t.options.reverse?t.min:t.max:$e(e)?s=e.value:s=t.getBaseValue(),s}function FD(e){const t=e.options,n=t.fill;let s=Re(n&&n.target,n);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function zD(e){const{scale:t,index:n,line:s}=e,r=[],i=s.segments,a=s.points,c=BD(t,n);c.push(H_({x:null,y:t.bottom},s));for(let d=0;d<i.length;d++){const h=i[d];for(let p=h.start;p<=h.end;p++)VD(r,a[p],c)}return new ur({points:r,options:{}})}function BD(e,t){const n=[],s=e.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const i=s[r];if(i.index===t)break;i.hidden||n.unshift(i.dataset)}return n}function VD(e,t,n){const s=[];for(let r=0;r<n.length;r++){const i=n[r],{first:a,last:c,point:d}=$D(i,t,"x");if(!(!d||a&&c)){if(a)s.unshift(d);else if(e.push(d),!c)break}}e.push(...s)}function $D(e,t,n){const s=e.interpolate(t,n);if(!s)return{};const r=s[n],i=e.segments,a=e.points;let c=!1,d=!1;for(let h=0;h<i.length;h++){const p=i[h],m=a[p.start][n],x=a[p.end][n];if(cr(r,m,x)){c=r===m,d=r===x;break}}return{first:c,last:d,point:s}}class W_{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,s){const{x:r,y:i,radius:a}=this;return n=n||{start:0,end:dt},t.arc(r,i,a,n.end,n.start,!0),!s.bounds}interpolate(t){const{x:n,y:s,radius:r}=this,i=t.angle;return{x:n+Math.cos(i)*r,y:s+Math.sin(i)*r,angle:i}}}function UD(e){const{chart:t,fill:n,line:s}=e;if(Jt(n))return HD(t,n);if(n==="stack")return zD(e);if(n==="shape")return!0;const r=WD(e);return r instanceof W_?r:H_(r,s)}function HD(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function WD(e){return(e.scale||{}).getPointPositionForValue?YD(e):qD(e)}function qD(e){const{scale:t={},fill:n}=e,s=LD(n,t);if(Jt(s)){const r=t.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function YD(e){const{scale:t,fill:n}=e,s=t.options,r=t.getLabels().length,i=s.reverse?t.max:t.min,a=ID(n,t,i),c=[];if(s.grid.circular){const d=t.getPointPositionForValue(0,i);return new W_({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(a)})}for(let d=0;d<r;++d)c.push(t.getPointPositionForValue(d,a));return c}function am(e,t,n){const s=UD(t),{chart:r,index:i,line:a,scale:c,axis:d}=t,h=a.options,p=h.fill,m=h.backgroundColor,{above:x=m,below:y=m}=p||{},v=r.getDatasetMeta(i),w=T_(r,v);s&&a.points.length&&(Lh(e,n),KD(e,{line:a,target:s,above:x,below:y,area:n,scale:c,axis:d,clip:w}),Ih(e))}function KD(e,t){const{line:n,target:s,above:r,below:i,area:a,scale:c,clip:d}=t,h=n._loop?"angle":t.axis;e.save();let p=i;i!==r&&(h==="x"?(j1(e,s,a.top),lm(e,{line:n,target:s,color:r,scale:c,property:h,clip:d}),e.restore(),e.save(),j1(e,s,a.bottom)):h==="y"&&(C1(e,s,a.left),lm(e,{line:n,target:s,color:i,scale:c,property:h,clip:d}),e.restore(),e.save(),C1(e,s,a.right),p=r)),lm(e,{line:n,target:s,color:p,scale:c,property:h,clip:d}),e.restore()}function j1(e,t,n){const{segments:s,points:r}=t;let i=!0,a=!1;e.beginPath();for(const c of s){const{start:d,end:h}=c,p=r[d],m=r[Bh(d,h,r)];i?(e.moveTo(p.x,p.y),i=!1):(e.lineTo(p.x,n),e.lineTo(p.x,p.y)),a=!!t.pathSegment(e,c,{move:a}),a?e.closePath():e.lineTo(m.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function C1(e,t,n){const{segments:s,points:r}=t;let i=!0,a=!1;e.beginPath();for(const c of s){const{start:d,end:h}=c,p=r[d],m=r[Bh(d,h,r)];i?(e.moveTo(p.x,p.y),i=!1):(e.lineTo(n,p.y),e.lineTo(p.x,p.y)),a=!!t.pathSegment(e,c,{move:a}),a?e.closePath():e.lineTo(n,m.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function lm(e,t){const{line:n,target:s,property:r,color:i,scale:a,clip:c}=t,d=MD(n,s,r);for(const{source:h,target:p,start:m,end:x}of d){const{style:{backgroundColor:y=i}={}}=h,v=s!==!0;e.save(),e.fillStyle=y,XD(e,a,c,v&&Zm(r,m,x)),e.beginPath();const w=!!n.pathSegment(e,h);let S;if(v){w?e.closePath():N1(e,s,x,r);const j=!!s.pathSegment(e,p,{move:w,reverse:!0});S=w&&j,S||N1(e,s,m,r)}e.closePath(),e.fill(S?"evenodd":"nonzero"),e.restore()}}function XD(e,t,n,s){const r=t.chart.chartArea,{property:i,start:a,end:c}=s||{};if(i==="x"||i==="y"){let d,h,p,m;i==="x"?(d=a,h=r.top,p=c,m=r.bottom):(d=r.left,h=a,p=r.right,m=c),e.beginPath(),n&&(d=Math.max(d,n.left),p=Math.min(p,n.right),h=Math.max(h,n.top),m=Math.min(m,n.bottom)),e.rect(d,h,p-d,m-h),e.clip()}}function N1(e,t,n,s){const r=t.interpolate(n,s);r&&e.lineTo(r.x,r.y)}var q_={id:"filler",afterDatasetsUpdate(e,t,n){const s=(e.data.datasets||[]).length,r=[];let i,a,c,d;for(a=0;a<s;++a)i=e.getDatasetMeta(a),c=i.dataset,d=null,c&&c.options&&c instanceof ur&&(d={visible:e.isDatasetVisible(a),index:a,fill:DD(c,a,s),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:c}),i.$filler=d,r.push(d);for(a=0;a<s;++a)d=r[a],!(!d||d.fill===!1)&&(d.fill=RD(r,a,n.propagate))},beforeDraw(e,t,n){const s=n.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let a=r.length-1;a>=0;--a){const c=r[a].$filler;c&&(c.line.updateControlPoints(i,c.axis),s&&c.fill&&am(e.ctx,c,i))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=e.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const i=s[r].$filler;_1(i)&&am(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,n){const s=t.meta.$filler;!_1(s)||n.drawTime!=="beforeDatasetDraw"||am(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const k1=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},QD=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class T1 extends vr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=ke(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,r=Vt(s.font),i=r.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=k1(s,i);let h,p;n.font=r.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(a,i,c,d)+10):(p=this.maxHeight,h=this._fitCols(a,r,c,d)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,r){const{ctx:i,maxWidth:a,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.lineWidths=[0],p=r+c;let m=t;i.textAlign="left",i.textBaseline="middle";let x=-1,y=-p;return this.legendItems.forEach((v,w)=>{const S=s+n/2+i.measureText(v.text).width;(w===0||h[h.length-1]+S+2*c>a)&&(m+=p,h[h.length-(w>0?0:1)]=0,y+=p,x++),d[w]={left:0,top:y,row:x,width:S,height:r},h[h.length-1]+=S+c}),m}_fitCols(t,n,s,r){const{ctx:i,maxHeight:a,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.columnSizes=[],p=a-t;let m=c,x=0,y=0,v=0,w=0;return this.legendItems.forEach((S,j)=>{const{itemWidth:N,itemHeight:T}=GD(s,n,i,S,r);j>0&&y+T+2*c>p&&(m+=x+c,h.push({width:x,height:y}),v+=x+c,w++,x=y=0),d[j]={left:v,top:y,col:w,width:N,height:T},x=Math.max(x,N),y+=T+c}),m+=x,h.push({width:x,height:y}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,a=ga(i,this.left,this.width);if(this.isHorizontal()){let c=0,d=Xt(s,this.left+r,this.right-this.lineWidths[c]);for(const h of n)c!==h.row&&(c=h.row,d=Xt(s,this.left+r,this.right-this.lineWidths[c])),h.top+=this.top+t+r,h.left=a.leftForLtr(a.x(d),h.width),d+=h.width+r}else{let c=0,d=Xt(s,this.top+t+r,this.bottom-this.columnSizes[c].height);for(const h of n)h.col!==c&&(c=h.col,d=Xt(s,this.top+t+r,this.bottom-this.columnSizes[c].height)),h.top=d,h.left+=this.left+r,h.left=a.leftForLtr(a.x(h.left),h.width),d+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Lh(t,this),this._draw(),Ih(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:a}=t,c=gt.color,d=ga(t.rtl,this.left,this.width),h=Vt(a.font),{padding:p}=a,m=h.size,x=m/2;let y;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:v,boxHeight:w,itemHeight:S}=k1(a,m),j=function(R,V,I){if(isNaN(v)||v<=0||isNaN(w)||w<0)return;r.save();const z=Re(I.lineWidth,1);if(r.fillStyle=Re(I.fillStyle,c),r.lineCap=Re(I.lineCap,"butt"),r.lineDashOffset=Re(I.lineDashOffset,0),r.lineJoin=Re(I.lineJoin,"miter"),r.lineWidth=z,r.strokeStyle=Re(I.strokeStyle,c),r.setLineDash(Re(I.lineDash,[])),a.usePointStyle){const U={radius:w*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:z},J=d.xPlus(R,v/2),se=V+x;g_(r,U,J,se,a.pointStyleWidth&&v)}else{const U=V+Math.max((m-w)/2,0),J=d.leftForLtr(R,v),se=ma(I.borderRadius);r.beginPath(),Object.values(se).some(de=>de!==0)?hh(r,{x:J,y:U,w:v,h:w,radius:se}):r.rect(J,U,v,w),r.fill(),z!==0&&r.stroke()}r.restore()},N=function(R,V,I){Sc(r,I.text,R,V+S/2,h,{strikethrough:I.hidden,textAlign:d.textAlign(I.textAlign)})},T=this.isHorizontal(),A=this._computeTitleHeight();T?y={x:Xt(i,this.left+p,this.right-s[0]),y:this.top+p+A,line:0}:y={x:this.left+p,y:Xt(i,this.top+A+p,this.bottom-n[0].height),line:0},__(this.ctx,t.textDirection);const P=S+p;this.legendItems.forEach((R,V)=>{r.strokeStyle=R.fontColor,r.fillStyle=R.fontColor;const I=r.measureText(R.text).width,z=d.textAlign(R.textAlign||(R.textAlign=a.textAlign)),U=v+x+I;let J=y.x,se=y.y;d.setWidth(this.width),T?V>0&&J+U+p>this.right&&(se=y.y+=P,y.line++,J=y.x=Xt(i,this.left+p,this.right-s[y.line])):V>0&&se+P>this.bottom&&(J=y.x=J+n[y.line].width+p,y.line++,se=y.y=Xt(i,this.top+A+p,this.bottom-n[y.line].height));const de=d.x(J);if(j(de,se,R),J=TM(z,J+v+x,T?J+U:this.right,t.rtl),N(d.x(J),se,R),T)y.x+=U+p;else if(typeof R.text!="string"){const G=h.lineHeight;y.y+=Y_(R,G)+p}else y.y+=P}),j_(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=Vt(n.font),r=Ln(n.padding);if(!n.display)return;const i=ga(t.rtl,this.left,this.width),a=this.ctx,c=n.position,d=s.size/2,h=r.top+d;let p,m=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),p=this.top+h,m=Xt(t.align,m,this.right-x);else{const v=this.columnSizes.reduce((w,S)=>Math.max(w,S.height),0);p=h+Xt(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}const y=Xt(c,m,m+x);a.textAlign=i.textAlign(d0(c)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=s.string,Sc(a,n.text,y,p,s)}_computeTitleHeight(){const t=this.options.title,n=Vt(t.font),s=Ln(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,r,i;if(cr(t,this.left,this.right)&&cr(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],cr(t,r.left,r.left+r.width)&&cr(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!e5(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,i=QD(r,s);r&&!i&&ke(n.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!i&&ke(n.onHover,[t,s,this],this)}else s&&ke(n.onClick,[t,s,this],this)}}function GD(e,t,n,s,r){const i=ZD(s,e,t,n),a=JD(r,s,t.lineHeight);return{itemWidth:i,itemHeight:a}}function ZD(e,t,n,s){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((i,a)=>i.length>a.length?i:a)),t+n.size/2+s.measureText(r).width}function JD(e,t,n){let s=e;return typeof t.text!="string"&&(s=Y_(t,n)),s}function Y_(e,t){const n=e.text?e.text.length:0;return t*n}function e5(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var yi={id:"legend",_element:T1,start(e,t,n){const s=e.legend=new T1({ctx:e.ctx,options:n,chart:e});Xn.configure(e,s,n),Xn.addBox(e,s)},stop(e){Xn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;Xn.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:a,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(d=>{const h=d.controller.getStyle(n?0:void 0),p=Ln(h.borderWidth);return{text:t[d.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!d.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:a&&(c||h.borderRadius),datasetIndex:d.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class K_ extends vr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=jt(s.text)?s.text.length:1;this._padding=Ln(s.padding);const i=r*Vt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:r,right:i,options:a}=this,c=a.align;let d=0,h,p,m;return this.isHorizontal()?(p=Xt(c,s,i),m=n+t,h=i-s):(a.position==="left"?(p=s+t,m=Xt(c,r,n),d=Qe*-.5):(p=i-t,m=Xt(c,n,r),d=Qe*.5),h=r-n),{titleX:p,titleY:m,maxWidth:h,rotation:d}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=Vt(n.font),i=s.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:d,rotation:h}=this._drawArgs(i);Sc(t,n.text,0,0,s,{color:n.color,maxWidth:d,rotation:h,textAlign:d0(n.align),textBaseline:"middle",translation:[a,c]})}}function t5(e,t){const n=new K_({ctx:e.ctx,options:t,chart:e});Xn.configure(e,n,t),Xn.addBox(e,n),e.titleBlock=n}var n5={id:"title",_element:K_,start(e,t,n){t5(e,n)},stop(e){const t=e.titleBlock;Xn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;Xn.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gl={average(e){if(!e.length)return!1;let t,n,s=new Set,r=0,i=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const d=c.tooltipPosition();s.add(d.x),r+=d.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((c,d)=>c+d)/s.size,y:r/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,r=Number.POSITIVE_INFINITY,i,a,c;for(i=0,a=e.length;i<a;++i){const d=e[i].element;if(d&&d.hasValue()){const h=d.getCenterPoint(),p=Wm(t,h);p<r&&(r=p,c=d)}}if(c){const d=c.tooltipPosition();n=d.x,s=d.y}return{x:n,y:s}}};function ks(e,t){return t&&(jt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function sr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function s5(e,t){const{element:n,datasetIndex:s,index:r}=t,i=e.getDatasetMeta(s).controller,{label:a,value:c}=i.getLabelAndValue(r);return{chart:e,label:a,parsed:i.getParsed(r),raw:e.data.datasets[s].data[r],formattedValue:c,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function E1(e,t){const n=e.chart.ctx,{body:s,footer:r,title:i}=e,{boxWidth:a,boxHeight:c}=t,d=Vt(t.bodyFont),h=Vt(t.titleFont),p=Vt(t.footerFont),m=i.length,x=r.length,y=s.length,v=Ln(t.padding);let w=v.height,S=0,j=s.reduce((A,P)=>A+P.before.length+P.lines.length+P.after.length,0);if(j+=e.beforeBody.length+e.afterBody.length,m&&(w+=m*h.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),j){const A=t.displayColors?Math.max(c,d.lineHeight):d.lineHeight;w+=y*A+(j-y)*d.lineHeight+(j-1)*t.bodySpacing}x&&(w+=t.footerMarginTop+x*p.lineHeight+(x-1)*t.footerSpacing);let N=0;const T=function(A){S=Math.max(S,n.measureText(A).width+N)};return n.save(),n.font=h.string,Be(e.title,T),n.font=d.string,Be(e.beforeBody.concat(e.afterBody),T),N=t.displayColors?a+2+t.boxPadding:0,Be(s,A=>{Be(A.before,T),Be(A.lines,T),Be(A.after,T)}),N=0,n.font=p.string,Be(e.footer,T),n.restore(),S+=v.width,{width:S,height:w}}function r5(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function i5(e,t,n,s){const{x:r,width:i}=s,a=n.caretSize+n.caretPadding;if(e==="left"&&r+i+a>t.width||e==="right"&&r-i-a<0)return!0}function o5(e,t,n,s){const{x:r,width:i}=n,{width:a,chartArea:{left:c,right:d}}=e;let h="center";return s==="center"?h=r<=(c+d)/2?"left":"right":r<=i/2?h="left":r>=a-i/2&&(h="right"),i5(h,e,t,n)&&(h="center"),h}function P1(e,t,n){const s=n.yAlign||t.yAlign||r5(e,n);return{xAlign:n.xAlign||t.xAlign||o5(e,t,n,s),yAlign:s}}function a5(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function l5(e,t,n){let{y:s,height:r}=e;return t==="top"?s+=n:t==="bottom"?s-=r+n:s-=r/2,s}function M1(e,t,n,s){const{caretSize:r,caretPadding:i,cornerRadius:a}=e,{xAlign:c,yAlign:d}=n,h=r+i,{topLeft:p,topRight:m,bottomLeft:x,bottomRight:y}=ma(a);let v=a5(t,c);const w=l5(t,d,h);return d==="center"?c==="left"?v+=h:c==="right"&&(v-=h):c==="left"?v-=Math.max(p,x)+r:c==="right"&&(v+=Math.max(m,y)+r),{x:Gt(v,0,s.width-t.width),y:Gt(w,0,s.height-t.height)}}function jd(e,t,n){const s=Ln(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function A1(e){return ks([],sr(e))}function c5(e,t,n){return _o(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function R1(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const X_={beforeTitle:er,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:er,beforeBody:er,beforeLabel:er,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return We(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:er,afterBody:er,beforeFooter:er,footer:er,afterFooter:er};function yn(e,t,n,s){const r=e[t].call(n,s);return typeof r>"u"?X_[t].call(n,s):r}class Jm extends vr{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new E_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=c5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,r=yn(s,"beforeTitle",this,t),i=yn(s,"title",this,t),a=yn(s,"afterTitle",this,t);let c=[];return c=ks(c,sr(r)),c=ks(c,sr(i)),c=ks(c,sr(a)),c}getBeforeBody(t,n){return A1(yn(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,r=[];return Be(t,i=>{const a={before:[],lines:[],after:[]},c=R1(s,i);ks(a.before,sr(yn(c,"beforeLabel",this,i))),ks(a.lines,yn(c,"label",this,i)),ks(a.after,sr(yn(c,"afterLabel",this,i))),r.push(a)}),r}getAfterBody(t,n){return A1(yn(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,r=yn(s,"beforeFooter",this,t),i=yn(s,"footer",this,t),a=yn(s,"afterFooter",this,t);let c=[];return c=ks(c,sr(r)),c=ks(c,sr(i)),c=ks(c,sr(a)),c}_createItems(t){const n=this._active,s=this.chart.data,r=[],i=[],a=[];let c=[],d,h;for(d=0,h=n.length;d<h;++d)c.push(s5(this.chart,n[d]));return t.filter&&(c=c.filter((p,m,x)=>t.filter(p,m,x,s))),t.itemSort&&(c=c.sort((p,m)=>t.itemSort(p,m,s))),Be(c,p=>{const m=R1(t.callbacks,p);r.push(yn(m,"labelColor",this,p)),i.push(yn(m,"labelPointStyle",this,p)),a.push(yn(m,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=c,c}update(t,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,a=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const c=Gl[s.position].call(this,r,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const d=this._size=E1(this,s),h=Object.assign({},c,d),p=P1(this.chart,s,h),m=M1(s,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,i={opacity:1,x:m.x,y:m.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,r){const i=this.getCaretPosition(t,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:a,cornerRadius:c}=s,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:m}=ma(c),{x,y}=t,{width:v,height:w}=n;let S,j,N,T,A,P;return i==="center"?(A=y+w/2,r==="left"?(S=x,j=S-a,T=A+a,P=A-a):(S=x+v,j=S+a,T=A-a,P=A+a),N=S):(r==="left"?j=x+Math.max(d,p)+a:r==="right"?j=x+v-Math.max(h,m)-a:j=this.caretX,i==="top"?(T=y,A=T-a,S=j-a,N=j+a):(T=y+w,A=T+a,S=j+a,N=j-a),P=T),{x1:S,x2:j,x3:N,y1:T,y2:A,y3:P}}drawTitle(t,n,s){const r=this.title,i=r.length;let a,c,d;if(i){const h=ga(s.rtl,this.x,this.width);for(t.x=jd(this,s.titleAlign,s),n.textAlign=h.textAlign(s.titleAlign),n.textBaseline="middle",a=Vt(s.titleFont),c=s.titleSpacing,n.fillStyle=s.titleColor,n.font=a.string,d=0;d<i;++d)n.fillText(r[d],h.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,d+1===i&&(t.y+=s.titleMarginBottom-c)}}_drawColorBox(t,n,s,r,i){const a=this.labelColors[s],c=this.labelPointStyles[s],{boxHeight:d,boxWidth:h}=i,p=Vt(i.bodyFont),m=jd(this,"left",i),x=r.x(m),y=d<p.lineHeight?(p.lineHeight-d)/2:0,v=n.y+y;if(i.usePointStyle){const w={radius:Math.min(h,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=r.leftForLtr(x,h)+h/2,j=v+d/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Ym(t,w,S,j),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Ym(t,w,S,j)}else{t.lineWidth=$e(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const w=r.leftForLtr(x,h),S=r.leftForLtr(r.xPlus(x,1),h-2),j=ma(a.borderRadius);Object.values(j).some(N=>N!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,hh(t,{x:w,y:v,w:h,h:d,radius:j}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),hh(t,{x:S,y:v+1,w:h-2,h:d-2,radius:j}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(w,v,h,d),t.strokeRect(w,v,h,d),t.fillStyle=a.backgroundColor,t.fillRect(S,v+1,h-2,d-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:a,displayColors:c,boxHeight:d,boxWidth:h,boxPadding:p}=s,m=Vt(s.bodyFont);let x=m.lineHeight,y=0;const v=ga(s.rtl,this.x,this.width),w=function(I){n.fillText(I,v.x(t.x+y),t.y+x/2),t.y+=x+i},S=v.textAlign(a);let j,N,T,A,P,R,V;for(n.textAlign=a,n.textBaseline="middle",n.font=m.string,t.x=jd(this,S,s),n.fillStyle=s.bodyColor,Be(this.beforeBody,w),y=c&&S!=="right"?a==="center"?h/2+p:h+2+p:0,A=0,R=r.length;A<R;++A){for(j=r[A],N=this.labelTextColors[A],n.fillStyle=N,Be(j.before,w),T=j.lines,c&&T.length&&(this._drawColorBox(n,t,A,v,s),x=Math.max(m.lineHeight,d)),P=0,V=T.length;P<V;++P)w(T[P]),x=m.lineHeight;Be(j.after,w)}y=0,x=m.lineHeight,Be(this.afterBody,w),t.y-=i}drawFooter(t,n,s){const r=this.footer,i=r.length;let a,c;if(i){const d=ga(s.rtl,this.x,this.width);for(t.x=jd(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=d.textAlign(s.footerAlign),n.textBaseline="middle",a=Vt(s.footerFont),n.fillStyle=s.footerColor,n.font=a.string,c=0;c<i;++c)n.fillText(r[c],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+s.footerSpacing}}drawBackground(t,n,s,r){const{xAlign:i,yAlign:a}=this,{x:c,y:d}=t,{width:h,height:p}=s,{topLeft:m,topRight:x,bottomLeft:y,bottomRight:v}=ma(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(c+m,d),a==="top"&&this.drawCaret(t,n,s,r),n.lineTo(c+h-x,d),n.quadraticCurveTo(c+h,d,c+h,d+x),a==="center"&&i==="right"&&this.drawCaret(t,n,s,r),n.lineTo(c+h,d+p-v),n.quadraticCurveTo(c+h,d+p,c+h-v,d+p),a==="bottom"&&this.drawCaret(t,n,s,r),n.lineTo(c+y,d+p),n.quadraticCurveTo(c,d+p,c,d+p-y),a==="center"&&i==="left"&&this.drawCaret(t,n,s,r),n.lineTo(c,d+m),n.quadraticCurveTo(c,d,c+m,d),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const a=Gl[t.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=E1(this,t),d=Object.assign({},a,this._size),h=P1(n,t,d),p=M1(t,d,h,n);(r._to!==p.x||i._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=Ln(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=s,this.drawBackground(i,t,r,n),__(t,n.textDirection),i.y+=a.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),j_(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,r=t.map(({datasetIndex:c,index:d})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[d],index:d}}),i=!ch(s,r),a=this._positionChanged(r,n);(i||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],a=this._getActiveElements(t,i,n,s),c=this._positionChanged(a,t),d=n||!ch(a,i)||c;return d&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),d}_getActiveElements(t,n,s,r){const i=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,i.mode,i,s);return i.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:s,caretY:r,options:i}=this,a=Gl[i.position].call(this,t,n);return a!==!1&&(s!==a.x||r!==a.y)}}ye(Jm,"positioners",Gl);var bi={id:"tooltip",_element:Jm,positioners:Gl,afterInit(e,t,n){n&&(e.tooltip=new Jm({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:X_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const u5=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function d5(e,t,n,s){const r=e.indexOf(t);if(r===-1)return u5(e,t,n,s);const i=e.lastIndexOf(t);return r!==i?n:r}const h5=(e,t)=>e===null?null:Gt(Math.round(e),0,t);function D1(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class xo extends Ba{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(We(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:d5(s,t,Re(n,t),this._addedLabels),h5(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=t;a<=n;a++)r.push({value:a});return r}getLabelForValue(t){return D1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ye(xo,"id","category"),ye(xo,"defaults",{ticks:{callback:D1}});function f5(e,t){const n=[],{bounds:r,step:i,min:a,max:c,precision:d,count:h,maxTicks:p,maxDigits:m,includeBounds:x}=e,y=i||1,v=p-1,{min:w,max:S}=t,j=!We(a),N=!We(c),T=!We(h),A=(S-w)/(m+1);let P=Mv((S-w)/v/y)*y,R,V,I,z;if(P<1e-14&&!j&&!N)return[{value:w},{value:S}];z=Math.ceil(S/P)-Math.floor(w/P),z>v&&(P=Mv(z*P/v/y)*y),We(d)||(R=Math.pow(10,d),P=Math.ceil(P*R)/R),r==="ticks"?(V=Math.floor(w/P)*P,I=Math.ceil(S/P)*P):(V=w,I=S),j&&N&&i&&bM((c-a)/i,P/1e3)?(z=Math.round(Math.min((c-a)/P,p)),P=(c-a)/z,V=a,I=c):T?(V=j?a:V,I=N?c:I,z=h-1,P=(I-V)/z):(z=(I-V)/P,lo(z,Math.round(z),P/1e3)?z=Math.round(z):z=Math.ceil(z));const U=Math.max(Av(P),Av(V));R=Math.pow(10,We(d)?U:d),V=Math.round(V*R)/R,I=Math.round(I*R)/R;let J=0;for(j&&(x&&V!==a?(n.push({value:a}),V<a&&J++,lo(Math.round((V+J*P)*R)/R,a,O1(a,A,e))&&J++):V<a&&J++);J<z;++J){const se=Math.round((V+J*P)*R)/R;if(N&&se>c)break;n.push({value:se})}return N&&x&&I!==c?n.length&&lo(n[n.length-1].value,c,O1(c,A,e))?n[n.length-1].value=c:n.push({value:c}):(!N||I===c)&&n.push({value:I}),n}function O1(e,t,{horizontal:n,minRotation:s}){const r=lr(s),i=(n?Math.sin(r):Math.cos(r))||.001,a=.75*t*(""+e).length;return Math.min(t/i,a)}class p5 extends Ba{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return We(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const a=d=>r=n?r:d,c=d=>i=s?i:d;if(t){const d=Qn(r),h=Qn(i);d<0&&h<0?c(0):d>0&&h>0&&a(0)}if(r===i){let d=i===0?1:Math.abs(i*.05);c(i+d),t||a(r-d)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=f5(r,i);return t.bounds==="ticks"&&vM(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const r=(s-n)/Math.max(t.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return f0(t,this.chart.options.locale,this.options.ticks.format)}}class yo extends p5{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Jt(t)?t:0,this.max=Jt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=lr(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ye(yo,"id","linear"),ye(yo,"defaults",{ticks:{callback:m_.formatters.numeric}});const Vh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_n=Object.keys(Vh);function L1(e,t){return e-t}function I1(e,t){if(We(t))return null;const n=e._adapter,{parser:s,round:r,isoWeekday:i}=e._parseOpts;let a=t;return typeof s=="function"&&(a=s(a)),Jt(a)||(a=typeof s=="string"?n.parse(a,s):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(vc(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,r)),+a)}function F1(e,t,n,s){const r=_n.length;for(let i=_n.indexOf(e);i<r-1;++i){const a=Vh[_n[i]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(c*a.size))<=s)return _n[i]}return _n[r-1]}function m5(e,t,n,s,r){for(let i=_n.length-1;i>=_n.indexOf(n);i--){const a=_n[i];if(Vh[a].common&&e._adapter.diff(r,s,a)>=t-1)return a}return _n[n?_n.indexOf(n):0]}function g5(e){for(let t=_n.indexOf(e)+1,n=_n.length;t<n;++t)if(Vh[_n[t]].common)return _n[t]}function z1(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:r}=u0(n,t),i=n[s]>=t?n[s]:n[r];e[i]=!0}}function x5(e,t,n,s){const r=e._adapter,i=+r.startOf(t[0].value,s),a=t[t.length-1].value;let c,d;for(c=i;c<=a;c=+r.add(c,1,s))d=n[c],d>=0&&(t[d].major=!0);return t}function B1(e,t,n){const s=[],r={},i=t.length;let a,c;for(a=0;a<i;++a)c=t[a],r[c]=a,s.push({value:c,major:!1});return i===0||!n?s:x5(e,s,r,n)}class gh extends Ba{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),r=this._adapter=new nR._date(t.adapters.date);r.init(n),ec(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:I1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:r,max:i,minDefined:a,maxDefined:c}=this.getUserBounds();function d(h){!a&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!c&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!a||!c)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=Jt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=Jt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,a=this.max,c=CM(r,i,a);return this._unit=n.unit||(s.autoSkip?F1(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):m5(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:g5(this._unit),this.initOffsets(r),t.reverse&&c.reverse(),B1(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,r,i;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?s=i:s=(i-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=Gt(n,0,a),s=Gt(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,a=i.unit||F1(i.minUnit,n,s,this._getLabelCapacity(n)),c=Re(r.ticks.stepSize,1),d=a==="week"?i.isoWeekday:!1,h=vc(d)||d===!0,p={};let m=n,x,y;if(h&&(m=+t.startOf(m,"isoWeek",d)),m=+t.startOf(m,h?"day":a),t.diff(s,n,a)>1e5*c)throw new Error(n+" and "+s+" are too far apart with stepSize of "+c+" "+a);const v=r.ticks.source==="data"&&this.getDataTimestamps();for(x=m,y=0;x<s;x=+t.add(x,c,a),y++)z1(p,x,v);return(x===s||r.bounds==="ticks"||y===1)&&z1(p,x,v),Object.keys(p).sort(L1).map(w=>+w)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,i=this._unit,a=n||r[i];return this._adapter.format(t,a)}_tickFormatFunction(t,n,s,r){const i=this.options,a=i.ticks.callback;if(a)return ke(a,[t,n,s],this);const c=i.time.displayFormats,d=this._unit,h=this._majorUnit,p=d&&c[d],m=h&&c[h],x=s[n],y=h&&m&&x&&x.major;return this._adapter.format(t,r||(y?m:p))}generateTickLabels(t){let n,s,r;for(n=0,s=t.length;n<s;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,r=lr(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),a=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:s*i+c*a,h:s*a+c*i}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(t,0,B1(this,[t],this._majorUnit),r),a=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)t.push(I1(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return h_(t.sort(L1))}}ye(gh,"id","time"),ye(gh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Cd(e,t,n){let s=0,r=e.length-1,i,a,c,d;n?(t>=e[s].pos&&t<=e[r].pos&&({lo:s,hi:r}=Xi(e,"pos",t)),{pos:i,time:c}=e[s],{pos:a,time:d}=e[r]):(t>=e[s].time&&t<=e[r].time&&({lo:s,hi:r}=Xi(e,"time",t)),{time:i,pos:c}=e[s],{time:a,pos:d}=e[r]);const h=a-i;return h?c+(d-c)*(t-i)/h:c}class V1 extends gh{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Cd(n,this.min),this._tableRange=Cd(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,r=[],i=[];let a,c,d,h,p;for(a=0,c=t.length;a<c;++a)h=t[a],h>=n&&h<=s&&r.push(h);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(a=0,c=r.length;a<c;++a)p=r[a+1],d=r[a-1],h=r[a],Math.round((p+d)/2)!==h&&i.push({time:h,pos:a/(c-1)});return i}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Cd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return Cd(this._table,s*this._tableRange+this._minPos,!0)}}ye(V1,"id","timeseries"),ye(V1,"defaults",gh.defaults);const Q_="label";function $1(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function y5(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function G_(e,t){e.labels=t}function Z_(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Q_;const s=[];e.datasets=t.map(r=>{const i=e.datasets.find(a=>a[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function b5(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q_;const n={labels:[],datasets:[]};return G_(n,e.labels),Z_(n,e.datasets,t),n}function v5(e,t){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:a,data:c,options:d,plugins:h=[],fallbackContent:p,updateMode:m,...x}=e,y=C.useRef(null),v=C.useRef(null),w=()=>{y.current&&(v.current=new ms(y.current,{type:a,data:b5(c,i),options:d&&{...d},plugins:h}),$1(t,v.current))},S=()=>{$1(t,null),v.current&&(v.current.destroy(),v.current=null)};return C.useEffect(()=>{!r&&v.current&&d&&y5(v.current,d)},[r,d]),C.useEffect(()=>{!r&&v.current&&G_(v.current.config.data,c.labels)},[r,c.labels]),C.useEffect(()=>{!r&&v.current&&c.datasets&&Z_(v.current.config.data,c.datasets,i)},[r,c.datasets]),C.useEffect(()=>{v.current&&(r?(S(),setTimeout(w)):v.current.update(m))},[r,d,c.labels,c.datasets,m]),C.useEffect(()=>{v.current&&(S(),setTimeout(w))},[a]),C.useEffect(()=>(w(),()=>S()),[]),Rs.createElement("canvas",{ref:y,role:"img",height:n,width:s,...x},p)}const w5=C.forwardRef(v5);function w0(e,t){return ms.register(t),C.forwardRef((n,s)=>Rs.createElement(w5,{...n,ref:s,type:e}))}const Wc=w0("bar",sc),S5=w0("doughnut",ca),J_=w0("pie",Km);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var U1=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),rc={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split(`
`)):Array.isArray(n)?e.push.apply(e,n):We(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var s=[].concat(t),r=s.length,i=e.font,a=0,c;for(e.font=n.string,c=0;c<r;++c)a=Math.max(e.measureText(s[c]).width,a);return e.font=i,{height:r*n.lineHeight,width:a}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),s=[],r,i,a,c;for(r=0,a=t.length;r<a;++r)c=t[r],i=n.indexOf(c),i===-1?s.push([c,1]):n.splice(i,1);for(r=0,a=n.length;r<a;++r)s.push([n[r],-1]);return s},rasterize:function(e){return Math.round(e*U1)/U1}};function cm(e,t){var n=t.x,s=t.y;if(n===null)return{x:0,y:-1};if(s===null)return{x:1,y:0};var r=e.x-n,i=e.y-s,a=Math.sqrt(r*r+i*i);return{x:a?r/a:0,y:a?i/a:-1}}function _5(e,t,n,s,r){switch(r){case"center":n=s=0;break;case"bottom":n=0,s=1;break;case"right":n=1,s=0;break;case"left":n=-1,s=0;break;case"top":n=0,s=-1;break;case"start":n=-n,s=-s;break;case"end":break;default:r*=Math.PI/180,n=Math.cos(r),s=Math.sin(r);break}return{x:e,y:t,vx:n,vy:s}}var j5=0,ej=1,tj=2,nj=4,sj=8;function Nd(e,t,n){var s=j5;return e<n.left?s|=ej:e>n.right&&(s|=tj),t<n.top?s|=sj:t>n.bottom&&(s|=nj),s}function C5(e,t){for(var n=e.x0,s=e.y0,r=e.x1,i=e.y1,a=Nd(n,s,t),c=Nd(r,i,t),d,h,p;!(!(a|c)||a&c);)d=a||c,d&sj?(h=n+(r-n)*(t.top-s)/(i-s),p=t.top):d&nj?(h=n+(r-n)*(t.bottom-s)/(i-s),p=t.bottom):d&tj?(p=s+(i-s)*(t.right-n)/(r-n),h=t.right):d&ej&&(p=s+(i-s)*(t.left-n)/(r-n),h=t.left),d===a?(n=h,s=p,a=Nd(n,s,t)):(r=h,i=p,c=Nd(r,i,t));return{x0:n,x1:r,y0:s,y1:i}}function kd(e,t){var n=t.anchor,s=e,r,i;return t.clamp&&(s=C5(s,t.area)),n==="start"?(r=s.x0,i=s.y0):n==="end"?(r=s.x1,i=s.y1):(r=(s.x0+s.x1)/2,i=(s.y0+s.y1)/2),_5(r,i,e.vx,e.vy,t.align)}var Td={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,s=Math.cos(n),r=Math.sin(n),i=e.innerRadius,a=e.outerRadius;return kd({x0:e.x+s*i,y0:e.y+r*i,x1:e.x+s*a,y1:e.y+r*a,vx:s,vy:r},t)},point:function(e,t){var n=cm(e,t.origin),s=n.x*e.options.radius,r=n.y*e.options.radius;return kd({x0:e.x-s,y0:e.y-r,x1:e.x+s,y1:e.y+r,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=cm(e,t.origin),s=e.x,r=e.y,i=0,a=0;return e.horizontal?(s=Math.min(e.x,e.base),i=Math.abs(e.base-e.x)):(r=Math.min(e.y,e.base),a=Math.abs(e.base-e.y)),kd({x0:s,y0:r+a,x1:s+i,y1:r,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=cm(e,t.origin);return kd({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},dr=rc.rasterize;function N5(e){var t=e.borderWidth||0,n=e.padding,s=e.size.height,r=e.size.width,i=-r/2,a=-s/2;return{frame:{x:i-n.left-t,y:a-n.top-t,w:r+n.width+t*2,h:s+n.height+t*2},text:{x:i,y:a,w:r,h:s}}}function k5(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var s=n.getBasePixel();return e.horizontal?{x:s,y:null}:{x:null,y:s}}function T5(e){return e instanceof ui?Td.arc:e instanceof xa?Td.point:e instanceof fr?Td.bar:Td.fallback}function E5(e,t,n,s,r,i){var a=Math.PI/2;if(i){var c=Math.min(i,r/2,s/2),d=t+c,h=n+c,p=t+s-c,m=n+r-c;e.moveTo(t,h),d<p&&h<m?(e.arc(d,h,c,-Math.PI,-a),e.arc(p,h,c,-a,0),e.arc(p,m,c,0,a),e.arc(d,m,c,a,Math.PI)):d<p?(e.moveTo(d,n),e.arc(p,h,c,-a,a),e.arc(d,h,c,a,Math.PI+a)):h<m?(e.arc(d,h,c,-Math.PI,0),e.arc(d,m,c,0,Math.PI)):e.arc(d,h,c,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,s,r)}function P5(e,t,n){var s=n.backgroundColor,r=n.borderColor,i=n.borderWidth;!s&&(!r||!i)||(e.beginPath(),E5(e,dr(t.x)+i/2,dr(t.y)+i/2,dr(t.w)-i,dr(t.h)-i,n.borderRadius),e.closePath(),s&&(e.fillStyle=s,e.fill()),r&&i&&(e.strokeStyle=r,e.lineWidth=i,e.lineJoin="miter",e.stroke()))}function M5(e,t,n){var s=n.lineHeight,r=e.w,i=e.x,a=e.y+s/2;return t==="center"?i+=r/2:(t==="end"||t==="right")&&(i+=r),{h:s,w:r,x:i,y:a}}function A5(e,t,n){var s=e.shadowBlur,r=n.stroked,i=dr(n.x),a=dr(n.y),c=dr(n.w);r&&e.strokeText(t,i,a,c),n.filled&&(s&&r&&(e.shadowBlur=0),e.fillText(t,i,a,c),s&&r&&(e.shadowBlur=s))}function R5(e,t,n,s){var r=s.textAlign,i=s.color,a=!!i,c=s.font,d=t.length,h=s.textStrokeColor,p=s.textStrokeWidth,m=h&&p,x;if(!(!d||!a&&!m))for(n=M5(n,r,c),e.font=c.string,e.textAlign=r,e.textBaseline="middle",e.shadowBlur=s.textShadowBlur,e.shadowColor=s.textShadowColor,a&&(e.fillStyle=i),m&&(e.lineJoin="round",e.lineWidth=p,e.strokeStyle=h),x=0,d=t.length;x<d;++x)A5(e,t[x],{stroked:m,filled:a,w:n.w,x:n.x,y:n.y+n.h*x})}var rj=function(e,t,n,s){var r=this;r._config=e,r._index=s,r._model=null,r._rects=null,r._ctx=t,r._el=n};Fs(rj.prototype,{_modelize:function(e,t,n,s){var r=this,i=r._index,a=Vt(rt([n.font,{}],s,i)),c=rt([n.color,gt.color],s,i);return{align:rt([n.align,"center"],s,i),anchor:rt([n.anchor,"center"],s,i),area:s.chart.chartArea,backgroundColor:rt([n.backgroundColor,null],s,i),borderColor:rt([n.borderColor,null],s,i),borderRadius:rt([n.borderRadius,0],s,i),borderWidth:rt([n.borderWidth,0],s,i),clamp:rt([n.clamp,!1],s,i),clip:rt([n.clip,!1],s,i),color:c,display:e,font:a,lines:t,offset:rt([n.offset,4],s,i),opacity:rt([n.opacity,1],s,i),origin:k5(r._el,s),padding:Ln(rt([n.padding,4],s,i)),positioner:T5(r._el),rotation:rt([n.rotation,0],s,i)*(Math.PI/180),size:rc.textSize(r._ctx,t,a),textAlign:rt([n.textAlign,"start"],s,i),textShadowBlur:rt([n.textShadowBlur,0],s,i),textShadowColor:rt([n.textShadowColor,c],s,i),textStrokeColor:rt([n.textStrokeColor,c],s,i),textStrokeWidth:rt([n.textStrokeWidth,0],s,i)}},update:function(e){var t=this,n=null,s=null,r=t._index,i=t._config,a,c,d,h=rt([i.display,!0],e,r);h&&(a=e.dataset.data[r],c=Re(ke(i.formatter,[a,e]),a),d=We(c)?[]:rc.toTextLines(c),d.length&&(n=t._modelize(h,d,i,e),s=N5(n))),t._model=n,t._rects=s},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,s=e.ctx,r=n._model,i=n._rects,a;this.visible()&&(s.save(),r.clip&&(a=r.area,s.beginPath(),s.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),s.clip()),s.globalAlpha=rc.bound(0,r.opacity,1),s.translate(dr(t.x),dr(t.y)),s.rotate(r.rotation),P5(s,i.frame,r),R5(s,r.lines,i.text,r),s.restore())}});var D5=Number.MIN_SAFE_INTEGER||-9007199254740991,O5=Number.MAX_SAFE_INTEGER||9007199254740991;function Hl(e,t,n){var s=Math.cos(n),r=Math.sin(n),i=t.x,a=t.y;return{x:i+s*(e.x-i)-r*(e.y-a),y:a+r*(e.x-i)+s*(e.y-a)}}function H1(e,t){var n=O5,s=D5,r=t.origin,i,a,c,d,h;for(i=0;i<e.length;++i)a=e[i],c=a.x-r.x,d=a.y-r.y,h=t.vx*c+t.vy*d,n=Math.min(n,h),s=Math.max(s,h);return{min:n,max:s}}function Ed(e,t){var n=t.x-e.x,s=t.y-e.y,r=Math.sqrt(n*n+s*s);return{vx:(t.x-e.x)/r,vy:(t.y-e.y)/r,origin:e,ln:r}}var ij=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Fs(ij.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,s=t._rect;return e=Hl(e,t.center(),-t._rotation),!(e.x<s.x-n||e.y<s.y-n||e.x>s.x+s.w+n*2||e.y>s.y+s.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),s=[Ed(t[0],t[1]),Ed(t[0],t[3])],r,i,a;for(this._rotation!==e._rotation&&s.push(Ed(n[0],n[1]),Ed(n[0],n[3])),r=0;r<s.length;++r)if(i=H1(t,s[r]),a=H1(n,s[r]),i.max<a.min||a.max<i.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,s=e.center();return[Hl({x:t.x,y:t.y},s,n),Hl({x:t.x+t.w,y:t.y},s,n),Hl({x:t.x+t.w,y:t.y+t.h},s,n),Hl({x:t.x,y:t.y+t.h},s,n)]}});function oj(e,t,n){var s=t.positioner(e,t),r=s.vx,i=s.vy;if(!r&&!i)return{x:s.x,y:s.y};var a=n.w,c=n.h,d=t.rotation,h=Math.abs(a/2*Math.cos(d))+Math.abs(c/2*Math.sin(d)),p=Math.abs(a/2*Math.sin(d))+Math.abs(c/2*Math.cos(d)),m=1/Math.max(Math.abs(r),Math.abs(i));return h*=r*m,p*=i*m,h+=t.offset*r,p+=t.offset*i,{x:s.x+h,y:s.y+p}}function L5(e,t){var n,s,r,i;for(n=e.length-1;n>=0;--n)for(r=e[n].$layout,s=n-1;s>=0&&r._visible;--s)i=e[s].$layout,i._visible&&r._box.intersects(i._box)&&t(r,i);return e}function I5(e){var t,n,s,r,i,a,c;for(t=0,n=e.length;t<n;++t)s=e[t],r=s.$layout,r._visible&&(c=new Proxy(s._el,{get:(d,h)=>d.getProps([h],!0)[h]}),i=s.geometry(),a=oj(c,s.model(),i),r._box.update(a,i,s.rotation()));return L5(e,function(d,h){var p=d._hidable,m=h._hidable;p&&m||m?h._visible=!1:p&&(d._visible=!1)})}var ic={prepare:function(e){var t=[],n,s,r,i,a;for(n=0,r=e.length;n<r;++n)for(s=0,i=e[n].length;s<i;++s)a=e[n][s],t.push(a),a.$layout={_box:new ij,_hidable:!1,_visible:!0,_set:n,_idx:a._index};return t.sort(function(c,d){var h=c.$layout,p=d.$layout;return h._idx===p._idx?p._set-h._set:p._idx-h._idx}),this.update(t),t},update:function(e){var t=!1,n,s,r,i,a;for(n=0,s=e.length;n<s;++n)r=e[n],i=r.model(),a=r.$layout,a._hidable=i&&i.display==="auto",a._visible=r.visible(),t|=a._hidable;t&&I5(e)},lookup:function(e,t){var n,s;for(n=e.length-1;n>=0;--n)if(s=e[n].$layout,s&&s._visible&&s._box.contains(t))return e[n];return null},draw:function(e,t){var n,s,r,i,a,c;for(n=0,s=t.length;n<s;++n)r=t[n],i=r.$layout,i._visible&&(a=r.geometry(),c=oj(r._el,r.model(),a),i._box.update(c,a,r.rotation()),r.draw(e,c))}},F5=function(e){if(We(e))return null;var t=e,n,s,r;if($e(e))if(!We(e.label))t=e.label;else if(!We(e.r))t=e.r;else for(t="",n=Object.keys(e),r=0,s=n.length;r<s;++r)t+=(r!==0?", ":"")+n[r]+": "+e[n[r]];return""+t},z5={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:F5,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},bn="$datalabels",aj="$default";function B5(e,t){var n=e.datalabels,s={},r=[],i,a;return n===!1?null:(n===!0&&(n={}),t=Fs({},[t,n]),i=t.labels||{},a=Object.keys(i),delete t.labels,a.length?a.forEach(function(c){i[c]&&r.push(Fs({},[t,i[c],{_key:c}]))}):r.push(t),s=r.reduce(function(c,d){return Be(d.listeners||{},function(h,p){c[p]=c[p]||{},c[p][d._key||aj]=h}),delete d.listeners,c},{}),{labels:r,listeners:s})}function eg(e,t,n,s){if(t){var r=n.$context,i=n.$groups,a;t[i._set]&&(a=t[i._set][i._key],a&&ke(a,[r,s])===!0&&(e[bn]._dirty=!0,n.update(r)))}}function V5(e,t,n,s,r){var i,a;!n&&!s||(n?s?n!==s&&(a=i=!0):a=!0:i=!0,a&&eg(e,t.leave,n,r),i&&eg(e,t.enter,s,r))}function $5(e,t){var n=e[bn],s=n._listeners,r,i;if(!(!s.enter&&!s.leave)){if(t.type==="mousemove")i=ic.lookup(n._labels,t);else if(t.type!=="mouseout")return;r=n._hovered,n._hovered=i,V5(e,s,r,i,t)}}function U5(e,t){var n=e[bn],s=n._listeners.click,r=s&&ic.lookup(n._labels,t);r&&eg(e,s,r,t)}var jo={id:"datalabels",defaults:z5,beforeInit:function(e){e[bn]={_actives:[]}},beforeUpdate:function(e){var t=e[bn];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var s=t.index,r=e[bn],i=r._datasets[s]=[],a=e.isDatasetVisible(s),c=e.data.datasets[s],d=B5(c,n),h=t.meta.data||[],p=e.ctx,m,x,y,v,w,S,j,N;for(p.save(),m=0,y=h.length;m<y;++m)if(j=h[m],j[bn]=[],a&&j&&e.getDataVisibility(m)&&!j.skip)for(x=0,v=d.labels.length;x<v;++x)w=d.labels[x],S=w._key,N=new rj(w,p,j,m),N.$groups={_set:s,_key:S||aj},N.$context={active:!1,chart:e,dataIndex:m,dataset:c,datasetIndex:s},N.update(N.$context),j[bn].push(N),i.push(N);p.restore(),Fs(r._listeners,d.listeners,{merger:function(T,A,P){A[T]=A[T]||{},A[T][t.index]=P[T],r._listened=!0}})},afterUpdate:function(e){e[bn]._labels=ic.prepare(e[bn]._datasets)},afterDatasetsDraw:function(e){ic.draw(e,e[bn]._labels)},beforeEvent:function(e,t){if(e[bn]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":$5(e,n);break;case"click":U5(e,n);break}}},afterEvent:function(e){var t=e[bn],n=t._actives,s=t._actives=e.getActiveElements(),r=rc.arrayDiff(n,s),i,a,c,d,h,p,m;for(i=0,a=r.length;i<a;++i)if(h=r[i],h[1])for(m=h[0].element[bn]||[],c=0,d=m.length;c<d;++c)p=m[c],p.$context.active=h[1]===1,p.update(p.$context);(t._dirty||r.length)&&(ic.update(t._labels),e.render()),delete t._dirty}},um={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var W1;function H5(){return W1||(W1=1,function(e){(function(t,n,s,r){var i=["","webkit","Moz","MS","ms","o"],a=n.createElement("div"),c="function",d=Math.round,h=Math.abs,p=Date.now;function m(E,M,L){return setTimeout(T(E,L),M)}function x(E,M,L){return Array.isArray(E)?(y(E,L[M],L),!0):!1}function y(E,M,L){var q;if(E)if(E.forEach)E.forEach(M,L);else if(E.length!==r)for(q=0;q<E.length;)M.call(L,E[q],q,E),q++;else for(q in E)E.hasOwnProperty(q)&&M.call(L,E[q],q,E)}function v(E,M,L){var q="DEPRECATED METHOD: "+M+`
`+L+` AT 
`;return function(){var re=new Error("get-stack-trace"),fe=re&&re.stack?re.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Fe=t.console&&(t.console.warn||t.console.log);return Fe&&Fe.call(t.console,q,fe),E.apply(this,arguments)}}var w;typeof Object.assign!="function"?w=function(M){if(M===r||M===null)throw new TypeError("Cannot convert undefined or null to object");for(var L=Object(M),q=1;q<arguments.length;q++){var re=arguments[q];if(re!==r&&re!==null)for(var fe in re)re.hasOwnProperty(fe)&&(L[fe]=re[fe])}return L}:w=Object.assign;var S=v(function(M,L,q){for(var re=Object.keys(L),fe=0;fe<re.length;)(!q||q&&M[re[fe]]===r)&&(M[re[fe]]=L[re[fe]]),fe++;return M},"extend","Use `assign`."),j=v(function(M,L){return S(M,L,!0)},"merge","Use `assign`.");function N(E,M,L){var q=M.prototype,re;re=E.prototype=Object.create(q),re.constructor=E,re._super=q,L&&w(re,L)}function T(E,M){return function(){return E.apply(M,arguments)}}function A(E,M){return typeof E==c?E.apply(M&&M[0]||r,M):E}function P(E,M){return E===r?M:E}function R(E,M,L){y(U(M),function(q){E.addEventListener(q,L,!1)})}function V(E,M,L){y(U(M),function(q){E.removeEventListener(q,L,!1)})}function I(E,M){for(;E;){if(E==M)return!0;E=E.parentNode}return!1}function z(E,M){return E.indexOf(M)>-1}function U(E){return E.trim().split(/\s+/g)}function J(E,M,L){if(E.indexOf&&!L)return E.indexOf(M);for(var q=0;q<E.length;){if(L&&E[q][L]==M||!L&&E[q]===M)return q;q++}return-1}function se(E){return Array.prototype.slice.call(E,0)}function de(E,M,L){for(var q=[],re=[],fe=0;fe<E.length;){var Fe=E[fe][M];J(re,Fe)<0&&q.push(E[fe]),re[fe]=Fe,fe++}return q=q.sort(function(wt,Ct){return wt[M]>Ct[M]}),q}function G(E,M){for(var L,q,re=M[0].toUpperCase()+M.slice(1),fe=0;fe<i.length;){if(L=i[fe],q=L?L+re:M,q in E)return q;fe++}return r}var he=1;function ee(){return he++}function Z(E){var M=E.ownerDocument||E;return M.defaultView||M.parentWindow||t}var K=/mobile|tablet|ip(ad|hone|od)|android/i,te="ontouchstart"in t,O=G(t,"PointerEvent")!==r,Q=te&&K.test(navigator.userAgent),ce="touch",Se="pen",we="mouse",Ue="kinect",De=25,Ae=1,Le=2,je=4,ue=8,Pe=1,Te=2,Ie=4,nt=8,yt=16,bt=Te|Ie,tn=nt|yt,wr=bt|tn,ko=["x","y"],gs=["clientX","clientY"];function Tt(E,M){var L=this;this.manager=E,this.callback=M,this.element=E.element,this.target=E.options.inputTarget,this.domHandler=function(q){A(E.options.enable,[E])&&L.handler(q)},this.init()}Tt.prototype={handler:function(){},init:function(){this.evEl&&R(this.element,this.evEl,this.domHandler),this.evTarget&&R(this.target,this.evTarget,this.domHandler),this.evWin&&R(Z(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&V(this.element,this.evEl,this.domHandler),this.evTarget&&V(this.target,this.evTarget,this.domHandler),this.evWin&&V(Z(this.element),this.evWin,this.domHandler)}};function qa(E){var M,L=E.options.inputClass;return L?M=L:O?M=Eo:Q?M=jr:te?M=Nr:M=_r,new M(E,Gc)}function Gc(E,M,L){var q=L.pointers.length,re=L.changedPointers.length,fe=M&Ae&&q-re===0,Fe=M&(je|ue)&&q-re===0;L.isFirst=!!fe,L.isFinal=!!Fe,fe&&(E.session={}),L.eventType=M,Zc(E,L),E.emit("hammer.input",L),E.recognize(L),E.session.prevInput=L}function Zc(E,M){var L=E.session,q=M.pointers,re=q.length;L.firstInput||(L.firstInput=To(M)),re>1&&!L.firstMultiple?L.firstMultiple=To(M):re===1&&(L.firstMultiple=!1);var fe=L.firstInput,Fe=L.firstMultiple,vt=Fe?Fe.center:fe.center,wt=M.center=Si(q);M.timeStamp=p(),M.deltaTime=M.timeStamp-fe.timeStamp,M.angle=Ka(vt,wt),M.distance=xs(vt,wt),Jc(L,M),M.offsetDirection=Sr(M.deltaX,M.deltaY);var Ct=Ya(M.deltaTime,M.deltaX,M.deltaY);M.overallVelocityX=Ct.x,M.overallVelocityY=Ct.y,M.overallVelocity=h(Ct.x)>h(Ct.y)?Ct.x:Ct.y,M.scale=Fe?nu(Fe.pointers,q):1,M.rotation=Fe?tu(Fe.pointers,q):0,M.maxPointers=L.prevInput?M.pointers.length>L.prevInput.maxPointers?M.pointers.length:L.prevInput.maxPointers:M.pointers.length,eu(L,M);var Et=E.element;I(M.srcEvent.target,Et)&&(Et=M.srcEvent.target),M.target=Et}function Jc(E,M){var L=M.center,q=E.offsetDelta||{},re=E.prevDelta||{},fe=E.prevInput||{};(M.eventType===Ae||fe.eventType===je)&&(re=E.prevDelta={x:fe.deltaX||0,y:fe.deltaY||0},q=E.offsetDelta={x:L.x,y:L.y}),M.deltaX=re.x+(L.x-q.x),M.deltaY=re.y+(L.y-q.y)}function eu(E,M){var L=E.lastInterval||M,q=M.timeStamp-L.timeStamp,re,fe,Fe,vt;if(M.eventType!=ue&&(q>De||L.velocity===r)){var wt=M.deltaX-L.deltaX,Ct=M.deltaY-L.deltaY,Et=Ya(q,wt,Ct);fe=Et.x,Fe=Et.y,re=h(Et.x)>h(Et.y)?Et.x:Et.y,vt=Sr(wt,Ct),E.lastInterval=M}else re=L.velocity,fe=L.velocityX,Fe=L.velocityY,vt=L.direction;M.velocity=re,M.velocityX=fe,M.velocityY=Fe,M.direction=vt}function To(E){for(var M=[],L=0;L<E.pointers.length;)M[L]={clientX:d(E.pointers[L].clientX),clientY:d(E.pointers[L].clientY)},L++;return{timeStamp:p(),pointers:M,center:Si(M),deltaX:E.deltaX,deltaY:E.deltaY}}function Si(E){var M=E.length;if(M===1)return{x:d(E[0].clientX),y:d(E[0].clientY)};for(var L=0,q=0,re=0;re<M;)L+=E[re].clientX,q+=E[re].clientY,re++;return{x:d(L/M),y:d(q/M)}}function Ya(E,M,L){return{x:M/E||0,y:L/E||0}}function Sr(E,M){return E===M?Pe:h(E)>=h(M)?E<0?Te:Ie:M<0?nt:yt}function xs(E,M,L){L||(L=ko);var q=M[L[0]]-E[L[0]],re=M[L[1]]-E[L[1]];return Math.sqrt(q*q+re*re)}function Ka(E,M,L){L||(L=ko);var q=M[L[0]]-E[L[0]],re=M[L[1]]-E[L[1]];return Math.atan2(re,q)*180/Math.PI}function tu(E,M){return Ka(M[1],M[0],gs)+Ka(E[1],E[0],gs)}function nu(E,M){return xs(M[0],M[1],gs)/xs(E[0],E[1],gs)}var Yh={mousedown:Ae,mousemove:Le,mouseup:je},Xa="mousedown",Qa="mousemove mouseup";function _r(){this.evEl=Xa,this.evWin=Qa,this.pressed=!1,Tt.apply(this,arguments)}N(_r,Tt,{handler:function(M){var L=Yh[M.type];L&Ae&&M.button===0&&(this.pressed=!0),L&Le&&M.which!==1&&(L=je),this.pressed&&(L&je&&(this.pressed=!1),this.callback(this.manager,L,{pointers:[M],changedPointers:[M],pointerType:we,srcEvent:M}))}});var Ga={pointerdown:Ae,pointermove:Le,pointerup:je,pointercancel:ue,pointerout:ue},Za={2:ce,3:Se,4:we,5:Ue},Vs="pointerdown",$s="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Vs="MSPointerDown",$s="MSPointerMove MSPointerUp MSPointerCancel");function Eo(){this.evEl=Vs,this.evWin=$s,Tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}N(Eo,Tt,{handler:function(M){var L=this.store,q=!1,re=M.type.toLowerCase().replace("ms",""),fe=Ga[re],Fe=Za[M.pointerType]||M.pointerType,vt=Fe==ce,wt=J(L,M.pointerId,"pointerId");fe&Ae&&(M.button===0||vt)?wt<0&&(L.push(M),wt=L.length-1):fe&(je|ue)&&(q=!0),!(wt<0)&&(L[wt]=M,this.callback(this.manager,fe,{pointers:L,changedPointers:[M],pointerType:Fe,srcEvent:M}),q&&L.splice(wt,1))}});var su={touchstart:Ae,touchmove:Le,touchend:je,touchcancel:ue},ru="touchstart",iu="touchstart touchmove touchend touchcancel";function Ja(){this.evTarget=ru,this.evWin=iu,this.started=!1,Tt.apply(this,arguments)}N(Ja,Tt,{handler:function(M){var L=su[M.type];if(L===Ae&&(this.started=!0),!!this.started){var q=el.call(this,M,L);L&(je|ue)&&q[0].length-q[1].length===0&&(this.started=!1),this.callback(this.manager,L,{pointers:q[0],changedPointers:q[1],pointerType:ce,srcEvent:M})}}});function el(E,M){var L=se(E.touches),q=se(E.changedTouches);return M&(je|ue)&&(L=de(L.concat(q),"identifier")),[L,q]}var ou={touchstart:Ae,touchmove:Le,touchend:je,touchcancel:ue},_i="touchstart touchmove touchend touchcancel";function jr(){this.evTarget=_i,this.targetIds={},Tt.apply(this,arguments)}N(jr,Tt,{handler:function(M){var L=ou[M.type],q=ji.call(this,M,L);q&&this.callback(this.manager,L,{pointers:q[0],changedPointers:q[1],pointerType:ce,srcEvent:M})}});function ji(E,M){var L=se(E.touches),q=this.targetIds;if(M&(Ae|Le)&&L.length===1)return q[L[0].identifier]=!0,[L,L];var re,fe,Fe=se(E.changedTouches),vt=[],wt=this.target;if(fe=L.filter(function(Ct){return I(Ct.target,wt)}),M===Ae)for(re=0;re<fe.length;)q[fe[re].identifier]=!0,re++;for(re=0;re<Fe.length;)q[Fe[re].identifier]&&vt.push(Fe[re]),M&(je|ue)&&delete q[Fe[re].identifier],re++;if(vt.length)return[de(fe.concat(vt),"identifier"),vt]}var Kh=2500,Cr=25;function Nr(){Tt.apply(this,arguments);var E=T(this.handler,this);this.touch=new jr(this.manager,E),this.mouse=new _r(this.manager,E),this.primaryTouch=null,this.lastTouches=[]}N(Nr,Tt,{handler:function(M,L,q){var re=q.pointerType==ce,fe=q.pointerType==we;if(!(fe&&q.sourceCapabilities&&q.sourceCapabilities.firesTouchEvents)){if(re)Po.call(this,L,q);else if(fe&&Xh.call(this,q))return;this.callback(M,L,q)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Po(E,M){E&Ae?(this.primaryTouch=M.changedPointers[0].identifier,Mo.call(this,M)):E&(je|ue)&&Mo.call(this,M)}function Mo(E){var M=E.changedPointers[0];if(M.identifier===this.primaryTouch){var L={x:M.clientX,y:M.clientY};this.lastTouches.push(L);var q=this.lastTouches,re=function(){var fe=q.indexOf(L);fe>-1&&q.splice(fe,1)};setTimeout(re,Kh)}}function Xh(E){for(var M=E.srcEvent.clientX,L=E.srcEvent.clientY,q=0;q<this.lastTouches.length;q++){var re=this.lastTouches[q],fe=Math.abs(M-re.x),Fe=Math.abs(L-re.y);if(fe<=Cr&&Fe<=Cr)return!0}return!1}var au=G(a.style,"touchAction"),lu=au!==r,ys="compute",tl="auto",Ao="manipulation",Us="none",kr="pan-x",Tr="pan-y",Ci=Gh();function Ro(E,M){this.manager=E,this.set(M)}Ro.prototype={set:function(E){E==ys&&(E=this.compute()),lu&&this.manager.element.style&&Ci[E]&&(this.manager.element.style[au]=E),this.actions=E.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var E=[];return y(this.manager.recognizers,function(M){A(M.options.enable,[M])&&(E=E.concat(M.getTouchAction()))}),Qh(E.join(" "))},preventDefaults:function(E){var M=E.srcEvent,L=E.offsetDirection;if(this.manager.session.prevented){M.preventDefault();return}var q=this.actions,re=z(q,Us)&&!Ci[Us],fe=z(q,Tr)&&!Ci[Tr],Fe=z(q,kr)&&!Ci[kr];if(re){var vt=E.pointers.length===1,wt=E.distance<2,Ct=E.deltaTime<250;if(vt&&wt&&Ct)return}if(!(Fe&&fe)&&(re||fe&&L&bt||Fe&&L&tn))return this.preventSrc(M)},preventSrc:function(E){this.manager.session.prevented=!0,E.preventDefault()}};function Qh(E){if(z(E,Us))return Us;var M=z(E,kr),L=z(E,Tr);return M&&L?Us:M||L?M?kr:Tr:z(E,Ao)?Ao:tl}function Gh(){if(!lu)return!1;var E={},M=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(L){E[L]=M?t.CSS.supports("touch-action",L):!0}),E}var Ge=1,cn=2,bs=4,Jn=8,un=Jn,Ni=16,kn=32;function dn(E){this.options=w({},this.defaults,E||{}),this.id=ee(),this.manager=null,this.options.enable=P(this.options.enable,!0),this.state=Ge,this.simultaneous={},this.requireFail=[]}dn.prototype={defaults:{},set:function(E){return w(this.options,E),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(E){if(x(E,"recognizeWith",this))return this;var M=this.simultaneous;return E=$t(E,this),M[E.id]||(M[E.id]=E,E.recognizeWith(this)),this},dropRecognizeWith:function(E){return x(E,"dropRecognizeWith",this)?this:(E=$t(E,this),delete this.simultaneous[E.id],this)},requireFailure:function(E){if(x(E,"requireFailure",this))return this;var M=this.requireFail;return E=$t(E,this),J(M,E)===-1&&(M.push(E),E.requireFailure(this)),this},dropRequireFailure:function(E){if(x(E,"dropRequireFailure",this))return this;E=$t(E,this);var M=J(this.requireFail,E);return M>-1&&this.requireFail.splice(M,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(E){return!!this.simultaneous[E.id]},emit:function(E){var M=this,L=this.state;function q(re){M.manager.emit(re,E)}L<Jn&&q(M.options.event+Tn(L)),q(M.options.event),E.additionalEvent&&q(E.additionalEvent),L>=Jn&&q(M.options.event+Tn(L))},tryEmit:function(E){if(this.canEmit())return this.emit(E);this.state=kn},canEmit:function(){for(var E=0;E<this.requireFail.length;){if(!(this.requireFail[E].state&(kn|Ge)))return!1;E++}return!0},recognize:function(E){var M=w({},E);if(!A(this.options.enable,[this,M])){this.reset(),this.state=kn;return}this.state&(un|Ni|kn)&&(this.state=Ge),this.state=this.process(M),this.state&(cn|bs|Jn|Ni)&&this.tryEmit(M)},process:function(E){},getTouchAction:function(){},reset:function(){}};function Tn(E){return E&Ni?"cancel":E&Jn?"end":E&bs?"move":E&cn?"start":""}function cu(E){return E==yt?"down":E==nt?"up":E==Te?"left":E==Ie?"right":""}function $t(E,M){var L=M.manager;return L?L.get(E):E}function En(){dn.apply(this,arguments)}N(En,dn,{defaults:{pointers:1},attrTest:function(E){var M=this.options.pointers;return M===0||E.pointers.length===M},process:function(E){var M=this.state,L=E.eventType,q=M&(cn|bs),re=this.attrTest(E);return q&&(L&ue||!re)?M|Ni:q||re?L&je?M|Jn:M&cn?M|bs:cn:kn}});function Do(){En.apply(this,arguments),this.pX=null,this.pY=null}N(Do,En,{defaults:{event:"pan",threshold:10,pointers:1,direction:wr},getTouchAction:function(){var E=this.options.direction,M=[];return E&bt&&M.push(Tr),E&tn&&M.push(kr),M},directionTest:function(E){var M=this.options,L=!0,q=E.distance,re=E.direction,fe=E.deltaX,Fe=E.deltaY;return re&M.direction||(M.direction&bt?(re=fe===0?Pe:fe<0?Te:Ie,L=fe!=this.pX,q=Math.abs(E.deltaX)):(re=Fe===0?Pe:Fe<0?nt:yt,L=Fe!=this.pY,q=Math.abs(E.deltaY))),E.direction=re,L&&q>M.threshold&&re&M.direction},attrTest:function(E){return En.prototype.attrTest.call(this,E)&&(this.state&cn||!(this.state&cn)&&this.directionTest(E))},emit:function(E){this.pX=E.deltaX,this.pY=E.deltaY;var M=cu(E.direction);M&&(E.additionalEvent=this.options.event+M),this._super.emit.call(this,E)}});function nl(){En.apply(this,arguments)}N(nl,En,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Us]},attrTest:function(E){return this._super.attrTest.call(this,E)&&(Math.abs(E.scale-1)>this.options.threshold||this.state&cn)},emit:function(E){if(E.scale!==1){var M=E.scale<1?"in":"out";E.additionalEvent=this.options.event+M}this._super.emit.call(this,E)}});function Er(){dn.apply(this,arguments),this._timer=null,this._input=null}N(Er,dn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[tl]},process:function(E){var M=this.options,L=E.pointers.length===M.pointers,q=E.distance<M.threshold,re=E.deltaTime>M.time;if(this._input=E,!q||!L||E.eventType&(je|ue)&&!re)this.reset();else if(E.eventType&Ae)this.reset(),this._timer=m(function(){this.state=un,this.tryEmit()},M.time,this);else if(E.eventType&je)return un;return kn},reset:function(){clearTimeout(this._timer)},emit:function(E){this.state===un&&(E&&E.eventType&je?this.manager.emit(this.options.event+"up",E):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}});function Pr(){En.apply(this,arguments)}N(Pr,En,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Us]},attrTest:function(E){return this._super.attrTest.call(this,E)&&(Math.abs(E.rotation)>this.options.threshold||this.state&cn)}});function Hs(){En.apply(this,arguments)}N(Hs,En,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:bt|tn,pointers:1},getTouchAction:function(){return Do.prototype.getTouchAction.call(this)},attrTest:function(E){var M=this.options.direction,L;return M&(bt|tn)?L=E.overallVelocity:M&bt?L=E.overallVelocityX:M&tn&&(L=E.overallVelocityY),this._super.attrTest.call(this,E)&&M&E.offsetDirection&&E.distance>this.options.threshold&&E.maxPointers==this.options.pointers&&h(L)>this.options.velocity&&E.eventType&je},emit:function(E){var M=cu(E.offsetDirection);M&&this.manager.emit(this.options.event+M,E),this.manager.emit(this.options.event,E)}});function Ws(){dn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}N(Ws,dn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ao]},process:function(E){var M=this.options,L=E.pointers.length===M.pointers,q=E.distance<M.threshold,re=E.deltaTime<M.time;if(this.reset(),E.eventType&Ae&&this.count===0)return this.failTimeout();if(q&&re&&L){if(E.eventType!=je)return this.failTimeout();var fe=this.pTime?E.timeStamp-this.pTime<M.interval:!0,Fe=!this.pCenter||xs(this.pCenter,E.center)<M.posThreshold;this.pTime=E.timeStamp,this.pCenter=E.center,!Fe||!fe?this.count=1:this.count+=1,this._input=E;var vt=this.count%M.taps;if(vt===0)return this.hasRequireFailures()?(this._timer=m(function(){this.state=un,this.tryEmit()},M.interval,this),cn):un}return kn},failTimeout:function(){return this._timer=m(function(){this.state=kn},this.options.interval,this),kn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==un&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function vs(E,M){return M=M||{},M.recognizers=P(M.recognizers,vs.defaults.preset),new Lo(E,M)}vs.VERSION="2.0.7",vs.defaults={domEvents:!1,touchAction:ys,enable:!0,inputTarget:null,inputClass:null,preset:[[Pr,{enable:!1}],[nl,{enable:!1},["rotate"]],[Hs,{direction:bt}],[Do,{direction:bt},["swipe"]],[Ws],[Ws,{event:"doubletap",taps:2},["tap"]],[Er]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Zh=1,Oo=2;function Lo(E,M){this.options=w({},vs.defaults,M||{}),this.options.inputTarget=this.options.inputTarget||E,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=E,this.input=qa(this),this.touchAction=new Ro(this,this.options.touchAction),Io(this,!0),y(this.options.recognizers,function(L){var q=this.add(new L[0](L[1]));L[2]&&q.recognizeWith(L[2]),L[3]&&q.requireFailure(L[3])},this)}Lo.prototype={set:function(E){return w(this.options,E),E.touchAction&&this.touchAction.update(),E.inputTarget&&(this.input.destroy(),this.input.target=E.inputTarget,this.input.init()),this},stop:function(E){this.session.stopped=E?Oo:Zh},recognize:function(E){var M=this.session;if(!M.stopped){this.touchAction.preventDefaults(E);var L,q=this.recognizers,re=M.curRecognizer;(!re||re&&re.state&un)&&(re=M.curRecognizer=null);for(var fe=0;fe<q.length;)L=q[fe],M.stopped!==Oo&&(!re||L==re||L.canRecognizeWith(re))?L.recognize(E):L.reset(),!re&&L.state&(cn|bs|Jn)&&(re=M.curRecognizer=L),fe++}},get:function(E){if(E instanceof dn)return E;for(var M=this.recognizers,L=0;L<M.length;L++)if(M[L].options.event==E)return M[L];return null},add:function(E){if(x(E,"add",this))return this;var M=this.get(E.options.event);return M&&this.remove(M),this.recognizers.push(E),E.manager=this,this.touchAction.update(),E},remove:function(E){if(x(E,"remove",this))return this;if(E=this.get(E),E){var M=this.recognizers,L=J(M,E);L!==-1&&(M.splice(L,1),this.touchAction.update())}return this},on:function(E,M){if(E!==r&&M!==r){var L=this.handlers;return y(U(E),function(q){L[q]=L[q]||[],L[q].push(M)}),this}},off:function(E,M){if(E!==r){var L=this.handlers;return y(U(E),function(q){M?L[q]&&L[q].splice(J(L[q],M),1):delete L[q]}),this}},emit:function(E,M){this.options.domEvents&&ki(E,M);var L=this.handlers[E]&&this.handlers[E].slice();if(!(!L||!L.length)){M.type=E,M.preventDefault=function(){M.srcEvent.preventDefault()};for(var q=0;q<L.length;)L[q](M),q++}},destroy:function(){this.element&&Io(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Io(E,M){var L=E.element;if(L.style){var q;y(E.options.cssProps,function(re,fe){q=G(L.style,fe),M?(E.oldCssProps[q]=L.style[q],L.style[q]=re):L.style[q]=E.oldCssProps[q]||""}),M||(E.oldCssProps={})}}function ki(E,M){var L=n.createEvent("Event");L.initEvent(E,!0,!0),L.gesture=M,M.target.dispatchEvent(L)}w(vs,{INPUT_START:Ae,INPUT_MOVE:Le,INPUT_END:je,INPUT_CANCEL:ue,STATE_POSSIBLE:Ge,STATE_BEGAN:cn,STATE_CHANGED:bs,STATE_ENDED:Jn,STATE_RECOGNIZED:un,STATE_CANCELLED:Ni,STATE_FAILED:kn,DIRECTION_NONE:Pe,DIRECTION_LEFT:Te,DIRECTION_RIGHT:Ie,DIRECTION_UP:nt,DIRECTION_DOWN:yt,DIRECTION_HORIZONTAL:bt,DIRECTION_VERTICAL:tn,DIRECTION_ALL:wr,Manager:Lo,Input:Tt,TouchAction:Ro,TouchInput:jr,MouseInput:_r,PointerEventInput:Eo,TouchMouseInput:Nr,SingleTouchInput:Ja,Recognizer:dn,AttrRecognizer:En,Tap:Ws,Pan:Do,Swipe:Hs,Pinch:nl,Rotate:Pr,Press:Er,on:R,off:V,each:y,merge:j,extend:S,assign:w,inherit:N,bindFn:T,prefixed:G});var Jh=typeof t<"u"?t:typeof self<"u"?self:{};Jh.Hammer=vs,e.exports?e.exports=vs:t[s]=vs})(window,document,"Hammer")}(um)),um.exports}var W5=H5();const oc=jh(W5);/*!
* chartjs-plugin-zoom v2.2.0
* https://www.chartjs.org/chartjs-plugin-zoom/2.2.0/
 * (c) 2016-2024 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const jc=e=>e&&e.enabled&&e.modifierKey,lj=(e,t)=>e&&t[e+"Key"],S0=(e,t)=>e&&!t[e+"Key"];function mi(e,t,n){return e===void 0?!0:typeof e=="string"?e.indexOf(t)!==-1:typeof e=="function"?e({chart:n}).indexOf(t)!==-1:!1}function dm(e,t){return typeof e=="function"&&(e=e({chart:t})),typeof e=="string"?{x:e.indexOf("x")!==-1,y:e.indexOf("y")!==-1}:{x:!1,y:!1}}function q5(e,t){let n;return function(){return clearTimeout(n),n=setTimeout(e,t),t}}function Y5({x:e,y:t},n){const s=n.scales,r=Object.keys(s);for(let i=0;i<r.length;i++){const a=s[r[i]];if(t>=a.top&&t<=a.bottom&&e>=a.left&&e<=a.right)return a}return null}function cj(e,t,n){const{mode:s="xy",scaleMode:r,overScaleMode:i}=e||{},a=Y5(t,n),c=dm(s,n),d=dm(r,n);if(i){const p=dm(i,n);for(const m of["x","y"])p[m]&&(d[m]=c[m],c[m]=!1)}if(a&&d[a.axis])return[a];const h=[];return Be(n.scales,function(p){c[p.axis]&&h.push(p)}),h}const tg=new WeakMap;function ht(e){let t=tg.get(e);return t||(t={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},tg.set(e,t)),t}function K5(e){tg.delete(e)}function uj(e,t,n,s){const r=Math.max(0,Math.min(1,(e-t)/n||0)),i=1-r;return{min:s*r,max:s*i}}function dj(e,t){const n=e.isHorizontal()?t.x:t.y;return e.getValueForPixel(n)}function hj(e,t,n){const s=e.max-e.min,r=s*(t-1),i=dj(e,n);return uj(i,e.min,s,r)}function X5(e,t,n){const s=dj(e,n);if(s===void 0)return{min:e.min,max:e.max};const r=Math.log10(e.min),i=Math.log10(e.max),a=Math.log10(s),c=i-r,d=c*(t-1),h=uj(a,r,c,d);return{min:Math.pow(10,r+h.min),max:Math.pow(10,i-h.max)}}function Q5(e,t){return t&&(t[e.id]||t[e.axis])||{}}function q1(e,t,n,s,r){let i=n[s];if(i==="original"){const a=e.originalScaleLimits[t.id][s];i=Re(a.options,a.scale)}return Re(i,r)}function G5(e,t,n){const s=e.getValueForPixel(t),r=e.getValueForPixel(n);return{min:Math.min(s,r),max:Math.max(s,r)}}function Z5(e,{min:t,max:n,minLimit:s,maxLimit:r},i){const a=(e-n+t)/2;t-=a,n+=a;const c=i.min.options??i.min.scale,d=i.max.options??i.max.scale,h=e/1e6;return lo(t,c,h)&&(t=c),lo(n,d,h)&&(n=d),t<s?(t=s,n=Math.min(s+e,r)):n>r&&(n=r,t=Math.max(r-e,s)),{min:t,max:n}}function Co(e,{min:t,max:n},s,r=!1){const i=ht(e.chart),{options:a}=e,c=Q5(e,s),{minRange:d=0}=c,h=q1(i,e,c,"min",-1/0),p=q1(i,e,c,"max",1/0);if(r==="pan"&&(t<h||n>p))return!0;const m=e.max-e.min,x=r?Math.max(n-t,d):m;if(r&&x===d&&m<=d)return!0;const y=Z5(x,{min:t,max:n,minLimit:h,maxLimit:p},i.originalScaleLimits[e.id]);return a.min=y.min,a.max=y.max,i.updatedScaleLimits[e.id]=y,e.parse(y.min)!==e.min||e.parse(y.max)!==e.max}function J5(e,t,n,s){const r=hj(e,t,n),i={min:e.min+r.min,max:e.max-r.max};return Co(e,i,s,!0)}function eO(e,t,n,s){const r=X5(e,t,n);return Co(e,r,s,!0)}function tO(e,t,n,s){Co(e,G5(e,t,n),s,!0)}const Y1=e=>e===0||isNaN(e)?0:e<0?Math.min(Math.round(e),-1):Math.max(Math.round(e),1);function nO(e){const n=e.getLabels().length-1;e.min>0&&(e.min-=1),e.max<n&&(e.max+=1)}function sO(e,t,n,s){const r=hj(e,t,n);e.min===e.max&&t<1&&nO(e);const i={min:e.min+Y1(r.min),max:e.max-Y1(r.max)};return Co(e,i,s,!0)}function rO(e){return e.isHorizontal()?e.width:e.height}function iO(e,t,n){const r=e.getLabels().length-1;let{min:i,max:a}=e;const c=Math.max(a-i,1),d=Math.round(rO(e)/Math.max(c,10)),h=Math.round(Math.abs(t/d));let p;return t<-d?(a=Math.min(a+h,r),i=c===1?a:a-c,p=a===r):t>d&&(i=Math.max(0,i-h),a=c===1?i:i+c,p=i===0),Co(e,{min:i,max:a},n)||p}const oO={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function fj(e,t,n,s=!1){const{min:r,max:i,options:a}=e,c=a.time&&a.time.round,d=oO[c]||0,h=e.getValueForPixel(e.getPixelForValue(r+d)-t),p=e.getValueForPixel(e.getPixelForValue(i+d)-t);return isNaN(h)||isNaN(p)?!0:Co(e,{min:h,max:p},n,s?"pan":!1)}function K1(e,t,n){return fj(e,t,n,!0)}const ng={category:sO,default:J5,logarithmic:eO},sg={default:tO},rg={category:iO,default:fj,logarithmic:K1,timeseries:K1};function aO(e,t,n){const{id:s,options:{min:r,max:i}}=e;if(!t[s]||!n[s])return!0;const a=n[s];return a.min!==r||a.max!==i}function X1(e,t){Be(e,(n,s)=>{t[s]||delete e[s]})}function Va(e,t){const{scales:n}=e,{originalScaleLimits:s,updatedScaleLimits:r}=t;return Be(n,function(i){aO(i,s,r)&&(s[i.id]={min:{scale:i.min,options:i.options.min},max:{scale:i.max,options:i.options.max}})}),X1(s,n),X1(r,n),s}function Q1(e,t,n,s){const r=ng[e.type]||ng.default;ke(r,[e,t,n,s])}function G1(e,t,n,s){const r=sg[e.type]||sg.default;ke(r,[e,t,n,s])}function lO(e){const t=e.chartArea;return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function _0(e,t,n="none",s="api"){const{x:r=1,y:i=1,focalPoint:a=lO(e)}=typeof t=="number"?{x:t,y:t}:t,c=ht(e),{options:{limits:d,zoom:h}}=c;Va(e,c);const p=r!==1,m=i!==1,x=cj(h,a,e);Be(x||e.scales,function(y){y.isHorizontal()&&p?Q1(y,r,a,d):!y.isHorizontal()&&m&&Q1(y,i,a,d)}),e.update(n),ke(h.onZoom,[{chart:e,trigger:s}])}function pj(e,t,n,s="none",r="api"){const i=ht(e),{options:{limits:a,zoom:c}}=i,{mode:d="xy"}=c;Va(e,i);const h=mi(d,"x",e),p=mi(d,"y",e);Be(e.scales,function(m){m.isHorizontal()&&h?G1(m,t.x,n.x,a):!m.isHorizontal()&&p&&G1(m,t.y,n.y,a)}),e.update(s),ke(c.onZoom,[{chart:e,trigger:r}])}function cO(e,t,n,s="none",r="api"){var c;const i=ht(e);Va(e,i);const a=e.scales[t];Co(a,n,void 0,!0),e.update(s),ke((c=i.options.zoom)==null?void 0:c.onZoom,[{chart:e,trigger:r}])}function uO(e,t="default"){const n=ht(e),s=Va(e,n);Be(e.scales,function(r){const i=r.options;s[r.id]?(i.min=s[r.id].min.options,i.max=s[r.id].max.options):(delete i.min,delete i.max),delete n.updatedScaleLimits[r.id]}),e.update(t),ke(n.options.zoom.onZoomComplete,[{chart:e}])}function dO(e,t){const n=e.originalScaleLimits[t];if(!n)return;const{min:s,max:r}=n;return Re(r.options,r.scale)-Re(s.options,s.scale)}function hO(e){const t=ht(e);let n=1,s=1;return Be(e.scales,function(r){const i=dO(t,r.id);if(i){const a=Math.round(i/(r.max-r.min)*100)/100;n=Math.min(n,a),s=Math.max(s,a)}}),n<1?n:s}function Z1(e,t,n,s){const{panDelta:r}=s,i=r[e.id]||0;Qn(i)===Qn(t)&&(t+=i);const a=rg[e.type]||rg.default;ke(a,[e,t,n])?r[e.id]=0:r[e.id]=t}function mj(e,t,n,s="none"){const{x:r=0,y:i=0}=typeof t=="number"?{x:t,y:t}:t,a=ht(e),{options:{pan:c,limits:d}}=a,{onPan:h}=c||{};Va(e,a);const p=r!==0,m=i!==0;Be(n||e.scales,function(x){x.isHorizontal()&&p?Z1(x,r,d,a):!x.isHorizontal()&&m&&Z1(x,i,d,a)}),e.update(s),ke(h,[{chart:e}])}function gj(e){const t=ht(e);Va(e,t);const n={};for(const s of Object.keys(e.scales)){const{min:r,max:i}=t.originalScaleLimits[s]||{min:{},max:{}};n[s]={min:r.scale,max:i.scale}}return n}function fO(e){const t=ht(e),n={};for(const s of Object.keys(e.scales))n[s]=t.updatedScaleLimits[s];return n}function pO(e){const t=gj(e);for(const n of Object.keys(e.scales)){const{min:s,max:r}=t[n];if(s!==void 0&&e.scales[n].min!==s||r!==void 0&&e.scales[n].max!==r)return!0}return!1}function J1(e){const t=ht(e);return t.panning||t.dragging}const ew=(e,t,n)=>Math.min(n,Math.max(t,e));function Sn(e,t){const{handlers:n}=ht(e),s=n[t];s&&s.target&&(s.target.removeEventListener(t,s),delete n[t])}function ac(e,t,n,s){const{handlers:r,options:i}=ht(e),a=r[n];if(a&&a.target===t)return;Sn(e,n),r[n]=d=>s(e,d,i),r[n].target=t;const c=n==="wheel"?!1:void 0;t.addEventListener(n,r[n],{passive:c})}function mO(e,t){const n=ht(e);n.dragStart&&(n.dragging=!0,n.dragEnd=t,e.update("none"))}function gO(e,t){const n=ht(e);!n.dragStart||t.key!=="Escape"||(Sn(e,"keydown"),n.dragging=!1,n.dragStart=n.dragEnd=null,e.update("none"))}function ig(e,t){if(e.target!==t.canvas){const n=t.canvas.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}return As(e,t)}function xj(e,t,n){const{onZoomStart:s,onZoomRejected:r}=n;if(s){const i=ig(t,e);if(ke(s,[{chart:e,event:t,point:i}])===!1)return ke(r,[{chart:e,event:t}]),!1}}function xO(e,t){if(e.legend){const i=As(t,e);if(Pa(i,e.legend))return}const n=ht(e),{pan:s,zoom:r={}}=n.options;if(t.button!==0||lj(jc(s),t)||S0(jc(r.drag),t))return ke(r.onZoomRejected,[{chart:e,event:t}]);xj(e,t,r)!==!1&&(n.dragStart=t,ac(e,e.canvas.ownerDocument,"mousemove",mO),ac(e,window.document,"keydown",gO))}function yO({begin:e,end:t},n){let s=t.x-e.x,r=t.y-e.y;const i=Math.abs(s/r);i>n?s=Math.sign(s)*Math.abs(r*n):i<n&&(r=Math.sign(r)*Math.abs(s/n)),t.x=e.x+s,t.y=e.y+r}function tw(e,t,n,{min:s,max:r,prop:i}){e[s]=ew(Math.min(n.begin[i],n.end[i]),t[s],t[r]),e[r]=ew(Math.max(n.begin[i],n.end[i]),t[s],t[r])}function bO(e,t,n){const s={begin:ig(t.dragStart,e),end:ig(t.dragEnd,e)};if(n){const r=e.chartArea.width/e.chartArea.height;yO(s,r)}return s}function yj(e,t,n,s){const r=mi(t,"x",e),i=mi(t,"y",e),{top:a,left:c,right:d,bottom:h,width:p,height:m}=e.chartArea,x={top:a,left:c,right:d,bottom:h},y=bO(e,n,s&&r&&i);r&&tw(x,e.chartArea,y,{min:"left",max:"right",prop:"x"}),i&&tw(x,e.chartArea,y,{min:"top",max:"bottom",prop:"y"});const v=x.right-x.left,w=x.bottom-x.top;return{...x,width:v,height:w,zoomX:r&&v?1+(p-v)/p:1,zoomY:i&&w?1+(m-w)/m:1}}function vO(e,t){const n=ht(e);if(!n.dragStart)return;Sn(e,"mousemove");const{mode:s,onZoomComplete:r,drag:{threshold:i=0,maintainAspectRatio:a}}=n.options.zoom,c=yj(e,s,{dragStart:n.dragStart,dragEnd:t},a),d=mi(s,"x",e)?c.width:0,h=mi(s,"y",e)?c.height:0,p=Math.sqrt(d*d+h*h);if(n.dragStart=n.dragEnd=null,p<=i){n.dragging=!1,e.update("none");return}pj(e,{x:c.left,y:c.top},{x:c.right,y:c.bottom},"zoom","drag"),n.dragging=!1,n.filterNextClick=!0,ke(r,[{chart:e}])}function wO(e,t,n){if(S0(jc(n.wheel),t)){ke(n.onZoomRejected,[{chart:e,event:t}]);return}if(xj(e,t,n)!==!1&&(t.cancelable&&t.preventDefault(),t.deltaY!==void 0))return!0}function SO(e,t){const{handlers:{onZoomComplete:n},options:{zoom:s}}=ht(e);if(!wO(e,t,s))return;const r=t.target.getBoundingClientRect(),i=s.wheel.speed,a=t.deltaY>=0?2-1/(1-i):1+i,c={x:a,y:a,focalPoint:{x:t.clientX-r.left,y:t.clientY-r.top}};_0(e,c,"zoom","wheel"),ke(n,[{chart:e}])}function _O(e,t,n,s){n&&(ht(e).handlers[t]=q5(()=>ke(n,[{chart:e}]),s))}function jO(e,t){const n=e.canvas,{wheel:s,drag:r,onZoomComplete:i}=t.zoom;s.enabled?(ac(e,n,"wheel",SO),_O(e,"onZoomComplete",i,250)):Sn(e,"wheel"),r.enabled?(ac(e,n,"mousedown",xO),ac(e,n.ownerDocument,"mouseup",vO)):(Sn(e,"mousedown"),Sn(e,"mousemove"),Sn(e,"mouseup"),Sn(e,"keydown"))}function CO(e){Sn(e,"mousedown"),Sn(e,"mousemove"),Sn(e,"mouseup"),Sn(e,"wheel"),Sn(e,"click"),Sn(e,"keydown")}function NO(e,t){return function(n,s){const{pan:r,zoom:i={}}=t.options;if(!r||!r.enabled)return!1;const a=s&&s.srcEvent;return a&&!t.panning&&s.pointerType==="mouse"&&(S0(jc(r),a)||lj(jc(i.drag),a))?(ke(r.onPanRejected,[{chart:e,event:s}]),!1):!0}}function kO(e,t){const n=Math.abs(e.clientX-t.clientX),s=Math.abs(e.clientY-t.clientY),r=n/s;let i,a;return r>.3&&r<1.7?i=a=!0:n>s?i=!0:a=!0,{x:i,y:a}}function bj(e,t,n){if(t.scale){const{center:s,pointers:r}=n,i=1/t.scale*n.scale,a=n.target.getBoundingClientRect(),c=kO(r[0],r[1]),d=t.options.zoom.mode,h={x:c.x&&mi(d,"x",e)?i:1,y:c.y&&mi(d,"y",e)?i:1,focalPoint:{x:s.x-a.left,y:s.y-a.top}};_0(e,h,"zoom","pinch"),t.scale=n.scale}}function TO(e,t,n){if(t.options.zoom.pinch.enabled){const s=As(n,e);ke(t.options.zoom.onZoomStart,[{chart:e,event:n,point:s}])===!1?(t.scale=null,ke(t.options.zoom.onZoomRejected,[{chart:e,event:n}])):t.scale=1}}function EO(e,t,n){t.scale&&(bj(e,t,n),t.scale=null,ke(t.options.zoom.onZoomComplete,[{chart:e}]))}function vj(e,t,n){const s=t.delta;s&&(t.panning=!0,mj(e,{x:n.deltaX-s.x,y:n.deltaY-s.y},t.panScales),t.delta={x:n.deltaX,y:n.deltaY})}function PO(e,t,n){const{enabled:s,onPanStart:r,onPanRejected:i}=t.options.pan;if(!s)return;const a=n.target.getBoundingClientRect(),c={x:n.center.x-a.left,y:n.center.y-a.top};if(ke(r,[{chart:e,event:n,point:c}])===!1)return ke(i,[{chart:e,event:n}]);t.panScales=cj(t.options.pan,c,e),t.delta={x:0,y:0},vj(e,t,n)}function MO(e,t){t.delta=null,t.panning&&(t.panning=!1,t.filterNextClick=!0,ke(t.options.pan.onPanComplete,[{chart:e}]))}const og=new WeakMap;function nw(e,t){const n=ht(e),s=e.canvas,{pan:r,zoom:i}=t,a=new oc.Manager(s);i&&i.pinch.enabled&&(a.add(new oc.Pinch),a.on("pinchstart",c=>TO(e,n,c)),a.on("pinch",c=>bj(e,n,c)),a.on("pinchend",c=>EO(e,n,c))),r&&r.enabled&&(a.add(new oc.Pan({threshold:r.threshold,enable:NO(e,n)})),a.on("panstart",c=>PO(e,n,c)),a.on("panmove",c=>vj(e,n,c)),a.on("panend",()=>MO(e,n))),og.set(e,a)}function sw(e){const t=og.get(e);t&&(t.remove("pinchstart"),t.remove("pinch"),t.remove("pinchend"),t.remove("panstart"),t.remove("pan"),t.remove("panend"),t.destroy(),og.delete(e))}function AO(e,t){var a,c,d,h;const{pan:n,zoom:s}=e,{pan:r,zoom:i}=t;return((c=(a=s==null?void 0:s.zoom)==null?void 0:a.pinch)==null?void 0:c.enabled)!==((h=(d=i==null?void 0:i.zoom)==null?void 0:d.pinch)==null?void 0:h.enabled)||(n==null?void 0:n.enabled)!==(r==null?void 0:r.enabled)||(n==null?void 0:n.threshold)!==(r==null?void 0:r.threshold)}var RO="2.2.0";function Pd(e,t,n){const s=n.zoom.drag,{dragStart:r,dragEnd:i}=ht(e);if(s.drawTime!==t||!i)return;const{left:a,top:c,width:d,height:h}=yj(e,n.zoom.mode,{dragStart:r,dragEnd:i},s.maintainAspectRatio),p=e.ctx;p.save(),p.beginPath(),p.fillStyle=s.backgroundColor||"rgba(225,225,225,0.3)",p.fillRect(a,c,d,h),s.borderWidth>0&&(p.lineWidth=s.borderWidth,p.strokeStyle=s.borderColor||"rgba(225,225,225)",p.strokeRect(a,c,d,h)),p.restore()}var wj={id:"zoom",version:RO,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(e,t,n){const s=ht(e);s.options=n,Object.prototype.hasOwnProperty.call(n.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(n.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(n.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),oc&&nw(e,n),e.pan=(r,i,a)=>mj(e,r,i,a),e.zoom=(r,i)=>_0(e,r,i),e.zoomRect=(r,i,a)=>pj(e,r,i,a),e.zoomScale=(r,i,a)=>cO(e,r,i,a),e.resetZoom=r=>uO(e,r),e.getZoomLevel=()=>hO(e),e.getInitialScaleBounds=()=>gj(e),e.getZoomedScaleBounds=()=>fO(e),e.isZoomedOrPanned=()=>pO(e),e.isZoomingOrPanning=()=>J1(e)},beforeEvent(e,{event:t}){if(J1(e))return!1;if(t.type==="click"||t.type==="mouseup"){const n=ht(e);if(n.filterNextClick)return n.filterNextClick=!1,!1}},beforeUpdate:function(e,t,n){const s=ht(e),r=s.options;s.options=n,AO(r,n)&&(sw(e),nw(e,n)),jO(e,n)},beforeDatasetsDraw(e,t,n){Pd(e,"beforeDatasetsDraw",n)},afterDatasetsDraw(e,t,n){Pd(e,"afterDatasetsDraw",n)},beforeDraw(e,t,n){Pd(e,"beforeDraw",n)},afterDraw(e,t,n){Pd(e,"afterDraw",n)},stop:function(e){CO(e),oc&&sw(e),K5(e)},panFunctions:rg,zoomFunctions:ng,zoomRectFunctions:sg};function Bt(e,t="USD"){if(typeof e!="number"||isNaN(e))return"";try{return e.toLocaleString(void 0,{style:"currency",currency:t||"USD",maximumFractionDigits:2})}catch{return e.toFixed(2)}}function DO(e){const t=[],n=new Date;for(let s=e-1;s>=0;s--){const r=new Date(n.getFullYear(),n.getMonth()-s,1);t.push(`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`)}return t}const Ui={income:"#38bdf8",incomeStub:"#334155",outcome:"#ef4444",outcomeStub:"#334155",net:"#22c55e",netFill:"#22c55e22"};ms.register(xo,yo,fr,sc,xa,ur,Kd,bi,yi,q_,jo,wj);function OO({data:e}){const t=DO(12),n=Array.isArray(e)?e.map(x=>{var y;return{month:((y=x._id)==null?void 0:y.date)||"",incomes:x.incomes??0,outcomes:x.outcomes??0}}):[],s=t.map(x=>{const y=n.find(v=>v.month===x);return{month:x,incomes:(y==null?void 0:y.incomes)??0,outcomes:-((y==null?void 0:y.outcomes)??0),net:((y==null?void 0:y.incomes)??0)-((y==null?void 0:y.outcomes)??0)}});if(!s.some(x=>x.incomes!==0||x.outcomes!==0||x.net!==0))return u.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-gray-400 text-lg",children:[u.jsx("span",{children:"No data found."}),u.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Create invoices to unlock analytics!"})]});const i=s.map(x=>x.incomes),a=s.map(x=>x.outcomes),c=s.map(x=>x.net),d=Math.min(...i,...a,...c,0),h=Math.max(...i,...a,...c,0),p={labels:t,datasets:[{label:"Income",data:i,backgroundColor:i.map(x=>x>0?Ui.income:Ui.incomeStub),borderRadius:16,barPercentage:.44,categoryPercentage:.54,order:2,datalabels:{anchor:"end",align:"start",clamp:!0,display:i.map(x=>x>0),color:"#38bdf8",font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:x=>x>0?Bt(x):""}},{label:"Outcome",data:a,backgroundColor:a.map(x=>x<0?Ui.outcome:Ui.outcomeStub),borderRadius:16,barPercentage:.44,categoryPercentage:.54,order:3,datalabels:{anchor:"end",align:"end",clamp:!0,display:a.map(x=>x<0),color:"#ef4444",font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:x=>x<0?Bt(Math.abs(x)):""}},{label:"Net Result",type:"line",data:c,borderColor:Ui.net,backgroundColor:Ui.netFill,borderWidth:3,fill:!0,pointRadius:7,pointHoverRadius:12,pointBackgroundColor:Ui.net,pointBorderWidth:3,tension:.38,yAxisID:"y",order:1,datalabels:{anchor:"end",align:"top",clamp:!0,display:c.map(x=>x!==0),color:"#22c55e",font:{weight:"bold",size:17},backgroundColor:"#101223",borderRadius:9,borderWidth:2,borderColor:"#23263a",padding:{left:12,right:12,top:6,bottom:6},formatter:x=>x!==0?Bt(x):""}}]},m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,callbacks:{title:x=>" "+x[0].label,label:x=>x.dataset.label==="Income"?` Income: ${Bt(x.raw)}`:x.dataset.label==="Outcome"?` Outcome: ${Bt(Math.abs(x.raw))}`:x.dataset.label==="Net Result"?` Net: ${Bt(x.raw)}`:x.dataset.label+": "+x.raw}},datalabels:{display:"auto"},zoom:{pan:{enabled:!0,mode:"y"},zoom:{wheel:{enabled:!0},mode:"y",drag:{enabled:!0}}}},layout:{padding:{left:16,right:16,top:18,bottom:24}},scales:{x:{grid:{display:!1}},y:{grid:{color:"#282b41"},ticks:{color:"#b7bacf",font:{size:15,weight:"bold"},callback:x=>Bt(x)},beginAtZero:!1,min:d-Math.abs(h-d)*.07,max:h+Math.abs(h-d)*.13}}};return u.jsx("div",{className:"w-full h-[500px] md:h-[420px]",children:u.jsx(Wc,{data:p,options:m,plugins:[jo]})})}function Hi(e,t="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2}).format(e)}function hm(e){return e===null||isNaN(e)?"--":`${Number(e).toFixed(2)}%`}function LO(e){const t=[],n=new Date;for(let s=e-1;s>=0;s--){const r=new Date(n.getFullYear(),n.getMonth()-s,1);t.push(`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`)}return t}function IO(e,t=150){const n=[];for(let s=0;s<e.length;s++){if(s===0){n.push(0);continue}const r=e[s-1],i=e[s];if(r===0&&i===0)n.push(0);else if(r===0&&i>0)n.push(t);else if(r>0&&i===0)n.push(-100);else{const a=(i-r)/Math.abs(r)*100;n.push(Math.max(-t,Math.min(a,t)))}}return n}const Wn={positive:"#22c55e",negative:"#ef4444",growth:"#facc15",neutral:"#23263a",barBorder:"#22c55e"};ms.register(xo,yo,fr,xa,ur,bi,yi,q_,jo,wj);function FO({data:e=[],currency:t="USD"}){const n=LO(12),s=n.map(P=>{const R=e.find(I=>{var z;return I.date===P||((z=I._id)==null?void 0:z.date)===P});let V=0;return R&&(typeof R.total=="number"?V=R.total:typeof R.income=="number"&&typeof R.outcome=="number"?R.outcome<0?V=R.income+R.outcome:V=R.income-R.outcome:typeof R.outcome=="number"&&(V=-Math.abs(R.outcome))),{month:P,total:V}});if(!s.some(P=>P.total!==0))return u.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-gray-400 text-lg",children:[u.jsx("span",{children:"No data found."}),u.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Create invoices to unlock analytics!"})]});const i=s.map(P=>P.total),a=IO(i,150),c=a.map((P,R)=>R===0||P===null?"":P>0?"":P<0?"":""),d=i.map(P=>P>0?Wn.positive:P<0?Wn.negative:Wn.neutral),h=i.map(P=>P>0?Wn.positive:P<0?Wn.negative:"#b7bacf"),p=Math.max(Math.abs(Math.min(...i,0)),Math.abs(Math.max(...i,0))),m=a.filter(P=>P!==null&&!isNaN(P)),x=Math.max(Math.abs(Math.min(...m,0)),Math.abs(Math.max(...m,0)),100),y=Math.max(p*.1,1e3),v=Math.max(x*.1,10),w=p+y,S=-w,j=x+v,N=-j,T={labels:n,datasets:[{type:"bar",label:"Net Result",data:i,backgroundColor:d,borderRadius:16,barPercentage:.25,categoryPercentage:.4,order:3,borderSkipped:!1,borderWidth:0,datalabels:{anchor:"end",align:"start",clamp:!0,display:i.map(P=>P!==0),color:h,font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:P=>P!==0?P>0?Hi(P,t):`-${Hi(Math.abs(P),t)}`:""},yAxisID:"y"},{type:"line",label:"Net Line",data:i,borderColor:Wn.barBorder,borderWidth:4,fill:!1,pointRadius:0,pointHoverRadius:0,order:2,yAxisID:"y",datalabels:{display:!1},tension:.45,segment:{borderDash:P=>P.p0.parsed.y<0?[6,4]:[]},borderJoinStyle:"round",borderCapStyle:"round"},{type:"line",label:"Net Dot",data:i,borderColor:"rgba(0,0,0,0)",backgroundColor:Wn.positive,pointBorderColor:Wn.positive,pointBackgroundColor:Wn.positive,pointRadius:8,pointHoverRadius:12,pointBorderWidth:2,showLine:!1,yAxisID:"y",order:1,datalabels:{display:!1}},{type:"line",label:"Growth (%)",data:a,borderColor:Wn.growth,backgroundColor:Wn.growth,borderWidth:3,fill:!1,pointRadius:7,pointHoverRadius:12,pointBackgroundColor:Wn.growth,pointBorderWidth:3,tension:.35,yAxisID:"y2",order:0,datalabels:{display:a.map(P=>P!==null&&!isNaN(P)),anchor:"end",align:"bottom",clamp:!0,color:"#facc15",font:{weight:"bold",size:15},backgroundColor:"#101223",borderRadius:7,borderWidth:2,borderColor:"#23263a",padding:{left:9,right:9,top:3,bottom:3},formatter:(P,R)=>P===null||isNaN(P)?"":`${hm(P)}${P===0?"":" "+c[R.dataIndex]}`},spanGaps:!1}]},A={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,callbacks:{title:P=>" "+P[0].label,label:P=>{if(P.dataset.label==="Net Result"){const R=P.raw;return R>0?` Net: ${Hi(R,t)}`:R<0?` Net: -${Hi(Math.abs(R),t)}`:`Net: ${Hi(R,t)}`}if(P.dataset.label==="Growth (%)"){const R=P.raw;if(R===null||isNaN(R)){const V=i[P.dataIndex-1],I=i[P.dataIndex];return P.dataIndex===0?"No growth data for first month.":V===0?"No growth %: previous month was $0.":I===0?"No growth %: current month is $0.":"--"}return R===0?"":` Growth: ${hm(R)} ${c[P.dataIndex]}`}return P.dataset.label==="Net Dot"?` Net: ${Hi(P.raw,t)}`:P.dataset.label+": "+P.raw}}},datalabels:{display:"auto"},zoom:{pan:{enabled:!0,mode:"y"},zoom:{wheel:{enabled:!0},mode:"y",drag:{enabled:!0}}}},layout:{padding:{left:16,right:16,top:18,bottom:24}},scales:{x:{grid:{display:!1}},y:{grid:{color:P=>P.tick.value===0?"#fff":"#282b41",lineWidth:P=>P.tick.value===0?2:1},beginAtZero:!1,min:S,max:w,ticks:{color:"#b7bacf",font:{size:15,weight:"bold"},callback:P=>Hi(P,t)},title:{display:!0,text:"Net Amount"}},y2:{position:"right",grid:{drawOnChartArea:!0,color:P=>P.tick.value===0?"#fff":"#282b41",lineWidth:P=>P.tick.value===0?2:1},beginAtZero:!1,min:N,max:j,ticks:{color:"#facc15",font:{size:13,weight:"bold"},callback:P=>hm(P)},title:{display:!0,text:"Growth (%)"}}}};return u.jsx("div",{className:"w-full h-[500px] md:h-[420px]",children:u.jsx(Wc,{data:T,options:A,plugins:[jo]})})}ms.register(ui,bi,yi);const rw={paid:"#14b8a6",unpaid:"#ef4444",draft:"#facc15"},iw={paid:"Paid",unpaid:"Unpaid",draft:"Draft"};function ow(e){return e?iw[e]?iw[e]:String(e).charAt(0).toUpperCase()+String(e).slice(1):"Unknown"}function zO({data:e}){const[t,n]=C.useState(!1);if(!e||e.length===0)return u.jsx("div",{className:"flex flex-col items-center mt-8",children:u.jsx("p",{className:"text-gray-400",children:"No invoice data found for this period."})});const s=e.reduce((c,d)=>c+(t?d.total??0:d.count??0),0),r=e.map(c=>ow(c.status)),i=e.map(c=>t?c.total??0:c.count??0),a=e.map(c=>rw[c.status]||"#6b7280");return u.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[u.jsxs("div",{className:"mb-3 flex justify-center",children:[u.jsx("button",{onClick:()=>n(!1),className:`px-4 py-1 rounded-l transition font-medium
            ${t?"bg-gray-800 text-gray-300":"bg-blue-600 text-white shadow"}`,children:"Count"}),u.jsx("button",{onClick:()=>n(!0),className:`px-4 py-1 rounded-r transition font-medium
            ${t?"bg-blue-600 text-white shadow":"bg-gray-800 text-gray-300"}`,children:"Total"})]}),u.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-10 rounded-2xl shadow-2xl p-6 md:p-10",style:{background:"#1a1c29",width:680,minWidth:680,maxWidth:680,height:340,minHeight:340,maxHeight:340,boxSizing:"border-box"},children:[u.jsx("div",{style:{width:320,height:220,minWidth:310},children:u.jsx(J_,{data:{labels:r,datasets:[{data:i,backgroundColor:a,borderColor:"#23263a",borderWidth:4,hoverOffset:10,cutout:"40%"}]},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:c=>`${c.label}: ${t?Bt(c.parsed):c.parsed} (${s?Math.round(c.parsed/s*100):0}%)`}}},layout:{padding:4},responsive:!0,maintainAspectRatio:!1}})}),u.jsx("div",{className:"flex flex-col justify-center gap-4",style:{width:220,minWidth:220,maxWidth:220},children:e.map((c,d)=>{const h=ow(c.status),p=rw[c.status]||"#6b7280",m=t?c.total??0:c.count??0,x=s?Math.round(m/s*100):0;return u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"inline-block rounded-full",style:{width:18,height:18,background:p,boxShadow:"0 2px 8px rgba(0,0,0,0.12)"}}),u.jsx("span",{className:"text-gray-100 font-semibold min-w-[60px]",children:h}),u.jsx("span",{className:"text-gray-200 font-mono text-base text-right",style:{width:90,display:"inline-block"},children:t?Bt(m):m}),u.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:[x,"%"]})]},c.status||d)})})]})]})}ms.register(xo,yo,fr,bi,yi,n5,jo);const fm=["0-30 days","31-60 days","61-90 days","90+ days"],BO=["0-30","31-60","61-90","90+"];function VO(){const[e,t]=C.useState(null),[n,s]=C.useState(!0),[r,i]=C.useState("");C.useEffect(()=>{let h=!1;return s(!0),i(""),ae.get("/invoices/analytics?analyticType=overdueAging").then(p=>{h||t(p.data)}).catch(()=>{h||i("Failed to load overdue aging data.")}).finally(()=>{h||s(!1)}),()=>{h=!0}},[]);const a=BO.map(h=>(e==null?void 0:e[h])||{count:0,total:0}),c=a.reduce((h,p)=>h+p.count,0);if(n)return u.jsx("div",{className:"w-full h-[350px] flex items-center justify-center",children:u.jsx("span",{className:"text-gray-400",children:"Loading..."})});if(r)return u.jsx("div",{className:"w-full h-[350px] flex items-center justify-center",children:u.jsx("span",{className:"text-red-400",children:r})});const d=["rgba(239, 68, 68, 0.92)","rgba(251, 191, 36, 0.92)","rgba(59, 130, 246, 0.92)","rgba(99, 102, 241, 0.92)"];return u.jsxs("div",{className:"w-full max-w-2xl mx-auto flex flex-col items-center",children:[u.jsx("div",{className:"w-full h-[350px]",children:u.jsx(Wc,{data:{labels:fm,datasets:[{label:"Overdue Invoices",data:a.map(h=>h.count),backgroundColor:d,borderRadius:18,barPercentage:.7,categoryPercentage:.68}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:20,bottom:0,left:10,right:10}},plugins:{legend:{display:!1},datalabels:{display:!0,color:"#fff",font:{weight:"bold",size:22,family:"Inter, sans-serif"},anchor:"end",align:"end",offset:6,formatter:h=>h>0?h.toLocaleString():"",textStrokeColor:"#23263a",textStrokeWidth:4,shadowBlur:6,shadowColor:"#23263a88",clamp:!0},tooltip:{callbacks:{title:h=>fm[h[0].dataIndex],label:h=>{const p=h.dataIndex;return[`Count: ${a[p].count}`,`Total: ${Bt(a[p].total)}`]}},backgroundColor:"#23263a",borderColor:"#3b3b54",borderWidth:1,bodyFont:{size:15,weight:"bold"},titleFont:{size:15}},title:{display:!1}},scales:{y:{beginAtZero:!0,min:0,max:50,ticks:{color:"#bbb",font:{size:16}},grid:{color:"#23273d"}},x:{ticks:{color:"#eee",font:{size:16,weight:"bold"}},grid:{display:!1}}}}})}),u.jsx("div",{className:"flex justify-between w-full mt-4 px-2",children:fm.map((h,p)=>u.jsxs("div",{className:"flex flex-col items-center flex-1",children:[u.jsx("span",{className:"text-xs text-gray-400",children:h}),u.jsx("span",{className:"text-md font-semibold text-gray-100",children:Bt(a[p].total)})]},h))}),u.jsx("div",{className:"mt-2 text-center text-sm text-gray-400",children:c>0?`${c} total overdue invoice${c>1?"s":""}`:"No overdue invoices!"})]})}ms.register(xo,yo,fr,bi,yi,jo);function $O({data:e}){if(!Array.isArray(e))return u.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(e.length===0)return u.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-gray-500",children:"No product sales data found."});const t=e.map(s=>s._id),n=e.map(s=>s.total);return u.jsx("div",{className:"w-full h-[340px]",children:u.jsx(Wc,{data:{labels:t,datasets:[{label:"Total Sold",data:n,backgroundColor:"#38bdf8dd",borderRadius:12}]},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:s=>`${s.label}: ${Bt(s.raw)}`}},datalabels:{display:!0,color:"#fff",align:"end",anchor:"end",font:{weight:"bold"},formatter:s=>Bt(s)}},scales:{y:{beginAtZero:!0,max:2e4},x:{grid:{display:!1}}}}})})}ms.register(xo,yo,fr,bi,yi,jo);function UO({data:e,yMax:t=void 0}){if(!Array.isArray(e))return u.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(e.length===0)return u.jsx("div",{className:"w-full h-[340px] flex items-center justify-center text-gray-500",children:"No client revenue data found."});const n=e.map(r=>{var i;return((i=r.company)==null?void 0:i.name)||"Unknown"}),s=e.map(r=>r.total);return u.jsx("div",{className:"w-full h-[340px]",children:u.jsx(Wc,{data:{labels:n,datasets:[{label:"Total Revenue",data:s,backgroundColor:"#22c55edd",borderRadius:12}]},options:{plugins:{legend:{display:!1},tooltip:{callbacks:{label:r=>`${r.label}: ${Bt(r.raw)}`}},datalabels:{display:!0,color:"#fff",align:"end",anchor:"end",font:{weight:"bold"},formatter:r=>Bt(r)}},scales:{y:{beginAtZero:!0,...t?{max:t}:{}},x:{grid:{display:!1}}}}})})}ms.register(ui,bi,yi);const Md=["#38bdf8","#fbbf24","#22c55e","#ef4444","#a78bfa","#f472b6","#fde68a","#fb7185","#16a34a","#f59e42","#6366f1","#1e293b","#eab308","#dc2626"];function HO({data:e}){if(!Array.isArray(e))return u.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(e.length===0)return u.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-gray-500",children:"No category breakdown data found."});const t=e.map(r=>r._id||"Unknown"),n=e.map(r=>r.total),s=Md.length>=t.length?Md:[...Md,...Array(t.length-Md.length).fill("#cbd5e1")];return u.jsx("div",{className:"w-full h-[320px] flex flex-col items-center",children:u.jsx(S5,{data:{labels:t,datasets:[{data:n,backgroundColor:s,borderColor:"#23263a",borderWidth:2}]},options:{plugins:{legend:{display:!0,position:"bottom"},tooltip:{callbacks:{label:r=>`${r.label}: ${Bt(r.raw)}`}}}}})})}ms.register(ui,bi,yi);const Ad=["#38bdf8","#fde68a","#22c55e","#ef4444","#a78bfa","#f472b6","#818cf8","#f59e42","#16a34a","#dc2626","#eab308","#1e293b","#6366f1","#fbbf24"];function WO({data:e}){if(!Array.isArray(e))return u.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-red-500",children:"No data available or error loading data."});if(e.length===0)return u.jsx("div",{className:"w-full h-[320px] flex items-center justify-center text-gray-500",children:"No currency breakdown data found."});const t=e.map(r=>r._id),n=e.map(r=>r.total),s=Ad.length>=t.length?Ad:[...Ad,...Array(t.length-Ad.length).fill("#cbd5e1")];return u.jsx("div",{className:"w-full h-[320px] flex flex-col items-center",children:u.jsx(J_,{data:{labels:t,datasets:[{data:n,backgroundColor:s,borderColor:"#23263a",borderWidth:2}]},options:{plugins:{legend:{display:!0,position:"bottom"},tooltip:{callbacks:{label:r=>`${r.label}: ${Bt(r.raw,r.label)}`}}}}})})}function qO({data:e,loading:t}){const n=(e==null?void 0:e.avgDays)??null;return t?u.jsx("div",{className:"flex flex-col items-center justify-center p-7 text-sky-300",children:"Loading..."}):u.jsxs("div",{className:"flex flex-col items-center justify-center p-7",children:[u.jsxs("div",{className:"text-5xl font-extrabold text-sky-300",children:[n!==null?n.toFixed(1):"--",u.jsx("span",{className:"text-2xl text-gray-400",children:" days"})]}),u.jsx("div",{className:"text-base text-gray-400 mt-2 font-medium",children:"Average Payment Speed"})]})}function YO({data:e}){return u.jsxs("div",{className:"w-full flex flex-col gap-3 p-6",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"bg-red-600/80 px-4 py-2 rounded text-white text-lg font-bold flex-1",children:["Overdue Invoices:"," ",u.jsx("span",{className:"font-mono",children:(e==null?void 0:e.overdue)??"--"})]}),u.jsxs("div",{className:"bg-amber-500/80 px-4 py-2 rounded text-white text-lg font-bold flex-1",children:["Stale Drafts:"," ",u.jsx("span",{className:"font-mono",children:(e==null?void 0:e.staleDrafts)??"--"})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("div",{className:"text-base font-bold text-sky-400 mb-2",children:"High-Value Unpaid Invoices:"}),u.jsx("ul",{className:"text-white space-y-2",children:Array.isArray(e==null?void 0:e.highUnpaid)&&e.highUnpaid.length?e.highUnpaid.map(t=>{var n;return u.jsxs("li",{className:"bg-gray-800 px-3 py-2 rounded",children:[u.jsx("span",{className:"text-rose-400 font-bold",children:t.totalAmount}),u.jsxs("span",{className:"mx-2 text-xs text-gray-400",children:["due: ",new Date(t.dueDate).toLocaleDateString()]}),u.jsx("span",{className:"ml-2 text-sky-300",children:t.invoiceNumber}),u.jsx("span",{className:"ml-2 text-green-400",children:((n=t.clientCompany)==null?void 0:n.name)||""})]},t.invoiceNumber||t._id)}):u.jsx("li",{className:"text-gray-500",children:"None"})})]})]})}const ag=[{type:"revenueTrends",label:"Monthly Income vs Outcome",Widget:OO,desc:"Visualize your total incomes, outcomes, and net result for each month."},{type:"growth",label:"Growth Trend (%)",Widget:FO,desc:"Track period-over-period revenue change in %."},{type:"statusBreakdown",label:"Status Breakdown",Widget:zO,desc:"See how your invoices are distributed by status."},{type:"overdueAging",label:"Overdue Aging",Widget:VO,desc:"Breakdown of overdue unpaid invoices by aging bucket."},{type:"topProducts",label:"Top Products",Widget:$O,desc:"Top selling products (by value)."},{type:"topClients",label:"Top Clients",Widget:UO,desc:"Clients who brought the most revenue."},{type:"categoryBreakdown",label:"Category Breakdown",Widget:HO,desc:"Total value by category."},{type:"currencyBreakdown",label:"Currency Breakdown",Widget:WO,desc:"Total invoice amounts by currency."},{type:"avgPaymentSpeed",label:"Average Payment Speed",Widget:qO,desc:"How fast are invoices paid (in days)?"},{type:"alerts",label:"Alerts & Warnings",Widget:YO,desc:"Critical items: overdue, stale, or high-value unpaid invoices."}],KO=ag[0].type,XO=({onClose:e,showAll:t=!1})=>{const[n,s]=C.useState(KO),[r,i]=C.useState(null),[a,c]=C.useState(!1),[d,h]=C.useState(""),p=C.useRef(),m=ag.find(y=>y.type===n),x=m.Widget;return C.useEffect(()=>{c(!0),h(""),i(null),p.current&&p.current.abort(),p.current=new AbortController;let y={analyticType:n};return n==="revenueTrends"||n==="growth"?(y.groupBy="month",y.limit=12):(n==="topProducts"||n==="topClients")&&(y.limit=7),t&&(y.all=!0),ae.get("/invoices/analytics",{params:y,signal:p.current.signal}).then(v=>{if(n==="overdueAging"&&Array.isArray(v.data)){const w={};v.data.forEach(S=>{let j=S._id;j==="0"&&(j="030 days"),j==="31"&&(j="3160 days"),j==="61"&&(j="6190 days"),j==="91"&&(j="90+ days"),w[j]={count:S.count,total:S.total}}),i(w)}else i(v.data)}).catch(v=>{var w,S;v.code!=="ERR_CANCELED"&&h(((S=(w=v==null?void 0:v.response)==null?void 0:w.data)==null?void 0:S.error)||(v==null?void 0:v.message)||"Failed to fetch analytics")}).finally(()=>c(!1)),()=>{p.current&&p.current.abort()}},[n,t]),C.useEffect(()=>{const y=v=>{v.key==="Escape"&&e()};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[e]),u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-lg",children:u.jsxs("div",{className:"bg-[#23263a] text-white w-full max-w-[1150px] max-h-[98vh] rounded-xl p-2 shadow-2xl overflow-y-auto relative animate-fade-in",style:{minHeight:520},role:"dialog","aria-modal":"true",children:[u.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-base bg-gray-700 hover:bg-gray-900 px-2 py-1 rounded","aria-label":"Close analytics modal",children:""}),u.jsxs("div",{className:"flex items-center gap-2 mb-2 mt-1 ml-2",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"text-xl font-semibold",children:"Invoice Analytics"}),u.jsx("div",{className:"flex gap-1 ml-7 flex-wrap",children:ag.map(y=>u.jsx("button",{onClick:()=>s(y.type),className:`px-3 py-1 rounded text-xs font-bold border shadow transition-all ${n===y.type?"bg-sky-400 text-black border-sky-400":"bg-[#101223] text-white border-[#23263a] hover:bg-[#23263a] hover:text-sky-300"}`,style:{minWidth:88},children:y.label},y.type))})]}),u.jsx("div",{className:"ml-2 mb-4 text-sm text-gray-400",children:m.desc}),u.jsx("div",{className:"w-full flex justify-center items-center mb-5",children:a?u.jsx("div",{className:"py-10 text-center text-gray-400 text-lg tracking-wide",children:"Loading analytics..."}):d?u.jsx("div",{className:"text-red-400 text-center",children:d}):r?u.jsx("div",{className:"w-full",children:u.jsx(x,{data:r})}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-gray-400 text-lg",children:[u.jsx("span",{children:"No data found."}),u.jsx("span",{className:"text-xs text-gray-500 mt-2",children:"Create invoices to unlock analytics!"})]})})]})})},QO=()=>{const[e,t]=C.useState([]),[n,s]=C.useState(!0),[r,i]=C.useState(!1),[a,c]=C.useState(null),[d,h]=C.useState(!1),[p,m]=C.useState(0),[x,y]=C.useState("dateIssued"),[v,w]=C.useState("desc"),[S,j]=C.useState(null),[N,T]=C.useState(!1),[A,P]=C.useState(null),[R,V]=C.useState(!1),I=async()=>{var G,he;s(!0);try{const ee=await ae.get("/invoices",{params:{sortBy:x,sortOrder:v,all:!0}}),Z=Array.isArray(ee.data)?ee.data:ee.data.invoices||[];t(Z)}catch(ee){console.error("Failed to fetch invoices:",(he=(G=ee==null?void 0:ee.response)==null?void 0:G.data)==null?void 0:he.message)}finally{s(!1)}};C.useEffect(()=>{I()},[x,v]);const z=G=>{x===G?w(v==="asc"?"desc":"asc"):(y(G),w("asc"))},U=()=>{c(null),i(!0)},J=G=>{c(G),i(!0)},se=G=>{j(G),T(!0)},de=async G=>{var he,ee;if(window.confirm("Are you sure you want to delete this invoice?")){P(G);try{await ae.delete(`/invoices/${G}`),I()}catch(Z){alert(((ee=(he=Z==null?void 0:Z.response)==null?void 0:he.data)==null?void 0:ee.message)||Z.message||"Failed to delete invoice")}finally{P(null)}}};return u.jsxs("div",{className:"bg-[#181A23] text-white rounded-lg p-6 shadow-lg relative min-h-[60vh]",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6 gap-3",children:[u.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:" All Invoices"}),u.jsx("button",{onClick:()=>V(!0),className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 focus:outline-none",type:"button",children:" Analytics"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>h(!0),className:"bg-gray-700 text-white px-3 py-2 rounded hover:bg-gray-600 focus:outline-none",type:"button",children:"+ New Company"}),u.jsx("button",{onClick:U,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none",children:"+ New Invoice"})]})]}),n?u.jsx("div",{className:"py-12 text-center text-gray-400",children:"Loading invoices..."}):e.length===0?u.jsx("div",{className:"py-12 text-center text-gray-500",children:"No invoices found."}):u.jsx("div",{className:"overflow-x-auto rounded-lg shadow-inner",children:u.jsxs("table",{className:"table-fixed w-full min-w-[1250px] text-sm bg-[#222436] rounded-lg overflow-hidden",children:[u.jsx("thead",{className:"bg-[#23263a] text-gray-200 uppercase text-xs tracking-wide",children:u.jsxs("tr",{children:[u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>z("systemInvoiceNumber"),children:["System #",x==="systemInvoiceNumber"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>z("invoiceNumber"),children:["Invoice #",x==="invoiceNumber"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>z("type"),children:["Type",x==="type"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>z("client"),children:["Client",x==="client"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>z("supplier"),children:["Supplier",x==="supplier"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>z("status"),children:["Status",x==="status"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>z("dateIssued"),children:["Issued",x==="dateIssued"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>z("dueDate"),children:["Due",x==="dueDate"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>z("totalAmount"),children:["Total",x==="totalAmount"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>z("createdAt"),children:["Created",x==="createdAt"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsxs("th",{className:"px-4 py-3 font-bold text-left cursor-pointer select-none",onClick:()=>z("updatedAt"),children:["Edited",x==="updatedAt"&&u.jsx("span",{className:"ml-1",children:v==="asc"?"":""})]}),u.jsx("th",{className:"px-4 py-3 font-bold text-left",children:"Actions"})]})}),u.jsx("tbody",{children:e.map(G=>{var ee,Z;const he=G.status==="unpaid"&&G.dueDate&&new Date(G.dueDate)<new Date;return u.jsxs("tr",{className:"border-t border-[#8f8f8f] hover:bg-[#23273d] transition",children:[u.jsx("td",{className:"px-2 py-1 text-xs",children:G.systemInvoiceNumber||""}),u.jsx("td",{className:"px-2 py-1 text-xs",children:G.invoiceNumber||""}),u.jsx("td",{className:"px-4 py-2 text-xs max-w-[120px] truncate",children:G.type==="income"?"Income":G.type==="outcome"?"Expense":G.type}),u.jsx("td",{className:"px-2 py-1 text-xs max-w-[120px] truncate",children:((ee=G.clientCompany)==null?void 0:ee.name)||G.client||""}),u.jsx("td",{className:"px-2 py-1 text-xs max-w-[120px] truncate",children:((Z=G.supplierCompany)==null?void 0:Z.name)||G.supplier||""}),u.jsx("td",{className:"px-2 py-1",children:u.jsx("span",{className:"px-2 py-0.5 rounded text-[11px] font-bold uppercase "+(G.status==="paid"?"bg-green-700 text-green-100":G.status==="unpaid"?"bg-red-700 text-red-100":"bg-gray-700 text-gray-200"),style:{minWidth:46,display:"inline-block",textAlign:"center"},children:G.status||""})}),u.jsx("td",{className:"px-2 py-1 text-xs",children:G.dateIssued?xc(G.dateIssued):""}),u.jsx("td",{className:"px-2 py-1 text-xs"+(he?" text-red-400 font-bold":""),children:G.dueDate?xc(G.dueDate):""}),u.jsxs("td",{className:"px-2 py-1 text-xs whitespace-nowrap",children:[Number(G.totalAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," ",G.currency]}),u.jsx("td",{className:"px-2 py-1 text-[11px]",children:G.createdAt?new Date(G.createdAt).toLocaleString():""}),u.jsx("td",{className:"px-2 py-1 text-[11px]",children:G.updatedAt&&G.updatedAt!==G.createdAt?new Date(G.updatedAt).toLocaleString():""}),u.jsxs("td",{className:"px-2 py-1 flex gap-1 min-w-[88px]",children:[u.jsx("button",{onClick:()=>se(G),className:"text-green-400 hover:bg-green-900 hover:text-white px-1 py-0.5 rounded text-[11px] font-medium transition",children:"Details"}),u.jsx("button",{onClick:()=>J(G),className:"text-blue-400 hover:bg-blue-900 hover:text-white px-1 py-0.5 rounded text-[11px] font-medium transition",children:"Edit"}),u.jsx("button",{onClick:()=>de(G._id),className:"text-red-400 hover:bg-red-900 hover:text-white px-1 py-0.5 rounded text-[11px] font-medium transition",disabled:A===G._id,children:A===G._id?"...":"Delete"})]})]},G._id)})})]})}),r&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-lg",children:u.jsx("div",{className:"w-full max-w-2xl mx-4",children:u.jsx(lh,{invoice:a,onClose:()=>i(!1),onSaved:()=>{i(!1),I()},companyListUpdated:p})})}),d&&u.jsx(O3,{onClose:()=>h(!1),onSaved:()=>{h(!1),m(G=>G+1)}}),N&&S&&u.jsx(Um,{invoice:S,onClose:()=>T(!1)}),u.jsxs("div",{className:"...",children:[N&&S&&u.jsx(Um,{invoice:S,onClose:()=>T(!1)}),R&&u.jsx(XO,{onClose:()=>V(!1)})]})]})},GO=()=>{const[e,t]=C.useState([]),[n,s]=C.useState(!0),[r,i]=C.useState(!1),[a,c]=C.useState(null),[d,h]=C.useState(null),[p,m]=C.useState(!1),x=async()=>{var S,j;s(!0);try{const N=await ae.get("/invoices"),T=Array.isArray(N.data)?N.data:N.data.invoices||[];t(T)}catch(N){console.error("Failed to fetch invoices:",(j=(S=N==null?void 0:N.response)==null?void 0:S.data)==null?void 0:j.message)}finally{s(!1)}};C.useEffect(()=>{x()},[]);const y=()=>{c(null),i(!0)},v=S=>{c(S),i(!0)},w=S=>{h(S),m(!0)};return u.jsxs("div",{className:"bg-[#181A23] text-white rounded-lg p-6 shadow-lg relative min-h-[60vh]",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:" All Invoices"}),u.jsx("button",{onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none",children:"+ New Invoice"})]}),n?u.jsx("div",{className:"py-12 text-center text-gray-400",children:"Loading invoices..."}):e.length===0?u.jsx("div",{className:"py-12 text-center text-gray-500",children:"No invoices found."}):u.jsx("div",{className:"overflow-x-auto rounded-lg shadow-inner",children:u.jsxs("table",{className:"min-w-full text-sm bg-[#222436] rounded-lg overflow-hidden",children:[u.jsx("thead",{className:"bg-[#23263a] text-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3 font-semibold",children:"#"}),u.jsx("th",{className:"p-3 font-semibold",children:"Type"}),u.jsx("th",{className:"p-3 font-semibold",children:"Client"}),u.jsx("th",{className:"p-3 font-semibold",children:"Supplier"}),u.jsx("th",{className:"p-3 font-semibold",children:"Total"}),u.jsx("th",{className:"p-3 font-semibold",children:"Issued"}),u.jsx("th",{className:"p-3 font-semibold",children:"Actions"})]})}),u.jsx("tbody",{children:e.map(S=>{var j,N;return u.jsxs("tr",{className:"border-t border-[#27293e] hover:bg-[#25294a] transition",children:[u.jsx("td",{className:"p-3",children:S.invoiceNumber||""}),u.jsx("td",{className:"p-3 capitalize",children:S.type==="income"?"Income (You receive)":S.type==="outcome"?"Expense (You pay)":S.type}),u.jsx("td",{className:"p-3",children:((j=S.clientCompany)==null?void 0:j.name)||S.client||""}),u.jsx("td",{className:"p-3",children:((N=S.supplierCompany)==null?void 0:N.name)||S.supplier||""}),u.jsxs("td",{className:"p-3 whitespace-nowrap",children:[Number(S.totalAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," ",S.currency]}),u.jsx("td",{className:"p-3",children:xc(S.dateIssued)}),u.jsxs("td",{className:"p-3 flex gap-2",children:[u.jsx("button",{onClick:()=>w(S),className:"text-green-400 hover:underline hover:text-green-300 transition",children:"Details"}),u.jsx("button",{onClick:()=>v(S),className:"text-blue-400 hover:underline hover:text-blue-300 transition",children:"Edit"})]})]},S._id)})})]})}),r&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-lg",children:u.jsx("div",{className:"w-full max-w-2xl mx-4",children:u.jsx(lh,{invoice:a,onClose:()=>i(!1),onSaved:()=>{i(!1),x()}})})}),p&&d&&u.jsx(Um,{invoice:d,onClose:()=>m(!1)})]})},Sj=()=>u.jsxs(uS,{children:[u.jsx(Kt,{path:"/",element:u.jsx(QO,{})}),u.jsx(Kt,{path:"new",element:u.jsx(lh,{})}),u.jsx(Kt,{path:":id",element:u.jsx(GO,{})}),u.jsx(Kt,{path:":id/edit",element:u.jsx(lh,{})})]}),j0=C.createContext({});function C0(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const N0=typeof window<"u",_j=N0?C.useLayoutEffect:C.useEffect,$h=C.createContext(null);function k0(e,t){e.indexOf(t)===-1&&e.push(t)}function T0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const gr=(e,t,n)=>n>t?t:n<e?e:n;let E0=()=>{};const xr={},jj=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Cj(e){return typeof e=="object"&&e!==null}const Nj=e=>/^0[^.\s]+$/u.test(e);function P0(e){let t;return()=>(t===void 0&&(t=e()),t)}const Gn=e=>e,ZO=(e,t)=>n=>t(e(n)),qc=(...e)=>e.reduce(ZO),Cc=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class M0{constructor(){this.subscriptions=[]}add(t){return k0(this.subscriptions,t),()=>T0(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Os=e=>e*1e3,Ls=e=>e/1e3;function kj(e,t){return t?e*(1e3/t):0}const Tj=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,JO=1e-7,eL=12;function tL(e,t,n,s,r){let i,a,c=0;do a=t+(n-t)/2,i=Tj(a,s,r)-e,i>0?n=a:t=a;while(Math.abs(i)>JO&&++c<eL);return a}function Yc(e,t,n,s){if(e===t&&n===s)return Gn;const r=i=>tL(i,0,1,e,n);return i=>i===0||i===1?i:Tj(r(i),t,s)}const Ej=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Pj=e=>t=>1-e(1-t),Mj=Yc(.33,1.53,.69,.99),A0=Pj(Mj),Aj=Ej(A0),Rj=e=>(e*=2)<1?.5*A0(e):.5*(2-Math.pow(2,-10*(e-1))),R0=e=>1-Math.sin(Math.acos(e)),Dj=Pj(R0),Oj=Ej(R0),nL=Yc(.42,0,1,1),sL=Yc(0,0,.58,1),Lj=Yc(.42,0,.58,1),rL=e=>Array.isArray(e)&&typeof e[0]!="number",Ij=e=>Array.isArray(e)&&typeof e[0]=="number",iL={linear:Gn,easeIn:nL,easeInOut:Lj,easeOut:sL,circIn:R0,circInOut:Oj,circOut:Dj,backIn:A0,backInOut:Aj,backOut:Mj,anticipate:Rj},oL=e=>typeof e=="string",aw=e=>{if(Ij(e)){E0(e.length===4);const[t,n,s,r]=e;return Yc(t,n,s,r)}else if(oL(e))return iL[e];return e},Rd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],lw={value:null};function aL(e,t){let n=new Set,s=new Set,r=!1,i=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function h(m){a.has(m)&&(p.schedule(m),e()),d++,m(c)}const p={schedule:(m,x=!1,y=!1)=>{const w=y&&r?n:s;return x&&a.add(m),w.has(m)||w.add(m),m},cancel:m=>{s.delete(m),a.delete(m)},process:m=>{if(c=m,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(h),t&&lw.value&&lw.value.frameloop[t].push(d),d=0,n.clear(),r=!1,i&&(i=!1,p.process(m))}};return p}const lL=40;function Fj(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Rd.reduce((T,A)=>(T[A]=aL(i,t?A:void 0),T),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:p,update:m,preRender:x,render:y,postRender:v}=a,w=()=>{const T=xr.useManualTiming?r.timestamp:performance.now();n=!1,xr.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(T-r.timestamp,lL),1)),r.timestamp=T,r.isProcessing=!0,c.process(r),d.process(r),h.process(r),p.process(r),m.process(r),x.process(r),y.process(r),v.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(w))},S=()=>{n=!0,s=!0,r.isProcessing||e(w)};return{schedule:Rd.reduce((T,A)=>{const P=a[A];return T[A]=(R,V=!1,I=!1)=>(n||S(),P.schedule(R,V,I)),T},{}),cancel:T=>{for(let A=0;A<Rd.length;A++)a[Rd[A]].cancel(T)},state:r,steps:a}}const{schedule:it,cancel:gi,state:zt,steps:pm}=Fj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let Gd;function cL(){Gd=void 0}const jn={now:()=>(Gd===void 0&&jn.set(zt.isProcessing||xr.useManualTiming?zt.timestamp:performance.now()),Gd),set:e=>{Gd=e,queueMicrotask(cL)}},zj=e=>t=>typeof t=="string"&&t.startsWith(e),D0=zj("--"),uL=zj("var(--"),O0=e=>uL(e)?dL.test(e.split("/*")[0].trim()):!1,dL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$a={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Nc={...$a,transform:e=>gr(0,1,e)},Dd={...$a,default:1},lc=e=>Math.round(e*1e5)/1e5,L0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hL(e){return e==null}const fL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,I0=(e,t)=>n=>!!(typeof n=="string"&&fL.test(n)&&n.startsWith(e)||t&&!hL(n)&&Object.prototype.hasOwnProperty.call(n,t)),Bj=(e,t,n)=>s=>{if(typeof s!="string")return s;const[r,i,a,c]=s.match(L0);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},pL=e=>gr(0,255,e),mm={...$a,transform:e=>Math.round(pL(e))},Qi={test:I0("rgb","red"),parse:Bj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+mm.transform(e)+", "+mm.transform(t)+", "+mm.transform(n)+", "+lc(Nc.transform(s))+")"};function mL(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const lg={test:I0("#"),parse:mL,transform:Qi.transform},Kc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Qr=Kc("deg"),Is=Kc("%"),Ee=Kc("px"),gL=Kc("vh"),xL=Kc("vw"),cw={...Is,parse:e=>Is.parse(e)/100,transform:e=>Is.transform(e*100)},ua={test:I0("hsl","hue"),parse:Bj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Is.transform(lc(t))+", "+Is.transform(lc(n))+", "+lc(Nc.transform(s))+")"},kt={test:e=>Qi.test(e)||lg.test(e)||ua.test(e),parse:e=>Qi.test(e)?Qi.parse(e):ua.test(e)?ua.parse(e):lg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Qi.transform(e):ua.transform(e),getAnimatableNone:e=>{const t=kt.parse(e);return t.alpha=0,kt.transform(t)}},yL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bL(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(L0))==null?void 0:t.length)||0)+(((n=e.match(yL))==null?void 0:n.length)||0)>0}const Vj="number",$j="color",vL="var",wL="var(",uw="${}",SL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kc(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const c=t.replace(SL,d=>(kt.test(d)?(s.color.push(i),r.push($j),n.push(kt.parse(d))):d.startsWith(wL)?(s.var.push(i),r.push(vL),n.push(d)):(s.number.push(i),r.push(Vj),n.push(parseFloat(d))),++i,uw)).split(uw);return{values:n,split:c,indexes:s,types:r}}function Uj(e){return kc(e).values}function Hj(e){const{split:t,types:n}=kc(e),s=t.length;return r=>{let i="";for(let a=0;a<s;a++)if(i+=t[a],r[a]!==void 0){const c=n[a];c===Vj?i+=lc(r[a]):c===$j?i+=kt.transform(r[a]):i+=r[a]}return i}}const _L=e=>typeof e=="number"?0:kt.test(e)?kt.getAnimatableNone(e):e;function jL(e){const t=Uj(e);return Hj(e)(t.map(_L))}const xi={test:bL,parse:Uj,createTransformer:Hj,getAnimatableNone:jL};function gm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function CL({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,i=0,a=0;if(!t)r=i=a=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;r=gm(d,c,e+1/3),i=gm(d,c,e),a=gm(d,c,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}function xh(e,t){return n=>n>0?t:e}const ut=(e,t,n)=>e+(t-e)*n,xm=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},NL=[lg,Qi,ua],kL=e=>NL.find(t=>t.test(e));function dw(e){const t=kL(e);if(!t)return!1;let n=t.parse(e);return t===ua&&(n=CL(n)),n}const hw=(e,t)=>{const n=dw(e),s=dw(t);if(!n||!s)return xh(e,t);const r={...n};return i=>(r.red=xm(n.red,s.red,i),r.green=xm(n.green,s.green,i),r.blue=xm(n.blue,s.blue,i),r.alpha=ut(n.alpha,s.alpha,i),Qi.transform(r))},cg=new Set(["none","hidden"]);function TL(e,t){return cg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function EL(e,t){return n=>ut(e,t,n)}function F0(e){return typeof e=="number"?EL:typeof e=="string"?O0(e)?xh:kt.test(e)?hw:AL:Array.isArray(e)?Wj:typeof e=="object"?kt.test(e)?hw:PL:xh}function Wj(e,t){const n=[...e],s=n.length,r=e.map((i,a)=>F0(i)(i,t[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}}function PL(e,t){const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=F0(e[r])(e[r],t[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function ML(e,t){const n=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const i=t.types[r],a=e.indexes[i][s[i]],c=e.values[a]??0;n[r]=c,s[i]++}return n}const AL=(e,t)=>{const n=xi.createTransformer(t),s=kc(e),r=kc(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?cg.has(e)&&!r.values.length||cg.has(t)&&!s.values.length?TL(e,t):qc(Wj(ML(s,r),r.values),n):xh(e,t)};function qj(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ut(e,t,n):F0(e)(e,t)}const RL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>it.update(t,n),stop:()=>gi(t),now:()=>zt.isProcessing?zt.timestamp:jn.now()}},Yj=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let i=0;i<r;i++)s+=Math.round(e(i/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},yh=2e4;function z0(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<yh;)t+=n,s=e.next(t);return t>=yh?1/0:t}function DL(e,t=100,n){const s=n({...e,keyframes:[0,t]}),r=Math.min(z0(s),yh);return{type:"keyframes",ease:i=>s.next(r*i).value/t,duration:Ls(r)}}const OL=5;function Kj(e,t,n){const s=Math.max(t-OL,0);return kj(n-e(s),t-s)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ym=.001;function LL({duration:e=mt.duration,bounce:t=mt.bounce,velocity:n=mt.velocity,mass:s=mt.mass}){let r,i,a=1-t;a=gr(mt.minDamping,mt.maxDamping,a),e=gr(mt.minDuration,mt.maxDuration,Ls(e)),a<1?(r=h=>{const p=h*a,m=p*e,x=p-n,y=ug(h,a),v=Math.exp(-m);return ym-x/y*v},i=h=>{const m=h*a*e,x=m*n+n,y=Math.pow(a,2)*Math.pow(h,2)*e,v=Math.exp(-m),w=ug(Math.pow(h,2),a);return(-r(h)+ym>0?-1:1)*((x-y)*v)/w}):(r=h=>{const p=Math.exp(-h*e),m=(h-n)*e+1;return-ym+p*m},i=h=>{const p=Math.exp(-h*e),m=(n-h)*(e*e);return p*m});const c=5/e,d=FL(r,i,c);if(e=Os(e),isNaN(d))return{stiffness:mt.stiffness,damping:mt.damping,duration:e};{const h=Math.pow(d,2)*s;return{stiffness:h,damping:a*2*Math.sqrt(s*h),duration:e}}}const IL=12;function FL(e,t,n){let s=n;for(let r=1;r<IL;r++)s=s-e(s)/t(s);return s}function ug(e,t){return e*Math.sqrt(1-t*t)}const zL=["duration","bounce"],BL=["stiffness","damping","mass"];function fw(e,t){return t.some(n=>e[n]!==void 0)}function VL(e){let t={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...e};if(!fw(e,BL)&&fw(e,zL))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*gr(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:mt.mass,stiffness:r,damping:i}}else{const n=LL(e);t={...t,...n,mass:mt.mass},t.isResolvedFromDuration=!0}return t}function bh(e=mt.visualDuration,t=mt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:h,mass:p,duration:m,velocity:x,isResolvedFromDuration:y}=VL({...n,velocity:-Ls(n.velocity||0)}),v=x||0,w=h/(2*Math.sqrt(d*p)),S=a-i,j=Ls(Math.sqrt(d/p)),N=Math.abs(S)<5;s||(s=N?mt.restSpeed.granular:mt.restSpeed.default),r||(r=N?mt.restDelta.granular:mt.restDelta.default);let T;if(w<1){const P=ug(j,w);T=R=>{const V=Math.exp(-w*j*R);return a-V*((v+w*j*S)/P*Math.sin(P*R)+S*Math.cos(P*R))}}else if(w===1)T=P=>a-Math.exp(-j*P)*(S+(v+j*S)*P);else{const P=j*Math.sqrt(w*w-1);T=R=>{const V=Math.exp(-w*j*R),I=Math.min(P*R,300);return a-V*((v+w*j*S)*Math.sinh(I)+P*S*Math.cosh(I))/P}}const A={calculatedDuration:y&&m||null,next:P=>{const R=T(P);if(y)c.done=P>=m;else{let V=P===0?v:0;w<1&&(V=P===0?Os(v):Kj(T,P,R));const I=Math.abs(V)<=s,z=Math.abs(a-R)<=r;c.done=I&&z}return c.value=c.done?a:R,c},toString:()=>{const P=Math.min(z0(A),yh),R=Yj(V=>A.next(P*V).value,P,30);return P+"ms "+R},toTransition:()=>{}};return A}bh.applyToOptions=e=>{const t=DL(e,100,bh);return e.ease=t.ease,e.duration=Os(t.duration),e.type="keyframes",e};function dg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:c,max:d,restDelta:h=.5,restSpeed:p}){const m=e[0],x={done:!1,value:m},y=I=>c!==void 0&&I<c||d!==void 0&&I>d,v=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let w=n*t;const S=m+w,j=a===void 0?S:a(S);j!==S&&(w=j-m);const N=I=>-w*Math.exp(-I/s),T=I=>j+N(I),A=I=>{const z=N(I),U=T(I);x.done=Math.abs(z)<=h,x.value=x.done?j:U};let P,R;const V=I=>{y(x.value)&&(P=I,R=bh({keyframes:[x.value,v(x.value)],velocity:Kj(T,I,x.value),damping:r,stiffness:i,restDelta:h,restSpeed:p}))};return V(0),{calculatedDuration:null,next:I=>{let z=!1;return!R&&P===void 0&&(z=!0,A(I),V(I)),P!==void 0&&I>=P?R.next(I-P):(!z&&A(I),x)}}}function $L(e,t,n){const s=[],r=n||xr.mix||qj,i=e.length-1;for(let a=0;a<i;a++){let c=r(e[a],e[a+1]);if(t){const d=Array.isArray(t)?t[a]||Gn:t;c=qc(d,c)}s.push(c)}return s}function UL(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const i=e.length;if(E0(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=$L(t,s,r),d=c.length,h=p=>{if(a&&p<e[0])return t[0];let m=0;if(d>1)for(;m<e.length-2&&!(p<e[m+1]);m++);const x=Cc(e[m],e[m+1],p);return c[m](x)};return n?p=>h(gr(e[0],e[i-1],p)):h}function HL(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=Cc(0,t,s);e.push(ut(n,1,r))}}function WL(e){const t=[0];return HL(t,e.length-1),t}function qL(e,t){return e.map(n=>n*t)}function YL(e,t){return e.map(()=>t||Lj).splice(0,e.length-1)}function cc({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=rL(s)?s.map(aw):aw(s),i={done:!1,value:t[0]},a=qL(n&&n.length===t.length?n:WL(t),e),c=UL(a,t,{ease:Array.isArray(r)?r:YL(t,r)});return{calculatedDuration:e,next:d=>(i.value=c(d),i.done=d>=e,i)}}const KL=e=>e!==null;function B0(e,{repeat:t,repeatType:n="loop"},s,r=1){const i=e.filter(KL),c=r<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!c||s===void 0?i[c]:s}const XL={decay:dg,inertia:dg,tween:cc,keyframes:cc,spring:bh};function Xj(e){typeof e.type=="string"&&(e.type=XL[e.type])}class V0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const QL=e=>e/100;class $0 extends V0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==jn.now()&&this.tick(jn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Xj(t);const{type:n=cc,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=t;let{keyframes:c}=t;const d=n||cc;d!==cc&&typeof c[0]!="number"&&(this.mixKeyframes=qc(QL,qj(c[0],c[1])),c=[0,100]);const h=d({...t,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=z0(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:p,repeat:m,repeatType:x,repeatDelay:y,type:v,onUpdate:w,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const j=this.currentTime-h*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?j<0:j>r;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let T=this.currentTime,A=s;if(m){const I=Math.min(this.currentTime,r)/c;let z=Math.floor(I),U=I%1;!U&&I>=1&&(U=1),U===1&&z--,z=Math.min(z,m+1),!!(z%2)&&(x==="reverse"?(U=1-U,y&&(U-=y/c)):x==="mirror"&&(A=a)),T=gr(0,1,U)*c}const P=N?{done:!1,value:p[0]}:A.next(T);i&&(P.value=i(P.value));let{done:R}=P;!N&&d!==null&&(R=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return V&&v!==dg&&(P.value=B0(p,this.options,S,this.speed)),w&&w(P.value),V&&this.finish(),P}then(t,n){return this.finished.then(t,n)}get duration(){return Ls(this.calculatedDuration)}get time(){return Ls(this.currentTime)}set time(t){var n;t=Os(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(jn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ls(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:t=RL,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(jn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function GL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Gi=e=>e*180/Math.PI,hg=e=>{const t=Gi(Math.atan2(e[1],e[0]));return fg(t)},ZL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:hg,rotateZ:hg,skewX:e=>Gi(Math.atan(e[1])),skewY:e=>Gi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},fg=e=>(e=e%360,e<0&&(e+=360),e),pw=hg,mw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),gw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),JL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mw,scaleY:gw,scale:e=>(mw(e)+gw(e))/2,rotateX:e=>fg(Gi(Math.atan2(e[6],e[5]))),rotateY:e=>fg(Gi(Math.atan2(-e[2],e[0]))),rotateZ:pw,rotate:pw,skewX:e=>Gi(Math.atan(e[4])),skewY:e=>Gi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function pg(e){return e.includes("scale")?1:0}function mg(e,t){if(!e||e==="none")return pg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=JL,r=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=ZL,r=c}if(!r)return pg(t);const i=s[t],a=r[1].split(",").map(tI);return typeof i=="function"?i(a):a[i]}const eI=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return mg(n,t)};function tI(e){return parseFloat(e.trim())}const Ua=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ha=new Set(Ua),xw=e=>e===$a||e===Ee,nI=new Set(["x","y","z"]),sI=Ua.filter(e=>!nI.has(e));function rI(e){const t=[];return sI.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const ho={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mg(t,"x"),y:(e,{transform:t})=>mg(t,"y")};ho.translateX=ho.x;ho.translateY=ho.y;const fo=new Set;let gg=!1,xg=!1,yg=!1;function Qj(){if(xg){const e=Array.from(fo).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const r=rI(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,a])=>{var c;(c=s.getValue(i))==null||c.set(a)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}xg=!1,gg=!1,fo.forEach(e=>e.complete(yg)),fo.clear()}function Gj(){fo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(xg=!0)})}function iI(){yg=!0,Gj(),Qj(),yg=!1}class U0{constructor(t,n,s,r,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(fo.add(this),gg||(gg=!0,it.read(Gj),it.resolveKeyframes(Qj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:r}=this;if(t[0]===null){const i=r==null?void 0:r.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(s&&n){const c=s.readValue(n,a);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=a),r&&i===void 0&&r.set(t[0])}GL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fo.delete(this)}cancel(){this.state==="scheduled"&&(fo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const oI=e=>e.startsWith("--");function aI(e,t,n){oI(t)?e.style.setProperty(t,n):e.style[t]=n}const lI=P0(()=>window.ScrollTimeline!==void 0),cI={};function uI(e,t){const n=P0(e);return()=>cI[t]??n()}const Zj=uI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zl=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,yw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zl([0,.65,.55,1]),circOut:Zl([.55,0,1,.45]),backIn:Zl([.31,.01,.66,-.59]),backOut:Zl([.33,1.53,.69,.99])};function Jj(e,t){if(e)return typeof e=="function"?Zj()?Yj(e,t):"ease-out":Ij(e)?Zl(e):Array.isArray(e)?e.map(n=>Jj(n,t)||yw.easeOut):yw[e]}function dI(e,t,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:a="loop",ease:c="easeOut",times:d}={},h=void 0){const p={[t]:n};d&&(p.offset=d);const m=Jj(c,r);Array.isArray(m)&&(p.easing=m);const x={delay:s,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),e.animate(p,x)}function eC(e){return typeof e=="function"&&"applyToOptions"in e}function hI({type:e,...t}){return eC(e)&&Zj()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class fI extends V0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,E0(typeof t.type!="string");const h=hI(t);this.animation=dI(n,s,r,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=B0(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):aI(n,s,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ls(Number(t))}get time(){return Ls(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Os(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&lI()?(this.animation.timeline=t,Gn):n(this)}}const tC={anticipate:Rj,backInOut:Aj,circInOut:Oj};function pI(e){return e in tC}function mI(e){typeof e.ease=="string"&&pI(e.ease)&&(e.ease=tC[e.ease])}const bw=10;class gI extends fI{constructor(t){mI(t),Xj(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new $0({...a,autoplay:!1}),d=Os(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-bw).value,c.sample(d).value,bw),c.stop()}}const vw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xi.test(e)||e==="0")&&!e.startsWith("url("));function xI(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function yI(e,t,n,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=vw(r,t),c=vw(i,t);return!a||!c?!1:xI(e)||(n==="spring"||eC(n))&&s}function H0(e){return Cj(e)&&"offsetHeight"in e}const bI=new Set(["opacity","clipPath","filter","transform"]),vI=P0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wI(e){var h;const{motionValue:t,name:n,repeatDelay:s,repeatType:r,damping:i,type:a}=e;if(!H0((h=t==null?void 0:t.owner)==null?void 0:h.current))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return vI()&&n&&bI.has(n)&&(n!=="transform"||!d)&&!c&&!s&&r!=="mirror"&&i!==0&&a!=="inertia"}const SI=40;class _I extends V0{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",keyframes:c,name:d,motionValue:h,element:p,...m}){var v;super(),this.stop=()=>{var w,S;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=jn.now();const x={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:a,name:d,motionValue:h,element:p,...m},y=(p==null?void 0:p.KeyframeResolver)||U0;this.keyframeResolver=new y(c,(w,S,j)=>this.onKeyframesResolved(w,S,x,!j),d,h,p),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,s,r){this.keyframeResolver=void 0;const{name:i,type:a,velocity:c,delay:d,isHandoff:h,onUpdate:p}=s;this.resolvedAt=jn.now(),yI(t,i,a,c)||((xr.instantAnimations||!d)&&(p==null||p(B0(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const x={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>SI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},y=!h&&wI(x)?new gI({...x,element:x.motionValue.owner.current}):new $0(x);y.finished.then(()=>this.notifyFinished()).catch(Gn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),iI()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const jI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CI(e){const t=jI.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}function nC(e,t,n=1){const[s,r]=CI(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const a=i.trim();return jj(a)?parseFloat(a):a}return O0(r)?nC(r,t,n+1):r}function W0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const sC=new Set(["width","height","top","left","right","bottom",...Ua]),NI={test:e=>e==="auto",parse:e=>e},rC=e=>t=>t.test(e),iC=[$a,Ee,Is,Qr,xL,gL,NI],ww=e=>iC.find(rC(e));function kI(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Nj(e):!0}const TI=new Set(["brightness","contrast","saturate","opacity"]);function EI(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(L0)||[];if(!s)return e;const r=n.replace(s,"");let i=TI.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+r+")"}const PI=/\b([a-z-]*)\(.*?\)/gu,bg={...xi,getAnimatableNone:e=>{const t=e.match(PI);return t?t.map(EI).join(" "):e}},Sw={...$a,transform:Math.round},MI={rotate:Qr,rotateX:Qr,rotateY:Qr,rotateZ:Qr,scale:Dd,scaleX:Dd,scaleY:Dd,scaleZ:Dd,skew:Qr,skewX:Qr,skewY:Qr,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Nc,originX:cw,originY:cw,originZ:Ee},q0={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...MI,zIndex:Sw,fillOpacity:Nc,strokeOpacity:Nc,numOctaves:Sw},AI={...q0,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:bg,WebkitFilter:bg},oC=e=>AI[e];function aC(e,t){let n=oC(e);return n!==bg&&(n=xi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const RI=new Set(["auto","none","0"]);function DI(e,t,n){let s=0,r;for(;s<e.length&&!r;){const i=e[s];typeof i=="string"&&!RI.has(i)&&kc(i).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=aC(n,r)}class OI extends U0{constructor(t,n,s,r,i){super(t,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),O0(h))){const p=nC(h,n.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!sC.has(s)||t.length!==2)return;const[r,i]=t,a=ww(r),c=ww(i);if(a!==c)if(xw(a)&&xw(c))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else ho[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let r=0;r<t.length;r++)(t[r]===null||kI(t[r]))&&s.push(r);s.length&&DI(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ho[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var c;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=ho[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{t.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function LI(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const r=(n==null?void 0:n[e])??s.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const lC=(e,t)=>t&&typeof e=="number"?t.transform(e):e,_w=30,II=e=>!isNaN(parseFloat(e));class FI{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var a,c;const i=jn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();r&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=jn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=II(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new M0);const s=this.events[t].add(n);return t==="change"?()=>{s(),it.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=jn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_w)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_w);return kj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ra(e,t){return new FI(e,t)}const{schedule:Y0}=Fj(queueMicrotask,!1),os={x:!1,y:!1};function cC(){return os.x||os.y}function zI(e){return e==="x"||e==="y"?os[e]?null:(os[e]=!0,()=>{os[e]=!1}):os.x||os.y?null:(os.x=os.y=!0,()=>{os.x=os.y=!1})}function uC(e,t){const n=LI(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[n,r,()=>s.abort()]}function jw(e){return!(e.pointerType==="touch"||cC())}function BI(e,t,n={}){const[s,r,i]=uC(e,n),a=c=>{if(!jw(c))return;const{target:d}=c,h=t(d,c);if(typeof h!="function"||!d)return;const p=m=>{jw(m)&&(h(m),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,r)};return s.forEach(c=>{c.addEventListener("pointerenter",a,r)}),i}const dC=(e,t)=>t?e===t?!0:dC(e,t.parentElement):!1,K0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,VI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $I(e){return VI.has(e.tagName)||e.tabIndex!==-1}const Zd=new WeakSet;function Cw(e){return t=>{t.key==="Enter"&&e(t)}}function bm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const UI=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Cw(()=>{if(Zd.has(n))return;bm(n,"down");const r=Cw(()=>{bm(n,"up")}),i=()=>bm(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Nw(e){return K0(e)&&!cC()}function HI(e,t,n={}){const[s,r,i]=uC(e,n),a=c=>{const d=c.currentTarget;if(!Nw(c))return;Zd.add(d);const h=t(d,c),p=(y,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",x),Zd.has(d)&&Zd.delete(d),Nw(y)&&typeof h=="function"&&h(y,{success:v})},m=y=>{p(y,d===window||d===document||n.useGlobalTarget||dC(d,y.target))},x=y=>{p(y,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",x,r)};return s.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,r),H0(c)&&(c.addEventListener("focus",h=>UI(h,r)),!$I(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function hC(e){return Cj(e)&&"ownerSVGElement"in e}function WI(e){return hC(e)&&e.tagName==="svg"}const Zt=e=>!!(e&&e.getVelocity),qI=[...iC,kt,xi],YI=e=>qI.find(rC(e)),X0=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class KI extends C.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=H0(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function XI({children:e,isPresent:t,anchorX:n,root:s}){const r=C.useId(),i=C.useRef(null),a=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=C.useContext(X0);return C.useInsertionEffect(()=>{const{width:d,height:h,top:p,left:m,right:x}=a.current;if(t||!i.current||!d||!h)return;const y=n==="left"?`left: ${m}`:`right: ${x}`;i.current.dataset.motionPopId=r;const v=document.createElement("style");c&&(v.nonce=c);const w=s??document.head;return w.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${y}px !important;
            top: ${p}px !important;
          }
        `),()=>{w.removeChild(v),w.contains(v)&&w.removeChild(v)}},[t]),u.jsx(KI,{isPresent:t,childRef:i,sizeRef:a,children:C.cloneElement(e,{ref:i})})}const QI=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a,anchorX:c,root:d})=>{const h=C0(GI),p=C.useId();let m=!0,x=C.useMemo(()=>(m=!1,{id:p,initial:t,isPresent:n,custom:r,onExitComplete:y=>{h.set(y,!0);for(const v of h.values())if(!v)return;s&&s()},register:y=>(h.set(y,!1),()=>h.delete(y))}),[n,h,s]);return i&&m&&(x={...x}),C.useMemo(()=>{h.forEach((y,v)=>h.set(v,!1))},[n]),C.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),a==="popLayout"&&(e=u.jsx(XI,{isPresent:n,anchorX:c,root:d,children:e})),u.jsx($h.Provider,{value:x,children:e})};function GI(){return new Map}function fC(e=!0){const t=C.useContext($h);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,i=C.useId();C.useEffect(()=>{if(e)return r(i)},[e]);const a=C.useCallback(()=>e&&s&&s(i),[i,s,e]);return!n&&s?[!1,a]:[!0]}const Od=e=>e.key||"";function kw(e){const t=[];return C.Children.forEach(e,n=>{C.isValidElement(n)&&t.push(n)}),t}const ZI=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:a=!1,anchorX:c="left",root:d})=>{const[h,p]=fC(a),m=C.useMemo(()=>kw(e),[e]),x=a&&!h?[]:m.map(Od),y=C.useRef(!0),v=C.useRef(m),w=C0(()=>new Map),[S,j]=C.useState(m),[N,T]=C.useState(m);_j(()=>{y.current=!1,v.current=m;for(let R=0;R<N.length;R++){const V=Od(N[R]);x.includes(V)?w.delete(V):w.get(V)!==!0&&w.set(V,!1)}},[N,x.length,x.join("-")]);const A=[];if(m!==S){let R=[...m];for(let V=0;V<N.length;V++){const I=N[V],z=Od(I);x.includes(z)||(R.splice(V,0,I),A.push(I))}return i==="wait"&&A.length&&(R=A),T(kw(R)),j(m),null}const{forceRender:P}=C.useContext(j0);return u.jsx(u.Fragment,{children:N.map(R=>{const V=Od(R),I=a&&!h?!1:m===N||x.includes(V),z=()=>{if(w.has(V))w.set(V,!0);else return;let U=!0;w.forEach(J=>{J||(U=!1)}),U&&(P==null||P(),T(v.current),a&&(p==null||p()),s&&s())};return u.jsx(QI,{isPresent:I,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:i,root:d,onExitComplete:I?void 0:z,anchorX:c,children:R},V)})})},pC=C.createContext({strict:!1}),Tw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Da={};for(const e in Tw)Da[e]={isEnabled:t=>Tw[e].some(n=>!!t[n])};function JI(e){for(const t in e)Da[t]={...Da[t],...e[t]}}const eF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||eF.has(e)}let mC=e=>!vh(e);function tF(e){typeof e=="function"&&(mC=t=>t.startsWith("on")?!vh(t):e(t))}try{tF(require("@emotion/is-prop-valid").default)}catch{}function nF(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(mC(r)||n===!0&&vh(r)||!t&&!vh(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}function sF(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,r)=>r==="create"?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}const Uh=C.createContext({});function Hh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Tc(e){return typeof e=="string"||Array.isArray(e)}const Q0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],G0=["initial",...Q0];function Wh(e){return Hh(e.animate)||G0.some(t=>Tc(e[t]))}function gC(e){return!!(Wh(e)||e.variants)}function rF(e,t){if(Wh(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Tc(n)?n:void 0,animate:Tc(s)?s:void 0}}return e.inherit!==!1?t:{}}function iF(e){const{initial:t,animate:n}=rF(e,C.useContext(Uh));return C.useMemo(()=>({initial:t,animate:n}),[Ew(t),Ew(n)])}function Ew(e){return Array.isArray(e)?e.join(" "):e}const oF=Symbol.for("motionComponentSymbol");function da(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function aF(e,t,n){return C.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):da(n)&&(n.current=s))},[t])}const Z0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lF="framerAppearId",xC="data-"+Z0(lF),yC=C.createContext({});function cF(e,t,n,s,r){var w,S;const{visualElement:i}=C.useContext(Uh),a=C.useContext(pC),c=C.useContext($h),d=C.useContext(X0).reducedMotion,h=C.useRef(null);s=s||a.renderer,!h.current&&s&&(h.current=s(e,{visualState:t,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,m=C.useContext(yC);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&uF(h.current,n,r,m);const x=C.useRef(!1);C.useInsertionEffect(()=>{p&&x.current&&p.update(n,c)});const y=n[xC],v=C.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,y)));return _j(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Y0.render(p.render),v.current&&p.animationState&&p.animationState.animateChanges())}),C.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,y)}),v.current=!1))}),p}function uF(e,t,n,s){const{layoutId:r,layout:i,drag:a,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:bC(e.parent)),e.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!a||c&&da(c),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:d,layoutRoot:h})}function bC(e){if(e)return e.options.allowProjection!==!1?e.projection:bC(e.parent)}function dF({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:r}){e&&JI(e);function i(c,d){let h;const p={...C.useContext(X0),...c,layoutId:hF(c)},{isStatic:m}=p,x=iF(c),y=s(c,m);if(!m&&N0){fF();const v=pF(p);h=v.MeasureLayout,x.visualElement=cF(r,y,p,t,v.ProjectionNode)}return u.jsxs(Uh.Provider,{value:x,children:[h&&x.visualElement?u.jsx(h,{visualElement:x.visualElement,...p}):null,n(r,c,aF(y,x.visualElement,d),y,m,x.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const a=C.forwardRef(i);return a[oF]=r,a}function hF({layoutId:e}){const t=C.useContext(j0).id;return t&&e!==void 0?t+"-"+e:e}function fF(e,t){C.useContext(pC).strict}function pF(e){const{drag:t,layout:n}=Da;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Ec={};function mF(e){for(const t in e)Ec[t]=e[t],D0(t)&&(Ec[t].isCSSVariable=!0)}function vC(e,{layout:t,layoutId:n}){return Ha.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ec[e]||e==="opacity")}const gF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xF=Ua.length;function yF(e,t,n){let s="",r=!0;for(let i=0;i<xF;i++){const a=Ua[i],c=e[a];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(a.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=lC(c,q0[a]);if(!d){r=!1;const p=gF[a]||a;s+=`${p}(${h}) `}n&&(t[a]=h)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}function J0(e,t,n){const{style:s,vars:r,transformOrigin:i}=e;let a=!1,c=!1;for(const d in t){const h=t[d];if(Ha.has(d)){a=!0;continue}else if(D0(d)){r[d]=h;continue}else{const p=lC(h,q0[d]);d.startsWith("origin")?(c=!0,i[d]=p):s[d]=p}}if(t.transform||(a||n?s.transform=yF(t,e.transform,n):s.transform&&(s.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:p=0}=i;s.transformOrigin=`${d} ${h} ${p}`}}const ex=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wC(e,t,n){for(const s in t)!Zt(t[s])&&!vC(s,n)&&(e[s]=t[s])}function bF({transformTemplate:e},t){return C.useMemo(()=>{const n=ex();return J0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function vF(e,t){const n=e.style||{},s={};return wC(s,n,e),Object.assign(s,bF(e,t)),s}function wF(e,t){const n={},s=vF(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const SF={offset:"stroke-dashoffset",array:"stroke-dasharray"},_F={offset:"strokeDashoffset",array:"strokeDasharray"};function jF(e,t,n=1,s=0,r=!0){e.pathLength=1;const i=r?SF:_F;e[i.offset]=Ee.transform(-s);const a=Ee.transform(t),c=Ee.transform(n);e[i.array]=`${a} ${c}`}function SC(e,{attrX:t,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:a=0,...c},d,h,p){if(J0(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:x}=e;m.transform&&(x.transform=m.transform,delete m.transform),(x.transform||m.transformOrigin)&&(x.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),x.transform&&(x.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),r!==void 0&&jF(m,r,i,a,!1)}const _C=()=>({...ex(),attrs:{}}),jC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function CF(e,t,n,s){const r=C.useMemo(()=>{const i=_C();return SC(i,t,jC(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};wC(i,e.style,e),r.style={...i,...r.style}}return r}const NF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tx(e){return typeof e!="string"||e.includes("-")?!1:!!(NF.indexOf(e)>-1||/[A-Z]/u.test(e))}function kF(e=!1){return(n,s,r,{latestValues:i},a)=>{const d=(tx(n)?CF:wF)(s,i,a,n),h=nF(s,typeof n=="string",e),p=n!==C.Fragment?{...h,...d,ref:r}:{},{children:m}=s,x=C.useMemo(()=>Zt(m)?m.get():m,[m]);return C.createElement(n,{...p,children:x})}}function Pw(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function nx(e,t,n,s){if(typeof t=="function"){const[r,i]=Pw(s);t=t(n!==void 0?n:e.custom,r,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,i]=Pw(s);t=t(n!==void 0?n:e.custom,r,i)}return t}function Jd(e){return Zt(e)?e.get():e}function TF({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,r){return{latestValues:EF(n,s,r,e),renderState:t()}}const CC=e=>(t,n)=>{const s=C.useContext(Uh),r=C.useContext($h),i=()=>TF(e,t,s,r);return n?i():C0(i)};function EF(e,t,n,s){const r={},i=s(e,{});for(const x in i)r[x]=Jd(i[x]);let{initial:a,animate:c}=e;const d=Wh(e),h=gC(e);t&&h&&!d&&e.inherit!==!1&&(a===void 0&&(a=t.initial),c===void 0&&(c=t.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const m=p?c:a;if(m&&typeof m!="boolean"&&!Hh(m)){const x=Array.isArray(m)?m:[m];for(let y=0;y<x.length;y++){const v=nx(e,x[y]);if(v){const{transitionEnd:w,transition:S,...j}=v;for(const N in j){let T=j[N];if(Array.isArray(T)){const A=p?T.length-1:0;T=T[A]}T!==null&&(r[N]=T)}for(const N in w)r[N]=w[N]}}}return r}function sx(e,t,n){var i;const{style:s}=e,r={};for(const a in s)(Zt(s[a])||t.style&&Zt(t.style[a])||vC(a,e)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(r[a]=s[a]);return r}const PF={useVisualState:CC({scrapeMotionValuesFromProps:sx,createRenderState:ex})};function NC(e,t,n){const s=sx(e,t,n);for(const r in e)if(Zt(e[r])||Zt(t[r])){const i=Ua.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=e[r]}return s}const MF={useVisualState:CC({scrapeMotionValuesFromProps:NC,createRenderState:_C})};function AF(e,t){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...tx(s)?MF:PF,preloadedFeatures:e,useRender:kF(r),createVisualElement:t,Component:s};return dF(a)}}function Pc(e,t,n){const s=e.getProps();return nx(s,t,n!==void 0?n:s.custom,e)}const vg=e=>Array.isArray(e);function RF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ra(n))}function DF(e){return vg(e)?e[e.length-1]||0:e}function OF(e,t){const n=Pc(e,t);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const a in i){const c=DF(i[a]);RF(e,a,c)}}function LF(e){return!!(Zt(e)&&e.add)}function wg(e,t){const n=e.getValue("willChange");if(LF(n))return n.add(t);if(!n&&xr.WillChange){const s=new xr.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function kC(e){return e.props[xC]}const IF=e=>e!==null;function FF(e,{repeat:t,repeatType:n="loop"},s){const r=e.filter(IF),i=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[i]}const zF={type:"spring",stiffness:500,damping:25,restSpeed:10},BF=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),VF={type:"keyframes",duration:.8},$F={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UF=(e,{keyframes:t})=>t.length>2?VF:Ha.has(e)?e.startsWith("scale")?BF(t[1]):zF:$F;function HF({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:c,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const rx=(e,t,n,s={},r,i)=>a=>{const c=W0(s,e)||{},d=c.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Os(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:x=>{t.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:i?void 0:r};HF(c)||Object.assign(p,UF(e,p)),p.duration&&(p.duration=Os(p.duration)),p.repeatDelay&&(p.repeatDelay=Os(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(m=!0)),(xr.instantAnimations||xr.skipAnimations)&&(m=!0,p.duration=0,p.delay=0),p.allowFlatten=!c.type&&!c.ease,m&&!i&&t.get()!==void 0){const x=FF(p.keyframes,c);if(x!==void 0){it.update(()=>{p.onUpdate(x),p.onComplete()});return}}return c.isSync?new $0(p):new _I(p)};function WF({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function TC(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...c}=t;s&&(i=s);const d=[],h=r&&e.animationState&&e.animationState.getState()[r];for(const p in c){const m=e.getValue(p,e.latestValues[p]??null),x=c[p];if(x===void 0||h&&WF(h,p))continue;const y={delay:n,...W0(i||{},p)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(x)&&x===v&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const j=kC(e);if(j){const N=window.MotionHandoffAnimation(j,p,it);N!==null&&(y.startTime=N,w=!0)}}wg(e,p),m.start(rx(p,m,x,e.shouldReduceMotion&&sC.has(p)?{type:!1}:y,e,w));const S=m.animation;S&&d.push(S)}return a&&Promise.all(d).then(()=>{it.update(()=>{a&&OF(e,a)})}),d}function Sg(e,t,n={}){var d;const s=Pc(e,t,n.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(TC(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:x}=r;return qF(e,t,h,p,m,x,n)}:()=>Promise.resolve(),{when:c}=r;if(c){const[h,p]=c==="beforeChildren"?[i,a]:[a,i];return h().then(()=>p())}else return Promise.all([i(),a(n.delay)])}function qF(e,t,n=0,s=0,r=0,i=1,a){const c=[],d=e.variantChildren.size,h=(d-1)*r,p=typeof s=="function",m=p?x=>s(x,d):i===1?(x=0)=>x*r:(x=0)=>h-x*r;return Array.from(e.variantChildren).sort(YF).forEach((x,y)=>{x.notify("AnimationStart",t),c.push(Sg(x,t,{...a,delay:n+(p?0:s)+m(y)}).then(()=>x.notify("AnimationComplete",t)))}),Promise.all(c)}function YF(e,t){return e.sortNodePosition(t)}function KF(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(i=>Sg(e,i,n));s=Promise.all(r)}else if(typeof t=="string")s=Sg(e,t,n);else{const r=typeof t=="function"?Pc(e,t,n.custom):t;s=Promise.all(TC(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function EC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const XF=G0.length;function PC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?PC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<XF;n++){const s=G0[n],r=e.props[s];(Tc(r)||r===!1)&&(t[s]=r)}return t}const QF=[...Q0].reverse(),GF=Q0.length;function ZF(e){return t=>Promise.all(t.map(({animation:n,options:s})=>KF(e,n,s)))}function JF(e){let t=ZF(e),n=Mw(),s=!0;const r=d=>(h,p)=>{var x;const m=Pc(e,p,d==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(m){const{transition:y,transitionEnd:v,...w}=m;h={...h,...w,...v}}return h};function i(d){t=d(e)}function a(d){const{props:h}=e,p=PC(e.parent)||{},m=[],x=new Set;let y={},v=1/0;for(let S=0;S<GF;S++){const j=QF[S],N=n[j],T=h[j]!==void 0?h[j]:p[j],A=Tc(T),P=j===d?N.isActive:null;P===!1&&(v=S);let R=T===p[j]&&T!==h[j]&&A;if(R&&s&&e.manuallyAnimateOnMount&&(R=!1),N.protectedKeys={...y},!N.isActive&&P===null||!T&&!N.prevProp||Hh(T)||typeof T=="boolean")continue;const V=e8(N.prevProp,T);let I=V||j===d&&N.isActive&&!R&&A||S>v&&A,z=!1;const U=Array.isArray(T)?T:[T];let J=U.reduce(r(j),{});P===!1&&(J={});const{prevResolvedValues:se={}}=N,de={...se,...J},G=Z=>{I=!0,x.has(Z)&&(z=!0,x.delete(Z)),N.needsAnimating[Z]=!0;const K=e.getValue(Z);K&&(K.liveStyle=!1)};for(const Z in de){const K=J[Z],te=se[Z];if(y.hasOwnProperty(Z))continue;let O=!1;vg(K)&&vg(te)?O=!EC(K,te):O=K!==te,O?K!=null?G(Z):x.add(Z):K!==void 0&&x.has(Z)?G(Z):N.protectedKeys[Z]=!0}N.prevProp=T,N.prevResolvedValues=J,N.isActive&&(y={...y,...J}),s&&e.blockInitialAnimation&&(I=!1),I&&(!(R&&V)||z)&&m.push(...U.map(Z=>({animation:Z,options:{type:j}})))}if(x.size){const S={};if(typeof h.initial!="boolean"){const j=Pc(e,Array.isArray(h.initial)?h.initial[0]:h.initial);j&&j.transition&&(S.transition=j.transition)}x.forEach(j=>{const N=e.getBaseTarget(j),T=e.getValue(j);T&&(T.liveStyle=!0),S[j]=N??null}),m.push({animation:S})}let w=!!m.length;return s&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(w=!1),s=!1,w?t(m):Promise.resolve()}function c(d,h){var m;if(n[d].isActive===h)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(x=>{var y;return(y=x.animationState)==null?void 0:y.setActive(d,h)}),n[d].isActive=h;const p=a(d);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:a,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Mw(),s=!0}}}function e8(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!EC(t,e):!1}function Wi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mw(){return{animate:Wi(!0),whileInView:Wi(),whileHover:Wi(),whileTap:Wi(),whileDrag:Wi(),whileFocus:Wi(),exit:Wi()}}class vi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class t8 extends vi{constructor(t){super(t),t.animationState||(t.animationState=JF(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let n8=0;class s8 extends vi{constructor(){super(...arguments),this.id=n8++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const r8={animation:{Feature:t8},exit:{Feature:s8}};function Mc(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Xc(e){return{point:{x:e.pageX,y:e.pageY}}}const i8=e=>t=>K0(t)&&e(t,Xc(t));function uc(e,t,n,s){return Mc(e,t,i8(n),s)}function MC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function o8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function a8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const AC=1e-4,l8=1-AC,c8=1+AC,RC=.01,u8=0-RC,d8=0+RC;function ln(e){return e.max-e.min}function h8(e,t,n){return Math.abs(e-t)<=n}function Aw(e,t,n,s=.5){e.origin=s,e.originPoint=ut(t.min,t.max,e.origin),e.scale=ln(n)/ln(t),e.translate=ut(n.min,n.max,e.origin)-e.originPoint,(e.scale>=l8&&e.scale<=c8||isNaN(e.scale))&&(e.scale=1),(e.translate>=u8&&e.translate<=d8||isNaN(e.translate))&&(e.translate=0)}function dc(e,t,n,s){Aw(e.x,t.x,n.x,s?s.originX:void 0),Aw(e.y,t.y,n.y,s?s.originY:void 0)}function Rw(e,t,n){e.min=n.min+t.min,e.max=e.min+ln(t)}function f8(e,t,n){Rw(e.x,t.x,n.x),Rw(e.y,t.y,n.y)}function Dw(e,t,n){e.min=t.min-n.min,e.max=e.min+ln(t)}function hc(e,t,n){Dw(e.x,t.x,n.x),Dw(e.y,t.y,n.y)}const Ow=()=>({translate:0,scale:1,origin:0,originPoint:0}),ha=()=>({x:Ow(),y:Ow()}),Lw=()=>({min:0,max:0}),_t=()=>({x:Lw(),y:Lw()});function Yn(e){return[e("x"),e("y")]}function vm(e){return e===void 0||e===1}function _g({scale:e,scaleX:t,scaleY:n}){return!vm(e)||!vm(t)||!vm(n)}function Yi(e){return _g(e)||DC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function DC(e){return Iw(e.x)||Iw(e.y)}function Iw(e){return e&&e!=="0%"}function wh(e,t,n){const s=e-n,r=t*s;return n+r}function Fw(e,t,n,s,r){return r!==void 0&&(e=wh(e,r,s)),wh(e,n,s)+t}function jg(e,t=0,n=1,s,r){e.min=Fw(e.min,t,n,s,r),e.max=Fw(e.max,t,n,s,r)}function OC(e,{x:t,y:n}){jg(e.x,t.translate,t.scale,t.originPoint),jg(e.y,n.translate,n.scale,n.originPoint)}const zw=.999999999999,Bw=1.0000000000001;function p8(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let i,a;for(let c=0;c<r;c++){i=n[c],a=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&pa(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,OC(e,a)),s&&Yi(i.latestValues)&&pa(e,i.latestValues))}t.x<Bw&&t.x>zw&&(t.x=1),t.y<Bw&&t.y>zw&&(t.y=1)}function fa(e,t){e.min=e.min+t,e.max=e.max+t}function Vw(e,t,n,s,r=.5){const i=ut(e.min,e.max,r);jg(e,t,n,i,s)}function pa(e,t){Vw(e.x,t.x,t.scaleX,t.scale,t.originX),Vw(e.y,t.y,t.scaleY,t.scale,t.originY)}function LC(e,t){return MC(a8(e.getBoundingClientRect(),t))}function m8(e,t,n){const s=LC(e,n),{scroll:r}=t;return r&&(fa(s.x,r.offset.x),fa(s.y,r.offset.y)),s}const IC=({current:e})=>e?e.ownerDocument.defaultView:null,$w=(e,t)=>Math.abs(e-t);function g8(e,t){const n=$w(e.x,t.x),s=$w(e.y,t.y);return Math.sqrt(n**2+s**2)}class FC{constructor(t,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Sm(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=g8(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!v)return;const{point:w}=x,{timestamp:S}=zt;this.history.push({...w,timestamp:S});const{onStart:j,onMove:N}=this.handlers;y||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,x)},this.handlePointerMove=(x,y)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=wm(y,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(x,y)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Sm(x.type==="pointercancel"?this.lastMoveEventInfo:wm(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(x,j),w&&w(x,j)},!K0(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=a,this.contextWindow=r||window;const c=Xc(t),d=wm(c,this.transformPagePoint),{point:h}=d,{timestamp:p}=zt;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=n;m&&m(t,Sm(d,this.history)),this.removeListeners=qc(uc(this.contextWindow,"pointermove",this.handlePointerMove),uc(this.contextWindow,"pointerup",this.handlePointerUp),uc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gi(this.updatePoint)}}function wm(e,t){return t?{point:t(e.point)}:e}function Uw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sm({point:e},t){return{point:e,delta:Uw(e,zC(t)),offset:Uw(e,x8(t)),velocity:y8(t,.1)}}function x8(e){return e[0]}function zC(e){return e[e.length-1]}function y8(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=zC(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>Os(t)));)n--;if(!s)return{x:0,y:0};const i=Ls(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function b8(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ut(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ut(n,e,s.max):Math.min(e,n)),e}function Hw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function v8(e,{top:t,left:n,bottom:s,right:r}){return{x:Hw(e.x,n,r),y:Hw(e.y,t,s)}}function Ww(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function w8(e,t){return{x:Ww(e.x,t.x),y:Ww(e.y,t.y)}}function S8(e,t){let n=.5;const s=ln(e),r=ln(t);return r>s?n=Cc(t.min,t.max-s,e.min):s>r&&(n=Cc(e.min,e.max-r,t.min)),gr(0,1,n)}function _8(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Cg=.35;function j8(e=Cg){return e===!1?e=0:e===!0&&(e=Cg),{x:qw(e,"left","right"),y:qw(e,"top","bottom")}}function qw(e,t,n){return{min:Yw(e,t),max:Yw(e,n)}}function Yw(e,t){return typeof e=="number"?e:e[t]||0}const C8=new WeakMap;class N8{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xc(m).point)},a=(m,x)=>{const{drag:y,dragPropagation:v,onDragStart:w}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zI(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(j=>{let N=this.getAxisMotionValue(j).get()||0;if(Is.test(N)){const{projection:T}=this.visualElement;if(T&&T.layout){const A=T.layout.layoutBox[j];A&&(N=ln(A)*(parseFloat(N)/100))}}this.originPoint[j]=N}),w&&it.postRender(()=>w(m,x)),wg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(m,x)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:w,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:j}=x;if(v&&this.currentDirection===null){this.currentDirection=k8(j),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),S&&S(m,x)},d=(m,x)=>this.stop(m,x),h=()=>Yn(m=>{var x;return this.getAnimationState(m)==="paused"&&((x=this.getAxisMotionValue(m).animation)==null?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new FC(t,{onSessionStart:i,onStart:a,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:IC(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&it.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!Ld(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(a=b8(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;t&&da(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=v8(s.layoutBox,t):this.constraints=!1,this.elastic=j8(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Yn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=_8(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!da(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=m8(s,r.root,this.visualElement.getTransformPagePoint());let a=w8(r.layout.layoutBox,i);if(n){const c=n(o8(a));this.hasMutatedConstraints=!!c,c&&(a=MC(c))}return a}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Yn(p=>{if(!Ld(p,n,this.currentDirection))return;let m=d&&d[p]||{};a&&(m={min:0,max:0});const x=r?200:1e6,y=r?40:1e7,v={type:"inertia",velocity:s?t[p]:0,bounceStiffness:x,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(p,v)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return wg(this.visualElement,t),s.start(rx(t,s,0,n,this.visualElement,!1))}stopAnimation(){Yn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Yn(n=>{const{drag:s}=this.getProps();if(!Ld(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:c}=r.layout.layoutBox[n];i.set(t[n]-ut(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!da(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Yn(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const d=c.get();r[a]=S8({min:d,max:d},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Yn(a=>{if(!Ld(a,t,null))return;const c=this.getAxisMotionValue(a),{min:d,max:h}=this.constraints[a];c.set(ut(d,h,r[a]))})}addListeners(){if(!this.visualElement.current)return;C8.set(this.visualElement,this);const t=this.visualElement.current,n=uc(t,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();da(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),it.read(s);const a=Mc(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Yn(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=d[p].translate,m.set(m.get()+d[p].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Cg,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:c}}}function Ld(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function k8(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class T8 extends vi{constructor(t){super(t),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new N8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kw=e=>(t,n)=>{e&&it.postRender(()=>e(t,n))};class E8 extends vi{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(t){this.session=new FC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Kw(t),onStart:Kw(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&it.postRender(()=>r(i,a))}}}mount(){this.removePointerDownListener=uc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const eh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Xw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ee.test(e))e=parseFloat(e);else return e;const n=Xw(e,t.target.x),s=Xw(e,t.target.y);return`${n}% ${s}%`}},P8={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=xi.parse(e);if(r.length>5)return s;const i=xi.createTransformer(e),a=typeof r[0]!="number"?1:0,c=n.x.scale*t.x,d=n.y.scale*t.y;r[0+a]/=c,r[1+a]/=d;const h=ut(c,d,.5);return typeof r[2+a]=="number"&&(r[2+a]/=h),typeof r[3+a]=="number"&&(r[3+a]/=h),i(r)}};let Qw=!1;class M8 extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=t;mF(A8),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),Qw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),eh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:a}=s;return a&&(a.isPresent=i,Qw=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||it.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Y0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function BC(e){const[t,n]=fC(),s=C.useContext(j0);return u.jsx(M8,{...e,layoutGroup:s,switchLayoutGroup:C.useContext(yC),isPresent:t,safeToRemove:n})}const A8={borderRadius:{...Wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wl,borderTopRightRadius:Wl,borderBottomLeftRadius:Wl,borderBottomRightRadius:Wl,boxShadow:P8};function R8(e,t,n){const s=Zt(e)?e:Ra(e);return s.start(rx("",s,t,n)),s.animation}const D8=(e,t)=>e.depth-t.depth;class O8{constructor(){this.children=[],this.isDirty=!1}add(t){k0(this.children,t),this.isDirty=!0}remove(t){T0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(D8),this.isDirty=!1,this.children.forEach(t)}}function L8(e,t){const n=jn.now(),s=({timestamp:r})=>{const i=r-n;i>=t&&(gi(s),e(i-t))};return it.setup(s,!0),()=>gi(s)}const VC=["TopLeft","TopRight","BottomLeft","BottomRight"],I8=VC.length,Gw=e=>typeof e=="string"?parseFloat(e):e,Zw=e=>typeof e=="number"||Ee.test(e);function F8(e,t,n,s,r,i){r?(e.opacity=ut(0,n.opacity??1,z8(s)),e.opacityExit=ut(t.opacity??1,0,B8(s))):i&&(e.opacity=ut(t.opacity??1,n.opacity??1,s));for(let a=0;a<I8;a++){const c=`border${VC[a]}Radius`;let d=Jw(t,c),h=Jw(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||Zw(d)===Zw(h)?(e[c]=Math.max(ut(Gw(d),Gw(h),s),0),(Is.test(h)||Is.test(d))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=ut(t.rotate||0,n.rotate||0,s))}function Jw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const z8=$C(0,.5,Dj),B8=$C(.5,.95,Gn);function $C(e,t,n){return s=>s<e?0:s>t?1:n(Cc(e,t,s))}function e2(e,t){e.min=t.min,e.max=t.max}function qn(e,t){e2(e.x,t.x),e2(e.y,t.y)}function t2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function n2(e,t,n,s,r){return e-=t,e=wh(e,1/n,s),r!==void 0&&(e=wh(e,1/r,s)),e}function V8(e,t=0,n=1,s=.5,r,i=e,a=e){if(Is.test(t)&&(t=parseFloat(t),t=ut(a.min,a.max,t/100)-a.min),typeof t!="number")return;let c=ut(i.min,i.max,s);e===i&&(c-=t),e.min=n2(e.min,t,n,c,r),e.max=n2(e.max,t,n,c,r)}function s2(e,t,[n,s,r],i,a){V8(e,t[n],t[s],t[r],t.scale,i,a)}const $8=["x","scaleX","originX"],U8=["y","scaleY","originY"];function r2(e,t,n,s){s2(e.x,t,$8,n?n.x:void 0,s?s.x:void 0),s2(e.y,t,U8,n?n.y:void 0,s?s.y:void 0)}function i2(e){return e.translate===0&&e.scale===1}function UC(e){return i2(e.x)&&i2(e.y)}function o2(e,t){return e.min===t.min&&e.max===t.max}function H8(e,t){return o2(e.x,t.x)&&o2(e.y,t.y)}function a2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function HC(e,t){return a2(e.x,t.x)&&a2(e.y,t.y)}function l2(e){return ln(e.x)/ln(e.y)}function c2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class W8{constructor(){this.members=[]}add(t){k0(this.members,t),t.scheduleRender()}remove(t){if(T0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function q8(e,t,n){let s="";const r=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((r||i||a)&&(s=`translate3d(${r}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:m,rotateY:x,skewX:y,skewY:v}=n;h&&(s=`perspective(${h}px) ${s}`),p&&(s+=`rotate(${p}deg) `),m&&(s+=`rotateX(${m}deg) `),x&&(s+=`rotateY(${x}deg) `),y&&(s+=`skewX(${y}deg) `),v&&(s+=`skewY(${v}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(s+=`scale(${c}, ${d})`),s||"none"}const _m=["","X","Y","Z"],Y8=1e3;let K8=0;function jm(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function WC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=kC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",it,!(r||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&WC(s)}function qC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},c=t==null?void 0:t()){this.id=K8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(G8),this.nodes.forEach(tz),this.nodes.forEach(nz),this.nodes.forEach(Z8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new O8)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new M0),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const d=this.eventHandlers.get(a);d&&d.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=hC(a)&&!WI(a),this.instance=a;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let p,m=0;const x=()=>this.root.updateBlockedByResize=!1;it.read(()=>{m=window.innerWidth}),e(a,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,p&&p(),p=L8(x,250),eh.hasAnimatedSinceResize&&(eh.hasAnimatedSinceResize=!1,this.nodes.forEach(h2)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:x,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||az,{onLayoutAnimationStart:w,onLayoutAnimationComplete:S}=h.getProps(),j=!this.targetLayout||!HC(this.targetLayout,y),N=!m&&x;if(this.options.layoutRoot||this.resumeFrom||N||m&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...W0(v,"layout"),onPlay:w,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(p,N)}else m||h2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sz),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(u2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(d2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ez),this.nodes.forEach(X8),this.nodes.forEach(Q8)):this.nodes.forEach(d2),this.clearAllSnapshots();const c=jn.now();zt.delta=gr(0,1e3/60,c-zt.timestamp),zt.timestamp=c,zt.isProcessing=!0,pm.update.process(zt),pm.preRender.process(zt),pm.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Y0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(J8),this.sharedNodes.forEach(rz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!UC(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;a&&this.instance&&(c||Yi(this.latestValues)||p)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),lz(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:a}=this.options;if(!a)return _t();const c=a.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(cz))){const{scroll:p}=this.root;p&&(fa(c.x,p.offset.x),fa(c.y,p.offset.y))}return c}removeElementScroll(a){var d;const c=_t();if(qn(c,a),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:x}=p;p!==this.root&&m&&x.layoutScroll&&(m.wasRoot&&qn(c,a),fa(c.x,m.offset.x),fa(c.y,m.offset.y))}return c}applyTransform(a,c=!1){const d=_t();qn(d,a);for(let h=0;h<this.path.length;h++){const p=this.path[h];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&pa(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Yi(p.latestValues)&&pa(d,p.latestValues)}return Yi(this.latestValues)&&pa(d,this.latestValues),d}removeTransform(a){const c=_t();qn(c,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Yi(h.latestValues))continue;_g(h.latestValues)&&h.updateSnapshot();const p=_t(),m=h.measurePageBox();qn(p,m),r2(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Yi(this.latestValues)&&r2(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var x;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),hc(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),f8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),OC(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),hc(this.relativeTargetOrigin,this.target,y.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_g(this.parent.latestValues)||DC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;qn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;p8(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=_t());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(t2(this.prevProjectionDelta.x,this.projectionDelta.x),t2(this.prevProjectionDelta.y,this.projectionDelta.y)),dc(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!c2(this.projectionDelta.x,this.prevProjectionDelta.x)||!c2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),a){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ha(),this.projectionDelta=ha(),this.projectionDeltaWithTransform=ha()}setAnimationOrigin(a,c=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},m=ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=_t(),y=d?d.source:void 0,v=this.layout?this.layout.source:void 0,w=y!==v,S=this.getStack(),j=!S||S.members.length<=1,N=!!(w&&!j&&this.options.crossfade===!0&&!this.path.some(oz));this.animationProgress=0;let T;this.mixTargetDelta=A=>{const P=A/1e3;f2(m.x,a.x,P),f2(m.y,a.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hc(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iz(this.relativeTarget,this.relativeTargetOrigin,x,P),T&&H8(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=_t()),qn(T,this.relativeTarget)),w&&(this.animationValues=p,F8(p,h,this.latestValues,P,N,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(gi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{eh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ra(0)),this.currentAnimation=R8(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),a.onUpdate&&a.onUpdate(p)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:p}=a;if(!(!c||!d||!h)){if(this!==a&&this.layout&&h&&YC(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||_t();const m=ln(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+m;const x=ln(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+x}qn(c,d),pa(c,p),dc(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new W8),this.sharedNodes.get(a).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var c;const{layoutId:a}=this.options;return a?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:a}=this.options;return a?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&jm("z",a,h,this.animationValues);for(let p=0;p<_m.length;p++)jm(`rotate${_m[p]}`,a,h,this.animationValues),jm(`skew${_m[p]}`,a,h,this.animationValues);a.render();for(const p in h)a.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Jd(c==null?void 0:c.pointerEvents)||"",a.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Jd(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Yi(this.latestValues)&&(a.transform=d?d({},""):"none",this.hasProjected=!1);return}a.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=q8(this.projectionDeltaWithTransform,this.treeScale,p);d&&(m=d(p,m)),a.transform=m;const{x,y}=this.projectionDelta;a.transformOrigin=`${x.origin*100}% ${y.origin*100}% 0`,h.animationValues?a.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:a.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in Ec){if(p[v]===void 0)continue;const{correct:w,applyTo:S,isCSSVariable:j}=Ec[v],N=m==="none"?p[v]:w(p[v],h);if(S){const T=S.length;for(let A=0;A<T;A++)a[S[A]]=N}else j?this.options.visualElement.renderState.vars[v]=N:a[v]=N}this.options.layoutId&&(a.pointerEvents=h===this?Jd(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(u2),this.root.sharedNodes.clear()}}}function X8(e){e.updateLayout()}function Q8(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?Yn(m=>{const x=a?t.measuredBox[m]:t.layoutBox[m],y=ln(x);x.min=s[m].min,x.max=x.min+y}):YC(i,t.layoutBox,s)&&Yn(m=>{const x=a?t.measuredBox[m]:t.layoutBox[m],y=ln(s[m]);x.max=x.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+y)});const c=ha();dc(c,s,t.layoutBox);const d=ha();a?dc(d,e.applyTransform(r,!0),t.measuredBox):dc(d,s,t.layoutBox);const h=!UC(c);let p=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:y}=m;if(x&&y){const v=_t();hc(v,t.layoutBox,x.layoutBox);const w=_t();hc(w,s,y.layoutBox),HC(v,w)||(p=!0),m.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function G8(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Z8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function J8(e){e.clearSnapshot()}function u2(e){e.clearMeasurements()}function d2(e){e.isLayoutDirty=!1}function ez(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function h2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tz(e){e.resolveTargetDelta()}function nz(e){e.calcProjection()}function sz(e){e.resetSkewAndRotation()}function rz(e){e.removeLeadSnapshot()}function f2(e,t,n){e.translate=ut(t.translate,0,n),e.scale=ut(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function p2(e,t,n,s){e.min=ut(t.min,n.min,s),e.max=ut(t.max,n.max,s)}function iz(e,t,n,s){p2(e.x,t.x,n.x,s),p2(e.y,t.y,n.y,s)}function oz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const az={duration:.45,ease:[.4,0,.1,1]},m2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),g2=m2("applewebkit/")&&!m2("chrome/")?Math.round:Gn;function x2(e){e.min=g2(e.min),e.max=g2(e.max)}function lz(e){x2(e.x),x2(e.y)}function YC(e,t,n){return e==="position"||e==="preserve-aspect"&&!h8(l2(t),l2(n),.2)}function cz(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const uz=qC({attachResizeListener:(e,t)=>Mc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cm={current:void 0},KC=qC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cm.current){const e=new uz({});e.mount(window),e.setOptions({layoutScroll:!0}),Cm.current=e}return Cm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dz={pan:{Feature:E8},drag:{Feature:T8,ProjectionNode:KC,MeasureLayout:BC}};function y2(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&it.postRender(()=>i(t,Xc(t)))}class hz extends vi{mount(){const{current:t}=this.node;t&&(this.unmount=BI(t,(n,s)=>(y2(this.node,s,"Start"),r=>y2(this.node,r,"End"))))}unmount(){}}class fz extends vi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qc(Mc(this.node.current,"focus",()=>this.onFocus()),Mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function b2(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&it.postRender(()=>i(t,Xc(t)))}class pz extends vi{mount(){const{current:t}=this.node;t&&(this.unmount=HI(t,(n,s)=>(b2(this.node,s,"Start"),(r,{success:i})=>b2(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ng=new WeakMap,Nm=new WeakMap,mz=e=>{const t=Ng.get(e.target);t&&t(e)},gz=e=>{e.forEach(mz)};function xz({root:e,...t}){const n=e||document;Nm.has(n)||Nm.set(n,{});const s=Nm.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(gz,{root:e,...t})),s[r]}function yz(e,t,n){const s=xz(t);return Ng.set(e,n),s.observe(e),()=>{Ng.delete(e),s.unobserve(e)}}const bz={some:0,all:1};class vz extends vi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:bz[r]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),x=h?p:m;x&&x(d)};return yz(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(wz(t,n))&&this.startObserver()}unmount(){}}function wz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Sz={inView:{Feature:vz},tap:{Feature:pz},focus:{Feature:fz},hover:{Feature:hz}},_z={layout:{ProjectionNode:KC,MeasureLayout:BC}},kg={current:null},XC={current:!1};function jz(){if(XC.current=!0,!!N0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kg.current=e.matches;e.addEventListener("change",t),t()}else kg.current=!1}const Cz=new WeakMap;function Nz(e,t,n){for(const s in t){const r=t[s],i=n[s];if(Zt(r))e.addValue(s,r);else if(Zt(i))e.addValue(s,Ra(r,{owner:e}));else if(i!==r)if(e.hasValue(s)){const a=e.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=e.getStaticValue(s);e.addValue(s,Ra(a!==void 0?a:r,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const v2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kz{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=U0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=jn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,it.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Wh(n),this.isVariantNode=gC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in m){const y=m[x];d[x]!==void 0&&Zt(y)&&y.set(d[x],!1)}}mount(t){this.current=t,Cz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),XC.current||jz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gi(this.notifyUpdate),gi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Ha.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&it.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Da){const n=Da[t];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<v2.length;s++){const r=v2[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,a=t[i];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=Nz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ra(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(jj(s)||Nj(s))?s=parseFloat(s):!YI(s)&&xi.test(n)&&(s=aC(t,n)),this.setBaseTarget(t,Zt(s)?s.get():s)),Zt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=nx(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(s=a[t])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Zt(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new M0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class QC extends kz{constructor(){super(...arguments),this.KeyframeResolver=OI}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Zt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GC(e,{style:t,vars:n},s,r){const i=e.style;let a;for(a in t)i[a]=t[a];r==null||r.applyProjectionStyles(i,s);for(a in n)i.setProperty(a,n[a])}function Tz(e){return window.getComputedStyle(e)}class Ez extends QC{constructor(){super(...arguments),this.type="html",this.renderInstance=GC}readValueFromInstance(t,n){var s;if(Ha.has(n))return(s=this.projection)!=null&&s.isProjecting?pg(n):eI(t,n);{const r=Tz(t),i=(D0(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return LC(t,n)}build(t,n,s){J0(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return sx(t,n,s)}}const ZC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Pz(e,t,n,s){GC(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(ZC.has(r)?r:Z0(r),t.attrs[r])}class Mz extends QC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_t}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ha.has(n)){const s=oC(n);return s&&s.default||0}return n=ZC.has(n)?n:Z0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return NC(t,n,s)}build(t,n,s){SC(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,r){Pz(t,n,s,r)}mount(t){this.isSVGTag=jC(t.tagName),super.mount(t)}}const Az=(e,t)=>tx(e)?new Mz(t):new Ez(t,{allowProjection:e!==C.Fragment}),Rz=AF({...r8,...Sz,...dz,..._z},Az),fc=sF(Rz);function Dz({activeTab:e,setActiveTab:t}){const n=[{id:"all",label:"All Complaints"},{id:"assigned",label:"My Assigned Complaints"},{id:"responses",label:"My Responses"}];return u.jsx("nav",{className:"flex items-center justify-start w-full mb-7","aria-label":"Complaint tabs",children:u.jsx("ul",{className:"flex gap-1.5 bg-[#22283b]/80 p-1 rounded-full shadow-md border border-blue-900/50 backdrop-blur-[2px] relative",children:n.map(s=>{const r=e===s.id;return u.jsx("li",{className:"relative",children:u.jsxs("button",{type:"button",onClick:()=>t(s.id),className:`
                  relative px-4 py-1.5 rounded-full font-semibold text-[15px]
                  transition-all duration-300 ease-[cubic-bezier(.4,0,.2,1)]
                  focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/80
                  ${r?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-[0_1px_10px_0_rgba(0,175,255,0.20)]":"text-blue-100/80 hover:text-white hover:bg-blue-900/30 hover:shadow-[0_2px_6px_0_rgba(40,80,220,0.10)]"}
                `,"aria-current":r?"page":void 0,children:[s.label,r&&u.jsx(fc.span,{layoutId:"underline",className:`\r
                      absolute left-1/2 -bottom-1 -translate-x-1/2\r
                      h-0.5 w-4/5 rounded-full\r
                      bg-gradient-to-r from-cyan-400/80 via-blue-400 to-blue-600/70\r
                      shadow-[0_1px_8px_0_rgba(40,175,255,0.14)]\r
                    `,transition:{type:"spring",stiffness:500,damping:30}})]})},s.id)})})})}var Wa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bo=typeof window>"u"||"Deno"in globalThis;function an(){}function Oz(e,t){return typeof e=="function"?e(t):e}function Tg(e){return typeof e=="number"&&e>=0&&e!==1/0}function JC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function fi(e,t){return typeof e=="function"?e(t):e}function cs(e,t){return typeof e=="function"?e(t):e}function w2(e,t){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:a,stale:c}=e;if(a){if(s){if(t.queryHash!==ix(a,t.options))return!1}else if(!Ac(t.queryKey,a))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||r&&r!==t.state.fetchStatus||i&&!i(t))}function S2(e,t){const{exact:n,status:s,predicate:r,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(vo(t.options.mutationKey)!==vo(i))return!1}else if(!Ac(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||r&&!r(t))}function ix(e,t){return((t==null?void 0:t.queryKeyHashFn)||vo)(e)}function vo(e){return JSON.stringify(e,(t,n)=>Eg(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function Ac(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ac(e[n],t[n])):!1}function eN(e,t){if(e===t)return e;const n=_2(e)&&_2(t);if(n||Eg(e)&&Eg(t)){const s=n?e:Object.keys(e),r=s.length,i=n?t:Object.keys(t),a=i.length,c=n?[]:{},d=new Set(s);let h=0;for(let p=0;p<a;p++){const m=n?p:i[p];(!n&&d.has(m)||n)&&e[m]===void 0&&t[m]===void 0?(c[m]=void 0,h++):(c[m]=eN(e[m],t[m]),c[m]===e[m]&&e[m]!==void 0&&h++)}return r===a&&h===r?e:c}return t}function Sh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function _2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Eg(e){if(!j2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!j2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function j2(e){return Object.prototype.toString.call(e)==="[object Object]"}function Lz(e){return new Promise(t=>{setTimeout(t,e)})}function Pg(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?eN(e,t):t}function Iz(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function Fz(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var ox=Symbol();function tN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ox?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function nN(e,t){return typeof e=="function"?e(...t):!!e}var Zi,Jr,ya,H2,zz=(H2=class extends Wa{constructor(){super();_e(this,Zi);_e(this,Jr);_e(this,ya);me(this,ya,t=>{if(!bo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,Jr)||this.setEventListener(F(this,ya))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,Jr))==null||t.call(this),me(this,Jr,void 0))}setEventListener(t){var n;me(this,ya,t),(n=F(this,Jr))==null||n.call(this),me(this,Jr,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){F(this,Zi)!==t&&(me(this,Zi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof F(this,Zi)=="boolean"?F(this,Zi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Zi=new WeakMap,Jr=new WeakMap,ya=new WeakMap,H2),ax=new zz,ba,ei,va,W2,Bz=(W2=class extends Wa{constructor(){super();_e(this,ba,!0);_e(this,ei);_e(this,va);me(this,va,t=>{if(!bo&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){F(this,ei)||this.setEventListener(F(this,va))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,ei))==null||t.call(this),me(this,ei,void 0))}setEventListener(t){var n;me(this,va,t),(n=F(this,ei))==null||n.call(this),me(this,ei,t(this.setOnline.bind(this)))}setOnline(t){F(this,ba)!==t&&(me(this,ba,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return F(this,ba)}},ba=new WeakMap,ei=new WeakMap,va=new WeakMap,W2),_h=new Bz;function Mg(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),e(r)},n.reject=r=>{s({status:"rejected",reason:r}),t(r)},n}function Vz(e){return Math.min(1e3*2**e,3e4)}function sN(e){return(e??"online")==="online"?_h.isOnline():!0}var rN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function km(e){return e instanceof rN}function iN(e){let t=!1,n=0,s=!1,r;const i=Mg(),a=w=>{var S;s||(x(new rN(w)),(S=e.abort)==null||S.call(e))},c=()=>{t=!0},d=()=>{t=!1},h=()=>ax.isFocused()&&(e.networkMode==="always"||_h.isOnline())&&e.canRun(),p=()=>sN(e.networkMode)&&e.canRun(),m=w=>{var S;s||(s=!0,(S=e.onSuccess)==null||S.call(e,w),r==null||r(),i.resolve(w))},x=w=>{var S;s||(s=!0,(S=e.onError)==null||S.call(e,w),r==null||r(),i.reject(w))},y=()=>new Promise(w=>{var S;r=j=>{(s||h())&&w(j)},(S=e.onPause)==null||S.call(e)}).then(()=>{var w;r=void 0,s||(w=e.onContinue)==null||w.call(e)}),v=()=>{if(s)return;let w;const S=n===0?e.initialPromise:void 0;try{w=S??e.fn()}catch(j){w=Promise.reject(j)}Promise.resolve(w).then(m).catch(j=>{var R;if(s)return;const N=e.retry??(bo?0:3),T=e.retryDelay??Vz,A=typeof T=="function"?T(n,j):T,P=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,j);if(t||!P){x(j);return}n++,(R=e.onFail)==null||R.call(e,n,j),Lz(A).then(()=>h()?void 0:y()).then(()=>{t?x(j):v()})})};return{promise:i,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:c,continueRetry:d,canStart:p,start:()=>(p()?v():y().then(v),i)}}var $z=e=>setTimeout(e,0);function Uz(){let e=[],t=0,n=c=>{c()},s=c=>{c()},r=$z;const i=c=>{t?e.push(c):r(()=>{n(c)})},a=()=>{const c=e;e=[],c.length&&r(()=>{s(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||a()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{r=c}}}var At=Uz(),Ji,q2,oN=(q2=class{constructor(){_e(this,Ji)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Tg(this.gcTime)&&me(this,Ji,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bo?1/0:5*60*1e3))}clearGcTimeout(){F(this,Ji)&&(clearTimeout(F(this,Ji)),me(this,Ji,void 0))}},Ji=new WeakMap,q2),wa,eo,Kn,to,Yt,Rc,no,as,rr,Y2,Hz=(Y2=class extends oN{constructor(t){super();_e(this,as);_e(this,wa);_e(this,eo);_e(this,Kn);_e(this,to);_e(this,Yt);_e(this,Rc);_e(this,no);me(this,no,!1),me(this,Rc,t.defaultOptions),this.setOptions(t.options),this.observers=[],me(this,to,t.client),me(this,Kn,F(this,to).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,me(this,wa,Wz(this.options)),this.state=t.state??F(this,wa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,Yt))==null?void 0:t.promise}setOptions(t){this.options={...F(this,Rc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Kn).remove(this)}setData(t,n){const s=Pg(this.state.data,t,this.options);return ze(this,as,rr).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){ze(this,as,rr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,r;const n=(s=F(this,Yt))==null?void 0:s.promise;return(r=F(this,Yt))==null||r.cancel(t),n?n.then(an).catch(an):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,wa))}isActive(){return this.observers.some(t=>cs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ox||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>fi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!JC(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=F(this,Yt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=F(this,Yt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,Kn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(F(this,Yt)&&(F(this,no)?F(this,Yt).cancel({revert:!0}):F(this,Yt).cancelRetry()),this.scheduleGc()),F(this,Kn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ze(this,as,rr).call(this,{type:"invalidate"})}fetch(t,n){var h,p,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(F(this,Yt))return F(this,Yt).continueRetry(),F(this,Yt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(y=>y.options.queryFn);x&&this.setOptions(x.options)}const s=new AbortController,r=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(me(this,no,!0),s.signal)})},i=()=>{const x=tN(this.options,n),v=(()=>{const w={client:F(this,to),queryKey:this.queryKey,meta:this.meta};return r(w),w})();return me(this,no,!1),this.options.persister?this.options.persister(x,v,this):x(v)},c=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:F(this,to),state:this.state,fetchFn:i};return r(x),x})();(h=this.options.behavior)==null||h.onFetch(c,this),me(this,eo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&ze(this,as,rr).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const d=x=>{var y,v,w,S;km(x)&&x.silent||ze(this,as,rr).call(this,{type:"error",error:x}),km(x)||((v=(y=F(this,Kn).config).onError)==null||v.call(y,x,this),(S=(w=F(this,Kn).config).onSettled)==null||S.call(w,this.state.data,x,this)),this.scheduleGc()};return me(this,Yt,iN({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:x=>{var y,v,w,S;if(x===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(j){d(j);return}(v=(y=F(this,Kn).config).onSuccess)==null||v.call(y,x,this),(S=(w=F(this,Kn).config).onSettled)==null||S.call(w,x,this.state.error,this),this.scheduleGc()},onError:d,onFail:(x,y)=>{ze(this,as,rr).call(this,{type:"failed",failureCount:x,error:y})},onPause:()=>{ze(this,as,rr).call(this,{type:"pause"})},onContinue:()=>{ze(this,as,rr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),F(this,Yt).start()}},wa=new WeakMap,eo=new WeakMap,Kn=new WeakMap,to=new WeakMap,Yt=new WeakMap,Rc=new WeakMap,no=new WeakMap,as=new WeakSet,rr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...aN(s.data,this.options),fetchMeta:t.meta??null};case"success":return me(this,eo,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return km(r)&&r.revert&&F(this,eo)?{...F(this,eo),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),At.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,Kn).notify({query:this,type:"updated",action:t})})},Y2);function aN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Wz(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Es,K2,qz=(K2=class extends Wa{constructor(t={}){super();_e(this,Es);this.config=t,me(this,Es,new Map)}build(t,n,s){const r=n.queryKey,i=n.queryHash??ix(r,n);let a=this.get(i);return a||(a=new Hz({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){F(this,Es).has(t.queryHash)||(F(this,Es).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=F(this,Es).get(t.queryHash);n&&(t.destroy(),n===t&&F(this,Es).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){At.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,Es).get(t)}getAll(){return[...F(this,Es).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>w2(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>w2(t,s)):n}notify(t){At.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){At.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Es=new WeakMap,K2),Ps,rn,so,Ms,Gr,X2,Yz=(X2=class extends oN{constructor(t){super();_e(this,Ms);_e(this,Ps);_e(this,rn);_e(this,so);this.mutationId=t.mutationId,me(this,rn,t.mutationCache),me(this,Ps,[]),this.state=t.state||lN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,Ps).includes(t)||(F(this,Ps).push(t),this.clearGcTimeout(),F(this,rn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){me(this,Ps,F(this,Ps).filter(n=>n!==t)),this.scheduleGc(),F(this,rn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,Ps).length||(this.state.status==="pending"?this.scheduleGc():F(this,rn).remove(this))}continue(){var t;return((t=F(this,so))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,c,d,h,p,m,x,y,v,w,S,j,N,T,A,P,R,V,I;const n=()=>{ze(this,Ms,Gr).call(this,{type:"continue"})};me(this,so,iN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,U)=>{ze(this,Ms,Gr).call(this,{type:"failed",failureCount:z,error:U})},onPause:()=>{ze(this,Ms,Gr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,rn).canRun(this)}));const s=this.state.status==="pending",r=!F(this,so).canStart();try{if(s)n();else{ze(this,Ms,Gr).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(i=F(this,rn).config).onMutate)==null?void 0:a.call(i,t,this));const U=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t));U!==this.state.context&&ze(this,Ms,Gr).call(this,{type:"pending",context:U,variables:t,isPaused:r})}const z=await F(this,so).start();return await((p=(h=F(this,rn).config).onSuccess)==null?void 0:p.call(h,z,t,this.state.context,this)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,z,t,this.state.context)),await((v=(y=F(this,rn).config).onSettled)==null?void 0:v.call(y,z,null,this.state.variables,this.state.context,this)),await((S=(w=this.options).onSettled)==null?void 0:S.call(w,z,null,t,this.state.context)),ze(this,Ms,Gr).call(this,{type:"success",data:z}),z}catch(z){try{throw await((N=(j=F(this,rn).config).onError)==null?void 0:N.call(j,z,t,this.state.context,this)),await((A=(T=this.options).onError)==null?void 0:A.call(T,z,t,this.state.context)),await((R=(P=F(this,rn).config).onSettled)==null?void 0:R.call(P,void 0,z,this.state.variables,this.state.context,this)),await((I=(V=this.options).onSettled)==null?void 0:I.call(V,void 0,z,t,this.state.context)),z}finally{ze(this,Ms,Gr).call(this,{type:"error",error:z})}}finally{F(this,rn).runNext(this)}}},Ps=new WeakMap,rn=new WeakMap,so=new WeakMap,Ms=new WeakSet,Gr=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),At.batch(()=>{F(this,Ps).forEach(s=>{s.onMutationUpdate(t)}),F(this,rn).notify({mutation:this,type:"updated",action:t})})},X2);function lN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var or,ls,Dc,Q2,Kz=(Q2=class extends Wa{constructor(t={}){super();_e(this,or);_e(this,ls);_e(this,Dc);this.config=t,me(this,or,new Set),me(this,ls,new Map),me(this,Dc,0)}build(t,n,s){const r=new Yz({mutationCache:this,mutationId:++cd(this,Dc)._,options:t.defaultMutationOptions(n),state:s});return this.add(r),r}add(t){F(this,or).add(t);const n=Id(t);if(typeof n=="string"){const s=F(this,ls).get(n);s?s.push(t):F(this,ls).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,or).delete(t)){const n=Id(t);if(typeof n=="string"){const s=F(this,ls).get(n);if(s)if(s.length>1){const r=s.indexOf(t);r!==-1&&s.splice(r,1)}else s[0]===t&&F(this,ls).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Id(t);if(typeof n=="string"){const s=F(this,ls).get(n),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){var s;const n=Id(t);if(typeof n=="string"){const r=(s=F(this,ls).get(n))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){At.batch(()=>{F(this,or).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,or).clear(),F(this,ls).clear()})}getAll(){return Array.from(F(this,or))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>S2(n,s))}findAll(t={}){return this.getAll().filter(n=>S2(t,n))}notify(t){At.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return At.batch(()=>Promise.all(t.map(n=>n.continue().catch(an))))}},or=new WeakMap,ls=new WeakMap,Dc=new WeakMap,Q2);function Id(e){var t;return(t=e.options.scope)==null?void 0:t.id}function C2(e){return{onFetch:(t,n)=>{var p,m,x,y,v;const s=t.options,r=(x=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let w=!1;const S=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},j=tN(t.options,t.fetchOptions),N=async(T,A,P)=>{if(w)return Promise.reject();if(A==null&&T.pages.length)return Promise.resolve(T);const V=(()=>{const J={client:t.client,queryKey:t.queryKey,pageParam:A,direction:P?"backward":"forward",meta:t.options.meta};return S(J),J})(),I=await j(V),{maxPages:z}=t.options,U=P?Fz:Iz;return{pages:U(T.pages,I,z),pageParams:U(T.pageParams,A,z)}};if(r&&i.length){const T=r==="backward",A=T?Xz:N2,P={pages:i,pageParams:a},R=A(s,P);c=await N(P,R,T)}else{const T=e??i.length;do{const A=d===0?a[0]??s.initialPageParam:N2(s,c);if(d>0&&A==null)break;c=await N(c,A),d++}while(d<T)}return c};t.options.persister?t.fetchFn=()=>{var w,S;return(S=(w=t.options).persister)==null?void 0:S.call(w,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function N2(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Xz(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var pt,ti,ni,Sa,_a,si,ja,Ca,G2,Qz=(G2=class{constructor(e={}){_e(this,pt);_e(this,ti);_e(this,ni);_e(this,Sa);_e(this,_a);_e(this,si);_e(this,ja);_e(this,Ca);me(this,pt,e.queryCache||new qz),me(this,ti,e.mutationCache||new Kz),me(this,ni,e.defaultOptions||{}),me(this,Sa,new Map),me(this,_a,new Map),me(this,si,0)}mount(){cd(this,si)._++,F(this,si)===1&&(me(this,ja,ax.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,pt).onFocus())})),me(this,Ca,_h.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,pt).onOnline())})))}unmount(){var e,t;cd(this,si)._--,F(this,si)===0&&((e=F(this,ja))==null||e.call(this),me(this,ja,void 0),(t=F(this,Ca))==null||t.call(this),me(this,Ca,void 0))}isFetching(e){return F(this,pt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,ti).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=F(this,pt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=F(this,pt).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(fi(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return F(this,pt).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),r=F(this,pt).get(s.queryHash),i=r==null?void 0:r.state.data,a=Oz(t,i);if(a!==void 0)return F(this,pt).build(this,s).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return At.batch(()=>F(this,pt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=F(this,pt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=F(this,pt);At.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=F(this,pt);return At.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=At.batch(()=>F(this,pt).findAll(e).map(r=>r.cancel(n)));return Promise.all(s).then(an).catch(an)}invalidateQueries(e,t={}){return At.batch(()=>(F(this,pt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=At.batch(()=>F(this,pt).findAll(e).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(an)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(an)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=F(this,pt).build(this,t);return n.isStaleByTime(fi(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(an).catch(an)}fetchInfiniteQuery(e){return e.behavior=C2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(an).catch(an)}ensureInfiniteQueryData(e){return e.behavior=C2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _h.isOnline()?F(this,ti).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,pt)}getMutationCache(){return F(this,ti)}getDefaultOptions(){return F(this,ni)}setDefaultOptions(e){me(this,ni,e)}setQueryDefaults(e,t){F(this,Sa).set(vo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,Sa).values()],n={};return t.forEach(s=>{Ac(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){F(this,_a).set(vo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,_a).values()],n={};return t.forEach(s=>{Ac(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,ni).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ix(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ox&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,ni).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,pt).clear(),F(this,ti).clear()}},pt=new WeakMap,ti=new WeakMap,ni=new WeakMap,Sa=new WeakMap,_a=new WeakMap,si=new WeakMap,ja=new WeakMap,Ca=new WeakMap,G2),vn,He,Oc,on,ro,Na,ri,ii,Lc,ka,Ta,io,oo,oi,Ea,Xe,Jl,Ag,Rg,Dg,Og,Lg,Ig,Fg,cN,Z2,Gz=(Z2=class extends Wa{constructor(t,n){super();_e(this,Xe);_e(this,vn);_e(this,He);_e(this,Oc);_e(this,on);_e(this,ro);_e(this,Na);_e(this,ri);_e(this,ii);_e(this,Lc);_e(this,ka);_e(this,Ta);_e(this,io);_e(this,oo);_e(this,oi);_e(this,Ea,new Set);this.options=n,me(this,vn,t),me(this,ii,null),me(this,ri,Mg()),this.options.experimental_prefetchInRender||F(this,ri).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,He).addObserver(this),k2(F(this,He),this.options)?ze(this,Xe,Jl).call(this):this.updateResult(),ze(this,Xe,Og).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zg(F(this,He),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zg(F(this,He),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ze(this,Xe,Lg).call(this),ze(this,Xe,Ig).call(this),F(this,He).removeObserver(this)}setOptions(t){const n=this.options,s=F(this,He);if(this.options=F(this,vn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof cs(this.options.enabled,F(this,He))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ze(this,Xe,Fg).call(this),F(this,He).setOptions(this.options),n._defaulted&&!Sh(this.options,n)&&F(this,vn).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,He),observer:this});const r=this.hasListeners();r&&T2(F(this,He),s,this.options,n)&&ze(this,Xe,Jl).call(this),this.updateResult(),r&&(F(this,He)!==s||cs(this.options.enabled,F(this,He))!==cs(n.enabled,F(this,He))||fi(this.options.staleTime,F(this,He))!==fi(n.staleTime,F(this,He)))&&ze(this,Xe,Ag).call(this);const i=ze(this,Xe,Rg).call(this);r&&(F(this,He)!==s||cs(this.options.enabled,F(this,He))!==cs(n.enabled,F(this,He))||i!==F(this,oi))&&ze(this,Xe,Dg).call(this,i)}getOptimisticResult(t){const n=F(this,vn).getQueryCache().build(F(this,vn),t),s=this.createResult(n,t);return Jz(this,s)&&(me(this,on,s),me(this,Na,this.options),me(this,ro,F(this,He).state)),s}getCurrentResult(){return F(this,on)}trackResult(t,n){return new Proxy(t,{get:(s,r)=>(this.trackProp(r),n==null||n(r),Reflect.get(s,r))})}trackProp(t){F(this,Ea).add(t)}getCurrentQuery(){return F(this,He)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=F(this,vn).defaultQueryOptions(t),s=F(this,vn).getQueryCache().build(F(this,vn),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return ze(this,Xe,Jl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,on)))}createResult(t,n){var z;const s=F(this,He),r=this.options,i=F(this,on),a=F(this,ro),c=F(this,Na),h=t!==s?t.state:F(this,Oc),{state:p}=t;let m={...p},x=!1,y;if(n._optimisticResults){const U=this.hasListeners(),J=!U&&k2(t,n),se=U&&T2(t,s,n,r);(J||se)&&(m={...m,...aN(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:S}=m;y=m.data;let j=!1;if(n.placeholderData!==void 0&&y===void 0&&S==="pending"){let U;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(U=i.data,j=!0):U=typeof n.placeholderData=="function"?n.placeholderData((z=F(this,Ta))==null?void 0:z.state.data,F(this,Ta)):n.placeholderData,U!==void 0&&(S="success",y=Pg(i==null?void 0:i.data,U,n),x=!0)}if(n.select&&y!==void 0&&!j)if(i&&y===(a==null?void 0:a.data)&&n.select===F(this,Lc))y=F(this,ka);else try{me(this,Lc,n.select),y=n.select(y),y=Pg(i==null?void 0:i.data,y,n),me(this,ka,y),me(this,ii,null)}catch(U){me(this,ii,U)}F(this,ii)&&(v=F(this,ii),y=F(this,ka),w=Date.now(),S="error");const N=m.fetchStatus==="fetching",T=S==="pending",A=S==="error",P=T&&N,R=y!==void 0,I={status:S,fetchStatus:m.fetchStatus,isPending:T,isSuccess:S==="success",isError:A,isInitialLoading:P,isLoading:P,data:y,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:N,isRefetching:N&&!T,isLoadingError:A&&!R,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:A&&R,isStale:lx(t,n),refetch:this.refetch,promise:F(this,ri)};if(this.options.experimental_prefetchInRender){const U=de=>{I.status==="error"?de.reject(I.error):I.data!==void 0&&de.resolve(I.data)},J=()=>{const de=me(this,ri,I.promise=Mg());U(de)},se=F(this,ri);switch(se.status){case"pending":t.queryHash===s.queryHash&&U(se);break;case"fulfilled":(I.status==="error"||I.data!==se.value)&&J();break;case"rejected":(I.status!=="error"||I.error!==se.reason)&&J();break}}return I}updateResult(){const t=F(this,on),n=this.createResult(F(this,He),this.options);if(me(this,ro,F(this,He).state),me(this,Na,this.options),F(this,ro).data!==void 0&&me(this,Ta,F(this,He)),Sh(n,t))return;me(this,on,n);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!F(this,Ea).size)return!0;const a=new Set(i??F(this,Ea));return this.options.throwOnError&&a.add("error"),Object.keys(F(this,on)).some(c=>{const d=c;return F(this,on)[d]!==t[d]&&a.has(d)})};ze(this,Xe,cN).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ze(this,Xe,Og).call(this)}},vn=new WeakMap,He=new WeakMap,Oc=new WeakMap,on=new WeakMap,ro=new WeakMap,Na=new WeakMap,ri=new WeakMap,ii=new WeakMap,Lc=new WeakMap,ka=new WeakMap,Ta=new WeakMap,io=new WeakMap,oo=new WeakMap,oi=new WeakMap,Ea=new WeakMap,Xe=new WeakSet,Jl=function(t){ze(this,Xe,Fg).call(this);let n=F(this,He).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(an)),n},Ag=function(){ze(this,Xe,Lg).call(this);const t=fi(this.options.staleTime,F(this,He));if(bo||F(this,on).isStale||!Tg(t))return;const s=JC(F(this,on).dataUpdatedAt,t)+1;me(this,io,setTimeout(()=>{F(this,on).isStale||this.updateResult()},s))},Rg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,He)):this.options.refetchInterval)??!1},Dg=function(t){ze(this,Xe,Ig).call(this),me(this,oi,t),!(bo||cs(this.options.enabled,F(this,He))===!1||!Tg(F(this,oi))||F(this,oi)===0)&&me(this,oo,setInterval(()=>{(this.options.refetchIntervalInBackground||ax.isFocused())&&ze(this,Xe,Jl).call(this)},F(this,oi)))},Og=function(){ze(this,Xe,Ag).call(this),ze(this,Xe,Dg).call(this,ze(this,Xe,Rg).call(this))},Lg=function(){F(this,io)&&(clearTimeout(F(this,io)),me(this,io,void 0))},Ig=function(){F(this,oo)&&(clearInterval(F(this,oo)),me(this,oo,void 0))},Fg=function(){const t=F(this,vn).getQueryCache().build(F(this,vn),this.options);if(t===F(this,He))return;const n=F(this,He);me(this,He,t),me(this,Oc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},cN=function(t){At.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(F(this,on))}),F(this,vn).getQueryCache().notify({query:F(this,He),type:"observerResultsUpdated"})})},Z2);function Zz(e,t){return cs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function k2(e,t){return Zz(e,t)||e.state.data!==void 0&&zg(e,t,t.refetchOnMount)}function zg(e,t,n){if(cs(t.enabled,e)!==!1&&fi(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&lx(e,t)}return!1}function T2(e,t,n,s){return(e!==t||cs(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&lx(e,n)}function lx(e,t){return cs(t.enabled,e)!==!1&&e.isStaleByTime(fi(t.staleTime,e))}function Jz(e,t){return!Sh(e.getCurrentResult(),t)}var ai,li,wn,ar,pr,th,Bg,J2,eB=(J2=class extends Wa{constructor(n,s){super();_e(this,pr);_e(this,ai);_e(this,li);_e(this,wn);_e(this,ar);me(this,ai,n),this.setOptions(s),this.bindMethods(),ze(this,pr,th).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const s=this.options;this.options=F(this,ai).defaultMutationOptions(n),Sh(this.options,s)||F(this,ai).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,wn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&vo(s.mutationKey)!==vo(this.options.mutationKey)?this.reset():((r=F(this,wn))==null?void 0:r.state.status)==="pending"&&F(this,wn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=F(this,wn))==null||n.removeObserver(this)}onMutationUpdate(n){ze(this,pr,th).call(this),ze(this,pr,Bg).call(this,n)}getCurrentResult(){return F(this,li)}reset(){var n;(n=F(this,wn))==null||n.removeObserver(this),me(this,wn,void 0),ze(this,pr,th).call(this),ze(this,pr,Bg).call(this)}mutate(n,s){var r;return me(this,ar,s),(r=F(this,wn))==null||r.removeObserver(this),me(this,wn,F(this,ai).getMutationCache().build(F(this,ai),this.options)),F(this,wn).addObserver(this),F(this,wn).execute(n)}},ai=new WeakMap,li=new WeakMap,wn=new WeakMap,ar=new WeakMap,pr=new WeakSet,th=function(){var s;const n=((s=F(this,wn))==null?void 0:s.state)??lN();me(this,li,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Bg=function(n){At.batch(()=>{var s,r,i,a,c,d,h,p;if(F(this,ar)&&this.hasListeners()){const m=F(this,li).variables,x=F(this,li).context;(n==null?void 0:n.type)==="success"?((r=(s=F(this,ar)).onSuccess)==null||r.call(s,n.data,m,x),(a=(i=F(this,ar)).onSettled)==null||a.call(i,n.data,null,m,x)):(n==null?void 0:n.type)==="error"&&((d=(c=F(this,ar)).onError)==null||d.call(c,n.error,m,x),(p=(h=F(this,ar)).onSettled)==null||p.call(h,void 0,n.error,m,x))}this.listeners.forEach(m=>{m(F(this,li))})})},J2),uN=C.createContext(void 0),In=e=>{const t=C.useContext(uN);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tB=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(uN.Provider,{value:e,children:t})),dN=C.createContext(!1),nB=()=>C.useContext(dN);dN.Provider;function sB(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var rB=C.createContext(sB()),iB=()=>C.useContext(rB),oB=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},aB=e=>{C.useEffect(()=>{e.clearReset()},[e])},lB=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(r&&e.data===void 0||nN(n,[e.error,s])),cB=e=>{if(e.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>t(n(...s)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},uB=(e,t)=>e.isLoading&&e.isFetching&&!t,dB=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,E2=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function hB(e,t,n){var m,x,y,v,w;const s=nB(),r=iB(),i=In(),a=i.defaultQueryOptions(e);(x=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,a),a._optimisticResults=s?"isRestoring":"optimistic",cB(a),oB(a,r),aB(r);const c=!i.getQueryCache().get(a.queryHash),[d]=C.useState(()=>new t(i,a)),h=d.getOptimisticResult(a),p=!s&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(S=>{const j=p?d.subscribe(At.batchCalls(S)):an;return d.updateResult(),j},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),C.useEffect(()=>{d.setOptions(a)},[a,d]),dB(a,h))throw E2(a,d,r);if(lB({result:h,errorResetBoundary:r,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw h.error;if((v=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||v.call(y,a,h),a.experimental_prefetchInRender&&!bo&&uB(h,s)){const S=c?E2(a,d,r):(w=i.getQueryCache().get(a.queryHash))==null?void 0:w.promise;S==null||S.catch(an).finally(()=>{d.updateResult()})}return a.notifyOnChangeProps?h:d.trackResult(h)}function No(e,t){return hB(e,Gz)}function Bs(e,t){const n=In(),[s]=C.useState(()=>new eB(n,e));C.useEffect(()=>{s.setOptions(e)},[s,e]);const r=C.useSyncExternalStore(C.useCallback(a=>s.subscribe(At.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=C.useCallback((a,c)=>{s.mutate(a,c).catch(an)},[s]);if(r.error&&nN(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}function cx(e={},t=1e3){return No({queryKey:["complaints",e],queryFn:async()=>{const{data:n}=await ae.get("/admin/complaints",{params:e});return n},refetchInterval:t,staleTime:0,refetchOnWindowFocus:!0})}function fB(e,t=5e3){return No({queryKey:["complaint",e],queryFn:async()=>{const{data:n}=await ae.get(`/admin/complaints/${e}`);return n},enabled:!!e,refetchInterval:t,refetchOnWindowFocus:!0})}function pB(){const e=In();return Bs({mutationFn:async t=>{const{data:n}=await ae.patch(`/admin/complaints/${t}/assign`);return n},onSuccess:()=>{e.invalidateQueries(["complaints"])}})}function mB(){const e=In();return Bs({mutationFn:async t=>{const{data:n}=await ae.post("/admin/complaints",t);return n},onSuccess:()=>{e.invalidateQueries(["complaints"])}})}function gB(e){const t=In();return Bs({mutationFn:async n=>{await ae.post(`/admin/complaints/${e}/message`,{message:n})},onSuccess:()=>{t.invalidateQueries(["complaint",e])}})}function xB(e,t=5e3){return No({queryKey:["userComplaint",e],queryFn:async()=>{const{data:n}=await ae.get(`/complaints/${e}`);return n},enabled:!!e,refetchInterval:t,refetchOnWindowFocus:!0})}function yB(){const e=In();return Bs({mutationFn:async({id:t,status:n})=>{const{data:s}=await ae.patch(`/admin/complaints/${t}/status`,{status:n});return s},onSuccess:(t,n)=>{e.invalidateQueries(["complaints"]),e.invalidateQueries(["complaint",n.id])}})}function hN({statusTab:e,setStatusTab:t,counts:n,statusTabs:s=["Open","Under Review","Resolved","Closed"]}){return u.jsx("ul",{className:"flex gap-1.5 bg-[#202a40]/70 p-1 rounded-full shadow border border-blue-900/30 mb-4",children:s.map(r=>{const i=e===r;return u.jsx("li",{className:"relative",children:u.jsxs("button",{type:"button",onClick:()=>t(r),className:`relative px-4 py-1 rounded-full font-semibold text-[14px]
                transition-all
                ${i?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow":"text-blue-100/80 hover:text-white hover:bg-blue-900/30"}
              `,"aria-current":i?"page":void 0,children:[r,u.jsx("span",{className:"ml-2 font-mono text-xs px-2 py-0.5 rounded-full bg-slate-900 text-cyan-200",children:n[r]??0}),i&&u.jsx(fc.span,{layoutId:"complaint-status-underline",className:"absolute left-1/2 -bottom-1 -translate-x-1/2 h-0.5 w-4/5 rounded-full bg-gradient-to-r from-cyan-400/80 via-blue-400 to-blue-600/70 shadow-[0_1px_8px_0_rgba(40,175,255,0.14)]",transition:{type:"spring",stiffness:500,damping:30}})]})},r)})})}function bB({assignedTo:e,currentUserId:t}){return e?e._id===t?u.jsx("span",{className:"text-blue-300 font-semibold",children:"You"}):u.jsxs("span",{children:[e.firstName," ",e.lastName,e.email&&u.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["(",e.email,")"]})]}):u.jsx("span",{className:"text-gray-400",children:""})}function vB({open:e,onClose:t,complaint:n}){var r;const{user:s}=ps();return!e||!n?null:u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-slate-800 rounded-2xl p-7 max-w-lg w-full shadow-2xl text-white relative",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white text-2xl","aria-label":"Close",children:""}),u.jsx("h2",{className:"text-2xl font-bold mb-1",children:n.subject}),u.jsxs("div",{className:"text-xs text-gray-400 mb-4",children:["#",n._id.slice(-6)]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Status:"})," ",u.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs
                ${n.status==="Open"?"bg-green-600":n.status==="Under Review"?"bg-yellow-600":n.status==="Resolved"?"bg-blue-600":"bg-gray-600"}`,children:n.status})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Category:"})," ",n.category]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Channel:"})," ",n.channel]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Assigned To:"})," ",u.jsx(bB,{assignedTo:n.assignedTo,currentUserId:s==null?void 0:s._id})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Submitted:"})," ",(r=n.timeline)!=null&&r.submitted?new Date(n.timeline.submitted).toLocaleString():n.createdAt?new Date(n.createdAt).toLocaleString():"-"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Description:"}),u.jsx("div",{className:"mt-1 bg-slate-700 rounded p-3 text-sm whitespace-pre-line",children:n.description})]})]})]})})}function wB(e,t){var r,i,a;if(!e)return"-";if(((r=e._id)==null?void 0:r.toString())===(t==null?void 0:t.toString()))return"You";const n=(i=e.firstName)==null?void 0:i.trim(),s=(a=e.lastName)==null?void 0:a.trim();return n||s?`${n??""} ${s??""}`.trim():e.name?e.name:"-"}function SB({tags:e}){return!e||e.length===0?u.jsx("span",{className:"text-gray-400",children:"-"}):u.jsx("div",{className:"flex flex-wrap gap-1",children:e.map((t,n)=>u.jsx("span",{className:"inline-block bg-blue-950 px-2 py-0.5 rounded text-xs text-blue-200",title:t,children:t.length>12?t.slice(0,12)+"":t},n))})}function _B({isEscalated:e,feedback:t,notes:n,messages:s}){return u.jsxs("span",{className:"flex gap-1 items-center",children:[e&&u.jsx("span",{title:"Escalated",className:"text-red-400 font-bold",children:""}),t&&u.jsx("span",{title:`Feedback: ${t.rating||"-"}`,children:""}),Array.isArray(n)&&n.length>0&&u.jsx("span",{title:`${n.length} Notes`,className:"text-purple-400",children:""}),Array.isArray(s)&&s.length>0&&u.jsx("span",{title:`${s.length} Messages`,className:"text-blue-300",children:""})]})}function jB({c:e,onAssign:t,assigning:n,assignError:s,onView:r,currentUserId:i}){var d,h;const a=wB(e.assignedTo,i),c=!e.assignedTo&&typeof t=="function";return u.jsxs("tr",{className:"border-b last:border-b-0 hover:bg-blue-950/60 transition group",children:[u.jsx("td",{className:"px-3 py-2 min-w-[60px] font-mono text-xs text-blue-400 truncate",children:e._id.slice(-6)}),u.jsx("td",{className:"px-3 py-2 max-w-[220px] truncate",title:e.subject,children:u.jsx("span",{className:"font-semibold text-slate-200",children:e.subject})}),u.jsx("td",{className:"px-3 py-2 text-center",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold
            ${e.status==="Open"?"bg-green-700 text-green-100":e.status==="Under Review"?"bg-yellow-700 text-yellow-100":e.status==="Resolved"?"bg-blue-700 text-blue-100":"bg-slate-600 text-slate-100"}
          `,children:e.status})}),u.jsx("td",{className:"px-3 py-2 text-center",children:e.category||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx("td",{className:"px-3 py-2 capitalize text-center",children:e.channel||u.jsx("span",{className:"text-gray-400",children:"-"})}),u.jsx("td",{className:"px-3 py-2 max-w-[160px]",children:u.jsx(SB,{tags:e.tags})}),u.jsx("td",{className:"px-3 py-2 text-center",children:a}),u.jsx("td",{className:"px-3 py-2 text-center",children:(d=e.timeline)!=null&&d.assigned?new Date(e.timeline.assigned).toLocaleDateString():"-"}),u.jsx("td",{className:"px-3 py-2 text-center",children:(h=e.timeline)!=null&&h.submitted?new Date(e.timeline.submitted).toLocaleDateString():e.createdAt?new Date(e.createdAt).toLocaleDateString():"-"}),u.jsx("td",{className:"px-3 py-2 text-center",children:u.jsx(_B,{...e})}),u.jsxs("td",{className:"px-3 py-2 text-right",children:[c&&u.jsx("button",{onClick:t,disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded transition shadow-sm mr-2",children:n?"Assigning...":"Assign to Me"}),u.jsx("button",{onClick:r,className:"bg-slate-600 hover:bg-blue-600 text-white px-2 py-1 rounded transition shadow-sm group-hover:bg-blue-700",children:"View"}),s&&u.jsxs("span",{className:"text-xs text-red-400 block mt-1",children:["Failed to assign: ",s.message||"Unknown error"]})]})]})}function ux({complaints:e=[],isLoading:t=!1,emptyText:n="No complaints found.",onAssign:s,assigning:r={},assignError:i={},currentUserId:a}){const[c,d]=C.useState(!1),[h,p]=C.useState(null),m=y=>{p(y),d(!0)},x=()=>{d(!1),p(null)};return t?u.jsx("div",{className:"flex items-center justify-center min-h-[30vh] text-blue-300",children:"Loading complaints"}):e.length?u.jsxs("section",{className:"w-full bg-slate-800 rounded-xl shadow-lg border border-slate-700 overflow-hidden",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-sm text-white border-separate border-spacing-0",children:[u.jsx("thead",{className:"sticky top-0 z-10 bg-slate-900/95 border-b border-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 min-w-[60px] text-left",children:"ID"}),u.jsx("th",{className:"px-3 py-2 text-left",children:"Subject"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Status"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Category"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Channel"}),u.jsx("th",{className:"px-3 py-2 text-left",children:"Tags"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Assigned To"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Assigned At"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Submitted"}),u.jsx("th",{className:"px-3 py-2 text-center",children:"Flags"}),u.jsx("th",{className:"px-3 py-2 text-right",children:"Actions"})]})}),u.jsx("tbody",{children:e.map(y=>u.jsx(jB,{c:y,onAssign:s?()=>s(y._id):void 0,assigning:r[y._id],assignError:i[y._id],onView:()=>m(y),currentUserId:a},y._id))})]})}),c&&u.jsx("div",{className:"fixed inset-0 z-30 flex items-center justify-center bg-slate-900/70 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white max-w-lg w-full rounded-xl p-6 shadow-2xl relative animate-fade-in",children:[u.jsx("button",{className:"absolute top-3 right-3 text-xl text-slate-500 hover:text-blue-600 transition",onClick:x,"aria-label":"Close",children:""}),u.jsx(vB,{open:c,onClose:x,complaint:h})]})})]}):u.jsx("div",{className:"flex items-center justify-center min-h-[30vh] text-slate-400",children:n})}const CB=["Open","Under Review","Resolved","Closed"];function NB({currentUserId:e="moderator-id-123"}){const{data:t=[],isLoading:n}=cx(),s=pB(),[r,i]=C.useState("Open"),a=CB.reduce((m,x)=>({...m,[x]:t.filter(y=>y.status===x).length}),{}),c=t.filter(m=>m.status===r),d={},h={};s.variables&&(d[s.variables]=s.isLoading,h[s.variables]=s.error);const p=m=>s.mutate(m);return u.jsxs("div",{children:[u.jsx(hN,{statusTab:r,setStatusTab:i,counts:a}),u.jsx(ux,{complaints:c,isLoading:n,onAssign:p,assigning:d,assignError:h,currentUserId:e,emptyText:"No complaints for this status."})]})}const P2=["Under Review","Resolved","Closed"];function kB(){const{data:e=[],isLoading:t}=cx(),{user:n}=ps(),[s,r]=C.useState("Under Review"),i=e.filter(d=>d.assignedTo&&d.assignedTo._id===(n==null?void 0:n._id)),a=P2.reduce((d,h)=>({...d,[h]:i.filter(p=>p.status===h).length}),{}),c=i.filter(d=>d.status===s);return u.jsxs("div",{children:[u.jsx(hN,{statusTab:s,setStatusTab:r,counts:a,statusTabs:P2}),u.jsx(ux,{complaints:c,isLoading:t,emptyText:"No complaints for this status."})]})}let TB={data:""},EB=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||TB,PB=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,MB=/\/\*[^]*?\*\/|  +/g,M2=/\n+/g,Zr=(e,t)=>{let n="",s="",r="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":s+=i[1]=="f"?Zr(a,i):i+"{"+Zr(a,i[1]=="k"?"":t)+"}":typeof a=="object"?s+=Zr(a,t?t.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Zr.p?Zr.p(i,a):i+":"+a+";")}return n+(t&&r?t+"{"+r+"}":r)+s},tr={},fN=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+fN(e[n]);return t}return e},AB=(e,t,n,s,r)=>{let i=fN(e),a=tr[i]||(tr[i]=(d=>{let h=0,p=11;for(;h<d.length;)p=101*p+d.charCodeAt(h++)>>>0;return"go"+p})(i));if(!tr[a]){let d=i!==e?e:(h=>{let p,m,x=[{}];for(;p=PB.exec(h.replace(MB,""));)p[4]?x.shift():p[3]?(m=p[3].replace(M2," ").trim(),x.unshift(x[0][m]=x[0][m]||{})):x[0][p[1]]=p[2].replace(M2," ").trim();return x[0]})(e);tr[a]=Zr(r?{["@keyframes "+a]:d}:d,n?"":"."+a)}let c=n&&tr.g?tr.g:null;return n&&(tr.g=tr[a]),((d,h,p,m)=>{m?h.data=h.data.replace(m,d):h.data.indexOf(d)===-1&&(h.data=p?d+h.data:h.data+d)})(tr[a],t,s,c),a},RB=(e,t,n)=>e.reduce((s,r,i)=>{let a=t[i];if(a&&a.call){let c=a(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;a=d?"."+d:c&&typeof c=="object"?c.props?"":Zr(c,""):c===!1?"":c}return s+r+(a??"")},"");function qh(e){let t=this||{},n=e.call?e(t.p):e;return AB(n.unshift?n.raw?RB(n,[].slice.call(arguments,1),t.p):n.reduce((s,r)=>Object.assign(s,r&&r.call?r(t.p):r),{}):n,EB(t.target),t.g,t.o,t.k)}let pN,Vg,$g;qh.bind({g:1});let yr=qh.bind({k:1});function DB(e,t,n,s){Zr.p=t,pN=e,Vg=n,$g=s}function wi(e,t){let n=this||{};return function(){let s=arguments;function r(i,a){let c=Object.assign({},i),d=c.className||r.className;n.p=Object.assign({theme:Vg&&Vg()},c),n.o=/ *go\d+/.test(d),c.className=qh.apply(n,s)+(d?" "+d:"");let h=e;return e[0]&&(h=c.as||e,delete c.as),$g&&h[0]&&$g(c),pN(h,c)}return r}}var OB=e=>typeof e=="function",Ug=(e,t)=>OB(e)?e(t):e,LB=(()=>{let e=0;return()=>(++e).toString()})(),IB=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),FB=20,mN=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,FB)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return mN(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let r=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+r}))}}},zB=[],Tm={toasts:[],pausedAt:void 0},dx=e=>{Tm=mN(Tm,e),zB.forEach(t=>{t(Tm)})},BB=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||LB()}),Qc=e=>(t,n)=>{let s=BB(t,e,n);return dx({type:2,toast:s}),s.id},On=(e,t)=>Qc("blank")(e,t);On.error=Qc("error");On.success=Qc("success");On.loading=Qc("loading");On.custom=Qc("custom");On.dismiss=e=>{dx({type:3,toastId:e})};On.remove=e=>dx({type:4,toastId:e});On.promise=(e,t,n)=>{let s=On.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(r=>{let i=t.success?Ug(t.success,r):void 0;return i?On.success(i,{id:s,...n,...n==null?void 0:n.success}):On.dismiss(s),r}).catch(r=>{let i=t.error?Ug(t.error,r):void 0;i?On.error(i,{id:s,...n,...n==null?void 0:n.error}):On.dismiss(s)}),e};var VB=yr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$B=yr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,UB=yr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,HB=wi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${VB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$B} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${UB} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,WB=yr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qB=wi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${WB} 1s linear infinite;
`,YB=yr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,KB=yr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,XB=wi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${KB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,QB=wi("div")`
  position: absolute;
`,GB=wi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ZB=yr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JB=wi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ZB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,eV=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?C.createElement(JB,null,t):t:n==="blank"?null:C.createElement(GB,null,C.createElement(qB,{...s}),n!=="loading"&&C.createElement(QB,null,n==="error"?C.createElement(HB,{...s}):C.createElement(XB,{...s})))},tV=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,nV=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,sV="0%{opacity:0;} 100%{opacity:1;}",rV="0%{opacity:1;} 100%{opacity:0;}",iV=wi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,oV=wi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,aV=(e,t)=>{let n=e.includes("top")?1:-1,[s,r]=IB()?[sV,rV]:[tV(n),nV(n)];return{animation:t?`${yr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${yr(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};C.memo(({toast:e,position:t,style:n,children:s})=>{let r=e.height?aV(e.position||t||"top-center",e.visible):{opacity:0},i=C.createElement(eV,{toast:e}),a=C.createElement(oV,{...e.ariaProps},Ug(e.message,e));return C.createElement(iV,{className:e.className,style:{...r,...n,...e.style}},typeof s=="function"?s({icon:i,message:a}):C.createElement(C.Fragment,null,i,a))});DB(C.createElement);qh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var A2=On;function lV({status:e,complaintId:t,onStatusChange:n}){const[s,r]=C.useState(!1),[i,a]=C.useState(null),[c,d]=C.useState(!1),h=C.useRef(null),p=yB();C.useEffect(()=>{function y(v){h.current&&!h.current.contains(v.target)&&r(!1)}return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const m=y=>{if(y===e)return r(!1);a(y),d(!0)},x=async()=>{var y,v;d(!1),r(!1);try{await p.mutateAsync({id:t,status:i}),n==null||n(i),A2.success("Status updated!")}catch(w){A2.error(((v=(y=w==null?void 0:w.response)==null?void 0:y.data)==null?void 0:v.error)||(w==null?void 0:w.message)||"Failed to update status. Please try again.")}a(null)};return u.jsxs("div",{className:"relative",ref:h,children:[u.jsxs("button",{className:"flex items-center min-w-[140px] px-4 py-2 rounded-lg bg-[#1e2538] text-white border border-slate-700 shadow font-semibold transition hover:bg-sky-700 focus:ring-2 focus:ring-sky-400",onClick:()=>r(y=>!y),type:"button",disabled:p.isLoading,children:[e,u.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&u.jsx("ul",{className:"absolute right-0 z-10 mt-2 bg-[#232c3d] border border-slate-700 rounded-xl shadow-lg min-w-[140px] py-1",children:["Under Review","Resolved","Closed"].map(y=>u.jsx("li",{children:u.jsx("button",{className:`w-full text-left px-4 py-2 text-sm rounded-lg transition
                  ${y===e?"bg-slate-900 text-sky-300 cursor-not-allowed":"hover:bg-blue-500 hover:text-white text-white"}
                `,onClick:()=>m(y),disabled:y===e,type:"button",children:y})},y))}),c&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"bg-[#232c3d] rounded-xl shadow-xl p-6 min-w-[320px] text-white flex flex-col gap-4",children:[u.jsxs("div",{className:"text-base font-semibold",children:['Are you sure you want to change the status to "',i,'"?']}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg",onClick:()=>d(!1),type:"button",children:"Cancel"}),u.jsxs("button",{className:"bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg font-semibold flex items-center justify-center",onClick:x,type:"button",disabled:p.isLoading,children:[p.isLoading&&u.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"white",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"white",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Yes, change"]})]})]})})]})}const gN=(e,t="U")=>(e||t).split(" ").map(n=>n[0]).join("").slice(0,2).toUpperCase(),cV=e=>e==="admin"?{name:"Admin",initials:"A"}:e==="moderator"?{name:"Moderator",initials:"M"}:e==="user"?{name:"Customer",initials:"C"}:{name:"User",initials:"U"};function uV(e){if(!e)return[];const t=Array.isArray(e.messages)?e.messages:[];return(e.description&&(!t.length||t[0].message!==e.description)?[{role:"user",message:e.description,sentAt:e.createdAt||Date.now(),isDescription:!0}]:[]).concat(t)}function dV(){var c;const{user:e}=ps(),{data:t=[],isLoading:n}=cx(),s=t.filter(d=>d.assignedTo&&d.assignedTo._id===(e==null?void 0:e._id)&&d.status!=="Resolved"&&d.status!=="Closed"),[r,i]=C.useState(((c=s[0])==null?void 0:c._id)||null);C.useEffect(()=>{(!r||!s.find(d=>d._id===r))&&s.length&&i(s[0]._id)},[s,r]);const a=s.find(d=>d._id===r);return n?u.jsx("div",{className:"flex h-96 items-center justify-center text-gray-400",children:"Loading complaints..."}):s.length?u.jsxs("div",{className:"w-full flex flex-1 min-h-0 bg-transparent rounded-xl shadow-xl overflow-hidden border border-slate-800 h-[600px]",children:[u.jsxs("aside",{className:"w-60 bg-[#192338] border-r border-slate-800 flex flex-col py-3 px-2 gap-2 min-h-0",children:[u.jsx("h2",{className:"text-base font-bold text-white mb-1 pl-1 tracking-tight",children:"Assigned Complaints"}),u.jsx("ul",{className:"flex-1 overflow-y-auto pr-1 custom-scrollbar min-h-0",children:s.map(d=>u.jsx("li",{className:"mb-1",children:u.jsxs("button",{className:`w-full flex items-center gap-2 px-2 py-1.5 rounded-lg transition font-medium text-[13px]
                  ${r===d._id?"bg-gradient-to-r from-blue-500 to-cyan-400 text-white shadow":"bg-[#202c44] hover:bg-blue-500 hover:text-white text-slate-300"}`,onClick:()=>i(d._id),children:[u.jsx("span",{className:"font-mono text-[11px] bg-slate-900 px-1.5 py-0.5 rounded mr-1",children:d._id.slice(-6)}),u.jsx("span",{className:"truncate",children:d.subject||u.jsx("em",{className:"italic text-slate-400",children:"No subject"})})]})},d._id))})]}),u.jsx("section",{className:"flex-1 flex flex-col min-h-0 p-4",children:u.jsxs("div",{className:"flex flex-col h-full min-h-0 w-full mx-auto bg-gradient-to-br from-[#232c3d] via-[#202a40] to-[#1a2235] rounded-2xl shadow-xl border border-slate-700 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center gap-3 bg-gradient-to-r from-[#171f30] via-[#1b273a] to-[#22334c] px-6 py-4 border-b border-slate-800 flex-shrink-0",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-cyan-400 font-bold text-white text-[15px] shadow-md border-2 border-white",children:gN(e==null?void 0:e.name,"U")}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-[16px] text-white tracking-wide leading-none",children:"Chat with User"}),u.jsx("div",{className:"text-[11px] text-slate-400 mt-0.5 leading-none",children:u.jsx("span",{className:"font-semibold text-white",children:a==null?void 0:a.subject})})]}),u.jsx("div",{className:"ml-auto flex items-center gap-2",children:(a==null?void 0:a.assignedTo)&&u.jsx(lV,{status:a.status,complaintId:a._id,onStatusChange:d=>{(d==="Resolved"||d==="Closed")&&i(null)}})})]}),u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-6 py-4 flex flex-col gap-2 custom-scrollbar bg-transparent",children:a?u.jsx(hV,{complaintId:a._id,currentUser:e}):u.jsx("div",{className:"flex flex-1 items-center justify-center",children:u.jsx("p",{className:"text-slate-400",children:"Select a complaint to view messages."})})})]})})]}):u.jsx("div",{className:"flex h-96 items-center justify-center text-gray-400",children:"No assigned complaints."})}function hV({complaintId:e,currentUser:t}){const n=C.useRef(null),{data:s,isLoading:r}=fB(e,5e3),i=gB(e),[a,c]=C.useState(""),d=uV(s);C.useEffect(()=>{n.current&&n.current.scrollIntoView({behavior:"smooth"})},[d.length,r]);const h=async p=>{p.preventDefault(),!(!a.trim()||i.isLoading)&&(await i.mutateAsync(a),c(""))};return r||!s?u.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:"Loading chat..."}):u.jsxs("div",{className:"flex flex-col h-full min-h-0 relative",children:[u.jsxs("div",{className:"flex-1 flex flex-col gap-2 min-h-0 overflow-y-auto pb-2",children:[d.length===0&&u.jsx("p",{className:"text-gray-400 text-xs text-center mt-10",children:"No messages yet."}),d.map((p,m)=>{const x=p.role===(t==null?void 0:t.role)&&p.sender===(t==null?void 0:t.id)||p.role==="admin"&&(t==null?void 0:t.role)==="admin"||p.role==="moderator"&&(t==null?void 0:t.role)==="moderator",{name:y,initials:v}=cV(p.role);return u.jsxs("div",{className:`flex items-end gap-2 ${x?"justify-end":"justify-start"}`,children:[!x&&u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-700 to-cyan-400 flex items-center justify-center font-bold text-white text-xs shadow border-2 border-white",children:v})}),u.jsxs("div",{className:`
    px-4 py-2.5 
    rounded-[22px]
    max-w-[90%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%]
    break-words
    shadow-md
    text-[14px]
    ${x?"bg-gradient-to-br from-blue-400 to-cyan-400 text-white rounded-br-lg":"bg-white text-gray-900 rounded-bl-lg"}
    transition
  `,children:[u.jsxs("div",{className:"text-[11px] mb-1 opacity-60 flex items-center gap-1",children:[u.jsx("span",{children:x?"You":y}),u.jsx("span",{className:"mx-1",children:""}),u.jsx("span",{children:p.sentAt?new Date(p.sentAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),u.jsx("div",{className:"whitespace-pre-wrap break-words break-all leading-tight",children:p.message})]}),x&&u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-700 to-cyan-400 flex items-center justify-center font-bold text-white text-xs shadow border-2 border-white",children:gN(t==null?void 0:t.name,v)})})]},m)}),u.jsx("div",{ref:n})]}),u.jsxs("form",{className:"flex gap-2 p-4 border-t border-slate-800 bg-slate-900/95 rounded-b-xl shadow-inner",onSubmit:h,autoComplete:"off",children:[u.jsx("input",{className:"flex-1 px-4 py-3 rounded-lg bg-[#263149] text-white focus:outline-none focus:ring-2 focus:ring-sky-400/80 transition shadow-md",value:a,onChange:p=>c(p.target.value),placeholder:"Type your message",disabled:i.isLoading,maxLength:1e3}),u.jsx("button",{className:"bg-gradient-to-br from-sky-500 to-blue-600 hover:from-sky-400 hover:to-blue-700 px-6 py-3 rounded-lg text-white font-semibold shadow-lg border border-blue-400/50 transition",type:"submit",disabled:i.isLoading,children:i.isLoading?"Sending":"Send"})]})]})}function xN(){const[e,t]=C.useState("all");return u.jsxs("div",{children:[u.jsx(Dz,{activeTab:e,setActiveTab:t}),e==="all"&&u.jsx(NB,{}),e==="assigned"&&u.jsx(kB,{}),e==="responses"&&u.jsx(dV,{})]})}const hx=()=>{const{id:e}=Kg(),t=zs(),[n,s]=C.useState(null),[r,i]=C.useState(""),[a,c]=C.useState(""),d=async()=>{var p,m;try{const{data:x}=await ae.get(`/admin/complaints/${e}`);s(x)}catch(x){c(((m=(p=x.response)==null?void 0:p.data)==null?void 0:m.message)||x.message)}},h=async()=>{var p,m;try{await ae.post(`/admin/complaints/${e}/message`,{message:r}),i(""),d()}catch(x){c(((m=(p=x.response)==null?void 0:p.data)==null?void 0:m.message)||x.message)}};return C.useEffect(()=>{d()},[e]),n?u.jsxs("div",{children:[u.jsx("button",{className:"mb-4 text-blue-400",onClick:()=>t("/dashboard/admin/complaints"),children:" Back to list"}),u.jsx("h2",{className:"text-2xl mb-2",children:n.subject}),u.jsxs("p",{className:"mb-4",children:["Status: ",u.jsx("strong",{children:n.status})]}),a&&u.jsx("p",{className:"text-red-500",children:a}),u.jsx("section",{className:"bg-slate-700 p-4 rounded mb-4 max-h-64 overflow-y-auto",children:n.messages.map((p,m)=>u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"text-sm text-gray-400",children:[u.jsx("strong",{children:p.role})," on ",new Date(p.sentAt).toLocaleString()]}),u.jsx("div",{className:"mt-1",children:p.message})]},m))}),u.jsx("textarea",{value:r,rows:4,onChange:p=>i(p.target.value),className:"w-full p-2 bg-[#1e293b] rounded text-white",placeholder:"Type your message"}),u.jsx("button",{className:"mt-2 bg-green-600 px-4 py-2 rounded",onClick:h,children:"Send Message"})]}):u.jsx("p",{children:"Loading complaint..."})};function fV({refetchInterval:e=5e3,showTrashed:t=!1,showAll:n=!1}={}){return No({queryKey:["todos",{showTrashed:t,showAll:n}],queryFn:async()=>{let s="/admin/todos";return t?s+="?trash=1":n&&(s+="?all=1"),(await ae.get(s)).data},refetchInterval:e,staleTime:2e3})}function pV(){const e=In();return Bs({mutationFn:async t=>(await ae.post("/admin/todos",t)).data,onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}})}function yN(){const e=In();return Bs({mutationFn:async({id:t,...n})=>(await ae.put(`/admin/todos/${t}`,n)).data,onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}})}function mV(){const e=In();return Bs({mutationFn:async t=>(await ae.delete(`/admin/todos/${t}`)).data,onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}})}function gV(){const e=In();return Bs({mutationFn:async t=>(await ae.post(`/admin/todos/${t}/restore`)).data,onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}})}function xV(){const e=In();return Bs({mutationFn:async t=>(await ae.delete(`/admin/todos/${t}/hard`)).data,onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}})}function yV(e){return No({queryKey:["assignable-users"],queryFn:async()=>{const n=await ae.get("/users?roles=moderator");if(Array.isArray(n.data))return n.data;if(Array.isArray(n.data.users))return n.data.users;if(Array.isArray(n.data.data))return n.data.data;throw new Error("Unexpected response format: "+JSON.stringify(n.data))},staleTime:6e4})}function bV(e,t){const n=(e||"").split(/\s+/),s=(t||"").split(/\s+/),r=n.length,i=s.length,a=Array(r+1).fill(null).map(()=>Array(i+1).fill(0));for(let p=r-1;p>=0;p--)for(let m=i-1;m>=0;m--)n[p]===s[m]?a[p][m]=a[p+1][m+1]+1:a[p][m]=Math.max(a[p+1][m],a[p][m+1]);let c=0,d=0;const h=[];for(;c<r&&d<i;)n[c]===s[d]?(h.push({type:"same",value:n[c]}),c++,d++):a[c+1][d]>=a[c][d+1]?(h.push({type:"removed",value:n[c]}),c++):(h.push({type:"added",value:s[d]}),d++);for(;c<r;)h.push({type:"removed",value:n[c++]});for(;d<i;)h.push({type:"added",value:s[d++]});return h}function R2({oldText:e,newText:t,type:n}){const s=bV(e,t);return u.jsx("span",{children:s.map((r,i)=>n==="old"?r.type==="removed"?u.jsx("span",{className:"bg-rose-900/80 text-rose-300 rounded px-0.5",children:r.value+" "},i):r.type==="same"?u.jsx("span",{children:r.value+" "},i):null:r.type==="added"?u.jsx("span",{className:"bg-green-900/80 text-green-300 rounded px-0.5",children:r.value+" "},i):r.type==="same"?u.jsx("span",{children:r.value+" "},i):null)})}function vV(e){return e?new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function wV(e){return e?e.firstName||e.lastName?`${e.firstName||""} ${e.lastName||""}`.trim():e.email||e.username||e._id||"(unknown user)":"(unknown user)"}function D2(e,t=120){const n=String(e??"");return n.length<=t?{isLong:!1,preview:n,full:n}:{isLong:!0,preview:n.slice(0,t)+"...",full:n}}function SV({open:e,onClose:t,history:n=[]}){const[s,r]=C.useState({});if(!e)return null;const i=[...n].sort((p,m)=>new Date(m.timestamp)-new Date(p.timestamp)),a=p=>{switch(p){case"updated":return"bg-blue-600 text-white";case"deleted":return"bg-rose-600 text-white";case"restored":return"bg-green-600 text-white";case"created":return"bg-teal-600 text-white";default:return"bg-gray-600 text-white"}},c=p=>{switch(p){case"updated":return"bg-[#181f2e]/90 border-blue-900";case"deleted":return"bg-[#251b23]/90 border-rose-700";case"restored":return"bg-[#1d2d22]/90 border-green-700";case"created":return"bg-[#1d2d28]/90 border-teal-700";default:return"bg-[#22283a]/90 border-gray-800"}},d=p=>{r(m=>({...m,[p]:!m[p]}))},h=u.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 px-4 transition-colors duration-300",children:[u.jsxs("div",{className:"relative rounded-2xl shadow-2xl max-w-3xl w-full overflow-hidden animate-fade-in",style:{background:"#232e47",padding:"2.2rem 0 2rem 0"},children:[u.jsx("button",{className:"absolute right-6 top-6 text-gray-300 hover:text-white text-2xl font-bold transition-colors","aria-label":"Close modal",onClick:t,children:""}),u.jsx("h2",{className:"text-2xl font-extrabold mb-5 pl-8 pt-2 tracking-tight text-white",children:"ToDo Change History"}),u.jsx("div",{className:`\r
            max-h-[70vh]\r
            overflow-y-auto\r
            px-5\r
            custom-scrollbar-dark\r
            pb-1\r
            scroll-smooth\r
            transition-all\r
          `,children:i.length===0?u.jsx("p",{className:"text-gray-400 py-12 text-center",children:"No history available."}):u.jsx("ul",{className:"space-y-5",children:i.map((p,m)=>{const x=D2(p.oldValue,120),y=D2(p.newValue,120),v=!!s[m],w=x.isLong&&!v?x.preview:x.full,S=y.isLong&&!v?y.preview:y.full;return u.jsxs("li",{className:`
                      border-l-4 pl-5 pr-3 py-4
                      rounded-xl
                      shadow
                      ${c(p.action)}
                      transition-shadow
                      hover:shadow-lg
                    `,style:{minHeight:"86px"},children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[u.jsx("span",{className:`
                          text-xs px-2 py-0.5 rounded font-bold tracking-wide uppercase
                          ${a(p.action)}
                        `,children:p.action}),p.field&&u.jsx("span",{className:"text-[11px] bg-[#151b2b] text-gray-300 px-2 py-0.5 rounded font-mono tracking-tight border border-gray-700",children:p.field}),u.jsx("span",{className:"text-[11px] text-gray-400 ml-auto tabular-nums",children:vV(p.timestamp)})]}),u.jsxs("div",{className:"mt-1 text-sm",children:[p.action==="updated"&&u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"text-gray-300 font-medium",children:[p.field," changed:"]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-1",children:[u.jsxs("div",{className:"flex-1 break-words whitespace-pre-wrap text-xs leading-snug font-mono"+(v&&x.full.length>400?" max-h-[180px] overflow-y-auto custom-scrollbar-dark":""),children:[u.jsx("span",{className:"text-gray-400 font-mono text-xs",children:"From:"})," ",u.jsxs("span",{className:"text-rose-400",children:['"',u.jsx(R2,{oldText:w,newText:S,type:"old"}),'"']})]}),u.jsxs("div",{className:"flex-1 break-words whitespace-pre-wrap text-xs leading-snug font-mono"+(v&&y.full.length>400?" max-h-[180px] overflow-y-auto custom-scrollbar-dark":""),children:[u.jsx("span",{className:"text-gray-400 font-mono text-xs",children:"To:"})," ",u.jsxs("span",{className:"text-green-400",children:['"',u.jsx(R2,{oldText:w,newText:S,type:"new"}),'"']})]})]}),(x.isLong||y.isLong)&&u.jsx("div",{className:"pt-2",children:u.jsx("button",{className:"text-xs underline text-blue-300 hover:text-blue-100 transition",onClick:()=>d(m),children:v?"Show less":"Show more"})})]}),p.action==="deleted"&&u.jsx("p",{className:"text-rose-400 font-semibold flex items-center gap-1 mt-2",children:" ToDo moved to trash."}),p.action==="restored"&&u.jsx("p",{className:"text-green-400 font-semibold flex items-center gap-1 mt-2",children:" ToDo restored from trash."}),p.action==="created"&&u.jsx("p",{className:"text-teal-400 font-semibold flex items-center gap-1 mt-2",children:" ToDo created."})]}),u.jsxs("div",{className:"text-xs text-gray-400 mt-4 font-mono flex items-center gap-1",children:["By:"," ",u.jsx("span",{className:"font-semibold text-white not-italic",children:wV(p.user)})]})]},m)})})})]}),u.jsx("style",{children:`
        .custom-scrollbar-dark::-webkit-scrollbar {
          width: 9px;
        }
        .custom-scrollbar-dark::-webkit-scrollbar-thumb {
          background: #273559;
          border-radius: 8px;
        }
        .custom-scrollbar-dark::-webkit-scrollbar-track {
          background: #151b2b;
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(30px) scale(.97);}
          to   { opacity: 1; transform: none;}
        }
        .animate-fade-in {
          animation: fade-in 0.32s cubic-bezier(.5,1.4,.3,1) both;
        }
      `})]});return DE.createPortal(h,document.getElementById("modal-root"))}function ql(e,t=!0){if(!e)return"-";const n=new Date(e);return t?n.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):n.toLocaleDateString()}function Fd(e){return e?e.firstName||e.lastName?`${e.firstName||""} ${e.lastName||""}`.trim():e.email?e.email:e.username||e._id||"-":"-"}function _V(e){if(!e)return null;const t=new Date(e)-new Date;if(t<0)return"Pending permanent deletion";const n=Math.floor(t/(1e3*60*60*24)),s=Math.floor(t/(1e3*60*60)%24),r=Math.floor(t/(1e3*60)%60);return`Auto-deletes in ${n}d ${s}h ${r}m`}function jV(e,t,n){return!!(n==="admin"||e.createdBy&&(typeof e.createdBy=="object"&&e.createdBy._id===t||typeof e.createdBy=="string"&&e.createdBy===t)||e.type==="collaborative"&&n==="moderator")}function CV({todo:e,onEdit:t,onDelete:n,onMarkDone:s,onRestore:r,onHardDelete:i,userId:a,userRole:c,idx:d,isMarking:h,isTrash:p=!1}){const[m,x]=C.useState(!1),[y,v]=C.useState(!1),w=e.status==="done"?"bg-gray-100/70":"bg-slate-800/80",S=e.status==="done"?"text-gray-700":"text-white",j=e.status==="done"?"text-gray-600":"text-gray-300",N=e.status==="done"?"bg-gray-300 text-gray-700":"bg-slate-600 text-white",T=e.status==="done"?"bg-green-200 text-gray-700":e.status==="in_progress"?"bg-blue-800 text-blue-200":e.status==="blocked"?"bg-red-800 text-red-200":"bg-slate-700 text-slate-100";return u.jsxs("div",{className:`
        ${w}
        rounded-2xl shadow px-6 py-5 border border-slate-800
        relative group transition-all duration-150
        backdrop-blur-sm
        ${m?"pb-7":""}
      `,children:[u.jsxs("div",{className:"flex flex-row justify-between items-start gap-2",children:[u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>x(A=>!A),title:"Show/hide description",children:[typeof d=="number"&&u.jsxs("span",{className:`font-mono text-xs px-2 py-0.5 mr-2 opacity-70 rounded ${e.status==="done"?"bg-gray-300 text-gray-700":"bg-slate-600 text-white"}`,children:["#",d+1]}),u.jsx("h2",{className:`
                text-lg md:text-xl font-bold group-hover:underline line-clamp-1 transition-all
                ${S}
                ${e.status==="done"?"line-through decoration-2 decoration-gray-400 decoration-center":""}
              `,children:e.title}),u.jsx("span",{className:`ml-2 text-xs hidden md:inline ${j}`,children:ql(e.createdAt)})]})}),u.jsx("div",{className:"flex items-center gap-2 mt-1",children:u.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${T}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]}),u.jsxs("div",{className:"mt-3",children:[u.jsx("button",{onClick:()=>x(A=>!A),className:`text-left text-sm hover:underline focus:outline-none mb-1 ${e.status==="done"?"text-blue-600":"text-blue-400"}`,children:m?"Hide Details ":"Show Details "}),m&&u.jsxs("div",{className:`mt-2 p-3 rounded-md shadow-inner transition-all ${e.status==="done"?"bg-gray-200":"bg-[#232942]"}`,children:[u.jsx("div",{className:`${S} text-base whitespace-pre-line break-words`,children:e.description||u.jsx("span",{className:j,children:"No description."})}),e.subtasks&&e.subtasks.length>0&&u.jsx("ul",{className:"list-disc ml-5 mt-3 space-y-1",children:e.subtasks.map((A,P)=>u.jsx("li",{className:`
                      text-sm
                      ${A.done?"line-through text-green-400":S}
                    `,children:A.text},P))})]})]}),u.jsxs("div",{className:`flex flex-wrap items-center gap-x-4 gap-y-2 text-xs mt-3 ${j}`,children:[e.tags&&e.tags.length>0&&u.jsx("div",{className:"flex gap-1",children:e.tags.map((A,P)=>u.jsx("span",{className:`inline-block px-2 py-0.5 rounded ${N}`,children:A},P))}),u.jsxs("span",{children:["Priority:"," ",u.jsx("span",{className:`font-semibold ${e.priority==="high"?"text-red-500":e.priority==="medium"?"text-yellow-600":""}`,children:e.priority})]}),e.dueDate&&u.jsxs("span",{children:["Due: ",ql(e.dueDate)," ",new Date(e.dueDate).toDateString()===new Date().toDateString()&&u.jsx("span",{className:"text-green-600",children:"(today)"})]}),u.jsxs("span",{children:["Type:"," ",u.jsx("span",{className:e.status==="done"?"text-blue-800":"text-blue-300",children:e.type})]}),e.assignedTo&&u.jsxs("span",{children:["Assigned:"," ",u.jsx("b",{className:e.status==="done"?"text-purple-800":"text-purple-300",children:Fd(e.assignedTo)})]}),e.assignmentNote&&e.assignmentNote.trim()&&u.jsxs("span",{children:["Note:"," ",u.jsx("span",{className:e.status==="done"?"italic text-blue-800":"italic text-blue-200",children:e.assignmentNote})]}),e.createdBy&&u.jsxs("span",{children:["Created by:"," ",u.jsx("b",{className:"text-teal-400",children:Fd(e.createdBy)})]}),e.deletedAt&&e.deletedBy&&u.jsxs("span",{children:["Deleted by:"," ",u.jsx("b",{className:"text-rose-400",children:Fd(e.deletedBy)}),e.deletedAt&&u.jsxs("span",{className:"ml-2 text-red-200",children:["on ",ql(e.deletedAt)]})]}),e.restoredBy&&u.jsxs("span",{children:["Restored by:"," ",u.jsx("b",{className:"text-green-400",children:Fd(e.restoredBy)}),e.restoredAt&&u.jsxs("span",{className:"ml-2 text-green-200",children:["on ",ql(e.restoredAt)]})]})]}),p?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mt-2 text-xs text-red-400 flex items-center gap-2",children:[u.jsx(O6,{size:14,className:"inline mr-1"}),e.permanentDeleteAt&&u.jsxs(u.Fragment,{children:["Scheduled for permanent deletion:",u.jsx("b",{children:ql(e.permanentDeleteAt)}),u.jsx("span",{className:"ml-2 text-red-300/80 italic",children:_V(e.permanentDeleteAt)})]})]}),u.jsxs("div",{className:"flex flex-row gap-2 mt-4",children:[u.jsx("button",{onClick:()=>v(!0),"aria-label":"View History",className:`\r
                w-8 h-8 flex items-center justify-center rounded-full shadow-sm\r
                transition-all duration-150 bg-slate-700 hover:bg-slate-600 focus:outline-none\r
              `,children:u.jsx(dv,{size:18,className:"text-blue-300"})}),u.jsxs("button",{onClick:()=>r(e),className:"bg-blue-500 hover:bg-blue-700 text-white px-3 py-1 rounded shadow",children:[u.jsx(i4,{size:16,className:"inline mr-1"}),"Restore"]}),(c==="admin"||e.createdBy&&(typeof e.createdBy=="object"&&e.createdBy._id===a||typeof e.createdBy=="string"&&e.createdBy===a))&&u.jsxs("button",{onClick:()=>{window.confirm("Permanently delete this To Do? This cannot be undone.")&&i(e)},className:"bg-rose-700 hover:bg-rose-800 text-white px-3 py-1 rounded shadow",children:[u.jsx(fv,{size:16,className:"inline mr-1"}),"Delete Forever"]})]})]}):u.jsxs("div",{className:"flex flex-row items-center gap-2 absolute bottom-6 right-8 z-10",children:[u.jsx("button",{onClick:()=>v(!0),"aria-label":"View History",className:`\r
              w-8 h-8 flex items-center justify-center rounded-full shadow-sm\r
              transition-all duration-150 bg-slate-700 hover:bg-slate-600 focus:outline-none\r
            `,children:u.jsx(dv,{size:18,className:"text-blue-300"})}),u.jsx("button",{onClick:()=>e.status==="done"?s(e,"todo"):s(e,"done"),disabled:h,"aria-label":e.status==="done"?"Undo Done":"Mark as Done",className:`
              w-8 h-8 flex items-center justify-center rounded-full shadow-sm
              transition-all duration-150 focus:outline-none focus:ring-2
              ${e.status==="done"?"bg-emerald-500 hover:bg-emerald-600 focus:ring-emerald-300":"bg-transparent hover:bg-emerald-600/90 focus:ring-emerald-300"}
            `,children:e.status==="done"?u.jsx(X6,{size:18,className:`${e.status==="done"?"text-white":"text-emerald-400 group-hover:text-white"}`}):u.jsx(R6,{size:18,className:`${e.status==="done"?"text-white":"text-emerald-400 group-hover:text-white"}`})}),u.jsx("button",{onClick:()=>t(e),"aria-label":"Edit",className:`
              w-8 h-8 flex items-center justify-center rounded-full shadow-sm
              transition-all duration-150 focus:outline-none focus:ring-2
              ${e.status==="done"?"bg-blue-500 hover:bg-blue-600 focus:ring-blue-300":"bg-transparent hover:bg-blue-600/90 focus:ring-blue-300"}
            `,children:u.jsx(n4,{size:18,className:`${e.status==="done"?"text-white":"text-blue-400 group-hover:text-white"}`})}),jV(e,a,c)&&u.jsx("button",{onClick:()=>n(e),"aria-label":"Move to Trash",className:`
                w-8 h-8 flex items-center justify-center rounded-full shadow-sm
                transition-all duration-150 focus:outline-none focus:ring-2
                ${e.status==="done"?"bg-rose-500 hover:bg-rose-600 focus:ring-rose-300":"bg-transparent hover:bg-rose-600/90 focus:ring-rose-300"}
              `,children:u.jsx(fv,{size:18,className:`${e.status==="done"?"text-white":"text-red-400 group-hover:text-white"}`})})]}),u.jsx(SV,{open:y,onClose:()=>v(!1),history:e.history})]})}const NV=[{label:"Open",value:"open"},{label:"Done",value:"done"},{label:"All",value:"all"},{label:"Trash",value:"trash"}];function zd(e,t){return e.assignedTo?typeof e.assignedTo=="string"?e.assignedTo===t:typeof e.assignedTo=="object"&&e.assignedTo._id?e.assignedTo._id===t:!1:e.type==="collaborative"}function Em(e,t,n){if(!e.deletedAt)return!1;if(n==="admin")return!0;const s=e.assignedTo?typeof e.assignedTo=="object"?e.assignedTo._id===t:e.assignedTo===t:!1,r=typeof e.createdBy=="object"?e.createdBy._id===t:e.createdBy===t,i=e.type==="collaborative";return s||r||i}function kV({todos:e=[],type:t="personal",userId:n,userRole:s,onEdit:r,onDelete:i,onMarkDone:a,onRestore:c,onHardDelete:d}){const[h,p]=C.useState("all"),m=[...e].sort((w,S)=>new Date(S.createdAt)-new Date(w.createdAt));let x=[];h==="trash"?x=m.filter(w=>w.type===t&&Em(w,n,s)):t==="collaborative"?x=m.filter(w=>w.type==="collaborative"&&!w.deletedAt):x=m.filter(w=>w.type==="personal"&&!w.deletedAt&&zd(w,n));let y=[];h==="all"||h==="trash"?y=x:h==="open"?y=x.filter(w=>w.status!=="done"):h==="done"&&(y=x.filter(w=>w.status==="done"));const v={all:t==="collaborative"?m.filter(w=>w.type==="collaborative"&&!w.deletedAt).length:m.filter(w=>w.type==="personal"&&!w.deletedAt&&zd(w,n)).length,open:t==="collaborative"?m.filter(w=>w.type==="collaborative"&&!w.deletedAt&&w.status!=="done").length:m.filter(w=>w.type==="personal"&&!w.deletedAt&&w.status!=="done"&&zd(w,n)).length,done:t==="collaborative"?m.filter(w=>w.type==="collaborative"&&!w.deletedAt&&w.status==="done").length:m.filter(w=>w.type==="personal"&&!w.deletedAt&&w.status==="done"&&zd(w,n)).length,trash:t==="collaborative"?m.filter(w=>w.type==="collaborative"&&Em(w,n,s)).length:m.filter(w=>w.type==="personal"&&Em(w,n,s)).length};return u.jsxs("div",{children:[u.jsx("div",{className:"flex gap-3 mb-6 px-1",children:NV.map(w=>u.jsxs("button",{onClick:()=>p(w.value),className:`
              group relative flex items-center gap-2 px-5 py-2
              rounded-xl border transition font-medium
              ${h===w.value?"bg-blue-700/90 text-white border-blue-500":"bg-transparent text-slate-300 border-slate-700 hover:bg-slate-800/80 hover:text-white"}
              focus:outline-none focus:ring-2 focus:ring-blue-300/50
              duration-100
            `,style:{minWidth:90,justifyContent:"center"},children:[u.jsx("span",{className:"tracking-wide",children:w.label}),u.jsx("span",{className:`
                ml-2 flex items-center justify-center
                w-6 h-6 min-w-[1.5rem] min-h-[1.5rem]
                rounded-full font-bold text-xs
                ${h===w.value?"bg-white text-blue-700 shadow-sm":"bg-slate-700 text-slate-200 group-hover:bg-white/80 group-hover:text-blue-700"}
                border border-white/10
                transition
              `,style:{lineHeight:1.1},children:v[w.value]})]},w.value))}),y.length===0?u.jsx("div",{className:"py-8 text-center text-gray-400",children:"No To Dos in this tab."}):u.jsx("div",{className:"space-y-6",children:y.map((w,S)=>u.jsx(CV,{todo:w,onEdit:r,onDelete:i,onMarkDone:a,onRestore:c,onHardDelete:d,userId:n,userRole:s,idx:S,isTrash:h==="trash"},w._id))})]})}const Bd={title:"",description:"",type:"personal",assignedTo:"",priority:"medium",dueDate:"",tags:[],subtasks:[],assignmentNote:"",titleCursor:0,titleVersionsLength:1,descriptionCursor:0,descriptionVersionsLength:1},TV=({users:e,usersLoading:t,usersError:n,currentUser:s,onCreated:r,onClose:i,todo:a})=>{var G,he;const c=!!a,[d,h]=C.useState(a?{...a,dueDate:a.dueDate?a.dueDate.slice(0,10):"",titleCursor:a.titleCursor??0,titleVersionsLength:((G=a.titleVersions)==null?void 0:G.length)??1,descriptionCursor:a.descriptionCursor??0,descriptionVersionsLength:((he=a.descriptionVersions)==null?void 0:he.length)??1}:Bd),[p,m]=C.useState(""),[x,y]=C.useState(""),[v,w]=C.useState(!1),S=async()=>{var ee,Z;if(!v){y(""),w(!0);try{const{data:K}=await ae.post(`/admin/todos/${a._id}/title/undo`),{todo:te,looped:O}=K;h(Q=>({...Q,title:te.title,titleCursor:te.titleCursor,titleVersionsLength:te.titleVersionsLength})),O&&y(" No more undo steps  reset to latest version.")}catch(K){y(((Z=(ee=K==null?void 0:K.response)==null?void 0:ee.data)==null?void 0:Z.message)||K.message||"Undo failed.")}finally{w(!1)}}},j=async()=>{var ee,Z;if(!v){y(""),w(!0);try{const{data:K}=await ae.post(`/admin/todos/${a._id}/title/redo`),{todo:te,looped:O}=K;h(Q=>({...Q,title:te.title,titleCursor:te.titleCursor,titleVersionsLength:te.titleVersionsLength})),O&&y(" No more redo steps  reset to first version.")}catch(K){y(((Z=(ee=K==null?void 0:K.response)==null?void 0:ee.data)==null?void 0:Z.message)||K.message||"Redo failed.")}finally{w(!1)}}},N=async()=>{var ee,Z;if(!v){y(""),w(!0);try{const{data:K}=await ae.post(`/admin/todos/${a._id}/description/undo`),{todo:te,looped:O}=K;h(Q=>({...Q,description:te.description,descriptionCursor:te.descriptionCursor,descriptionVersionsLength:te.descriptionVersionsLength})),O&&y(" No more undo steps  reset to latest version.")}catch(K){y(((Z=(ee=K==null?void 0:K.response)==null?void 0:ee.data)==null?void 0:Z.message)||K.message||"Undo failed.")}finally{w(!1)}}},T=async()=>{var ee,Z;if(!v){y(""),w(!0);try{const{data:K}=await ae.post(`/admin/todos/${a._id}/description/redo`),{todo:te,looped:O}=K;h(Q=>({...Q,description:te.description,descriptionCursor:te.descriptionCursor,descriptionVersionsLength:te.descriptionVersionsLength})),O&&y(" No more redo steps  reset to first version.")}catch(K){y(((Z=(ee=K==null?void 0:K.response)==null?void 0:ee.data)==null?void 0:Z.message)||K.message||"Redo failed.")}finally{w(!1)}}};C.useEffect(()=>{if(x){const ee=setTimeout(()=>y(""),5e3);return()=>clearTimeout(ee)}},[x]);const{mutate:A,isLoading:P,error:R}=pV(),{mutate:V,isLoading:I,error:z}=yN();C.useEffect(()=>{h(a?{...a,dueDate:a.dueDate?a.dueDate.slice(0,10):""}:Bd),m("")},[a,i]);const U=ee=>{const{name:Z,value:K}=ee.target;h(te=>({...te,[Z]:K}))},J=()=>{p.trim()&&(h(ee=>({...ee,subtasks:[...ee.subtasks,{text:p,done:!1}]})),m(""))},se=ee=>{h(Z=>({...Z,subtasks:Z.subtasks.filter((K,te)=>te!==ee)}))},de=ee=>{ee.preventDefault();let Z={...d,dueDate:d.dueDate||null,tags:d.tags.filter(Boolean)};Z.type==="collaborative"&&(delete Z.assignedTo,delete Z.assignmentNote),Object.keys(Z).forEach(K=>(Z[K]===""||Z[K]===void 0)&&delete Z[K]),c?V({id:a._id,...Z},{onSuccess:()=>{h(Bd),r&&r(),i&&i()}}):A(Z,{onSuccess:()=>{h(Bd),r&&r(),i&&i()}})};return u.jsx("div",{className:"fixed inset-0 bg-white/40 backdrop-blur-sm flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white text-black p-8 rounded-2xl shadow-lg max-w-lg w-full mx-auto relative",children:[u.jsx("button",{onClick:i,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600 text-2xl font-bold focus:outline-none","aria-label":"Close",children:""}),u.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:c?"Edit To Do":"Create New To Do"}),n&&u.jsxs("div",{className:"text-red-500 text-sm mb-2",children:["Failed to load users: ",n.message]}),u.jsxs("form",{onSubmit:de,children:[u.jsxs("label",{className:"block mb-2 font-semibold flex items-center gap-2",children:["Title",c&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:S,title:"Undo Title",className:"px-1",disabled:d.titleCursor===0||v,children:""}),u.jsx("button",{type:"button",onClick:j,title:"Redo Title",className:"px-1",disabled:d.titleCursor===d.titleVersionsLength-1||v,children:""})]})]}),u.jsx("input",{type:"text",name:"title",value:d.title,onChange:U,required:!0,className:"block w-full p-2 border rounded mt-1",autoFocus:!0}),u.jsxs("label",{className:"block mb-2 flex items-center gap-2",children:["Description",c&&u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:N,title:"Undo Description",className:"px-1",disabled:d.descriptionCursor===0||v,children:""}),u.jsx("button",{type:"button",onClick:T,title:"Redo Description",className:"px-1",disabled:d.descriptionCursor===d.descriptionVersionsLength-1||v,children:""})]})]}),u.jsx("textarea",{name:"description",value:d.description,onChange:U,className:"block w-full p-2 border rounded mt-1",rows:3}),u.jsxs("div",{className:"flex gap-4 mb-2",children:[u.jsxs("label",{className:"flex-1",children:["Priority",u.jsxs("select",{name:"priority",value:d.priority,onChange:U,className:"block w-full p-2 border rounded mt-1",children:[u.jsx("option",{value:"low",children:"Low"}),u.jsx("option",{value:"medium",children:"Medium"}),u.jsx("option",{value:"high",children:"High"})]})]}),u.jsxs("label",{className:"flex-1",children:["Due Date",u.jsx("input",{type:"date",name:"dueDate",value:d.dueDate,onChange:U,className:"block w-full p-2 border rounded mt-1"})]})]}),u.jsxs("label",{className:"block mb-2",children:["Tags (comma separated)",u.jsx("input",{type:"text",name:"tags",value:d.tags.join(","),onChange:ee=>h(Z=>({...Z,tags:ee.target.value.split(",").map(K=>K.trim()).filter(Boolean)})),className:"block w-full p-2 border rounded mt-1"})]}),u.jsxs("label",{className:"block mb-2",children:["Subtasks",u.jsxs("div",{className:"flex gap-2 mt-1 mb-2",children:[u.jsx("input",{type:"text",value:p,onChange:ee=>m(ee.target.value),className:"flex-1 p-2 border rounded",placeholder:"Add subtask"}),u.jsx("button",{type:"button",onClick:J,className:"bg-blue-500 text-white px-3 py-1 rounded",children:"Add"})]}),u.jsx("ul",{className:"list-disc ml-6",children:d.subtasks.map((ee,Z)=>u.jsxs("li",{className:"flex items-center gap-2 text-sm mb-1",children:[u.jsx("span",{children:ee.text}),u.jsx("button",{type:"button",onClick:()=>se(Z),className:"text-red-400 hover:text-red-700",title:"Remove subtask",children:""})]},Z))})]}),u.jsxs("label",{className:"block mb-2",children:["Type",u.jsxs("select",{name:"type",value:d.type,onChange:U,className:"block w-full p-2 border rounded mt-1",children:[u.jsx("option",{value:"personal",children:"Personal"}),u.jsx("option",{value:"collaborative",children:"Collaborative"})]})]}),d.type==="personal"&&e&&s&&u.jsxs("label",{className:"block mb-2",children:["Assign to",u.jsx("select",{name:"assignedTo",value:d.assignedTo,onChange:U,className:"block w-full p-2 border rounded mt-1",required:!0,disabled:t,children:t?u.jsx("option",{children:"Loading..."}):e.length===0?u.jsx("option",{children:"No users available"}):u.jsxs(u.Fragment,{children:[u.jsx("option",{value:"",children:"Select user"}),e.filter(ee=>!(!["admin","moderator"].includes(ee.role)||s.role==="admin"&&ee._id===s._id||s.role==="moderator"&&ee.role!=="moderator"&&ee._id!==s._id)).map(ee=>u.jsxs("option",{value:ee._id,children:[ee.username," (",ee.role,")"]},ee._id))]})})]}),d.type==="personal"&&u.jsxs("label",{className:"block mb-2",children:["Note for assignee (optional)",u.jsx("input",{type:"text",name:"assignmentNote",value:d.assignmentNote,onChange:U,className:"block w-full p-2 border rounded mt-1",maxLength:300})]}),u.jsxs("div",{className:"flex gap-2 mt-6",children:[u.jsx("button",{type:"submit",disabled:P||I,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold",children:P||I?"Saving...":c?"Save Changes":"Create"}),i&&u.jsx("button",{type:"button",onClick:i,className:"bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded",children:"Cancel"})]}),(R||z)&&u.jsx("div",{className:"mt-3 text-red-500 text-sm",children:(R||z).message}),x&&u.jsx("div",{className:"text-red-500 text-sm mt-2",children:x})]})]})})},EV=[{label:"Personal",key:"personal"},{label:"Collaborative",key:"collaborative"}];function bN(){const{user:e}=ps(),[t,n]=C.useState("personal"),[s,r]=C.useState(!1),[i,a]=C.useState(null),{data:c=[],isLoading:d,error:h}=yV(),{data:p=[],isLoading:m,error:x}=fV({showAll:!0}),y=yN(),v=mV(),w=gV(),S=xV(),j=I=>{a(I),r(!0)},N=(I,z)=>{(z==="done"&&I.status!=="done"||z==="todo"&&I.status==="done")&&y.mutate({id:I._id,status:z})},T=I=>{window.confirm("Move this To Do to trash?")&&v.mutate(I._id)},A=I=>{window.confirm("Restore this To Do from trash?")&&w.mutate(I._id)},P=I=>{window.confirm("This will permanently delete the To Do and cannot be undone. Proceed?")&&S.mutate(I._id)},R=()=>{r(!1),a(null)},V=[...p].sort((I,z)=>new Date(z.createdAt)-new Date(I.createdAt));return u.jsxs("div",{className:"min-h-screen bg-[#10182a] px-0 py-6",children:[u.jsxs("div",{className:"flex gap-2 mb-4 items-center px-6",children:[EV.map(I=>u.jsx("button",{className:`px-4 py-2 rounded transition font-semibold ${t===I.key?"bg-blue-600 text-white shadow":"bg-[#1c253a] text-slate-200 hover:bg-[#26304c]"}`,onClick:()=>n(I.key),children:I.label},I.key)),u.jsx("div",{className:"flex-1"}),u.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold shadow",onClick:()=>{a(null),r(!0)},children:"+ New To Do"})]}),u.jsxs("div",{className:"rounded-2xl bg-[#141c2c] p-4 shadow-lg min-h-[200px] mx-6",children:[m&&u.jsx("div",{className:"text-slate-300",children:"Loading..."}),x&&u.jsx("div",{className:"text-red-500",children:x.message}),!m&&u.jsx(kV,{todos:V,type:t,userId:e==null?void 0:e._id,userRole:e==null?void 0:e.role,onEdit:j,onDelete:T,onMarkDone:N,onRestore:A,onHardDelete:P})]}),s&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/20 backdrop-blur-[4px]",children:u.jsx(TV,{users:c,usersLoading:d,usersError:h,currentUser:e,todo:i,onCreated:R,onUpdated:R,onClose:R})})]})}const PV=["M","T","W","T","F","S","S"],Yl=new Date,MV=({month:e,year:t,editable:n,onDayClick:s})=>{const[r,i]=C.useState({show:!1,x:0,y:0,dayIdx:null,alignLeft:!1}),a=(p,m)=>{if(!n){const x=p.currentTarget.getBoundingClientRect(),y=220,v=x.right+y>window.innerWidth;i({show:!0,x:v?x.left-y-10:x.right+10,y:x.top,dayIdx:m,alignLeft:v})}},c=()=>{i({show:!1,x:0,y:0,dayIdx:null,alignLeft:!1})},d=p=>p%7===5||p%7===6,h=e.month===Yl.getMonth()&&t===Yl.getFullYear()?"border-teal-400":"border-slate-700";return u.jsxs("div",{className:`relative rounded-lg p-1 bg-slate-900 shadow text-[11px] w-full max-w-[210px] min-w-[175px] transition border-2 ${h}`,children:[u.jsx("div",{className:"font-semibold text-center text-[12px] mb-1 text-slate-100 tracking-wide",children:e.name}),u.jsx("div",{className:"grid grid-cols-7 gap-[5px] mb-[1px]",children:PV.map((p,m)=>u.jsx("div",{className:`text-center font-semibold text-[10px] py-[2px] 
              ${m>=5?"text-pink-600":"text-slate-400"}
            `,children:p},m))}),u.jsx("div",{className:"grid grid-cols-7 gap-1",children:e.days.map((p,m)=>{if(!p.day)return u.jsx("div",{},m);const x=d(m),y=p.events.length>0,v=p.day===Yl.getDate()&&e.month===Yl.getMonth()&&t===Yl.getFullYear();let w="";v&&y?w="bg-orange-600 text-white":v&&(w="bg-teal-600 text-white");const S=x?y?"bg-pink-600 text-white":"bg-pink-900 text-rose-200 hover:bg-pink-600":y?"bg-blue-600 text-white":"bg-slate-700 hover:bg-blue-500 hover:text-white text-slate-300";return u.jsx("div",{onMouseEnter:j=>a(j,m),onMouseLeave:c,className:"relative",children:u.jsx("button",{className:`
          w-6 h-6 flex items-center justify-center rounded font-medium transition duration-100 text-xs
          border-slate-600
          ${w||S}
          ${!n&&"cursor-default"}
        `,disabled:!n,onClick:()=>n&&s(m),tabIndex:-1,children:p.day})},p.date)})}),!n&&r.show&&e.days[r.dayIdx]&&e.days[r.dayIdx].events.length>0&&u.jsx("div",{className:"fixed z-50 bg-slate-800 text-white text-xs rounded-md shadow-2xl max-w-[240px] w-fit whitespace-normal break-words pointer-events-none animate-fade-in",style:{top:r.y,left:r.x,transform:"translateY(-50%)"},children:e.days[r.dayIdx].events.map((p,m)=>u.jsxs("div",{className:"mb-2 border-b border-slate-600 pb-1 mr-5 last:border-none last:mb-0",children:[u.jsx("div",{className:"font-semibold text-sm",children:p.title}),p.description&&u.jsx("div",{className:"text-[11px] text-slate-300 mt-1 leading-snug",children:p.description})]},m))})]})},AV="#101729";function O2(e){return e?e.firstName||e.lastName?`${e.firstName||""} ${e.lastName||""}`.trim():e.username?e.username:e.email?e.email:"Unknown":"Unknown"}function L2(e){return e?new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function I2({initial:e,onSave:t,onCancel:n}){const[s,r]=C.useState((e==null?void 0:e.title)||""),[i,a]=C.useState((e==null?void 0:e.type)||"custom"),[c,d]=C.useState((e==null?void 0:e.color)||"#f43f5e"),[h,p]=C.useState((e==null?void 0:e.description)||"");return C.useEffect(()=>{r((e==null?void 0:e.title)||""),a((e==null?void 0:e.type)||"custom"),d((e==null?void 0:e.color)||"#f43f5e"),p((e==null?void 0:e.description)||"")},[e]),u.jsxs("form",{className:"flex flex-col gap-2 mb-4",onSubmit:m=>{m.preventDefault(),t({title:s,type:i,color:c,description:h})},children:[u.jsx("input",{autoFocus:!0,required:!0,className:"rounded-lg bg-slate-800 border border-slate-700 text-slate-100 p-2 text-sm",placeholder:"Event Title",value:s,onChange:m=>r(m.target.value)}),u.jsx("textarea",{rows:2,className:"rounded-lg bg-slate-800 border border-slate-700 text-slate-100 p-2 resize-none text-xs",placeholder:"Description",value:h,onChange:m=>p(m.target.value),maxLength:500}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsxs("select",{value:i,className:"rounded bg-slate-800 text-slate-100 px-2 py-1 text-xs",onChange:m=>a(m.target.value),children:[u.jsx("option",{value:"custom",children:"Custom"}),u.jsx("option",{value:"holiday",children:"Holiday"}),u.jsx("option",{value:"national",children:"National"})]}),u.jsxs("label",{className:"flex items-center gap-1 ml-1 text-slate-200 text-xs",children:[u.jsx("span",{children:"Color"}),u.jsx("input",{type:"color",value:c,onChange:m=>d(m.target.value),className:"w-6 h-6 border-none bg-transparent",title:"Pick color"})]})]}),u.jsxs("div",{className:"flex gap-2 mt-2 justify-end",children:[u.jsx("button",{type:"button",className:"rounded bg-slate-700 text-slate-200 px-3 py-1.5 font-medium text-xs",onClick:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"rounded bg-pink-800 hover:bg-pink-600 text-white font-bold px-3 py-1.5 shadow-md text-xs",children:"Save"})]})]})}function RV({open:e,onClose:t,dateLabel:n="",events:s=[],onAddEvent:r,onEditEvent:i,onDeleteEvent:a}){const[c,d]=C.useState(-1),[h,p]=C.useState(!1);return C.useEffect(()=>{if(!e)return;const m=document.createElement("style");return m.innerHTML=`
      .daymodal-scroll::-webkit-scrollbar {
        width: 10px;
        background: #131a2a;
        border-radius: 8px;
      }
      .daymodal-scroll::-webkit-scrollbar-thumb {
        background: #22304b;
        border-radius: 8px;
        border: 2px solid #101729;
      }
      .daymodal-scroll::-webkit-scrollbar-thumb:hover {
        background: #36518a;
      }
      .daymodal-scroll {
        scrollbar-width: thin;
        scrollbar-color: #22304b #101729;
      }
    `,m.setAttribute("data-daymodal-scroll","true"),document.head.appendChild(m),()=>{m.parentNode&&m.parentNode.removeChild(m)}},[e]),C.useEffect(()=>{e||(d(-1),p(!1))},[e]),e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center  bg-black/60 backdrop-blur-sm",children:u.jsxs("div",{className:`\r
          border border-slate-800 rounded-2xl px-8 py-7\r
          min-w-[800px] max-w-xl min-h-[620px] max-h-[90vh]\r
          shadow-2xl flex flex-col animate-fade-in relative\r
        `,style:{background:AV},children:[u.jsx("button",{onClick:t,className:"absolute right-5 top-5 text-slate-500 hover:text-red-400 text-3xl leading-none",title:"Close","aria-label":"Close",children:""}),u.jsx("div",{className:"mb-3",children:u.jsxs("span",{className:"font-bold text-2xl text-slate-100",children:["Events on ",u.jsx("span",{className:"font-semibold",children:n})]})}),u.jsxs("div",{className:"daymodal-scroll flex flex-col gap-2 max-h-[630px] overflow-y-auto mb-3 border-2 border-slate-600 rounded-xl p-2",children:[s.length===0&&!h&&u.jsx("span",{className:"text-slate-400 text-sm pl-1",children:"No events yet."}),s.map((m,x)=>c===x?u.jsx(I2,{initial:m,onSave:y=>{i(x,y),d(-1)},onCancel:()=>d(-1)},m._id||x):u.jsxs("div",{className:"rounded-lg bg-slate-800 border border-slate-600 px-3 py-2 flex flex-col gap-0.5 relative",style:{borderLeft:`4px solid ${m.color||"#f43f5e"}`},children:[u.jsxs("div",{className:"flex gap-2 items-center mb-0.5",children:[u.jsx("span",{className:"w-2.5 h-2.5 rounded-full border border-slate-700",style:{background:m.color||"#f43f5e"}}),u.jsx("span",{className:"font-bold text-sm text-slate-100",children:m.title}),u.jsx("span",{className:"ml-2 text-[11px] text-slate-400 uppercase",children:m.type})]}),m.description&&u.jsx("div",{className:"text-xs text-slate-300 pl-6 break-words whitespace-pre-line leading-snug",children:m.description}),u.jsx("div",{className:"mt-2 text-[11px] text-slate-400 flex flex-row gap-2 pl-6",children:u.jsxs("span",{children:["Created by"," ",u.jsx("span",{className:"font-semibold text-slate-300",children:O2(m.createdBy)}),"  ",u.jsx("span",{children:L2(m.createdAt)}),m.editedBy&&u.jsxs(u.Fragment,{children:["  Last edited by ",u.jsx("span",{className:"font-semibold text-slate-300",children:O2(m.editedBy)}),"  ",u.jsx("span",{children:L2(m.updatedAt)})]})]})}),u.jsxs("div",{className:"flex gap-2 absolute top-2 right-3",children:[u.jsxs("button",{className:`\r
                      flex items-center gap-1\r
                      px-3 py-1 rounded-md\r
                      text-xs font-semibold\r
                      bg-teal-900 text-teal-200\r
                      hover:bg-teal-600 hover:text-white\r
                      focus:outline-none focus:ring-2 focus:ring-teal-400\r
                      transition\r
                      shadow-sm\r
                    `,onClick:()=>d(x),title:"Edit",type:"button",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M15.232 5.232l-8.464 8.464m2.121-2.121l8.485-8.485a2.121 2.121 0 013 3l-8.485 8.485a2.121 2.121 0 01-3-3z"})}),"Edit"]}),u.jsxs("button",{className:`\r
                      flex items-center gap-1\r
                      px-3 py-1 rounded-md\r
                      text-xs font-semibold\r
                      bg-red-900 text-red-200\r
                      hover:bg-red-600 hover:text-white\r
                      focus:outline-none focus:ring-2 focus:ring-red-400\r
                      transition\r
                      shadow-sm\r
                    `,onClick:()=>a(x),title:"Delete",type:"button",children:[u.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M6 6l8 8M6 14L14 6"})}),"Delete"]})]})]},m._id||x))]}),h&&u.jsx(I2,{onSave:m=>{r(m),p(!1)},onCancel:()=>p(!1)}),!h&&u.jsx("button",{className:"mt-2 px-3 py-2 rounded-lg bg-teal-600 hover:bg-teal-500 text-white text-sm font-bold shadow-md self-end",onClick:()=>p(!0),children:"+ Add Event"})]})}):null}function Kl(e){alert(e)}const F2=({data:e,year:t,editable:n,country:s})=>{var y;const[r,i]=C.useState({open:!1,monthIdx:null,dayIdx:null}),a=In(),c=r.open&&((y=e[r.monthIdx])!=null&&y.days[r.dayIdx])?e[r.monthIdx].days[r.dayIdx]:null,d=(v,w)=>{n&&i({open:!0,monthIdx:v,dayIdx:w})},h=async v=>{if(v!=null&&v.title)try{await ae.post(`/admin/calendars/${s}/${t}/${r.monthIdx}/${r.dayIdx}/events`,v),await a.invalidateQueries(["calendar",s,t])}catch{Kl("Failed to add event")}},p=async(v,w)=>{if(!v){Kl("Event ID not found.");return}try{await ae.patch(`/admin/calendars/${s}/${t}/${r.monthIdx}/${r.dayIdx}/events/${v}`,w),await a.invalidateQueries(["calendar",s,t])}catch{Kl("Failed to edit event.")}},m=async v=>{if(!v){Kl("Event ID not found.");return}try{await ae.delete(`/admin/calendars/${s}/${t}/${r.monthIdx}/${r.dayIdx}/events/${v}`),await a.invalidateQueries(["calendar",s,t])}catch{Kl("Failed to delete event.")}},x=()=>i({open:!1,monthIdx:null,dayIdx:null});return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.map((v,w)=>u.jsx(MV,{month:v,year:t,editable:n,onDayClick:S=>d(w,S)},v.name))}),n&&u.jsx(RV,{open:r.open,onClose:x,dateLabel:c==null?void 0:c.date,events:(c==null?void 0:c.events)||[],onAddEvent:h,onEditEvent:(v,w)=>{var j,N;const S=(N=(j=c==null?void 0:c.events)==null?void 0:j[v])==null?void 0:N._id;p(S,w)},onDeleteEvent:v=>{var S,j;const w=(j=(S=c==null?void 0:c.events)==null?void 0:S[v])==null?void 0:j._id;m(w)}})]})},DV=(e,t)=>No({queryKey:["calendar",e,t],queryFn:async()=>(await ae.get(`/admin/calendars/${e}/${t}`)).data}),OV=(e,t)=>{const n=In();return Bs({mutationFn:async s=>{await ae.put(`/admin/calendars/${e}/${t}`,{calendar:s.calendar})},onSuccess:()=>{n.invalidateQueries(["calendar",e,t])}})},z2=[{code:"BG",name:"Bulgaria"},{code:"US",name:"United States"},{code:"IN",name:"India"}];function B2(e,t){return!e||!t?[]:Object.keys({...e,...t}).filter(s=>e[s]!==t[s]&&typeof e[s]!="object"&&typeof t[s]!="object").map(s=>({field:s,from:e[s],to:t[s]}))}function V2(e){if(!e)return null;const t=["updatedAt","createdAt","date"];return u.jsx("ul",{className:"ml-3 mt-1 text-xs text-slate-400 flex flex-wrap gap-2",children:Object.entries(e).filter(([n,s])=>typeof s!="object"&&n!=="_id"&&n!=="__v"&&n!=="createdAt"&&n!=="updatedAt").map(([n,s])=>u.jsxs("li",{children:[u.jsxs("b",{children:[n,":"]})," ",t.includes(n)?nh(s):String(s)]},n))})}function nh(e){if(!e)return"";const t=new Date(e);if(isNaN(t))return"";const n=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0"),c=String(t.getSeconds()).padStart(2,"0");return`${n}-${s}-${r} ${i}:${a}:${c}`}function $2(e){return e?e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:e.firstName?e.firstName:e.username?e.username:"Unknown":"Unknown"}const LV=[{label:"All",value:"all",color:""},{label:"Added",value:"add",color:"text-green-300"},{label:"Edited",value:"edit",color:"text-blue-300"},{label:"Deleted",value:"delete",color:"text-red-300"}];function IV({country:e,year:t}){const[n,s]=C.useState("all"),[r,i]=C.useState(""),{data:a,isLoading:c,error:d}=No({queryKey:["calendarChangeLog",e,t],queryFn:async()=>(await ae.get(`/admin/calendars/${e}/${t}/changelog`)).data}),h=["updatedAt","createdAt","date"],p=C.useMemo(()=>{if(!a)return[];let m=a.slice().reverse();if(n!=="all"&&(m=m.filter(x=>x.action===n)),r.trim()){const x=r.toLowerCase();m=m.filter(y=>{var w,S,j,N;return[(w=y.newEvent)==null?void 0:w.title,(S=y.prevEvent)==null?void 0:S.title,(j=y.newEvent)==null?void 0:j.description,(N=y.prevEvent)==null?void 0:N.description,$2(y.user)].some(T=>T&&String(T).toLowerCase().includes(x))})}return m},[a,n,r]);return c?u.jsx("div",{className:"text-slate-200",children:"Loading history..."}):d?u.jsx("div",{className:"text-red-400",children:"Failed to load history."}):a!=null&&a.length?u.jsxs("div",{className:"rounded-lg bg-slate-800 p-4 shadow",children:[u.jsx("h2",{className:"text-xl font-bold mb-3 text-slate-100",children:"Change Log"}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[LV.map(m=>u.jsx("button",{onClick:()=>s(m.value),className:`px-3 py-1 rounded text-sm font-semibold border transition
              ${n===m.value?`bg-slate-700 border-teal-400 ${m.color}`:"bg-slate-700 border-slate-600 text-slate-300"}
            `,children:m.label},m.value)),u.jsx("input",{className:"ml-2 p-2 rounded bg-slate-700 text-white border border-slate-600 text-sm w-48",type:"text",placeholder:"Search by title, descr...",value:r,onChange:m=>i(m.target.value)})]}),u.jsxs("ul",{className:"space-y-3",children:[p.length===0&&u.jsx("li",{className:"text-slate-400 text-sm",children:"No results match your filter."}),p.map((m,x)=>u.jsxs("li",{className:"p-3 rounded bg-slate-700",children:[u.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-xs text-slate-300",children:[u.jsx("span",{className:"uppercase font-semibold",children:m.action}),u.jsxs("span",{children:["on ",m.targetDate]}),u.jsxs("span",{children:["by ",$2(m.user)]}),u.jsxs("span",{children:["at ",nh(m.date)]}),m.comment&&u.jsxs("span",{className:"italic text-slate-400",children:["(",m.comment,")"]})]}),m.action==="edit"&&m.prevEvent&&m.newEvent&&u.jsxs("div",{className:"mt-2 text-xs",children:[u.jsx("b",{className:"text-blue-300",children:"Changed fields:"}),B2(m.prevEvent,m.newEvent).length===0?u.jsx("span",{className:"ml-2 text-slate-400",children:"No changes"}):u.jsx("ul",{className:"ml-2",children:B2(m.prevEvent,m.newEvent).map((y,v)=>{const w=h.includes(y.field);return u.jsxs("li",{children:[u.jsx("span",{className:"font-bold",children:y.field}),":",u.jsx("span",{className:"text-red-300 line-through",children:w?nh(y.from):String(y.from)}),"",u.jsx("span",{className:"text-green-300",children:w?nh(y.to):String(y.to)})]},v)})})]}),m.action==="add"&&m.newEvent&&u.jsxs("div",{className:"mt-2 text-xs text-green-300",children:[u.jsx("b",{children:"Added event fields:"}),V2(m.newEvent)]}),m.action==="delete"&&m.prevEvent&&u.jsxs("div",{className:"mt-2 text-xs text-red-300",children:[u.jsx("b",{children:"Deleted event fields:"}),V2(m.prevEvent)]})]},x))]})]}):u.jsx("div",{className:"text-slate-400",children:"No changes found."})}const FV=()=>{var y;const[e,t]=C.useState("BG"),n=2025,[s,r]=C.useState("calendar"),{data:i,isLoading:a}=DV(e,n),{mutate:c,isPending:d}=OV(e,n),[h,p]=C.useState(null),m=!!h&&JSON.stringify(h.calendar)!==JSON.stringify(i.calendar),x=()=>{h!=null&&h.calendar&&c(h)};return a||!(i!=null&&i.calendar)?u.jsx("p",{className:"text-white",children:"Loading..."}):u.jsxs("div",{className:"space-y-4 text-white p-4",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[u.jsx("select",{className:"p-2 bg-slate-800 border border-slate-600 rounded text-sm",value:e,onChange:v=>t(v.target.value),children:z2.map(v=>u.jsx("option",{value:v.code,children:v.name},v.code))}),u.jsx("button",{type:"button",className:`px-4 py-2 rounded-t-md font-semibold transition ${s==="calendar"?"bg-slate-800 border-b-2 border-teal-400 text-teal-300":"bg-slate-700 text-slate-300"}`,onClick:()=>r("calendar"),children:"Calendar"}),u.jsx("button",{type:"button",className:`px-4 py-2 rounded-t-md font-semibold transition ${s==="history"?"bg-slate-800 border-b-2 border-pink-400 text-pink-300":"bg-slate-700 text-slate-300"}`,onClick:()=>r("history"),children:"History"}),u.jsxs("div",{className:"relative group text-sm cursor-pointer",children:[u.jsxs("button",{type:"button",className:`\r
    flex items-center gap-1 px-3 py-1.5 rounded-full\r
    bg-slate-800 hover:bg-blue-900 text-blue-200 font-semibold\r
    text-xs shadow-sm border border-blue-700/40\r
    transition focus:outline-none focus:ring-2 focus:ring-blue-700/30\r
  `,children:[u.jsx("span",{className:"bg-blue-700/20 rounded-full p-1 mr-1 flex items-center justify-center",children:u.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16v-4m0-4h.01"})]})}),u.jsx("span",{children:"Show Guide"})]}),u.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 top-full mt-2 z-50 hidden group-hover:flex flex-col gap-2 bg-slate-800 text-white text-xs p-3 rounded shadow-lg w-72",children:[u.jsx("div",{className:"font-semibold text-slate-100 mb-1",children:"How to use the calendar"}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-slate-300",children:"Left Side:"}),u.jsxs("span",{className:"ml-1",children:["This is the"," ",u.jsx("span",{className:"text-yellow-300 font-semibold",children:"public calendar"})," ","all users see. You can only view it."]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-slate-300",children:"Right Side:"}),u.jsxs("span",{className:"ml-1",children:["This is your"," ",u.jsx("span",{className:"text-pink-400 font-semibold",children:"editable calendar"}),". You can add, edit, or remove events here before publishing."]})]}),u.jsx("div",{className:"border-t border-slate-600 my-2"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 bg-blue-600 rounded-sm inline-block"}),u.jsx("span",{children:"Regular day with event"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 bg-slate-600 rounded-sm inline-block"}),u.jsx("span",{children:"Regular day without event"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 bg-pink-900 rounded-sm inline-block border border-pink-700"}),u.jsx("span",{children:"Weekend without event"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 bg-teal-600 rounded-sm inline-block"}),u.jsx("span",{children:"Today (no event)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 bg-orange-600 rounded-sm inline-block"}),u.jsx("span",{children:"Today (with event)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-3 h-3 inline-block rounded-sm border-2 border-teal-400 bg-transparent",style:{boxSizing:"border-box"}}),u.jsx("span",{children:"Current month"})]}),u.jsx("div",{className:"border-t border-slate-600 my-2"}),u.jsx("div",{className:"text-slate-300 leading-snug",children:u.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-[10px]",children:[u.jsxs("li",{children:[u.jsx("span",{className:"font-medium text-white",children:"To add an event:"})," ","Click on a day in the right calendar and enter a title."]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-medium text-white",children:"To edit or remove an event:"})," ","Click on a day that already has an event and update or clear the details."]}),u.jsxs("li",{children:[u.jsx("span",{className:"font-medium text-white",children:"To save your changes:"})," ","Click"," ",u.jsx("span",{className:"text-teal-300 font-semibold",children:'"Publish Calendar"'}),". This will update the public calendar everyone sees."]}),u.jsx("li",{children:"You can switch between countries using the dropdown at the top."})]})})]})]}),u.jsx("button",{onClick:x,disabled:!m||d,className:`
            flex items-center gap-2 px-4 py-1.5 rounded-md font-medium text-sm transition
            ${!m||d?"bg-teal-900 text-teal-300 opacity-60 cursor-not-allowed":"bg-teal-600 hover:bg-teal-500 text-white shadow"}
          `,style:{minWidth:142},title:"Publish this calendar for all users",children:d?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),u.jsx("span",{children:"Saving..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",strokeWidth:2.2,viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"Publish Calendar"})]})})]}),s==="calendar"?u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-7",children:[u.jsxs("div",{className:"border border-slate-700 rounded-xl ",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsxs("h3",{className:"text-lg font-semibold text-slate-100",children:["Public Calendar"," ",u.jsx("span",{className:"ml-2 px-2 py-0.5 rounded bg-slate-800 text-xs font-medium text-slate-300",children:n})]})]}),u.jsxs("div",{className:"text-slate-400 text-xs mb-2 pl-7",children:["This is what all users see for"," ",u.jsx("span",{className:"font-medium",children:(y=z2.find(v=>v.code===e))==null?void 0:y.name}),". Update the calendar on the right, then save to update this view."]}),u.jsx(F2,{data:i.calendar,year:n,editable:!1})]}),u.jsxs("div",{className:"border border-slate-700 rounded-xl ",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsxs("h3",{className:"text-lg font-semibold text-slate-100",children:["Edit Calendar"," ",u.jsx("span",{className:"ml-2 px-2 py-0.5 rounded bg-slate-800 text-xs font-medium text-slate-300",children:n})]})]}),u.jsx("div",{className:"text-slate-400 text-xs mb-2 pl-7",children:"You can add, edit, or remove events here. Dont forget to save when done!"}),u.jsx(F2,{data:(h==null?void 0:h.calendar)||i.calendar,year:n,editable:!0,setData:v=>p({...i,calendar:v}),country:e})]})]}):u.jsx(IV,{country:e,year:n})]})},zV=()=>{const[e,t]=C.useState(null),[n,s]=C.useState(null),[r,i]=zc(),a=r.get("tab")||"profile",c=r.get("complaintId"),d=C.useCallback(async()=>{try{const x=await ae.get("/users/me");t(x.data)}catch{t(null)}},[]),h=C.useCallback(async()=>{try{const x=await ae.get("/dashboard/admin");s(x.data)}catch{s(null)}},[]);C.useEffect(()=>{d(),h()},[d,h]);const p=(x,y={})=>{i({tab:x,...y})},m=()=>{if(!e)return u.jsx("p",{children:"Loading profile..."});switch(a){case"profile":return u.jsx(r0,{user:e,refreshUser:d});case"orders":return u.jsx("p",{className:"text-sm text-gray-600",children:" Orders coming soon..."});case"wishlist":return u.jsx("p",{className:"text-sm text-gray-600",children:" Wishlist coming soon..."});case"users":return u.jsx(g4,{});case"products":return u.jsx(b4,{});case"products-management":return u.jsx(V4,{});case"blog":return u.jsx(U4,{});case"blog-editor":return u.jsx(A3,{});case"invoices":return u.jsx(Sj,{});case"overview":return n?u.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[u.jsx("p",{children:n.message}),u.jsx("pre",{className:"mt-4 text-sm bg-gray-100 p-4 rounded",children:JSON.stringify(n.stats,null,2)})]}):u.jsx("p",{children:"Loading admin stats..."});case"complaints":return u.jsx(xN,{});case"complaints-detail":return u.jsx(hx,{id:c,goBack:()=>p("complaints")});case"todos":return u.jsx(bN,{});case"calendar":return u.jsx(FV,{});default:return u.jsx("p",{className:"text-sm text-red-500",children:" Unknown section"})}};return u.jsxs("div",{className:"flex flex-col h-screen",children:[u.jsx($c,{}),u.jsx("div",{className:"flex flex-1 min-h-0",children:u.jsx(s0,{activeTab:a.split("-")[0],setActiveTab:p,children:u.jsxs("div",{className:"flex-1 flex flex-col bg-[#0f172a] text-white p-6 overflow-hidden",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),u.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:m()})]})})})]})},BV=()=>{const[e,t]=C.useState(null),[n,s]=zc(),r=n.get("tab")||"profile",i=n.get("complaintId"),a=C.useCallback(async()=>{try{const h=await ae.get("/users/me");t(h.data)}catch{t(null)}},[]);C.useEffect(()=>{a()},[a]);const c=(h,p={})=>{s({tab:h,...p})},d=()=>{if(!e)return u.jsx("p",{children:"Loading profile..."});switch(r){case"profile":return u.jsx(r0,{user:e,refreshUser:a});case"complaints":return u.jsx(xN,{user:e,role:"moderator"});case"complaints-detail":return u.jsx(hx,{id:i,goBack:()=>c("complaints")});case"todos":return u.jsx(bN,{});default:return u.jsx("p",{className:"text-sm text-red-500",children:" Unknown section"})}};return u.jsxs("div",{className:"flex flex-col h-screen",children:[u.jsx($c,{}),u.jsx("div",{className:"flex flex-1 min-h-0",children:u.jsx(s0,{activeTab:r.split("-")[0],setActiveTab:c,children:u.jsxs("div",{className:"flex-1 flex flex-col bg-[#0f172a] text-white p-6 overflow-hidden",children:[u.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Moderator Dashboard"}),u.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:d()})]})})})]})};function VV(){var d,h,p,m;const[e,t]=C.useState({subject:"",category:"order issue",description:""}),[n,s]=C.useState(""),r=["order issue","payment","product","delivery","other"],i=mB(),a=x=>t(y=>({...y,[x.target.name]:x.target.value})),c=async x=>{x.preventDefault(),s(""),i.mutate(e,{onSuccess:()=>{s(" Complaint submitted successfully!"),t({subject:"",category:"order issue",description:""})}})};return u.jsxs(fc.form,{onSubmit:c,className:"max-w-lg mx-auto mt-10 bg-slate-800/90 rounded-2xl shadow-2xl border border-slate-700 px-8 py-7 relative",initial:{opacity:0,y:25},animate:{opacity:1,y:0},transition:{type:"spring",duration:.6},children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-2 rounded-t-2xl bg-gradient-to-r from-cyan-500 via-blue-500 to-sky-400"}),u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-6 mt-2 text-center tracking-tight",children:"Raise a Complaint"}),u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{className:"block text-sm font-semibold text-cyan-200 mb-1",children:"Subject"}),u.jsx("input",{name:"subject",value:e.subject,onChange:a,required:!0,className:"w-full px-3 py-2 bg-[#1e293b] rounded-lg border border-slate-700 focus:ring-2 focus:ring-cyan-400 focus:outline-none text-white transition",placeholder:"Short summary",maxLength:70})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{className:"block text-sm font-semibold text-cyan-200 mb-1",children:"Category"}),u.jsx("select",{name:"category",value:e.category,onChange:a,className:"w-full px-3 py-2 bg-[#1e293b] rounded-lg border border-slate-700 text-white focus:ring-2 focus:ring-cyan-400 focus:outline-none transition",children:r.map(x=>u.jsx("option",{value:x,children:x.charAt(0).toUpperCase()+x.slice(1)},x))})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-semibold text-cyan-200 mb-1",children:"Description"}),u.jsx("textarea",{name:"description",value:e.description,onChange:a,required:!0,rows:5,maxLength:1e3,className:"w-full px-3 py-2 bg-[#1e293b] rounded-lg border border-slate-700 text-white focus:ring-2 focus:ring-cyan-400 focus:outline-none transition",placeholder:"Describe your complaint"}),u.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[e.description.length,"/1000"]})]}),u.jsxs(ZI,{children:[i.isError&&u.jsx(fc.p,{className:"text-red-400 mb-2",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},children:((p=(h=(d=i.error)==null?void 0:d.response)==null?void 0:h.data)==null?void 0:p.message)||((m=i.error)==null?void 0:m.message)}),n&&u.jsx(fc.p,{className:"text-green-400 mb-2",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},children:n})]}),u.jsx("button",{type:"submit",disabled:i.isLoading,className:"w-full mt-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-400 hover:to-blue-600 text-white font-semibold px-6 py-2.5 rounded-lg shadow-lg transition disabled:opacity-60",children:i.isLoading?"Submitting":"Submit Complaint"})]})}const U2=(e,t="U")=>(e||t).split(" ").map(n=>n[0]).join("").slice(0,2).toUpperCase();function $V(e){if(!e)return[];const t=Array.isArray(e.messages)?e.messages:[];return(e.description&&(!t.length||t[0].message!==e.description)?[{role:"user",message:e.description,sentAt:e.createdAt||Date.now(),isDescription:!0}]:[]).concat(t)}function UV({complaintId:e}){const{user:t}=ps(),n=C.useRef(null),[s,r]=C.useState(""),[i,a]=C.useState(!1),{data:c,isLoading:d,isError:h,error:p,refetch:m}=xB(e,!1);C.useEffect(()=>{if(!e)return;const v=setInterval(()=>{m()},5e3);return()=>clearInterval(v)},[e,m]);const x=$V(c);C.useEffect(()=>{n.current&&n.current.scrollIntoView({behavior:"smooth"})},[x.length,d]);const y=async v=>{var w,S;if(v.preventDefault(),!(!s.trim()||i)){a(!0);try{await ae.post(`/complaint/${e}/message`,{message:s}),r(""),m()}catch(j){alert(((S=(w=j.response)==null?void 0:w.data)==null?void 0:S.error)||"Failed to send message. Please try again.")}a(!1)}};return h?u.jsx("div",{className:"flex-1 flex items-center justify-center text-red-400",children:(p==null?void 0:p.message)||"Could not load complaint."}):d||!c?u.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:"Loading chat..."}):u.jsxs("div",{className:"flex flex-col h-full min-h-0",children:[u.jsx("div",{className:"border-b border-slate-800 px-6 py-3 bg-slate-900 rounded-t-xl",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xl font-semibold text-white",children:c.subject}),u.jsx("span",{className:`
              text-xs px-2 py-1 rounded 
              ${c.status==="Resolved"?"bg-green-800 text-green-300":c.status==="Open"?"bg-yellow-800 text-yellow-200":"bg-blue-900 text-blue-200"}
            `,children:c.status}),u.jsx("span",{className:"ml-auto text-xs text-slate-400",children:new Date(c.createdAt).toLocaleDateString()})]})}),u.jsxs("div",{className:"flex-1 flex flex-col gap-2 px-4 py-6 overflow-y-auto custom-scrollbar",style:{minHeight:0,scrollbarWidth:"thin",scrollbarColor:"#4b5563 #141a29",WebkitOverflowScrolling:"touch",msOverflowStyle:"-ms-autohiding-scrollbar"},children:[x.length===0&&u.jsx("p",{className:"text-gray-400 text-sm text-center mt-16",children:"No messages yet."}),x.map((v,w)=>{const S=v.role==="user",j=S?(t==null?void 0:t.name)||"You":v.role==="admin"?"Admin":"Moderator";return u.jsxs("div",{className:`flex items-end gap-2 mb-2 ${S?"justify-end":"justify-start"}`,children:[!S&&u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-7 h-7 rounded-full bg-blue-700 flex items-center justify-center font-semibold text-white text-xs shadow border-2 border-blue-300",children:U2(j)})}),u.jsxs("div",{className:`
                  px-4 py-2.5 rounded-[22px] max-w-[90%] sm:max-w-[75%] md:max-w-[60%] lg:max-w-[50%] break-words shadow-md text-[14px]
                  ${S?"bg-slate-200/90 text-gray-900 rounded-tr-md border border-slate-400/20":"bg-gradient-to-br from-blue-600 via-sky-500 to-cyan-400 text-white rounded-tl-md border border-blue-500/40"} transition
                `,children:[u.jsxs("div",{className:"text-xs mb-1 opacity-80 flex items-center gap-1 font-mono tracking-tight",children:[u.jsx("span",{children:S?"You":j}),u.jsx("span",{className:"mx-1",children:""}),u.jsx("span",{children:v.sentAt?new Date(v.sentAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),u.jsx("div",{className:"whitespace-pre-wrap break-words break-all leading-tight",children:v.message})]}),S&&u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-500 to-sky-400 flex items-center justify-center font-semibold text-white text-xs shadow border-2 border-sky-200",children:U2(t==null?void 0:t.name,"U")})})]},w)}),u.jsx("div",{ref:n})]}),u.jsxs("form",{className:"flex gap-2 p-4 border-t border-slate-800 bg-slate-900/95 rounded-b-xl shadow-inner",onSubmit:y,autoComplete:"off",children:[u.jsx("input",{className:"flex-1 px-4 py-3 rounded-lg bg-[#263149] text-white focus:outline-none focus:ring-2 focus:ring-sky-400/80 transition shadow-md",value:s,onChange:v=>r(v.target.value),placeholder:"Type your message",disabled:i,maxLength:1e3}),u.jsx("button",{className:"bg-gradient-to-br from-sky-500 to-blue-600 hover:from-sky-400 hover:to-blue-700 px-6 py-3 rounded-lg text-white font-semibold shadow-lg border border-blue-400/50 transition",type:"submit",disabled:i,children:i?"Sending":"Send"})]})]})}function HV(){const[e,t]=C.useState([]),[n,s]=C.useState(!0),[r,i]=C.useState(null),[a,c]=C.useState("Open"),d=["Open","Under Review","Resolved","Closed"],h=d.reduce((m,x)=>(m[x]=e.filter(y=>y.status===x).length,m),{}),p=e.filter(m=>m.status===a);return C.useEffect(()=>{let m=!0,x;const y=async()=>{try{const{data:v}=await ae.get("/complaint");m&&t(v)}catch{m&&t([])}m&&s(!1)};return y(),x=setInterval(y,5e3),()=>{m=!1,clearInterval(x)}},[]),C.useEffect(()=>{p.length?i(p[0]._id):i(null)},[a,e.length]),u.jsx("div",{className:"w-full flex flex-col items-center",children:u.jsxs("div",{className:"w-full max-w-[98vw] flex flex-col mx-auto",style:{height:"74vh",maxHeight:"74vh",minHeight:520},children:[u.jsx("div",{className:"flex justify-center py-2",children:u.jsx("ul",{className:"flex gap-1 bg-[#202a40]/70 px-1.5 py-0.5 rounded-full shadow border border-blue-900/30",children:d.map(m=>u.jsx("li",{children:u.jsxs("button",{type:"button",onClick:()=>c(m),className:`px-3 py-1 rounded-full font-medium text-[14px] transition-all duration-300
                    ${a===m?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow":"text-blue-100/80 hover:text-white hover:bg-blue-900/30"}
                  `,style:{minWidth:70},children:[m,u.jsx("span",{className:"ml-1 font-mono text-xs px-1.5 py-0.5 rounded-full bg-slate-900 text-cyan-200",children:h[m]??0}),a===m&&u.jsx("span",{className:"block h-0.5 w-4/5 rounded-full bg-gradient-to-r from-cyan-400/80 via-blue-400 to-blue-600/70 mx-auto mt-1"})]})},m))})}),u.jsxs("div",{className:"flex flex-1 min-h-0 w-full gap-0",children:[u.jsx("div",{className:"relative w-1/4 min-w-[260px] max-w-[340px] flex-shrink-0 h-full",children:u.jsxs("div",{className:"flex flex-col bg-[#151b29] rounded-l-2xl shadow-2xl h-full border border-slate-800",children:[u.jsx("div",{className:"px-4 py-3 border-b border-slate-800",children:u.jsx("h3",{className:"text-base font-bold text-white tracking-tight",children:"Your Complaints"})}),u.jsx("ul",{className:"flex-1 min-h-0 overflow-y-auto custom-scrollbar",style:{scrollbarWidth:"thin",scrollbarColor:"#4b5563 #151b29",WebkitOverflowScrolling:"touch"},children:n?u.jsx("div",{className:"px-4 py-6 text-slate-400 text-center text-sm",children:"Loading your complaints..."}):p.length===0?u.jsx("div",{className:"px-4 py-6 text-slate-400 text-center text-sm",children:"No complaints in this status."}):p.map(m=>u.jsxs("li",{className:`group cursor-pointer px-4 py-3 border-b border-slate-800 transition-all duration-150 ${r===m._id?"bg-gradient-to-r from-sky-950/70 to-slate-900 border-sky-500 shadow-inner":"hover:bg-slate-800/60"}`,onClick:()=>i(m._id),children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("span",{className:"font-semibold text-blue-200 text-xs",children:m.subject}),u.jsx("span",{className:`text-xs rounded px-2 py-0.5 ${m.status==="Resolved"?"bg-green-700/50 text-green-300":m.status==="Open"?"bg-yellow-700/40 text-yellow-200":m.status==="Closed"?"bg-slate-700 text-slate-200":"bg-blue-800/40 text-sky-200"}`,children:m.status})]}),u.jsxs("div",{className:"text-xs text-gray-400 mb-1",children:["Category: ",m.category," "," ",new Date(m.createdAt).toLocaleDateString()]}),u.jsx("div",{className:"text-gray-300 text-xs line-clamp-2",children:m.description}),u.jsx("div",{className:"mt-2",children:u.jsx("span",{className:`text-xs font-medium transition ${r===m._id?"text-sky-400":"text-blue-400 group-hover:text-sky-300"}`,children:r===m._id?"Chat Open":"View Chat"})})]},m._id))})]})}),u.jsx("div",{className:"flex-1 flex flex-col rounded-r-2xl bg-[#161d2b] shadow-2xl ml-0 border-t border-b border-r border-slate-800",style:{height:"100%"},children:r?u.jsx(UV,{complaintId:r}):u.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500 text-lg",children:"Select a complaint to view chat."})})]})]})})}function WV(){const[e,t]=C.useState("raise");return u.jsxs("div",{children:[u.jsxs("div",{className:"flex gap-2 mb-6",children:[u.jsx("button",{className:`px-4 py-2 rounded-t font-semibold transition ${e==="raise"?"bg-blue-600 text-white shadow":"bg-slate-800 text-blue-200"}`,onClick:()=>t("raise"),children:"Raise Complaint"}),u.jsx("button",{className:`px-4 py-2 rounded-t font-semibold transition ${e==="list"?"bg-blue-600 text-white shadow":"bg-slate-800 text-blue-200"}`,onClick:()=>t("list"),children:"My Complaints"})]}),u.jsxs("div",{children:[e==="raise"&&u.jsx(VV,{}),e==="list"&&u.jsx(HV,{})]})]})}const qV=()=>{const[e,t]=C.useState(null),[n,s]=zc(),r=n.get("tab")||"profile",i=d=>{s({tab:d})},a=async()=>{var d,h;try{const p=await ae.get("/users/me");t(p.data)}catch(p){console.error("Failed to load profile:",(h=(d=p.response)==null?void 0:d.data)==null?void 0:h.message)}};C.useEffect(()=>{a()},[]);const c=()=>{if(!e)return u.jsx("p",{children:"Loading profile..."});switch(r){case"profile":return u.jsx(r0,{user:e,refreshUser:a});case"orders":return u.jsx("p",{className:"text-sm text-gray-600",children:" Orders coming soon..."});case"wishlist":return u.jsx("p",{className:"text-sm text-gray-600",children:" Wishlist coming soon..."});case"raise-complaint":return u.jsx(WV,{});default:return u.jsx("p",{className:"text-sm text-red-500",children:" Unknown section"})}};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-[#0f172a]",children:[" ",u.jsx($c,{}),u.jsx(s0,{activeTab:r,setActiveTab:i,children:u.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[" ",u.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"User Dashboard"}),c()]})})]})},la=({allowedRoles:e,children:t})=>{const{user:n}=ps();return n?e.includes(n.role)?t:u.jsx(qb,{to:"/unauthorized"}):u.jsx(qb,{to:"/"})};function YV(){const{loading:e}=ps();return e?u.jsx("div",{className:"p-10 text-center",children:"Checking session..."}):u.jsx("div",{children:u.jsxs(uS,{children:[u.jsx(Kt,{path:"/",element:u.jsx(d4,{})}),u.jsx(Kt,{path:"/reset-password/confirm",element:u.jsx(h4,{})}),u.jsx(Kt,{path:"/verify-email/:token",element:u.jsx(f4,{})}),u.jsx(Kt,{path:"/unauthorized",element:u.jsx(m4,{})}),u.jsx(Kt,{path:"/product/:slug",element:u.jsx(p4,{})}),u.jsx(Kt,{path:"/dashboard/admin/complaints",element:u.jsx(la,{allowedRoles:["moderator","admin"],children:u.jsx(ux,{})})}),u.jsx(Kt,{path:"/dashboard/admin/complaints/:id",element:u.jsx(la,{allowedRoles:["moderator","admin"],children:u.jsx(hx,{})})}),u.jsx(Kt,{path:"/dashboard/admin/invoice/*",element:u.jsx(la,{allowedRoles:["admin"],children:u.jsx(Sj,{})})}),u.jsx(Kt,{path:"/dashboard/admin/*",element:u.jsx(la,{allowedRoles:["admin"],children:u.jsx(zV,{})})}),u.jsx(Kt,{path:"/dashboard/moderator/*",element:u.jsx(la,{allowedRoles:["moderator","admin"],children:u.jsx(BV,{})})}),u.jsx(Kt,{path:"/dashboard/user/*",element:u.jsx(la,{allowedRoles:["user","moderator","admin"],children:u.jsx(qV,{})})})]})})}const KV=new Qz;lT.createRoot(document.getElementById("root")).render(u.jsx(Rs.StrictMode,{children:u.jsx(_E,{children:u.jsx(tB,{client:KV,children:u.jsx(p6,{children:u.jsx(YV,{})})})})}));
